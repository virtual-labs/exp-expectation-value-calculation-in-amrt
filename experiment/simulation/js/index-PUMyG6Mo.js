var hU=Object.defineProperty;var dU=(n,e,t)=>e in n?hU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var A1=(n,e,t)=>dU(n,typeof e!="symbol"?e+"":e,t);function pU(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function uy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var S3={exports:{}},C1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function mU(){if(MT)return C1;MT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return C1.Fragment=e,C1.jsx=t,C1.jsxs=t,C1}var TT;function gU(){return TT||(TT=1,S3.exports=mU()),S3.exports}var Z=gU(),_3={exports:{}},ni={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function yU(){if(ET)return ni;ET=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(J){return J===null||typeof J!="object"?null:(J=g&&J[g]||J["@@iterator"],typeof J=="function"?J:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function w(J,K,xe){this.props=J,this.context=K,this.refs=A,this.updater=xe||S}w.prototype.isReactComponent={},w.prototype.setState=function(J,K){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,K,"setState")},w.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function E(){}E.prototype=w.prototype;function L(J,K,xe){this.props=J,this.context=K,this.refs=A,this.updater=xe||S}var O=L.prototype=new E;O.constructor=L,T(O,w.prototype),O.isPureReactComponent=!0;var N=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function H(J,K,xe,Me,he,Te){return xe=Te.ref,{$$typeof:n,type:J,key:K,ref:xe!==void 0?xe:null,props:Te}}function W(J,K){return H(J.type,K,void 0,void 0,void 0,J.props)}function V(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function U(J){var K={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(xe){return K[xe]})}var Q=/\/+/g;function ee(J,K){return typeof J=="object"&&J!==null&&J.key!=null?U(""+J.key):K.toString(36)}function te(){}function oe(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(te,te):(J.status="pending",J.then(function(K){J.status==="pending"&&(J.status="fulfilled",J.value=K)},function(K){J.status==="pending"&&(J.status="rejected",J.reason=K)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function pe(J,K,xe,Me,he){var Te=typeof J;(Te==="undefined"||Te==="boolean")&&(J=null);var ze=!1;if(J===null)ze=!0;else switch(Te){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(J.$$typeof){case n:case e:ze=!0;break;case p:return ze=J._init,pe(ze(J._payload),K,xe,Me,he)}}if(ze)return he=he(J),ze=Me===""?"."+ee(J,0):Me,N(he)?(xe="",ze!=null&&(xe=ze.replace(Q,"$&/")+"/"),pe(he,K,xe,"",function(yt){return yt})):he!=null&&(V(he)&&(he=W(he,xe+(he.key==null||J&&J.key===he.key?"":(""+he.key).replace(Q,"$&/")+"/")+ze)),K.push(he)),1;ze=0;var Be=Me===""?".":Me+":";if(N(J))for(var ke=0;ke<J.length;ke++)Me=J[ke],Te=Be+ee(Me,ke),ze+=pe(Me,K,xe,Te,he);else if(ke=v(J),typeof ke=="function")for(J=ke.call(J),ke=0;!(Me=J.next()).done;)Me=Me.value,Te=Be+ee(Me,ke++),ze+=pe(Me,K,xe,Te,he);else if(Te==="object"){if(typeof J.then=="function")return pe(oe(J),K,xe,Me,he);throw K=String(J),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ze}function j(J,K,xe){if(J==null)return J;var Me=[],he=0;return pe(J,Me,"","",function(Te){return K.call(xe,Te,he++)}),Me}function ae(J){if(J._status===-1){var K=J._result;K=K(),K.then(function(xe){(J._status===0||J._status===-1)&&(J._status=1,J._result=xe)},function(xe){(J._status===0||J._status===-1)&&(J._status=2,J._result=xe)}),J._status===-1&&(J._status=0,J._result=K)}if(J._status===1)return J._result.default;throw J._result}var le=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function fe(){}return ni.Children={map:j,forEach:function(J,K,xe){j(J,function(){K.apply(this,arguments)},xe)},count:function(J){var K=0;return j(J,function(){K++}),K},toArray:function(J){return j(J,function(K){return K})||[]},only:function(J){if(!V(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ni.Component=w,ni.Fragment=t,ni.Profiler=r,ni.PureComponent=L,ni.StrictMode=i,ni.Suspense=u,ni.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ni.__COMPILER_RUNTIME={__proto__:null,c:function(J){return z.H.useMemoCache(J)}},ni.cache=function(J){return function(){return J.apply(null,arguments)}},ni.cloneElement=function(J,K,xe){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Me=T({},J.props),he=J.key,Te=void 0;if(K!=null)for(ze in K.ref!==void 0&&(Te=void 0),K.key!==void 0&&(he=""+K.key),K)!I.call(K,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&K.ref===void 0||(Me[ze]=K[ze]);var ze=arguments.length-2;if(ze===1)Me.children=xe;else if(1<ze){for(var Be=Array(ze),ke=0;ke<ze;ke++)Be[ke]=arguments[ke+2];Me.children=Be}return H(J.type,he,void 0,void 0,Te,Me)},ni.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},ni.createElement=function(J,K,xe){var Me,he={},Te=null;if(K!=null)for(Me in K.key!==void 0&&(Te=""+K.key),K)I.call(K,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(he[Me]=K[Me]);var ze=arguments.length-2;if(ze===1)he.children=xe;else if(1<ze){for(var Be=Array(ze),ke=0;ke<ze;ke++)Be[ke]=arguments[ke+2];he.children=Be}if(J&&J.defaultProps)for(Me in ze=J.defaultProps,ze)he[Me]===void 0&&(he[Me]=ze[Me]);return H(J,Te,void 0,void 0,null,he)},ni.createRef=function(){return{current:null}},ni.forwardRef=function(J){return{$$typeof:l,render:J}},ni.isValidElement=V,ni.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:ae}},ni.memo=function(J,K){return{$$typeof:f,type:J,compare:K===void 0?null:K}},ni.startTransition=function(J){var K=z.T,xe={};z.T=xe;try{var Me=J(),he=z.S;he!==null&&he(xe,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(fe,le)}catch(Te){le(Te)}finally{z.T=K}},ni.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ni.use=function(J){return z.H.use(J)},ni.useActionState=function(J,K,xe){return z.H.useActionState(J,K,xe)},ni.useCallback=function(J,K){return z.H.useCallback(J,K)},ni.useContext=function(J){return z.H.useContext(J)},ni.useDebugValue=function(){},ni.useDeferredValue=function(J,K){return z.H.useDeferredValue(J,K)},ni.useEffect=function(J,K,xe){var Me=z.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Me.useEffect(J,K)},ni.useId=function(){return z.H.useId()},ni.useImperativeHandle=function(J,K,xe){return z.H.useImperativeHandle(J,K,xe)},ni.useInsertionEffect=function(J,K){return z.H.useInsertionEffect(J,K)},ni.useLayoutEffect=function(J,K){return z.H.useLayoutEffect(J,K)},ni.useMemo=function(J,K){return z.H.useMemo(J,K)},ni.useOptimistic=function(J,K){return z.H.useOptimistic(J,K)},ni.useReducer=function(J,K,xe){return z.H.useReducer(J,K,xe)},ni.useRef=function(J){return z.H.useRef(J)},ni.useState=function(J){return z.H.useState(J)},ni.useSyncExternalStore=function(J,K,xe){return z.H.useSyncExternalStore(J,K,xe)},ni.useTransition=function(){return z.H.useTransition()},ni.version="19.1.0",ni}var wT;function cd(){return wT||(wT=1,_3.exports=yU()),_3.exports}var se=cd();const jc=uy(se),Sx=pU({__proto__:null,default:jc},[se]);var M3={exports:{}},R1={},T3={exports:{}},E3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function vU(){return AT||(AT=1,function(n){function e(j,ae){var le=j.length;j.push(ae);e:for(;0<le;){var fe=le-1>>>1,J=j[fe];if(0<r(J,ae))j[fe]=ae,j[le]=J,le=fe;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var ae=j[0],le=j.pop();if(le!==ae){j[0]=le;e:for(var fe=0,J=j.length,K=J>>>1;fe<K;){var xe=2*(fe+1)-1,Me=j[xe],he=xe+1,Te=j[he];if(0>r(Me,le))he<J&&0>r(Te,Me)?(j[fe]=Te,j[he]=le,fe=he):(j[fe]=Me,j[xe]=le,fe=xe);else if(he<J&&0>r(Te,le))j[fe]=Te,j[he]=le,fe=he;else break e}}return ae}function r(j,ae){var le=j.sortIndex-ae.sortIndex;return le!==0?le:j.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,g=null,v=3,S=!1,T=!1,A=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var ae=t(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=j)i(f),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(f)}}function z(j){if(A=!1,N(j),!T)if(t(u)!==null)T=!0,I||(I=!0,ee());else{var ae=t(f);ae!==null&&pe(z,ae.startTime-j)}}var I=!1,H=-1,W=5,V=-1;function U(){return w?!0:!(n.unstable_now()-V<W)}function Q(){if(w=!1,I){var j=n.unstable_now();V=j;var ae=!0;try{e:{T=!1,A&&(A=!1,L(H),H=-1),S=!0;var le=v;try{t:{for(N(j),g=t(u);g!==null&&!(g.expirationTime>j&&U());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var J=fe(g.expirationTime<=j);if(j=n.unstable_now(),typeof J=="function"){g.callback=J,N(j),ae=!0;break t}g===t(u)&&i(u),N(j)}else i(u);g=t(u)}if(g!==null)ae=!0;else{var K=t(f);K!==null&&pe(z,K.startTime-j),ae=!1}}break e}finally{g=null,v=le,S=!1}ae=void 0}}finally{ae?ee():I=!1}}}var ee;if(typeof O=="function")ee=function(){O(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,oe=te.port2;te.port1.onmessage=Q,ee=function(){oe.postMessage(null)}}else ee=function(){E(Q,0)};function pe(j,ae){H=E(function(){j(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var le=v;v=ae;try{return j()}finally{v=le}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(j,ae){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=v;v=j;try{return ae()}finally{v=le}},n.unstable_scheduleCallback=function(j,ae,le){var fe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,j={id:p++,callback:ae,priorityLevel:j,startTime:le,expirationTime:J,sortIndex:-1},le>fe?(j.sortIndex=le,e(f,j),t(u)===null&&j===t(f)&&(A?(L(H),H=-1):A=!0,pe(z,le-fe))):(j.sortIndex=J,e(u,j),T||S||(T=!0,I||(I=!0,ee()))),j},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(j){var ae=v;return function(){var le=v;v=ae;try{return j.apply(this,arguments)}finally{v=le}}}}(E3)),E3}var CT;function xU(){return CT||(CT=1,T3.exports=vU()),T3.exports}var w3={exports:{}},Ls={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function bU(){if(RT)return Ls;RT=1;var n=cd();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ls.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ls.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,p)},Ls.flushSync=function(u){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=p,i.d.f()}},Ls.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Ls.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Ls.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):p==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ls.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Ls.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ls.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Ls.requestFormReset=function(u){i.d.r(u)},Ls.unstable_batchedUpdates=function(u,f){return u(f)},Ls.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},Ls.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ls.version="19.1.0",Ls}var DT;function V8(){if(DT)return w3.exports;DT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),w3.exports=bU(),w3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function SU(){if(OT)return R1;OT=1;var n=xU(),e=cd(),t=V8();function i(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(a(s)!==s)throw Error(i(188))}function u(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(i(188));return c!==s?null:s}for(var m=s,x=c;;){var C=m.return;if(C===null)break;var P=C.alternate;if(P===null){if(x=C.return,x!==null){m=x;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===m)return l(C),s;if(P===x)return l(C),c;P=P.sibling}throw Error(i(188))}if(m.return!==x.return)m=C,x=P;else{for(var ne=!1,ye=C.child;ye;){if(ye===m){ne=!0,m=C,x=P;break}if(ye===x){ne=!0,x=C,m=P;break}ye=ye.sibling}if(!ne){for(ye=P.child;ye;){if(ye===m){ne=!0,m=P,x=C;break}if(ye===x){ne=!0,x=P,m=C;break}ye=ye.sibling}if(!ne)throw Error(i(189))}}if(m.alternate!==x)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?s:c}function f(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=f(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var te=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===te?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case w:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case O:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case N:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return c=s.displayName||null,c!==null?c:oe(s.type)||"Memo";case W:c=s._payload,s=s._init;try{return oe(s(c))}catch{}}return null}var pe=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},fe=[],J=-1;function K(s){return{current:s}}function xe(s){0>J||(s.current=fe[J],fe[J]=null,J--)}function Me(s,c){J++,fe[J]=s.current,s.current=c}var he=K(null),Te=K(null),ze=K(null),Be=K(null);function ke(s,c){switch(Me(ze,c),Me(Te,s),Me(he,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?Q6(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=Q6(c),s=J6(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(he),Me(he,s)}function yt(){xe(he),xe(Te),xe(ze)}function Qe(s){s.memoizedState!==null&&Me(Be,s);var c=he.current,m=J6(c,s.type);c!==m&&(Me(Te,s),Me(he,m))}function Je(s){Te.current===s&&(xe(he),xe(Te)),Be.current===s&&(xe(Be),_1._currentValue=le)}var Xe=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,ce=n.unstable_cancelCallback,rt=n.unstable_shouldYield,tt=n.unstable_requestPaint,Ze=n.unstable_now,Le=n.unstable_getCurrentPriorityLevel,ct=n.unstable_ImmediatePriority,We=n.unstable_UserBlockingPriority,Ie=n.unstable_NormalPriority,ut=n.unstable_LowPriority,ue=n.unstable_IdlePriority,$=n.log,be=n.unstable_setDisableYieldValue,De=null,Re=null;function Ne(s){if(typeof $=="function"&&be(s),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(De,s)}catch{}}var at=Math.clz32?Math.clz32:Rt,nt=Math.log,vt=Math.LN2;function Rt(s){return s>>>=0,s===0?32:31-(nt(s)/vt|0)|0}var Ye=256,ot=4194304;function Ce(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ee(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var C=0,P=s.suspendedLanes,ne=s.pingedLanes;s=s.warmLanes;var ye=x&134217727;return ye!==0?(x=ye&~P,x!==0?C=Ce(x):(ne&=ye,ne!==0?C=Ce(ne):m||(m=ye&~s,m!==0&&(C=Ce(m))))):(ye=x&~P,ye!==0?C=Ce(ye):ne!==0?C=Ce(ne):m||(m=x&~s,m!==0&&(C=Ce(m)))),C===0?0:c!==0&&c!==C&&(c&P)===0&&(P=C&-C,m=c&-c,P>=m||P===32&&(m&4194048)!==0)?c:C}function Fe(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function wt(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var s=Ye;return Ye<<=1,(Ye&4194048)===0&&(Ye=256),s}function xt(){var s=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),s}function mt(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Lt(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function bt(s,c,m,x,C,P){var ne=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var ye=s.entanglements,Ue=s.expirationTimes,ht=s.hiddenUpdates;for(m=ne&~m;0<m;){var Ot=31-at(m),zt=1<<Ot;ye[Ot]=0,Ue[Ot]=-1;var gt=ht[Ot];if(gt!==null)for(ht[Ot]=null,Ot=0;Ot<gt.length;Ot++){var St=gt[Ot];St!==null&&(St.lane&=-536870913)}m&=~zt}x!==0&&ft(s,x,0),P!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=P&~(ne&~c))}function ft(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-at(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&4194090}function Ut(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-at(m),C=1<<x;C&c|s[x]&c&&(s[x]|=c),m&=~C}}function It(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ht(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $t(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:yT(s.type))}function ei(s,c){var m=ae.p;try{return ae.p=s,c()}finally{ae.p=m}}var Pn=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Pn,mi="__reactProps$"+Pn,Ri="__reactContainer$"+Pn,En="__reactEvents$"+Pn,F="__reactListeners$"+Pn,X="__reactHandles$"+Pn,Tt="__reactResources$"+Pn,re="__reactMarker$"+Pn;function we(s){delete s[Hn],delete s[mi],delete s[En],delete s[F],delete s[X]}function ti(s){var c=s[Hn];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Ri]||m[Hn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=nT(s);s!==null;){if(m=s[Hn])return m;s=nT(s)}return c}s=m,m=s.parentNode}return null}function jt(s){if(s=s[Hn]||s[Ri]){var c=s.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return s}return null}function Qi(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(i(33))}function la(s){var c=s[Tt];return c||(c=s[Tt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function qt(s){s[re]=!0}var wi=new Set,zr={};function ca(s,c){G(s,c),G(s+"Capture",c)}function G(s,c){for(zr[s]=c,s=0;s<c.length;s++)wi.add(c[s])}var Ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),me={},He={};function Ke(s){return Xe.call(He,s)?!0:Xe.call(me,s)?!1:Ve.test(s)?He[s]=!0:(me[s]=!0,!1)}function Pt(s,c,m){if(Ke(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ft(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Et(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}var Xt,cn;function sn(s){if(Xt===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Xt=c&&c[1]||"",cn=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+s+cn}var nn=!1;function wn(s,c){if(!s||nn)return"";nn=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(St){var gt=St}Reflect.construct(s,[],zt)}else{try{zt.call()}catch(St){gt=St}s.call(zt.prototype)}}else{try{throw Error()}catch(St){gt=St}(zt=s())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(St){if(St&&gt&&typeof St.stack=="string")return[St.stack,gt.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=x.DetermineComponentFrameRoot(),ne=P[0],ye=P[1];if(ne&&ye){var Ue=ne.split(`
`),ht=ye.split(`
`);for(C=x=0;x<Ue.length&&!Ue[x].includes("DetermineComponentFrameRoot");)x++;for(;C<ht.length&&!ht[C].includes("DetermineComponentFrameRoot");)C++;if(x===Ue.length||C===ht.length)for(x=Ue.length-1,C=ht.length-1;1<=x&&0<=C&&Ue[x]!==ht[C];)C--;for(;1<=x&&0<=C;x--,C--)if(Ue[x]!==ht[C]){if(x!==1||C!==1)do if(x--,C--,0>C||Ue[x]!==ht[C]){var Ot=`
`+Ue[x].replace(" at new "," at ");return s.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",s.displayName)),Ot}while(1<=x&&0<=C);break}}}finally{nn=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?sn(m):""}function bn(s){switch(s.tag){case 26:case 27:case 5:return sn(s.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return wn(s.type,!1);case 11:return wn(s.type.render,!1);case 1:return wn(s.type,!0);case 31:return sn("Activity");default:return""}}function Ti(s){try{var c="";do c+=bn(s),s=s.return;while(s);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qn(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ln(s){var c=qn(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),x=""+s[c];if(!s.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,P=m.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(ne){x=""+ne,P.call(this,ne)}}),Object.defineProperty(s,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(ne){x=""+ne},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Li(s){s._valueTracker||(s._valueTracker=ln(s))}function On(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=qn(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function li(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var La=/[\n"\\]/g;function gi(s){return s.replace(La,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function wr(s,c,m,x,C,P,ne,ye){s.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?s.type=ne:s.removeAttribute("type"),c!=null?ne==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Bn(c)):s.value!==""+Bn(c)&&(s.value=""+Bn(c)):ne!=="submit"&&ne!=="reset"||s.removeAttribute("value"),c!=null?Mr(s,ne,Bn(c)):m!=null?Mr(s,ne,Bn(m)):x!=null&&s.removeAttribute("value"),C==null&&P!=null&&(s.defaultChecked=!!P),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?s.name=""+Bn(ye):s.removeAttribute("name")}function yi(s,c,m,x,C,P,ne,ye){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.type=P),c!=null||m!=null){if(!(P!=="submit"&&P!=="reset"||c!=null))return;m=m!=null?""+Bn(m):"",c=c!=null?""+Bn(c):m,ye||c===s.value||(s.value=c),s.defaultValue=c}x=x??C,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=ye?s.checked:!!x,s.defaultChecked=!!x,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(s.name=ne)}function Mr(s,c,m){c==="number"&&li(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Fi(s,c,m,x){if(s=s.options,c){c={};for(var C=0;C<m.length;C++)c["$"+m[C]]=!0;for(m=0;m<s.length;m++)C=c.hasOwnProperty("$"+s[m].value),s[m].selected!==C&&(s[m].selected=C),C&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Bn(m),c=null,C=0;C<s.length;C++){if(s[C].value===m){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function Ar(s,c,m){if(c!=null&&(c=""+Bn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Bn(m):""}function hr(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(i(92));if(pe(x)){if(1<x.length)throw Error(i(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Bn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x)}function dr(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||za.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function hc(s,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var C in c)x=c[C],c.hasOwnProperty(C)&&m[C]!==x&&$o(s,C,x)}else for(var P in c)c.hasOwnProperty(P)&&$o(s,P,c[P])}function st(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(s){return Ws.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var qs=null;function Xs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pa=null,rs=null;function _s(s){var c=jt(s);if(c&&(s=c.stateNode)){var m=s[mi]||null;e:switch(s=c.stateNode,c.type){case"input":if(wr(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+gi(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var C=x[mi]||null;if(!C)throw Error(i(90));wr(x,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&On(x)}break e;case"textarea":Ar(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Fi(s,!!m.multiple,c,!1)}}}var Wt=!1;function as(s,c,m){if(Wt)return s(c,m);Wt=!0;try{var x=s(c);return x}finally{if(Wt=!1,(Pa!==null||rs!==null)&&(Yl(),Pa&&(c=Pa,s=rs,rs=Pa=null,_s(c),s)))for(c=0;c<s.length;c++)_s(s[c])}}function Ms(s,c){var m=s.stateNode;if(m===null)return null;var x=m[mi]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(si)try{var el={};Object.defineProperty(el,"passive",{get:function(){ua=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{ua=!1}var Cr=null,dc=null,pc=null;function Ji(){if(pc)return pc;var s,c=dc,m=c.length,x,C="value"in Cr?Cr.value:Cr.textContent,P=C.length;for(s=0;s<m&&c[s]===C[s];s++);var ne=m-s;for(x=1;x<=ne&&c[m-x]===C[P-x];x++);return pc=C.slice(s,1<x?1-x:void 0)}function qa(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function _o(){return!0}function Mo(){return!1}function pr(s){function c(m,x,C,P,ne){this._reactName=m,this._targetInst=C,this.type=x,this.nativeEvent=P,this.target=ne,this.currentTarget=null;for(var ye in s)s.hasOwnProperty(ye)&&(m=s[ye],this[ye]=m?m(P):P[ye]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?_o:Mo,this.isPropagationStopped=Mo,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),c}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=pr($r),Ts=p({},$r,{view:0,detail:0}),Nl=pr(Ts),Xa,$i,ea,Es=p({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ea&&(ea&&s.type==="mousemove"?(Xa=s.screenX-ea.screenX,$i=s.screenY-ea.screenY):$i=Xa=0,ea=s),Xa)},movementY:function(s){return"movementY"in s?s.movementY:$i}}),kt=pr(Es),zi=p({},Es,{dataTransfer:0}),Wu=pr(zi),er=p({},Ts,{relatedTarget:0}),Ys=pr(er),ta=p({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=pr(ta),Nn=p({},$r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ba=pr(Nn),Rr=p({},$r,{data:0}),Ya=pr(Rr),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pd(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=W0[s])?!!c[s]:!1}function Xu(){return pd}var q0=p({},Ts,{key:function(s){if(s.key){var c=qu[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?j0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),X0=pr(q0),Y0=p({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=pr(Y0),zn=p({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Yu=pr(zn),Ku=p({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zs=pr(Ku),lh=p({},Es,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xm=pr(lh),Zu=p({},$r,{newState:0,oldState:0}),Ul=pr(Zu),To=[9,13,27,32],Yc=si&&"CompositionEvent"in window,Eo=null;si&&"documentMode"in document&&(Eo=document.documentMode);var Qu=si&&"TextEvent"in window&&!Eo,Kc=si&&(!Yc||Eo&&8<Eo&&11>=Eo),tl=" ",fa=!1;function Ju(s,c){switch(s){case"keyup":return To.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var nl=!1;function Zc(s,c){switch(s){case"compositionend":return md(c);case"keypress":return c.which!==32?null:(fa=!0,tl);case"textInput":return s=c.data,s===tl&&fa?null:s;default:return null}}function $u(s,c){if(nl)return s==="compositionend"||!Yc&&Ju(s,c)?(s=Ji(),pc=dc=Cr=null,nl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Kc&&c.locale!=="ko"?null:c.data;default:return null}}var ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!ef[s.type]:c==="textarea"}function Ia(s,c,m,x){Pa?rs?rs.push(x):rs=[x]:Pa=x,c=wv(c,"onChange"),0<c.length&&(m=new Sn("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var wo=null,il=null;function yd(s){q6(s,0)}function tf(s){var c=Qi(s);if(On(c))return s}function ch(s,c){if(s==="change")return c}var nf=!1;if(si){var Qc;if(si){var Ll="oninput"in document;if(!Ll){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Ll=typeof zl.oninput=="function"}Qc=Ll}else Qc=!1;nf=Qc&&(!document.documentMode||9<document.documentMode)}function Pi(){wo&&(wo.detachEvent("onpropertychange",K0),il=wo=null)}function K0(s){if(s.propertyName==="value"&&tf(il)){var c=[];Ia(c,il,s,Xs(s)),as(yd,c)}}function Ym(s,c,m){s==="focusin"?(Pi(),wo=c,il=m,wo.attachEvent("onpropertychange",K0)):s==="focusout"&&Pi()}function vd(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tf(il)}function mc(s,c){if(s==="click")return tf(c)}function Ao(s,c){if(s==="input"||s==="change")return tf(c)}function uh(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ka=typeof Object.is=="function"?Object.is:uh;function As(s,c){if(Ka(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var C=m[x];if(!Xe.call(c,C)||!Ka(s[C],c[C]))return!1}return!0}function Za(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fh(s,c){var m=Za(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Za(m)}}function gc(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?gc(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function xd(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=li(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=li(s.document)}return c}function rf(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var bd=si&&"documentMode"in document&&11>=document.documentMode,Co=null,hh=null,Jc=null,af=!1;function Z0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;af||Co==null||Co!==li(x)||(x=Co,"selectionStart"in x&&rf(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Jc&&As(Jc,x)||(Jc=x,x=wv(hh,"onSelect"),0<x.length&&(c=new Sn("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=Co)))}function Gi(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var rl={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},dh={},sf={};si&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Ro(s){if(dh[s])return dh[s];if(!rl[s])return s;var c=rl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in sf)return dh[s]=c[m];return s}var ha=Ro("animationend"),of=Ro("animationiteration"),ka=Ro("animationstart"),Qs=Ro("transitionrun"),Do=Ro("transitionstart"),ge=Ro("transitioncancel"),Dr=Ro("transitionend"),Fa=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Or(s,c){Fa.set(s,c),ca(c,[s])}var lf=new WeakMap;function tr(s,c){if(typeof s=="object"&&s!==null){var m=lf.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ti(c)},lf.set(s,c),c)}return{value:s,source:c,stack:Ti(c)}}var na=[],Nr=0,ph=0;function Qa(){for(var s=Nr,c=ph=Nr=0;c<s;){var m=na[c];na[c++]=null;var x=na[c];na[c++]=null;var C=na[c];na[c++]=null;var P=na[c];if(na[c++]=null,x!==null&&C!==null){var ne=x.pending;ne===null?C.next=C:(C.next=ne.next,ne.next=C),x.pending=C}P!==0&&mh(m,C,P)}}function al(s,c,m,x){na[Nr++]=s,na[Nr++]=c,na[Nr++]=m,na[Nr++]=x,ph|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Sd(s,c,m,x){return al(s,c,m,x),yc(s)}function Oo(s,c){return al(s,null,null,c),yc(s)}function mh(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var C=!1,P=s.return;P!==null;)P.childLanes|=m,x=P.alternate,x!==null&&(x.childLanes|=m),P.tag===22&&(s=P.stateNode,s===null||s._visibility&1||(C=!0)),s=P,P=P.return;return s.tag===3?(P=s.stateNode,C&&c!==null&&(C=31-at(m),s=P.hiddenUpdates,x=s[C],x===null?s[C]=[c]:x.push(c),c.lane=m|536870912),P):null}function yc(s){if(50<Xl)throw Xl=0,Df=null,Error(i(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var sl={};function gh(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(s,c,m,x){return new gh(s,c,m,x)}function vc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Tr(s,c){var m=s.alternate;return m===null?(m=Ta(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function yh(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Hr(s,c,m,x,C,P){var ne=0;if(x=s,typeof s=="function")vc(s)&&(ne=1);else if(typeof s=="string")ne=$N(s,m,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Ta(31,m,c,C),s.elementType=V,s.lanes=P,s;case T:return xc(m.children,C,P,c);case A:ne=8,C|=24;break;case w:return s=Ta(12,m,c,C|2),s.elementType=w,s.lanes=P,s;case z:return s=Ta(13,m,c,C),s.elementType=z,s.lanes=P,s;case I:return s=Ta(19,m,c,C),s.elementType=I,s.lanes=P,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case O:ne=10;break e;case L:ne=9;break e;case N:ne=11;break e;case H:ne=14;break e;case W:ne=16,x=null;break e}ne=29,m=Error(i(130,s===null?"null":typeof s,"")),x=null}return c=Ta(ne,m,c,C),c.elementType=s,c.type=x,c.lanes=P,c}function xc(s,c,m,x){return s=Ta(7,s,x,c),s.lanes=m,s}function bc(s,c,m){return s=Ta(6,s,null,c),s.lanes=m,s}function cf(s,c,m){return c=Ta(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var Sc=[],Va=0,No=null,Uo=0,da=[],ss=0,ol=null,ll=1,Js="";function Lo(s,c){Sc[Va++]=Uo,Sc[Va++]=No,No=s,Uo=c}function _d(s,c,m){da[ss++]=ll,da[ss++]=Js,da[ss++]=ol,ol=s;var x=ll;s=Js;var C=32-at(x)-1;x&=~(1<<C),m+=1;var P=32-at(c)+C;if(30<P){var ne=C-C%5;P=(x&(1<<ne)-1).toString(32),x>>=ne,C-=ne,ll=1<<32-at(c)+C|m<<C|x,Js=P+s}else ll=1<<P|m<<C|x,Js=s}function vh(s){s.return!==null&&(Lo(s,1),_d(s,1,0))}function Md(s){for(;s===No;)No=Sc[--Va],Sc[Va]=null,Uo=Sc[--Va],Sc[Va]=null;for(;s===ol;)ol=da[--ss],da[ss]=null,Js=da[--ss],da[ss]=null,ll=da[--ss],da[ss]=null}var Ea=null,ji=null,ci=!1,os=null,Ja=!1,uf=Error(i(519));function Pl(s){var c=Error(i(418,""));throw _c(tr(c,s)),uf}function Td(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[Hn]=s,c[mi]=x,m){case"dialog":di("cancel",c),di("close",c);break;case"iframe":case"object":case"embed":di("load",c);break;case"video":case"audio":for(m=0;m<g1.length;m++)di(g1[m],c);break;case"source":di("error",c);break;case"img":case"image":case"link":di("error",c),di("load",c);break;case"details":di("toggle",c);break;case"input":di("invalid",c),yi(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Li(c);break;case"select":di("invalid",c);break;case"textarea":di("invalid",c),hr(c,x.value,x.defaultValue,x.children),Li(c)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||Z6(c.textContent,m)?(x.popover!=null&&(di("beforetoggle",c),di("toggle",c)),x.onScroll!=null&&di("scroll",c),x.onScrollEnd!=null&&di("scrollend",c),x.onClick!=null&&(c.onclick=Av),c=!0):c=!1,c||Pl(s)}function xh(s){for(Ea=s.return;Ea;)switch(Ea.tag){case 5:case 13:Ja=!1;return;case 27:case 3:Ja=!0;return;default:Ea=Ea.return}}function zo(s){if(s!==Ea)return!1;if(!ci)return xh(s),ci=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||o3(s.type,s.memoizedProps)),m=!m),m&&ji&&Pl(s),xh(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8)if(m=s.data,m==="/$"){if(c===0){ji=Lc(s.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;s=s.nextSibling}ji=null}}else c===27?(c=ji,Ih(s.type)?(s=f3,f3=null,ji=s):ji=c):ji=Ea?Lc(s.stateNode.nextSibling):null;return!0}function ls(){ji=Ea=null,ci=!1}function xi(){var s=os;return s!==null&&(vn===null?vn=s:vn.push.apply(vn,s),os=null),s}function _c(s){os===null?os=[s]:os.push(s)}var Ed=K(null),Bl=null,cl=null;function Po(s,c,m){Me(Ed,c._currentValue),c._currentValue=m}function ul(s){s._currentValue=Ed.current,xe(Ed)}function wd(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function eu(s,c,m,x){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var P=C.dependencies;if(P!==null){var ne=C.child;P=P.firstContext;e:for(;P!==null;){var ye=P;P=C;for(var Ue=0;Ue<c.length;Ue++)if(ye.context===c[Ue]){P.lanes|=m,ye=P.alternate,ye!==null&&(ye.lanes|=m),wd(P.return,m,s),x||(ne=null);break e}P=ye.next}}else if(C.tag===18){if(ne=C.return,ne===null)throw Error(i(341));ne.lanes|=m,P=ne.alternate,P!==null&&(P.lanes|=m),wd(ne,m,s),ne=null}else ne=C.child;if(ne!==null)ne.return=C;else for(ne=C;ne!==null;){if(ne===s){ne=null;break}if(C=ne.sibling,C!==null){C.return=ne.return,ne=C;break}ne=ne.return}C=ne}}function Cs(s,c,m,x){s=null;for(var C=c,P=!1;C!==null;){if(!P){if((C.flags&524288)!==0)P=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var ne=C.alternate;if(ne===null)throw Error(i(387));if(ne=ne.memoizedProps,ne!==null){var ye=C.type;Ka(C.pendingProps.value,ne.value)||(s!==null?s.push(ye):s=[ye])}}else if(C===Be.current){if(ne=C.alternate,ne===null)throw Error(i(387));ne.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(_1):s=[_1])}C=C.return}s!==null&&eu(c,s,m,x),c.flags|=262144}function bh(s){for(s=s.firstContext;s!==null;){if(!Ka(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bo(s){Bl=s,cl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mr(s){return ff(Bl,s)}function Mc(s,c){return Bl===null&&Bo(s),ff(s,c)}function ff(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},cl===null){if(s===null)throw Error(i(308));cl=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else cl=cl.next=c;return m}var hf=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},Q0=n.unstable_scheduleCallback,Ad=n.unstable_NormalPriority,Ur={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new hf,data:new Map,refCount:0}}function Tc(s){s.refCount--,s.refCount===0&&Q0(Ad,function(){s.controller.abort()})}var fl=null,Ec=0,Un=0,hl=null;function Rs(s,c){if(fl===null){var m=fl=[];Ec=0,Un=J4(),hl={status:"pending",value:void 0,then:function(x){m.push(x)}}}return Ec++,c.then(tu,tu),c}function tu(){if(--Ec===0&&fl!==null){hl!==null&&(hl.status="fulfilled");var s=fl;fl=null,Un=0,hl=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function J0(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var C=0;C<m.length;C++)(0,m[C])(c)},function(C){for(x.status="rejected",x.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),x}var df=j.S;j.S=function(s,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Rs(s,c),df!==null&&df(s,c)};var Ds=K(null);function dl(){var s=Ds.current;return s!==null?s:kn.pooledCache}function wc(s,c){c===null?Me(Ds,Ds.current):Me(Ds,c.pool)}function Cd(){var s=dl();return s===null?null:{parent:Ur._currentValue,pool:s}}var _h=Error(i(460)),$0=Error(i(474)),$s=Error(i(542)),pf={then:function(){}};function b(s){return s=s.status,s==="fulfilled"||s==="rejected"}function y(){}function M(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(y,y),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Y(s),s;default:if(typeof c.status=="string")c.then(y,y);else{if(s=kn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=x}},function(x){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,Y(s),s}throw D=c,_h}}var D=null;function k(){if(D===null)throw Error(i(459));var s=D;return D=null,s}function Y(s){if(s===_h||s===$s)throw Error(i(483))}var ie=!1;function de(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ve(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Oe(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function qe(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Oi&2)!==0){var C=x.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),x.pending=c,c=yc(s),mh(s,null,m),c}return al(s,x,c,m),yc(s)}function et(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Ut(s,m)}}function dt(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var C=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var ne={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};P===null?C=P=ne:P=P.next=ne,m=m.next}while(m!==null);P===null?C=P=c:P=P.next=c}else C=P=c;m={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Bt=!1;function Kt(){if(Bt){var s=hl;if(s!==null)throw s}}function tn(s,c,m,x){Bt=!1;var C=s.updateQueue;ie=!1;var P=C.firstBaseUpdate,ne=C.lastBaseUpdate,ye=C.shared.pending;if(ye!==null){C.shared.pending=null;var Ue=ye,ht=Ue.next;Ue.next=null,ne===null?P=ht:ne.next=ht,ne=Ue;var Ot=s.alternate;Ot!==null&&(Ot=Ot.updateQueue,ye=Ot.lastBaseUpdate,ye!==ne&&(ye===null?Ot.firstBaseUpdate=ht:ye.next=ht,Ot.lastBaseUpdate=Ue))}if(P!==null){var zt=C.baseState;ne=0,Ot=ht=Ue=null,ye=P;do{var gt=ye.lane&-536870913,St=gt!==ye.lane;if(St?(mn&gt)===gt:(x&gt)===gt){gt!==0&&gt===Un&&(Bt=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var Rn=s,Mn=ye;gt=c;var sr=m;switch(Mn.tag){case 1:if(Rn=Mn.payload,typeof Rn=="function"){zt=Rn.call(sr,zt,gt);break e}zt=Rn;break e;case 3:Rn.flags=Rn.flags&-65537|128;case 0:if(Rn=Mn.payload,gt=typeof Rn=="function"?Rn.call(sr,zt,gt):Rn,gt==null)break e;zt=p({},zt,gt);break e;case 2:ie=!0}}gt=ye.callback,gt!==null&&(s.flags|=64,St&&(s.flags|=8192),St=C.callbacks,St===null?C.callbacks=[gt]:St.push(gt))}else St={lane:gt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ot===null?(ht=Ot=St,Ue=zt):Ot=Ot.next=St,ne|=gt;if(ye=ye.next,ye===null){if(ye=C.shared.pending,ye===null)break;St=ye,ye=St.next,St.next=null,C.lastBaseUpdate=St,C.shared.pending=null}}while(!0);Ot===null&&(Ue=zt),C.baseState=Ue,C.firstBaseUpdate=ht,C.lastBaseUpdate=Ot,P===null&&(C.shared.lanes=0),Sl|=ne,s.lanes=ne,s.memoizedState=zt}}function Gn(s,c){if(typeof s!="function")throw Error(i(191,s));s.call(c)}function Xn(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)Gn(m[s],c)}var Yn=K(null),ui=K(0);function Bi(s,c){s=Ho,Me(ui,s),Me(Yn,c),Ho=s|c.baseLanes}function pa(){Me(ui,Ho),Me(Yn,Yn.current)}function gr(){Ho=ui.current,xe(Yn),xe(ui)}var Pr=0,_n=null,an=null,yn=null,Di=!1,bi=!1,ri=!1,In=0,yr=0,ma=null,Rd=0;function Er(){throw Error(i(321))}function wa(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!Ka(s[m],c[m]))return!1;return!0}function Os(s,c,m,x,C,P){return Pr=P,_n=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,j.H=s===null||s.memoizedState===null?lp:u1,ri=!1,P=m(x,C),ri=!1,bi&&(P=Vy(c,m,x,C)),Fy(s),P}function Fy(s){j.H=Nd;var c=an!==null&&an.next!==null;if(Pr=0,yn=an=_n=null,Di=!1,yr=0,ma=null,c)throw Error(i(300));s===null||Aa||(s=s.dependencies,s!==null&&bh(s)&&(Aa=!0))}function Vy(s,c,m,x){_n=s;var C=0;do{if(bi&&(ma=null),yr=0,bi=!1,25<=C)throw Error(i(301));if(C+=1,yn=an=null,s.updateQueue!=null){var P=s.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}j.H=dv,P=c(m,x)}while(bi);return P}function j4(){var s=j.H,c=s.useState()[0];return c=typeof c.then=="function"?pl(c):c,s=s.useState()[0],(an!==null?an.memoizedState:null)!==s&&(_n.flags|=1024),c}function Km(){var s=In!==0;return In=0,s}function ep(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function Zm(s){if(Di){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}Di=!1}Pr=0,yn=an=_n=null,bi=!1,yr=In=0,ma=null}function cs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?_n.memoizedState=yn=s:yn=yn.next=s,yn}function ia(){if(an===null){var s=_n.alternate;s=s!==null?s.memoizedState:null}else s=an.next;var c=yn===null?_n.memoizedState:yn.next;if(c!==null)yn=c,an=s;else{if(s===null)throw _n.alternate===null?Error(i(467)):Error(i(310));an=s,s={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},yn===null?_n.memoizedState=yn=s:yn=yn.next=s}return yn}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(s){var c=yr;return yr+=1,ma===null&&(ma=[]),s=M(ma,s,c),c=_n,(yn===null?c.memoizedState:yn.next)===null&&(c=c.alternate,j.H=c===null||c.memoizedState===null?lp:u1),s}function tp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pl(s);if(s.$$typeof===O)return mr(s)}throw Error(i(438,String(s)))}function Qm(s){var c=null,m=_n.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=_n.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=nu(),_n.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=U;return c.index++,m}function Ac(s,c){return typeof c=="function"?c(s):c}function iu(s){var c=ia();return Jm(c,an,s)}function Jm(s,c,m){var x=s.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=m;var C=s.baseQueue,P=x.pending;if(P!==null){if(C!==null){var ne=C.next;C.next=P.next,P.next=ne}c.baseQueue=C=P,x.pending=null}if(P=s.baseState,C===null)s.memoizedState=P;else{c=C.next;var ye=ne=null,Ue=null,ht=c,Ot=!1;do{var zt=ht.lane&-536870913;if(zt!==ht.lane?(mn&zt)===zt:(Pr&zt)===zt){var gt=ht.revertLane;if(gt===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),zt===Un&&(Ot=!0);else if((Pr&gt)===gt){ht=ht.next,gt===Un&&(Ot=!0);continue}else zt={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Ue===null?(ye=Ue=zt,ne=P):Ue=Ue.next=zt,_n.lanes|=gt,Sl|=gt;zt=ht.action,ri&&m(P,zt),P=ht.hasEagerState?ht.eagerState:m(P,zt)}else gt={lane:zt,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Ue===null?(ye=Ue=gt,ne=P):Ue=Ue.next=gt,_n.lanes|=zt,Sl|=zt;ht=ht.next}while(ht!==null&&ht!==c);if(Ue===null?ne=P:Ue.next=ye,!Ka(P,s.memoizedState)&&(Aa=!0,Ot&&(m=hl,m!==null)))throw m;s.memoizedState=P,s.baseState=ne,s.baseQueue=Ue,x.lastRenderedState=P}return C===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function $m(s){var c=ia(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=s;var x=m.dispatch,C=m.pending,P=c.memoizedState;if(C!==null){m.pending=null;var ne=C=C.next;do P=s(P,ne.action),ne=ne.next;while(ne!==C);Ka(P,c.memoizedState)||(Aa=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),m.lastRenderedState=P}return[P,x]}function Hy(s,c,m){var x=_n,C=ia(),P=ci;if(P){if(m===void 0)throw Error(i(407));m=m()}else m=c();var ne=!Ka((an||C).memoizedState,m);ne&&(C.memoizedState=m,Aa=!0),C=C.queue;var ye=jy.bind(null,x,C,s);if(Eh(2048,8,ye,[s]),C.getSnapshot!==c||ne||yn!==null&&yn.memoizedState.tag&1){if(x.flags|=2048,Th(9,Dd(),Gy.bind(null,x,C,m,c),null),kn===null)throw Error(i(349));P||(Pr&124)!==0||Mh(x,c,m)}return m}function Mh(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=_n.updateQueue,c===null?(c=nu(),_n.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function Gy(s,c,m,x){c.value=m,c.getSnapshot=x,Wy(c)&&qy(s)}function jy(s,c,m){return m(function(){Wy(c)&&qy(s)})}function Wy(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!Ka(s,m)}catch{return!0}}function qy(s){var c=Oo(s,2);c!==null&&hs(c,s,2)}function e1(s){var c=cs();if(typeof s=="function"){var m=s;if(s=m(),ri){Ne(!0);try{m()}finally{Ne(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:s},c}function Xy(s,c,m,x){return s.baseState=m,Jm(s,an,typeof x=="function"?x:Ac)}function W4(s,c,m,x,C){if(op(s))throw Error(i(485));if(s=c.action,s!==null){var P={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){P.listeners.push(ne)}};j.T!==null?m(!0):P.isTransition=!1,x(P),m=c.pending,m===null?(P.next=c.pending=P,Yy(c,P)):(P.next=m.next,c.pending=m.next=P)}}function Yy(s,c){var m=c.action,x=c.payload,C=s.state;if(c.isTransition){var P=j.T,ne={};j.T=ne;try{var ye=m(C,x),Ue=j.S;Ue!==null&&Ue(ne,ye),Ky(s,c,ye)}catch(ht){t1(s,c,ht)}finally{j.T=P}}else try{P=m(C,x),Ky(s,c,P)}catch(ht){t1(s,c,ht)}}function Ky(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){Zy(s,c,x)},function(x){return t1(s,c,x)}):Zy(s,c,m)}function Zy(s,c,m){c.status="fulfilled",c.value=m,Qy(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,Yy(s,m)))}function t1(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,Qy(c),c=c.next;while(c!==x)}s.action=null}function Qy(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function n1(s,c){return c}function Jy(s,c){if(ci){var m=kn.formState;if(m!==null){e:{var x=_n;if(ci){if(ji){t:{for(var C=ji,P=Ja;C.nodeType!==8;){if(!P){C=null;break t}if(C=Lc(C.nextSibling),C===null){C=null;break t}}P=C.data,C=P==="F!"||P==="F"?C:null}if(C){ji=Lc(C.nextSibling),x=C.data==="F!";break e}}Pl(x)}x=!1}x&&(c=m[0])}}return m=cs(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:c},m.queue=x,m=fv.bind(null,_n,x),x.dispatch=m,x=e1(!1),P=sp.bind(null,_n,!1,x.queue),x=cs(),C={state:c,dispatch:null,action:s,pending:null},x.queue=C,m=W4.bind(null,_n,C,P,m),C.dispatch=m,x.memoizedState=s,[c,m,!1]}function $y(s){var c=ia();return ev(c,an,s)}function ev(s,c,m){if(c=Jm(s,c,n1)[0],s=iu(Ac)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=pl(c)}catch(ne){throw ne===_h?$s:ne}else x=c;c=ia();var C=c.queue,P=C.dispatch;return m!==c.memoizedState&&(_n.flags|=2048,Th(9,Dd(),q4.bind(null,C,m),null)),[x,P,s]}function q4(s,c){s.action=c}function tv(s){var c=ia(),m=an;if(m!==null)return ev(c,m,s);ia(),c=c.memoizedState,m=ia();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function Th(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=_n.updateQueue,c===null&&(c=nu(),_n.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function Dd(){return{destroy:void 0,resource:void 0}}function i1(){return ia().memoizedState}function np(s,c,m,x){var C=cs();x=x===void 0?null:x,_n.flags|=s,C.memoizedState=Th(1|c,Dd(),m,x)}function Eh(s,c,m,x){var C=ia();x=x===void 0?null:x;var P=C.memoizedState.inst;an!==null&&x!==null&&wa(x,an.memoizedState.deps)?C.memoizedState=Th(c,P,m,x):(_n.flags|=s,C.memoizedState=Th(1|c,P,m,x))}function r1(s,c){np(8390656,8,s,c)}function a1(s,c){Eh(2048,8,s,c)}function ip(s,c){return Eh(4,2,s,c)}function rp(s,c){return Eh(4,4,s,c)}function nv(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function iv(s,c,m){m=m!=null?m.concat([s]):null,Eh(4,4,nv.bind(null,c,s),m)}function s1(){}function rv(s,c){var m=ia();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&wa(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function o1(s,c){var m=ia();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&wa(c,x[1]))return x[0];if(x=s(),ri){Ne(!0);try{s()}finally{Ne(!1)}}return m.memoizedState=[x,c],x}function ap(s,c,m){return m===void 0||(Pr&1073741824)!==0?s.memoizedState=c:(s.memoizedState=m,s=xp(),_n.lanes|=s,Sl|=s,m)}function av(s,c,m,x){return Ka(m,c)?m:Yn.current!==null?(s=ap(s,m,x),Ka(s,c)||(Aa=!0),s):(Pr&42)===0?(Aa=!0,s.memoizedState=m):(s=xp(),_n.lanes|=s,Sl|=s,c)}function sv(s,c,m,x,C){var P=ae.p;ae.p=P!==0&&8>P?P:8;var ne=j.T,ye={};j.T=ye,sp(s,!1,c,m);try{var Ue=C(),ht=j.S;if(ht!==null&&ht(ye,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var Ot=J0(Ue,x);Od(s,c,Ot,kr(s))}else Od(s,c,x,kr(s))}catch(zt){Od(s,c,{then:function(){},status:"rejected",reason:zt},kr())}finally{ae.p=P,j.T=ne}}function X4(){}function l1(s,c,m,x){if(s.tag!==5)throw Error(i(476));var C=ov(s).queue;sv(s,C,c,le,m===null?X4:function(){return lv(s),m(x)})}function ov(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:le},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function lv(s){var c=ov(s).next.queue;Od(s,c,{},kr())}function c1(){return mr(_1)}function cv(){return ia().memoizedState}function uv(){return ia().memoizedState}function Y4(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=kr();s=Oe(m);var x=qe(c,s,m);x!==null&&(hs(x,c,m),et(x,c,m)),c={cache:Sh()},s.payload=c;return}c=c.return}}function K4(s,c,m){var x=kr();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},op(s)?hv(c,m):(m=Sd(s,c,m,x),m!==null&&(hs(m,s,x),eo(m,c,x)))}function fv(s,c,m){var x=kr();Od(s,c,m,x)}function Od(s,c,m,x){var C={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(op(s))hv(c,C);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var ne=c.lastRenderedState,ye=P(ne,m);if(C.hasEagerState=!0,C.eagerState=ye,Ka(ye,ne))return al(s,c,C,0),kn===null&&Qa(),!1}catch{}finally{}if(m=Sd(s,c,C,x),m!==null)return hs(m,s,x),eo(m,c,x),!0}return!1}function sp(s,c,m,x){if(x={lane:2,revertLane:J4(),action:x,hasEagerState:!1,eagerState:null,next:null},op(s)){if(c)throw Error(i(479))}else c=Sd(s,m,x,2),c!==null&&hs(c,s,2)}function op(s){var c=s.alternate;return s===_n||c!==null&&c===_n}function hv(s,c){bi=Di=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function eo(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Ut(s,m)}}var Nd={readContext:mr,use:tp,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useInsertionEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useSyncExternalStore:Er,useId:Er,useHostTransitionStatus:Er,useFormState:Er,useActionState:Er,useOptimistic:Er,useMemoCache:Er,useCacheRefresh:Er},lp={readContext:mr,use:tp,useCallback:function(s,c){return cs().memoizedState=[s,c===void 0?null:c],s},useContext:mr,useEffect:r1,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,np(4194308,4,nv.bind(null,c,s),m)},useLayoutEffect:function(s,c){return np(4194308,4,s,c)},useInsertionEffect:function(s,c){np(4,2,s,c)},useMemo:function(s,c){var m=cs();c=c===void 0?null:c;var x=s();if(ri){Ne(!0);try{s()}finally{Ne(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=cs();if(m!==void 0){var C=m(c);if(ri){Ne(!0);try{m(c)}finally{Ne(!1)}}}else C=c;return x.memoizedState=x.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},x.queue=s,s=s.dispatch=K4.bind(null,_n,s),[x.memoizedState,s]},useRef:function(s){var c=cs();return s={current:s},c.memoizedState=s},useState:function(s){s=e1(s);var c=s.queue,m=fv.bind(null,_n,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:s1,useDeferredValue:function(s,c){var m=cs();return ap(m,s,c)},useTransition:function(){var s=e1(!1);return s=sv.bind(null,_n,s.queue,!0,!1),cs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=_n,C=cs();if(ci){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),kn===null)throw Error(i(349));(mn&124)!==0||Mh(x,c,m)}C.memoizedState=m;var P={value:m,getSnapshot:c};return C.queue=P,r1(jy.bind(null,x,P,s),[s]),x.flags|=2048,Th(9,Dd(),Gy.bind(null,x,P,m,c),null),m},useId:function(){var s=cs(),c=kn.identifierPrefix;if(ci){var m=Js,x=ll;m=(x&~(1<<32-at(x)-1)).toString(32)+m,c="«"+c+"R"+m,m=In++,0<m&&(c+="H"+m.toString(32)),c+="»"}else m=Rd++,c="«"+c+"r"+m.toString(32)+"»";return s.memoizedState=c},useHostTransitionStatus:c1,useFormState:Jy,useActionState:Jy,useOptimistic:function(s){var c=cs();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=sp.bind(null,_n,!0,m),m.dispatch=c,[s,c]},useMemoCache:Qm,useCacheRefresh:function(){return cs().memoizedState=Y4.bind(null,_n)}},u1={readContext:mr,use:tp,useCallback:rv,useContext:mr,useEffect:a1,useImperativeHandle:iv,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:o1,useReducer:iu,useRef:i1,useState:function(){return iu(Ac)},useDebugValue:s1,useDeferredValue:function(s,c){var m=ia();return av(m,an.memoizedState,s,c)},useTransition:function(){var s=iu(Ac)[0],c=ia().memoizedState;return[typeof s=="boolean"?s:pl(s),c]},useSyncExternalStore:Hy,useId:cv,useHostTransitionStatus:c1,useFormState:$y,useActionState:$y,useOptimistic:function(s,c){var m=ia();return Xy(m,an,s,c)},useMemoCache:Qm,useCacheRefresh:uv},dv={readContext:mr,use:tp,useCallback:rv,useContext:mr,useEffect:a1,useImperativeHandle:iv,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:o1,useReducer:$m,useRef:i1,useState:function(){return $m(Ac)},useDebugValue:s1,useDeferredValue:function(s,c){var m=ia();return an===null?ap(m,s,c):av(m,an.memoizedState,s,c)},useTransition:function(){var s=$m(Ac)[0],c=ia().memoizedState;return[typeof s=="boolean"?s:pl(s),c]},useSyncExternalStore:Hy,useId:cv,useHostTransitionStatus:c1,useFormState:tv,useActionState:tv,useOptimistic:function(s,c){var m=ia();return an!==null?Xy(m,an,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:uv},mf=null,Ud=0;function Ld(s){var c=Ud;return Ud+=1,mf===null&&(mf=[]),M(mf,s,c)}function wh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function cp(s,c){throw c.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(c),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function pv(s){var c=s._init;return c(s._payload)}function mv(s){function c($e,je){if(s){var lt=$e.deletions;lt===null?($e.deletions=[je],$e.flags|=16):lt.push(je)}}function m($e,je){if(!s)return null;for(;je!==null;)c($e,je),je=je.sibling;return null}function x($e){for(var je=new Map;$e!==null;)$e.key!==null?je.set($e.key,$e):je.set($e.index,$e),$e=$e.sibling;return je}function C($e,je){return $e=Tr($e,je),$e.index=0,$e.sibling=null,$e}function P($e,je,lt){return $e.index=lt,s?(lt=$e.alternate,lt!==null?(lt=lt.index,lt<je?($e.flags|=67108866,je):lt):($e.flags|=67108866,je)):($e.flags|=1048576,je)}function ne($e){return s&&$e.alternate===null&&($e.flags|=67108866),$e}function ye($e,je,lt,Nt){return je===null||je.tag!==6?(je=bc(lt,$e.mode,Nt),je.return=$e,je):(je=C(je,lt),je.return=$e,je)}function Ue($e,je,lt,Nt){var on=lt.type;return on===T?Ot($e,je,lt.props.children,Nt,lt.key):je!==null&&(je.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===W&&pv(on)===je.type)?(je=C(je,lt.props),wh(je,lt),je.return=$e,je):(je=Hr(lt.type,lt.key,lt.props,null,$e.mode,Nt),wh(je,lt),je.return=$e,je)}function ht($e,je,lt,Nt){return je===null||je.tag!==4||je.stateNode.containerInfo!==lt.containerInfo||je.stateNode.implementation!==lt.implementation?(je=cf(lt,$e.mode,Nt),je.return=$e,je):(je=C(je,lt.children||[]),je.return=$e,je)}function Ot($e,je,lt,Nt,on){return je===null||je.tag!==7?(je=xc(lt,$e.mode,Nt,on),je.return=$e,je):(je=C(je,lt),je.return=$e,je)}function zt($e,je,lt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=bc(""+je,$e.mode,lt),je.return=$e,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case v:return lt=Hr(je.type,je.key,je.props,null,$e.mode,lt),wh(lt,je),lt.return=$e,lt;case S:return je=cf(je,$e.mode,lt),je.return=$e,je;case W:var Nt=je._init;return je=Nt(je._payload),zt($e,je,lt)}if(pe(je)||ee(je))return je=xc(je,$e.mode,lt,null),je.return=$e,je;if(typeof je.then=="function")return zt($e,Ld(je),lt);if(je.$$typeof===O)return zt($e,Mc($e,je),lt);cp($e,je)}return null}function gt($e,je,lt,Nt){var on=je!==null?je.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return on!==null?null:ye($e,je,""+lt,Nt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case v:return lt.key===on?Ue($e,je,lt,Nt):null;case S:return lt.key===on?ht($e,je,lt,Nt):null;case W:return on=lt._init,lt=on(lt._payload),gt($e,je,lt,Nt)}if(pe(lt)||ee(lt))return on!==null?null:Ot($e,je,lt,Nt,null);if(typeof lt.then=="function")return gt($e,je,Ld(lt),Nt);if(lt.$$typeof===O)return gt($e,je,Mc($e,lt),Nt);cp($e,lt)}return null}function St($e,je,lt,Nt,on){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return $e=$e.get(lt)||null,ye(je,$e,""+Nt,on);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case v:return $e=$e.get(Nt.key===null?lt:Nt.key)||null,Ue(je,$e,Nt,on);case S:return $e=$e.get(Nt.key===null?lt:Nt.key)||null,ht(je,$e,Nt,on);case W:var hi=Nt._init;return Nt=hi(Nt._payload),St($e,je,lt,Nt,on)}if(pe(Nt)||ee(Nt))return $e=$e.get(lt)||null,Ot(je,$e,Nt,on,null);if(typeof Nt.then=="function")return St($e,je,lt,Ld(Nt),on);if(Nt.$$typeof===O)return St($e,je,lt,Mc(je,Nt),on);cp(je,Nt)}return null}function Rn($e,je,lt,Nt){for(var on=null,hi=null,pn=je,An=je=0,ts=null;pn!==null&&An<lt.length;An++){pn.index>An?(ts=pn,pn=null):ts=pn.sibling;var Ui=gt($e,pn,lt[An],Nt);if(Ui===null){pn===null&&(pn=ts);break}s&&pn&&Ui.alternate===null&&c($e,pn),je=P(Ui,je,An),hi===null?on=Ui:hi.sibling=Ui,hi=Ui,pn=ts}if(An===lt.length)return m($e,pn),ci&&Lo($e,An),on;if(pn===null){for(;An<lt.length;An++)pn=zt($e,lt[An],Nt),pn!==null&&(je=P(pn,je,An),hi===null?on=pn:hi.sibling=pn,hi=pn);return ci&&Lo($e,An),on}for(pn=x(pn);An<lt.length;An++)ts=St(pn,$e,An,lt[An],Nt),ts!==null&&(s&&ts.alternate!==null&&pn.delete(ts.key===null?An:ts.key),je=P(ts,je,An),hi===null?on=ts:hi.sibling=ts,hi=ts);return s&&pn.forEach(function(Gh){return c($e,Gh)}),ci&&Lo($e,An),on}function Mn($e,je,lt,Nt){if(lt==null)throw Error(i(151));for(var on=null,hi=null,pn=je,An=je=0,ts=null,Ui=lt.next();pn!==null&&!Ui.done;An++,Ui=lt.next()){pn.index>An?(ts=pn,pn=null):ts=pn.sibling;var Gh=gt($e,pn,Ui.value,Nt);if(Gh===null){pn===null&&(pn=ts);break}s&&pn&&Gh.alternate===null&&c($e,pn),je=P(Gh,je,An),hi===null?on=Gh:hi.sibling=Gh,hi=Gh,pn=ts}if(Ui.done)return m($e,pn),ci&&Lo($e,An),on;if(pn===null){for(;!Ui.done;An++,Ui=lt.next())Ui=zt($e,Ui.value,Nt),Ui!==null&&(je=P(Ui,je,An),hi===null?on=Ui:hi.sibling=Ui,hi=Ui);return ci&&Lo($e,An),on}for(pn=x(pn);!Ui.done;An++,Ui=lt.next())Ui=St(pn,$e,An,Ui.value,Nt),Ui!==null&&(s&&Ui.alternate!==null&&pn.delete(Ui.key===null?An:Ui.key),je=P(Ui,je,An),hi===null?on=Ui:hi.sibling=Ui,hi=Ui);return s&&pn.forEach(function(fU){return c($e,fU)}),ci&&Lo($e,An),on}function sr($e,je,lt,Nt){if(typeof lt=="object"&&lt!==null&&lt.type===T&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case v:e:{for(var on=lt.key;je!==null;){if(je.key===on){if(on=lt.type,on===T){if(je.tag===7){m($e,je.sibling),Nt=C(je,lt.props.children),Nt.return=$e,$e=Nt;break e}}else if(je.elementType===on||typeof on=="object"&&on!==null&&on.$$typeof===W&&pv(on)===je.type){m($e,je.sibling),Nt=C(je,lt.props),wh(Nt,lt),Nt.return=$e,$e=Nt;break e}m($e,je);break}else c($e,je);je=je.sibling}lt.type===T?(Nt=xc(lt.props.children,$e.mode,Nt,lt.key),Nt.return=$e,$e=Nt):(Nt=Hr(lt.type,lt.key,lt.props,null,$e.mode,Nt),wh(Nt,lt),Nt.return=$e,$e=Nt)}return ne($e);case S:e:{for(on=lt.key;je!==null;){if(je.key===on)if(je.tag===4&&je.stateNode.containerInfo===lt.containerInfo&&je.stateNode.implementation===lt.implementation){m($e,je.sibling),Nt=C(je,lt.children||[]),Nt.return=$e,$e=Nt;break e}else{m($e,je);break}else c($e,je);je=je.sibling}Nt=cf(lt,$e.mode,Nt),Nt.return=$e,$e=Nt}return ne($e);case W:return on=lt._init,lt=on(lt._payload),sr($e,je,lt,Nt)}if(pe(lt))return Rn($e,je,lt,Nt);if(ee(lt)){if(on=ee(lt),typeof on!="function")throw Error(i(150));return lt=on.call(lt),Mn($e,je,lt,Nt)}if(typeof lt.then=="function")return sr($e,je,Ld(lt),Nt);if(lt.$$typeof===O)return sr($e,je,Mc($e,lt),Nt);cp($e,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,je!==null&&je.tag===6?(m($e,je.sibling),Nt=C(je,lt),Nt.return=$e,$e=Nt):(m($e,je),Nt=bc(lt,$e.mode,Nt),Nt.return=$e,$e=Nt),ne($e)):m($e,je)}return function($e,je,lt,Nt){try{Ud=0;var on=sr($e,je,lt,Nt);return mf=null,on}catch(pn){if(pn===_h||pn===$s)throw pn;var hi=Ta(29,pn,null,$e.mode);return hi.lanes=Nt,hi.return=$e,hi}finally{}}}var gf=mv(!0),gv=mv(!1),Wi=K(null),ml=null;function ru(s){var c=s.alternate;Me(Gr,Gr.current&1),Me(Wi,s),ml===null&&(c===null||Yn.current!==null||c.memoizedState!==null)&&(ml=s)}function yv(s){if(s.tag===22){if(Me(Gr,Gr.current),Me(Wi,s),ml===null){var c=s.alternate;c!==null&&c.memoizedState!==null&&(ml=s)}}else au()}function au(){Me(Gr,Gr.current),Me(Wi,Wi.current)}function Il(s){xe(Wi),ml===s&&(ml=null),xe(Gr)}var Gr=K(0);function Cc(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||u3(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function su(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var us={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=kr(),C=Oe(x);C.payload=c,m!=null&&(C.callback=m),c=qe(s,C,x),c!==null&&(hs(c,s,x),et(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=kr(),C=Oe(x);C.tag=1,C.payload=c,m!=null&&(C.callback=m),c=qe(s,C,x),c!==null&&(hs(c,s,x),et(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=kr(),x=Oe(m);x.tag=2,c!=null&&(x.callback=c),c=qe(s,x,m),c!==null&&(hs(c,s,m),et(c,s,m))}};function vv(s,c,m,x,C,P,ne){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,P,ne):c.prototype&&c.prototype.isPureReactComponent?!As(m,x)||!As(C,P):!0}function xv(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&us.enqueueReplaceState(c,c.state,null)}function kl(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var C in s)m[C]===void 0&&(m[C]=s[C])}return m}var yf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function zd(s){yf(s)}function up(s){console.error(s)}function bv(s){yf(s)}function fp(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function Io(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function hp(s,c,m){return m=Oe(m),m.tag=3,m.payload={element:null},m.callback=function(){fp(s,c)},m}function Sv(s){return s=Oe(s),s.tag=3,s}function dp(s,c,m,x){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var P=x.value;s.payload=function(){return C(P)},s.callback=function(){Io(c,m,x)}}var ne=m.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(s.callback=function(){Io(c,m,x),typeof C!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var ye=x.stack;this.componentDidCatch(x.value,{componentStack:ye!==null?ye:""})})}function Z4(s,c,m,x,C){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Cs(c,m,C,!0),m=Wi.current,m!==null){switch(m.tag){case 13:return ml===null?h():m.alternate===null&&vr===0&&(vr=3),m.flags&=-257,m.flags|=65536,m.lanes=C,x===pf?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),_t(s,x,C)),!1;case 22:return m.flags|=65536,x===pf?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),_t(s,x,C)),!1}throw Error(i(435,m.tag))}return _t(s,x,C),h(),!1}if(ci)return c=Wi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,x!==uf&&(s=Error(i(422),{cause:x}),_c(tr(s,m)))):(x!==uf&&(c=Error(i(423),{cause:x}),_c(tr(c,m))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,x=tr(x,m),C=hp(s.stateNode,x,C),dt(s,C),vr!==4&&(vr=2)),!1;var P=Error(i(520),{cause:x});if(P=tr(P,m),Ni===null?Ni=[P]:Ni.push(P),vr!==4&&(vr=2),c===null)return!0;x=tr(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=C&-C,m.lanes|=s,s=hp(m.stateNode,x,s),dt(m,s),!1;case 1:if(c=m.type,P=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(lo===null||!lo.has(P))))return m.flags|=65536,C&=-C,m.lanes|=C,C=Sv(C),dp(C,s,m,x),dt(m,C),!1}m=m.return}while(m!==null);return!1}var _v=Error(i(461)),Aa=!1;function jr(s,c,m,x){c.child=s===null?gv(c,null,m,x):gf(c,s.child,m,x)}function Ns(s,c,m,x,C){m=m.render;var P=c.ref;if("ref"in x){var ne={};for(var ye in x)ye!=="ref"&&(ne[ye]=x[ye])}else ne=x;return Bo(c),x=Os(s,c,m,ne,P,C),ye=Km(),s!==null&&!Aa?(ep(s,c,C),Ca(s,c,C)):(ci&&ye&&vh(c),c.flags|=1,jr(s,c,x,C),c.child)}function Us(s,c,m,x,C){if(s===null){var P=m.type;return typeof P=="function"&&!vc(P)&&P.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=P,f1(s,c,P,x,C)):(s=Hr(m.type,null,x,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,!Pd(s,C)){var ne=P.memoizedProps;if(m=m.compare,m=m!==null?m:As,m(ne,x)&&s.ref===c.ref)return Ca(s,c,C)}return c.flags|=1,s=Tr(P,x),s.ref=c.ref,s.return=c,c.child=s}function f1(s,c,m,x,C){if(s!==null){var P=s.memoizedProps;if(As(P,x)&&s.ref===c.ref)if(Aa=!1,c.pendingProps=x=P,Pd(s,C))(s.flags&131072)!==0&&(Aa=!0);else return c.lanes=s.lanes,Ca(s,c,C)}return Ah(s,c,m,x,C)}function vf(s,c,m){var x=c.pendingProps,C=x.children,P=s!==null?s.memoizedState:null;if(x.mode==="hidden"){if((c.flags&128)!==0){if(x=P!==null?P.baseLanes|m:m,s!==null){for(C=c.child=s.child,P=0;C!==null;)P=P|C.lanes|C.childLanes,C=C.sibling;c.childLanes=P&~x}else c.childLanes=0,c.child=null;return xf(s,c,x,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&wc(c,P!==null?P.cachePool:null),P!==null?Bi(c,P):pa(),yv(c);else return c.lanes=c.childLanes=536870912,xf(s,c,P!==null?P.baseLanes|m:m,m)}else P!==null?(wc(c,P.cachePool),Bi(c,P),au(),c.memoizedState=null):(s!==null&&wc(c,null),pa(),au());return jr(s,c,C,m),c.child}function xf(s,c,m,x){var C=dl();return C=C===null?null:{parent:Ur._currentValue,pool:C},c.memoizedState={baseLanes:m,cachePool:C},s!==null&&wc(c,null),pa(),yv(c),s!==null&&Cs(s,c,x,!0),null}function bf(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Ah(s,c,m,x,C){return Bo(c),m=Os(s,c,m,x,void 0,C),x=Km(),s!==null&&!Aa?(ep(s,c,C),Ca(s,c,C)):(ci&&x&&vh(c),c.flags|=1,jr(s,c,m,C),c.child)}function to(s,c,m,x,C,P){return Bo(c),c.updateQueue=null,m=Vy(c,x,m,C),Fy(s),x=Km(),s!==null&&!Aa?(ep(s,c,P),Ca(s,c,P)):(ci&&x&&vh(c),c.flags|=1,jr(s,c,m,P),c.child)}function no(s,c,m,x,C){if(Bo(c),c.stateNode===null){var P=sl,ne=m.contextType;typeof ne=="object"&&ne!==null&&(P=mr(ne)),P=new m(x,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=us,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=x,P.state=c.memoizedState,P.refs={},de(c),ne=m.contextType,P.context=typeof ne=="object"&&ne!==null?mr(ne):sl,P.state=c.memoizedState,ne=m.getDerivedStateFromProps,typeof ne=="function"&&(su(c,m,ne,x),P.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(ne=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),ne!==P.state&&us.enqueueReplaceState(P,P.state,null),tn(c,x,P,C),Kt(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){P=c.stateNode;var ye=c.memoizedProps,Ue=kl(m,ye);P.props=Ue;var ht=P.context,Ot=m.contextType;ne=sl,typeof Ot=="object"&&Ot!==null&&(ne=mr(Ot));var zt=m.getDerivedStateFromProps;Ot=typeof zt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ye=c.pendingProps!==ye,Ot||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ye||ht!==ne)&&xv(c,P,x,ne),ie=!1;var gt=c.memoizedState;P.state=gt,tn(c,x,P,C),Kt(),ht=c.memoizedState,ye||gt!==ht||ie?(typeof zt=="function"&&(su(c,m,zt,x),ht=c.memoizedState),(Ue=ie||vv(c,m,Ue,x,gt,ht,ne))?(Ot||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ht),P.props=x,P.state=ht,P.context=ne,x=Ue):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{P=c.stateNode,ve(s,c),ne=c.memoizedProps,Ot=kl(m,ne),P.props=Ot,zt=c.pendingProps,gt=P.context,ht=m.contextType,Ue=sl,typeof ht=="object"&&ht!==null&&(Ue=mr(ht)),ye=m.getDerivedStateFromProps,(ht=typeof ye=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ne!==zt||gt!==Ue)&&xv(c,P,x,Ue),ie=!1,gt=c.memoizedState,P.state=gt,tn(c,x,P,C),Kt();var St=c.memoizedState;ne!==zt||gt!==St||ie||s!==null&&s.dependencies!==null&&bh(s.dependencies)?(typeof ye=="function"&&(su(c,m,ye,x),St=c.memoizedState),(Ot=ie||vv(c,m,Ot,x,gt,St,Ue)||s!==null&&s.dependencies!==null&&bh(s.dependencies))?(ht||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(x,St,Ue),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(x,St,Ue)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||ne===s.memoizedProps&&gt===s.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===s.memoizedProps&&gt===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=St),P.props=x,P.state=St,P.context=Ue,x=Ot):(typeof P.componentDidUpdate!="function"||ne===s.memoizedProps&&gt===s.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ne===s.memoizedProps&&gt===s.memoizedState||(c.flags|=1024),x=!1)}return P=x,bf(s,c),x=(c.flags&128)!==0,P||x?(P=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,s!==null&&x?(c.child=gf(c,s.child,null,C),c.child=gf(c,null,m,C)):jr(s,c,m,C),c.memoizedState=P.state,s=c.child):s=Ca(s,c,C),s}function ou(s,c,m,x){return ls(),c.flags|=256,jr(s,c,m,x),c.child}var gl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yl(s){return{baseLanes:s,cachePool:Cd()}}function ga(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Go),s}function Ch(s,c,m){var x=c.pendingProps,C=!1,P=(c.flags&128)!==0,ne;if((ne=P)||(ne=s!==null&&s.memoizedState===null?!1:(Gr.current&2)!==0),ne&&(C=!0,c.flags&=-129),ne=(c.flags&32)!==0,c.flags&=-33,s===null){if(ci){if(C?ru(c):au(),ci){var ye=ji,Ue;if(Ue=ye){e:{for(Ue=ye,ye=Ja;Ue.nodeType!==8;){if(!ye){ye=null;break e}if(Ue=Lc(Ue.nextSibling),Ue===null){ye=null;break e}}ye=Ue}ye!==null?(c.memoizedState={dehydrated:ye,treeContext:ol!==null?{id:ll,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},Ue=Ta(18,null,null,0),Ue.stateNode=ye,Ue.return=c,c.child=Ue,Ea=c,ji=null,Ue=!0):Ue=!1}Ue||Pl(c)}if(ye=c.memoizedState,ye!==null&&(ye=ye.dehydrated,ye!==null))return u3(ye)?c.lanes=32:c.lanes=536870912,null;Il(c)}return ye=x.children,x=x.fallback,C?(au(),C=c.mode,ye=Sf({mode:"hidden",children:ye},C),x=xc(x,C,m,null),ye.return=c,x.return=c,ye.sibling=x,c.child=ye,C=c.child,C.memoizedState=yl(m),C.childLanes=ga(s,ne,m),c.memoizedState=gl,x):(ru(c),Fl(c,ye))}if(Ue=s.memoizedState,Ue!==null&&(ye=Ue.dehydrated,ye!==null)){if(P)c.flags&256?(ru(c),c.flags&=-257,c=Ha(s,c,m)):c.memoizedState!==null?(au(),c.child=s.child,c.flags|=128,c=null):(au(),C=x.fallback,ye=c.mode,x=Sf({mode:"visible",children:x.children},ye),C=xc(C,ye,m,null),C.flags|=2,x.return=c,C.return=c,x.sibling=C,c.child=x,gf(c,s.child,null,m),x=c.child,x.memoizedState=yl(m),x.childLanes=ga(s,ne,m),c.memoizedState=gl,c=C);else if(ru(c),u3(ye)){if(ne=ye.nextSibling&&ye.nextSibling.dataset,ne)var ht=ne.dgst;ne=ht,x=Error(i(419)),x.stack="",x.digest=ne,_c({value:x,source:null,stack:null}),c=Ha(s,c,m)}else if(Aa||Cs(s,c,m,!1),ne=(m&s.childLanes)!==0,Aa||ne){if(ne=kn,ne!==null&&(x=m&-m,x=(x&42)!==0?1:It(x),x=(x&(ne.suspendedLanes|m))!==0?0:x,x!==0&&x!==Ue.retryLane))throw Ue.retryLane=x,Oo(s,x),hs(ne,s,x),_v;ye.data==="$?"||h(),c=Ha(s,c,m)}else ye.data==="$?"?(c.flags|=192,c.child=s.child,c=null):(s=Ue.treeContext,ji=Lc(ye.nextSibling),Ea=c,ci=!0,os=null,Ja=!1,s!==null&&(da[ss++]=ll,da[ss++]=Js,da[ss++]=ol,ll=s.id,Js=s.overflow,ol=c),c=Fl(c,x.children),c.flags|=4096);return c}return C?(au(),C=x.fallback,ye=c.mode,Ue=s.child,ht=Ue.sibling,x=Tr(Ue,{mode:"hidden",children:x.children}),x.subtreeFlags=Ue.subtreeFlags&65011712,ht!==null?C=Tr(ht,C):(C=xc(C,ye,m,null),C.flags|=2),C.return=c,x.return=c,x.sibling=C,c.child=x,x=C,C=c.child,ye=s.child.memoizedState,ye===null?ye=yl(m):(Ue=ye.cachePool,Ue!==null?(ht=Ur._currentValue,Ue=Ue.parent!==ht?{parent:ht,pool:ht}:Ue):Ue=Cd(),ye={baseLanes:ye.baseLanes|m,cachePool:Ue}),C.memoizedState=ye,C.childLanes=ga(s,ne,m),c.memoizedState=gl,x):(ru(c),m=s.child,s=m.sibling,m=Tr(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&(ne=c.deletions,ne===null?(c.deletions=[s],c.flags|=16):ne.push(s)),c.child=m,c.memoizedState=null,m)}function Fl(s,c){return c=Sf({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function Sf(s,c){return s=Ta(22,s,null,c),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ha(s,c,m){return gf(c,s.child,null,m),s=Fl(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function Ga(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),wd(s.return,c,m)}function pi(s,c,m,x,C){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=x,P.tail=m,P.tailMode=C)}function ko(s,c,m){var x=c.pendingProps,C=x.revealOrder,P=x.tail;if(jr(s,c,x.children,m),x=Gr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ga(s,m,c);else if(s.tag===19)Ga(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}switch(Me(Gr,x),C){case"forwards":for(m=c.child,C=null;m!==null;)s=m.alternate,s!==null&&Cc(s)===null&&(C=m),m=m.sibling;m=C,m===null?(C=c.child,c.child=null):(C=m.sibling,m.sibling=null),pi(c,!1,C,m,P);break;case"backwards":for(m=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&Cc(s)===null){c.child=C;break}s=C.sibling,C.sibling=m,m=C,C=s}pi(c,!0,m,null,P);break;case"together":pi(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ca(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),Sl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Cs(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(i(153));if(c.child!==null){for(s=c.child,m=Tr(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Tr(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function Pd(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&bh(s)))}function Fo(s,c,m){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),Po(c,Ur,s.memoizedState.cache),ls();break;case 27:case 5:Qe(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:Po(c,c.type,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(ru(c),c.flags|=128,null):(m&c.child.childLanes)!==0?Ch(s,c,m):(ru(c),s=Ca(s,c,m),s!==null?s.sibling:null);ru(c);break;case 19:var C=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Cs(s,c,m,!1),x=(m&c.childLanes)!==0),C){if(x)return ko(s,c,m);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Me(Gr,Gr.current),x)break;return null;case 22:case 23:return c.lanes=0,vf(s,c,m);case 24:Po(c,Ur,s.memoizedState.cache)}return Ca(s,c,m)}function _f(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Aa=!0;else{if(!Pd(s,m)&&(c.flags&128)===0)return Aa=!1,Fo(s,c,m);Aa=(s.flags&131072)!==0}else Aa=!1,ci&&(c.flags&1048576)!==0&&_d(c,Uo,c.index);switch(c.lanes=0,c.tag){case 16:e:{s=c.pendingProps;var x=c.elementType,C=x._init;if(x=C(x._payload),c.type=x,typeof x=="function")vc(x)?(s=kl(x,s),c.tag=1,c=no(null,c,x,s,m)):(c.tag=0,c=Ah(null,c,x,s,m));else{if(x!=null){if(C=x.$$typeof,C===N){c.tag=11,c=Ns(null,c,x,s,m);break e}else if(C===H){c.tag=14,c=Us(null,c,x,s,m);break e}}throw c=oe(x)||x,Error(i(306,c,""))}}return c;case 0:return Ah(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,C=kl(x,c.pendingProps),no(s,c,x,C,m);case 3:e:{if(ke(c,c.stateNode.containerInfo),s===null)throw Error(i(387));x=c.pendingProps;var P=c.memoizedState;C=P.element,ve(s,c),tn(c,x,null,m);var ne=c.memoizedState;if(x=ne.cache,Po(c,Ur,x),x!==P.cache&&eu(c,[Ur],m,!0),Kt(),x=ne.element,P.isDehydrated)if(P={element:x,isDehydrated:!1,cache:ne.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=ou(s,c,x,m);break e}else if(x!==C){C=tr(Error(i(424)),c),_c(C),c=ou(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ji=Lc(s.firstChild),Ea=c,ci=!0,os=null,Ja=!0,m=gv(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ls(),x===C){c=Ca(s,c,m);break e}jr(s,c,x,m)}c=c.child}return c;case 26:return bf(s,c),s===null?(m=sT(c.type,null,c.pendingProps,null))?c.memoizedState=m:ci||(m=c.type,s=c.pendingProps,x=Cv(ze.current).createElement(m),x[Hn]=c,x[mi]=s,ds(x,m,s),qt(x),c.stateNode=x):c.memoizedState=sT(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Qe(c),s===null&&ci&&(x=c.stateNode=iT(c.type,c.pendingProps,ze.current),Ea=c,Ja=!0,C=ji,Ih(c.type)?(f3=C,ji=Lc(x.firstChild)):ji=C),jr(s,c,c.pendingProps.children,m),bf(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ci&&((C=x=ji)&&(x=FN(x,c.type,c.pendingProps,Ja),x!==null?(c.stateNode=x,Ea=c,ji=Lc(x.firstChild),Ja=!1,C=!0):C=!1),C||Pl(c)),Qe(c),C=c.type,P=c.pendingProps,ne=s!==null?s.memoizedProps:null,x=P.children,o3(C,P)?x=null:ne!==null&&o3(C,ne)&&(c.flags|=32),c.memoizedState!==null&&(C=Os(s,c,j4,null,null,m),_1._currentValue=C),bf(s,c),jr(s,c,x,m),c.child;case 6:return s===null&&ci&&((s=m=ji)&&(m=VN(m,c.pendingProps,Ja),m!==null?(c.stateNode=m,Ea=c,ji=null,s=!0):s=!1),s||Pl(c)),null;case 13:return Ch(s,c,m);case 4:return ke(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=gf(c,null,x,m):jr(s,c,x,m),c.child;case 11:return Ns(s,c,c.type,c.pendingProps,m);case 7:return jr(s,c,c.pendingProps,m),c.child;case 8:return jr(s,c,c.pendingProps.children,m),c.child;case 12:return jr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,Po(c,c.type,x.value),jr(s,c,x.children,m),c.child;case 9:return C=c.type._context,x=c.pendingProps.children,Bo(c),C=mr(C),x=x(C),c.flags|=1,jr(s,c,x,m),c.child;case 14:return Us(s,c,c.type,c.pendingProps,m);case 15:return f1(s,c,c.type,c.pendingProps,m);case 19:return ko(s,c,m);case 31:return x=c.pendingProps,m=c.mode,x={mode:x.mode,children:x.children},s===null?(m=Sf(x,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Tr(s.child,x),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return vf(s,c,m);case 24:return Bo(c),x=mr(Ur),s===null?(C=dl(),C===null&&(C=kn,P=Sh(),C.pooledCache=P,P.refCount++,P!==null&&(C.pooledCacheLanes|=m),C=P),c.memoizedState={parent:x,cache:C},de(c),Po(c,Ur,C)):((s.lanes&m)!==0&&(ve(s,c),tn(c,null,null,m),Kt()),C=s.memoizedState,P=c.memoizedState,C.parent!==x?(C={parent:x,cache:x},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),Po(c,Ur,x)):(x=P.cache,Po(c,Ur,x),x!==C.cache&&eu(c,[Ur],m,!0))),jr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function vl(s){s.flags|=4}function Bd(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fT(c)){if(c=Wi.current,c!==null&&((mn&4194048)===mn?ml!==null:(mn&62914560)!==mn&&(mn&536870912)===0||c!==ml))throw D=pf,$0;s.flags|=8192}}function Rc(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?xt():536870912,s.lanes|=c,_i|=c)}function Mf(s,c){if(!ci)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function nr(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var C=s.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags&65011712,x|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function h1(s,c,m){var x=c.pendingProps;switch(Md(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(c),null;case 1:return nr(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ul(Ur),yt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(zo(c)?vl(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xi())),nr(c),null;case 26:return m=c.memoizedState,s===null?(vl(c),m!==null?(nr(c),Bd(c,m)):(nr(c),c.flags&=-16777217)):m?m!==s.memoizedState?(vl(c),nr(c),Bd(c,m)):(nr(c),c.flags&=-16777217):(s.memoizedProps!==x&&vl(c),nr(c),c.flags&=-16777217),null;case 27:Je(c),m=ze.current;var C=c.type;if(s!==null&&c.stateNode!=null)s.memoizedProps!==x&&vl(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return nr(c),null}s=he.current,zo(c)?Td(c):(s=iT(C,x,m),c.stateNode=s,vl(c))}return nr(c),null;case 5:if(Je(c),m=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&vl(c);else{if(!x){if(c.stateNode===null)throw Error(i(166));return nr(c),null}if(s=he.current,zo(c))Td(c);else{switch(C=Cv(ze.current),s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof x.is=="string"?C.createElement("select",{is:x.is}):C.createElement("select"),x.multiple?s.multiple=!0:x.size&&(s.size=x.size);break;default:s=typeof x.is=="string"?C.createElement(m,{is:x.is}):C.createElement(m)}}s[Hn]=c,s[mi]=x;e:for(C=c.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===c)break e;for(;C.sibling===null;){if(C.return===null||C.return===c)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}c.stateNode=s;e:switch(ds(s,m,x),m){case"button":case"input":case"select":case"textarea":s=!!x.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vl(c)}}return nr(c),c.flags&=-16777217,null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&vl(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(i(166));if(s=ze.current,zo(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,C=Ea,C!==null)switch(C.tag){case 27:case 5:x=C.memoizedProps}s[Hn]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||Z6(s.nodeValue,m)),s||Pl(c)}else s=Cv(s).createTextNode(x),s[Hn]=c,c.stateNode=s}return nr(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=zo(c),x!==null&&x.dehydrated!==null){if(s===null){if(!C)throw Error(i(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[Hn]=c}else ls(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nr(c),C=!1}else C=xi(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(Il(c),c):(Il(c),null)}if(Il(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=x!==null,s=s!==null&&s.memoizedState!==null,m){x=c.child,C=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(C=x.alternate.memoizedState.cachePool.pool);var P=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(P=x.memoizedState.cachePool.pool),P!==C&&(x.flags|=2048)}return m!==s&&m&&(c.child.flags|=8192),Rc(c,c.updateQueue),nr(c),null;case 4:return yt(),s===null&&n3(c.stateNode.containerInfo),nr(c),null;case 10:return ul(c.type),nr(c),null;case 19:if(xe(Gr),C=c.memoizedState,C===null)return nr(c),null;if(x=(c.flags&128)!==0,P=C.rendering,P===null)if(x)Mf(C,!1);else{if(vr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(P=Cc(s),P!==null){for(c.flags|=128,Mf(C,!1),s=P.updateQueue,c.updateQueue=s,Rc(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)yh(m,s),m=m.sibling;return Me(Gr,Gr.current&1|2),c.child}s=s.sibling}C.tail!==null&&Ze()>$a&&(c.flags|=128,x=!0,Mf(C,!1),c.lanes=4194304)}else{if(!x)if(s=Cc(P),s!==null){if(c.flags|=128,x=!0,s=s.updateQueue,c.updateQueue=s,Rc(c,s),Mf(C,!0),C.tail===null&&C.tailMode==="hidden"&&!P.alternate&&!ci)return nr(c),null}else 2*Ze()-C.renderingStartTime>$a&&m!==536870912&&(c.flags|=128,x=!0,Mf(C,!1),c.lanes=4194304);C.isBackwards?(P.sibling=c.child,c.child=P):(s=C.last,s!==null?s.sibling=P:c.child=P,C.last=P)}return C.tail!==null?(c=C.tail,C.rendering=c,C.tail=c.sibling,C.renderingStartTime=Ze(),c.sibling=null,s=Gr.current,Me(Gr,x?s&1|2:s&1),c):(nr(c),null);case 22:case 23:return Il(c),gr(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(nr(c),c.subtreeFlags&6&&(c.flags|=8192)):nr(c),m=c.updateQueue,m!==null&&Rc(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&xe(Ds),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ul(Ur),nr(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function Rh(s,c){switch(Md(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ul(Ur),yt(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Je(c),null;case 13:if(Il(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ls()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return xe(Gr),null;case 4:return yt(),null;case 10:return ul(c.type),null;case 22:case 23:return Il(c),gr(),s!==null&&xe(Ds),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ul(Ur),null;case 25:return null;default:return null}}function Dh(s,c){switch(Md(c),c.tag){case 3:ul(Ur),yt();break;case 26:case 27:case 5:Je(c);break;case 4:yt();break;case 13:Il(c);break;case 19:xe(Gr);break;case 10:ul(c.type);break;case 22:case 23:Il(c),gr(),s!==null&&xe(Ds);break;case 24:ul(Ur)}}function Tf(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var C=x.next;m=C;do{if((m.tag&s)===s){x=void 0;var P=m.create,ne=m.inst;x=P(),ne.destroy=x}m=m.next}while(m!==C)}}catch(ye){Ge(c,c.return,ye)}}function io(s,c,m){try{var x=c.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var P=C.next;x=P;do{if((x.tag&s)===s){var ne=x.inst,ye=ne.destroy;if(ye!==void 0){ne.destroy=void 0,C=c;var Ue=m,ht=ye;try{ht()}catch(Ot){Ge(C,Ue,Ot)}}}x=x.next}while(x!==P)}}catch(Ot){Ge(c,c.return,Ot)}}function Ef(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{Xn(c,m)}catch(x){Ge(s,s.return,x)}}}function Dc(s,c,m){m.props=kl(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Ge(s,c,x)}}function wf(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(C){Ge(s,c,C)}}function Vl(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(C){Ge(s,c,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){Ge(s,c,C)}else m.current=null}function Oh(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(C){Ge(s,s.return,C)}}function Id(s,c,m){try{var x=s.stateNode;zN(x,s.type,m,c),x[mi]=c}catch(C){Ge(s,s.return,C)}}function kd(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ih(s.type)||s.tag===4}function lu(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kd(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ih(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cu(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Av));else if(x!==4&&(x===27&&Ih(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(cu(s,c,m),s=s.sibling;s!==null;)cu(s,c,m),s=s.sibling}function uu(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&Ih(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(uu(s,c,m),s=s.sibling;s!==null;)uu(s,c,m),s=s.sibling}function fu(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);ds(c,x,m),c[Hn]=s,c[mi]=m}catch(P){Ge(s,s.return,P)}}var Hl=!1,ir=!1,Nh=!1,ro=typeof WeakSet=="function"?WeakSet:Set,qi=null;function ya(s,c){if(s=s.containerInfo,a3=Lv,s=xd(s),rf(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var C=x.anchorOffset,P=x.focusNode;x=x.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var ne=0,ye=-1,Ue=-1,ht=0,Ot=0,zt=s,gt=null;t:for(;;){for(var St;zt!==m||C!==0&&zt.nodeType!==3||(ye=ne+C),zt!==P||x!==0&&zt.nodeType!==3||(Ue=ne+x),zt.nodeType===3&&(ne+=zt.nodeValue.length),(St=zt.firstChild)!==null;)gt=zt,zt=St;for(;;){if(zt===s)break t;if(gt===m&&++ht===C&&(ye=ne),gt===P&&++Ot===x&&(Ue=ne),(St=zt.nextSibling)!==null)break;zt=gt,gt=zt.parentNode}zt=St}m=ye===-1||Ue===-1?null:{start:ye,end:Ue}}else m=null}m=m||{start:0,end:0}}else m=null;for(s3={focusedElem:s,selectionRange:m},Lv=!1,qi=c;qi!==null;)if(c=qi,s=c.child,(c.subtreeFlags&1024)!==0&&s!==null)s.return=c,qi=s;else for(;qi!==null;){switch(c=qi,P=c.alternate,s=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&P!==null){s=void 0,m=c,C=P.memoizedProps,P=P.memoizedState,x=m.stateNode;try{var Rn=kl(m.type,C,m.elementType===m.type);s=x.getSnapshotBeforeUpdate(Rn,P),x.__reactInternalSnapshotBeforeUpdate=s}catch(Mn){Ge(m,m.return,Mn)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)c3(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":c3(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=c.sibling,s!==null){s.return=c.return,qi=s;break}qi=c.return}}function Oc(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:fs(s,m),x&4&&Tf(5,m);break;case 1:if(fs(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(ne){Ge(m,m.return,ne)}else{var C=kl(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(C,c,s.__reactInternalSnapshotBeforeUpdate)}catch(ne){Ge(m,m.return,ne)}}x&64&&Ef(m),x&512&&wf(m,m.return);break;case 3:if(fs(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Xn(s,c)}catch(ne){Ge(m,m.return,ne)}}break;case 27:c===null&&x&4&&fu(m);case 26:case 5:fs(s,m),c===null&&x&4&&Oh(m),x&512&&wf(m,m.return);break;case 12:fs(s,m);break;case 13:fs(s,m),x&4&&hu(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=xr.bind(null,m),HN(s,m))));break;case 22:if(x=m.memoizedState!==null||Hl,!x){c=c!==null&&c.memoizedState!==null||ir,C=Hl;var P=ir;Hl=x,(ir=c)&&!P?Gl(s,m,(m.subtreeFlags&8772)!==0):fs(s,m),Hl=C,ir=P}break;case 30:break;default:fs(s,m)}}function Zn(s){var c=s.alternate;c!==null&&(s.alternate=null,Zn(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&we(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var gn=null,Si=!1;function Vo(s,c,m){for(m=m.child;m!==null;)Af(s,c,m),m=m.sibling}function Af(s,c,m){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(De,m)}catch{}switch(m.tag){case 26:ir||Vl(m,c),Vo(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ir||Vl(m,c);var x=gn,C=Si;Ih(m.type)&&(gn=m.stateNode,Si=!1),Vo(s,c,m),v1(m.stateNode),gn=x,Si=C;break;case 5:ir||Vl(m,c);case 6:if(x=gn,C=Si,gn=null,Vo(s,c,m),gn=x,Si=C,gn!==null)if(Si)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(m.stateNode)}catch(P){Ge(m,c,P)}else try{gn.removeChild(m.stateNode)}catch(P){Ge(m,c,P)}break;case 18:gn!==null&&(Si?(s=gn,tT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),w1(s)):tT(gn,m.stateNode));break;case 4:x=gn,C=Si,gn=m.stateNode.containerInfo,Si=!0,Vo(s,c,m),gn=x,Si=C;break;case 0:case 11:case 14:case 15:ir||io(2,m,c),ir||io(4,m,c),Vo(s,c,m);break;case 1:ir||(Vl(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&Dc(m,c,x)),Vo(s,c,m);break;case 21:Vo(s,c,m);break;case 22:ir=(x=ir)||m.memoizedState!==null,Vo(s,c,m),ir=x;break;default:Vo(s,c,m)}}function hu(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{w1(s)}catch(m){Ge(c,c.return,m)}}function pp(s){switch(s.tag){case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new ro),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new ro),c;default:throw Error(i(435,s.tag))}}function Cf(s,c){var m=pp(s);c.forEach(function(x){var C=Cn.bind(null,s,x);m.has(x)||(m.add(x),x.then(C,C))})}function Ra(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var C=m[x],P=s,ne=c,ye=ne;e:for(;ye!==null;){switch(ye.tag){case 27:if(Ih(ye.type)){gn=ye.stateNode,Si=!1;break e}break;case 5:gn=ye.stateNode,Si=!1;break e;case 3:case 4:gn=ye.stateNode.containerInfo,Si=!0;break e}ye=ye.return}if(gn===null)throw Error(i(160));Af(P,ne,C),gn=null,Si=!1,P=C.alternate,P!==null&&(P.return=null),C.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)mp(c,s),c=c.sibling}var xl=null;function mp(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ra(c,s),Br(s),x&4&&(io(3,s,s.return),Tf(3,s),io(5,s,s.return));break;case 1:Ra(c,s),Br(s),x&512&&(ir||m===null||Vl(m,m.return)),x&64&&Hl&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var C=xl;if(Ra(c,s),Br(s),x&512&&(ir||m===null||Vl(m,m.return)),x&4){var P=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,C=C.ownerDocument||C;t:switch(x){case"title":P=C.getElementsByTagName("title")[0],(!P||P[re]||P[Hn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=C.createElement(x),C.head.insertBefore(P,C.querySelector("head > title"))),ds(P,x,m),P[Hn]=s,qt(P),x=P;break e;case"link":var ne=cT("link","href",C).get(x+(m.href||""));if(ne){for(var ye=0;ye<ne.length;ye++)if(P=ne[ye],P.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&P.getAttribute("rel")===(m.rel==null?null:m.rel)&&P.getAttribute("title")===(m.title==null?null:m.title)&&P.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){ne.splice(ye,1);break t}}P=C.createElement(x),ds(P,x,m),C.head.appendChild(P);break;case"meta":if(ne=cT("meta","content",C).get(x+(m.content||""))){for(ye=0;ye<ne.length;ye++)if(P=ne[ye],P.getAttribute("content")===(m.content==null?null:""+m.content)&&P.getAttribute("name")===(m.name==null?null:m.name)&&P.getAttribute("property")===(m.property==null?null:m.property)&&P.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&P.getAttribute("charset")===(m.charSet==null?null:m.charSet)){ne.splice(ye,1);break t}}P=C.createElement(x),ds(P,x,m),C.head.appendChild(P);break;default:throw Error(i(468,x))}P[Hn]=s,qt(P),x=P}s.stateNode=x}else uT(C,s.type,s.stateNode);else s.stateNode=lT(C,x,s.memoizedProps);else P!==x?(P===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):P.count--,x===null?uT(C,s.type,s.stateNode):lT(C,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Id(s,s.memoizedProps,m.memoizedProps)}break;case 27:Ra(c,s),Br(s),x&512&&(ir||m===null||Vl(m,m.return)),m!==null&&x&4&&Id(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Ra(c,s),Br(s),x&512&&(ir||m===null||Vl(m,m.return)),s.flags&32){C=s.stateNode;try{dr(C,"")}catch(St){Ge(s,s.return,St)}}x&4&&s.stateNode!=null&&(C=s.memoizedProps,Id(s,C,m!==null?m.memoizedProps:C)),x&1024&&(Nh=!0);break;case 6:if(Ra(c,s),Br(s),x&4){if(s.stateNode===null)throw Error(i(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(St){Ge(s,s.return,St)}}break;case 3:if(Ov=null,C=xl,xl=Rv(c.containerInfo),Ra(c,s),xl=C,Br(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{w1(c.containerInfo)}catch(St){Ge(s,s.return,St)}Nh&&(Nh=!1,du(s));break;case 4:x=xl,xl=Rv(s.stateNode.containerInfo),Ra(c,s),Br(s),xl=x;break;case 12:Ra(c,s),Br(s);break;case 13:Ra(c,s),Br(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Vi=Ze()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Cf(s,x)));break;case 22:C=s.memoizedState!==null;var Ue=m!==null&&m.memoizedState!==null,ht=Hl,Ot=ir;if(Hl=ht||C,ir=Ot||Ue,Ra(c,s),ir=Ot,Hl=ht,Br(s),x&8192)e:for(c=s.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(m===null||Ue||Hl||ir||ao(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){Ue=m=c;try{if(P=Ue.stateNode,C)ne=P.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{ye=Ue.stateNode;var zt=Ue.memoizedProps.style,gt=zt!=null&&zt.hasOwnProperty("display")?zt.display:null;ye.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(St){Ge(Ue,Ue.return,St)}}}else if(c.tag===6){if(m===null){Ue=c;try{Ue.stateNode.nodeValue=C?"":Ue.memoizedProps}catch(St){Ge(Ue,Ue.return,St)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,Cf(s,m))));break;case 19:Ra(c,s),Br(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,Cf(s,x)));break;case 30:break;case 21:break;default:Ra(c,s),Br(s)}}function Br(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(kd(x)){m=x;break}x=x.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var C=m.stateNode,P=lu(s);uu(s,P,C);break;case 5:var ne=m.stateNode;m.flags&32&&(dr(ne,""),m.flags&=-33);var ye=lu(s);uu(s,ye,ne);break;case 3:case 4:var Ue=m.stateNode.containerInfo,ht=lu(s);cu(s,ht,Ue);break;default:throw Error(i(161))}}catch(Ot){Ge(s,s.return,Ot)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function du(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;du(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function fs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Oc(s,c.alternate,c),c=c.sibling}function ao(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:io(4,c,c.return),ao(c);break;case 1:Vl(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&Dc(c,c.return,m),ao(c);break;case 27:v1(c.stateNode);case 26:case 5:Vl(c,c.return),ao(c);break;case 22:c.memoizedState===null&&ao(c);break;case 30:ao(c);break;default:ao(c)}s=s.sibling}}function Gl(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,C=s,P=c,ne=P.flags;switch(P.tag){case 0:case 11:case 15:Gl(C,P,m),Tf(4,P);break;case 1:if(Gl(C,P,m),x=P,C=x.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ht){Ge(x,x.return,ht)}if(x=P,C=x.updateQueue,C!==null){var ye=x.stateNode;try{var Ue=C.shared.hiddenCallbacks;if(Ue!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Ue.length;C++)Gn(Ue[C],ye)}catch(ht){Ge(x,x.return,ht)}}m&&ne&64&&Ef(P),wf(P,P.return);break;case 27:fu(P);case 26:case 5:Gl(C,P,m),m&&x===null&&ne&4&&Oh(P),wf(P,P.return);break;case 12:Gl(C,P,m);break;case 13:Gl(C,P,m),m&&ne&4&&hu(C,P);break;case 22:P.memoizedState===null&&Gl(C,P,m),wf(P,P.return);break;case 30:break;default:Gl(C,P,m)}c=c.sibling}}function gp(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Tc(m))}function yp(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Tc(s))}function Xi(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)vp(s,c,m,x),c=c.sibling}function vp(s,c,m,x){var C=c.flags;switch(c.tag){case 0:case 11:case 15:Xi(s,c,m,x),C&2048&&Tf(9,c);break;case 1:Xi(s,c,m,x);break;case 3:Xi(s,c,m,x),C&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Tc(s)));break;case 12:if(C&2048){Xi(s,c,m,x),s=c.stateNode;try{var P=c.memoizedProps,ne=P.id,ye=P.onPostCommit;typeof ye=="function"&&ye(ne,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ue){Ge(c,c.return,Ue)}}else Xi(s,c,m,x);break;case 13:Xi(s,c,m,x);break;case 23:break;case 22:P=c.stateNode,ne=c.alternate,c.memoizedState!==null?P._visibility&2?Xi(s,c,m,x):bl(s,c):P._visibility&2?Xi(s,c,m,x):(P._visibility|=2,Nc(s,c,m,x,(c.subtreeFlags&10256)!==0)),C&2048&&gp(ne,c);break;case 24:Xi(s,c,m,x),C&2048&&yp(c.alternate,c);break;default:Xi(s,c,m,x)}}function Nc(s,c,m,x,C){for(C=C&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var P=s,ne=c,ye=m,Ue=x,ht=ne.flags;switch(ne.tag){case 0:case 11:case 15:Nc(P,ne,ye,Ue,C),Tf(8,ne);break;case 23:break;case 22:var Ot=ne.stateNode;ne.memoizedState!==null?Ot._visibility&2?Nc(P,ne,ye,Ue,C):bl(P,ne):(Ot._visibility|=2,Nc(P,ne,ye,Ue,C)),C&&ht&2048&&gp(ne.alternate,ne);break;case 24:Nc(P,ne,ye,Ue,C),C&&ht&2048&&yp(ne.alternate,ne);break;default:Nc(P,ne,ye,Ue,C)}c=c.sibling}}function bl(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,C=x.flags;switch(x.tag){case 22:bl(m,x),C&2048&&gp(x.alternate,x);break;case 24:bl(m,x),C&2048&&yp(x.alternate,x);break;default:bl(m,x)}c=c.sibling}}var so=8192;function Uh(s){if(s.subtreeFlags&so)for(s=s.child;s!==null;)Mv(s),s=s.sibling}function Mv(s){switch(s.tag){case 26:Uh(s),s.flags&so&&s.memoizedState!==null&&tU(xl,s.memoizedState,s.memoizedProps);break;case 5:Uh(s);break;case 3:case 4:var c=xl;xl=Rv(s.stateNode.containerInfo),Uh(s),xl=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=so,so=16777216,Uh(s),so=c):Uh(s));break;default:Uh(s)}}function Tv(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function rr(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];qi=x,Wl(x,s)}Tv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d1(s),s=s.sibling}function d1(s){switch(s.tag){case 0:case 11:case 15:rr(s),s.flags&2048&&io(9,s,s.return);break;case 3:rr(s);break;case 12:rr(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,jl(s)):rr(s);break;default:rr(s)}}function jl(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];qi=x,Wl(x,s)}Tv(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:io(8,c,c.return),jl(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,jl(c));break;default:jl(c)}s=s.sibling}}function Wl(s,c){for(;qi!==null;){var m=qi;switch(m.tag){case 0:case 11:case 15:io(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Tc(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,qi=x;else e:for(m=s;qi!==null;){x=qi;var C=x.sibling,P=x.return;if(Zn(x),x===m){qi=null;break e}if(C!==null){C.return=P,qi=C;break e}qi=P}}}var Ir={getCacheForType:function(s){var c=mr(Ur),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m}},p1=typeof WeakMap=="function"?WeakMap:Map,Oi=0,kn=null,ai=null,mn=0,Kn=0,Lr=null,oo=!1,Lh=!1,zh=!1,Ho=0,vr=0,Sl=0,ql=0,Rf=0,Go=0,_i=0,Ni=null,vn=null,fi=!1,Vi=0,$a=1/0,jo=null,lo=null,va=0,es=null,Yi=null,co=0,Uc=0,Fd=null,uo=null,Xl=0,Df=null;function kr(){if((Oi&2)!==0&&mn!==0)return mn&-mn;if(j.T!==null){var s=Un;return s!==0?s:J4()}return $t()}function xp(){Go===0&&(Go=(mn&536870912)===0||ci?Ae():536870912);var s=Wi.current;return s!==null&&(s.flags|=32),Go}function hs(s,c,m){(s===kn&&(Kn===2||Kn===9)||s.cancelPendingCommit!==null)&&(mu(s,0),_l(s,mn,Go,!1)),Lt(s,m),((Oi&2)===0||s!==kn)&&(s===kn&&((Oi&2)===0&&(ql|=m),vr===4&&_l(s,mn,Go,!1)),vu(s))}function Ph(s,c,m){if((Oi&6)!==0)throw Error(i(327));var x=!m&&(c&124)===0&&(c&s.expiredLanes)===0||Fe(s,c),C=x?R(s,c):d(s,c,!0),P=x;do{if(C===0){Lh&&!x&&_l(s,c,0,!1);break}else{if(m=s.current.alternate,P&&!pu(m)){C=d(s,c,!1),P=!1;continue}if(C===2){if(P=c,s.errorRecoveryDisabledLanes&P)var ne=0;else ne=s.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){c=ne;e:{var ye=s;C=Ni;var Ue=ye.current.memoizedState.isDehydrated;if(Ue&&(mu(ye,ne).flags|=256),ne=d(ye,ne,!1),ne!==2){if(zh&&!Ue){ye.errorRecoveryDisabledLanes|=P,ql|=P,C=4;break e}P=vn,vn=C,P!==null&&(vn===null?vn=P:vn.push.apply(vn,P))}C=ne}if(P=!1,C!==2)continue}}if(C===1){mu(s,0),_l(s,c,0,!0);break}e:{switch(x=s,P=C,P){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:_l(x,c,Go,!oo);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(C=Vi+300-Ze(),10<C)){if(_l(x,c,Go,!oo),Ee(x,0,!0)!==0)break e;x.timeoutHandle=$6(Vd.bind(null,x,m,vn,jo,fi,c,Go,ql,_i,oo,P,2,-0,0),C);break e}Vd(x,m,vn,jo,fi,c,Go,ql,_i,oo,P,0,-0,0)}}break}while(!0);vu(s)}function Vd(s,c,m,x,C,P,ne,ye,Ue,ht,Ot,zt,gt,St){if(s.timeoutHandle=-1,zt=c.subtreeFlags,(zt&8192||(zt&16785408)===16785408)&&(S1={stylesheets:null,count:0,unsuspend:eU},Mv(c),zt=nU(),zt!==null)){s.cancelPendingCommit=zt(Gt.bind(null,s,c,P,m,x,C,ne,ye,Ue,Ot,1,gt,St)),_l(s,P,ne,!ht);return}Gt(s,c,P,m,x,C,ne,ye,Ue)}function pu(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var C=m[x],P=C.getSnapshot;C=C.value;try{if(!Ka(P(),C))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _l(s,c,m,x){c&=~Rf,c&=~ql,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var C=c;0<C;){var P=31-at(C),ne=1<<P;x[P]=-1,C&=~ne}m!==0&&ft(s,m,c)}function Yl(){return(Oi&6)===0?(m1(0),!1):!0}function Of(){if(ai!==null){if(Kn===0)var s=ai.return;else s=ai,cl=Bl=null,Zm(s),mf=null,Ud=0,s=ai;for(;s!==null;)Dh(s.alternate,s),s=s.return;ai=null}}function mu(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,BN(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Of(),kn=s,ai=m=Tr(s.current,null),mn=c,Kn=0,Lr=null,oo=!1,Lh=Fe(s,c),zh=!1,_i=Go=Rf=ql=Sl=vr=0,vn=Ni=null,fi=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var C=31-at(x),P=1<<C;c|=s[C],x&=~P}return Ho=c,Qa(),m}function bp(s,c){_n=null,j.H=Nd,c===_h||c===$s?(c=k(),Kn=3):c===$0?(c=k(),Kn=4):Kn=c===_v?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Lr=c,ai===null&&(vr=1,fp(s,tr(c,s.current)))}function Bh(){var s=j.H;return j.H=Nd,s===null?Nd:s}function Sp(){var s=j.A;return j.A=Ir,s}function h(){vr=4,oo||(mn&4194048)!==mn&&Wi.current!==null||(Lh=!0),(Sl&134217727)===0&&(ql&134217727)===0||kn===null||_l(kn,mn,Go,!1)}function d(s,c,m){var x=Oi;Oi|=2;var C=Bh(),P=Sp();(kn!==s||mn!==c)&&(jo=null,mu(s,c)),c=!1;var ne=vr;e:do try{if(Kn!==0&&ai!==null){var ye=ai,Ue=Lr;switch(Kn){case 8:Of(),ne=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(c=!0);var ht=Kn;if(Kn=0,Lr=null,Pe(s,ye,Ue,ht),m&&Lh){ne=0;break e}break;default:ht=Kn,Kn=0,Lr=null,Pe(s,ye,Ue,ht)}}_(),ne=vr;break}catch(Ot){bp(s,Ot)}while(!0);return c&&s.shellSuspendCounter++,cl=Bl=null,Oi=x,j.H=C,j.A=P,ai===null&&(kn=null,mn=0,Qa()),ne}function _(){for(;ai!==null;)q(ai)}function R(s,c){var m=Oi;Oi|=2;var x=Bh(),C=Sp();kn!==s||mn!==c?(jo=null,$a=Ze()+500,mu(s,c)):Lh=Fe(s,c);e:do try{if(Kn!==0&&ai!==null){c=ai;var P=Lr;t:switch(Kn){case 1:Kn=0,Lr=null,Pe(s,c,P,1);break;case 2:case 9:if(b(P)){Kn=0,Lr=null,Se(c);break}c=function(){Kn!==2&&Kn!==9||kn!==s||(Kn=7),vu(s)},P.then(c,c);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:b(P)?(Kn=0,Lr=null,Se(c)):(Kn=0,Lr=null,Pe(s,c,P,7));break;case 5:var ne=null;switch(ai.tag){case 26:ne=ai.memoizedState;case 5:case 27:var ye=ai;if(!ne||fT(ne)){Kn=0,Lr=null;var Ue=ye.sibling;if(Ue!==null)ai=Ue;else{var ht=ye.return;ht!==null?(ai=ht,it(ht)):ai=null}break t}}Kn=0,Lr=null,Pe(s,c,P,5);break;case 6:Kn=0,Lr=null,Pe(s,c,P,6);break;case 8:Of(),vr=6;break e;default:throw Error(i(462))}}B();break}catch(Ot){bp(s,Ot)}while(!0);return cl=Bl=null,j.H=x,j.A=C,Oi=m,ai!==null?0:(kn=null,mn=0,Qa(),vr)}function B(){for(;ai!==null&&!rt();)q(ai)}function q(s){var c=_f(s.alternate,s,Ho);s.memoizedProps=s.pendingProps,c===null?it(s):ai=c}function Se(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=to(m,c,c.pendingProps,c.type,void 0,mn);break;case 11:c=to(m,c,c.pendingProps,c.type.render,c.ref,mn);break;case 5:Zm(c);default:Dh(m,c),c=ai=yh(c,Ho),c=_f(m,c,Ho)}s.memoizedProps=s.pendingProps,c===null?it(s):ai=c}function Pe(s,c,m,x){cl=Bl=null,Zm(c),mf=null,Ud=0;var C=c.return;try{if(Z4(s,C,c,m,mn)){vr=1,fp(s,tr(m,s.current)),ai=null;return}}catch(P){if(C!==null)throw ai=C,P;vr=1,fp(s,tr(m,s.current)),ai=null;return}c.flags&32768?(ci||x===1?s=!0:Lh||(mn&536870912)!==0?s=!1:(oo=s=!0,(x===2||x===9||x===3||x===6)&&(x=Wi.current,x!==null&&x.tag===13&&(x.flags|=16384))),Dt(c,s)):it(c)}function it(s){var c=s;do{if((c.flags&32768)!==0){Dt(c,oo);return}s=c.return;var m=h1(c.alternate,c,Ho);if(m!==null){ai=m;return}if(c=c.sibling,c!==null){ai=c;return}ai=c=s}while(c!==null);vr===0&&(vr=5)}function Dt(s,c){do{var m=Rh(s.alternate,s);if(m!==null){m.flags&=32767,ai=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){ai=s;return}ai=s=m}while(s!==null);vr=6,ai=null}function Gt(s,c,m,x,C,P,ne,ye,Ue){s.cancelPendingCommit=null;do gu();while(va!==0);if((Oi&6)!==0)throw Error(i(327));if(c!==null){if(c===s.current)throw Error(i(177));if(P=c.lanes|c.childLanes,P|=ph,bt(s,m,P,ne,ye,Ue),s===kn&&(ai=kn=null,mn=0),Yi=c,es=s,co=m,Uc=P,Fd=C,uo=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Ei(Ie,function(){return yu(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=j.T,j.T=null,C=ae.p,ae.p=2,ne=Oi,Oi|=4;try{ya(s,c,m)}finally{Oi=ne,ae.p=C,j.T=x}}va=1,Zt(),Jt(),Fn()}}function Zt(){if(va===1){va=0;var s=es,c=Yi,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=j.T,j.T=null;var x=ae.p;ae.p=2;var C=Oi;Oi|=4;try{mp(c,s);var P=s3,ne=xd(s.containerInfo),ye=P.focusedElem,Ue=P.selectionRange;if(ne!==ye&&ye&&ye.ownerDocument&&gc(ye.ownerDocument.documentElement,ye)){if(Ue!==null&&rf(ye)){var ht=Ue.start,Ot=Ue.end;if(Ot===void 0&&(Ot=ht),"selectionStart"in ye)ye.selectionStart=ht,ye.selectionEnd=Math.min(Ot,ye.value.length);else{var zt=ye.ownerDocument||document,gt=zt&&zt.defaultView||window;if(gt.getSelection){var St=gt.getSelection(),Rn=ye.textContent.length,Mn=Math.min(Ue.start,Rn),sr=Ue.end===void 0?Mn:Math.min(Ue.end,Rn);!St.extend&&Mn>sr&&(ne=sr,sr=Mn,Mn=ne);var $e=fh(ye,Mn),je=fh(ye,sr);if($e&&je&&(St.rangeCount!==1||St.anchorNode!==$e.node||St.anchorOffset!==$e.offset||St.focusNode!==je.node||St.focusOffset!==je.offset)){var lt=zt.createRange();lt.setStart($e.node,$e.offset),St.removeAllRanges(),Mn>sr?(St.addRange(lt),St.extend(je.node,je.offset)):(lt.setEnd(je.node,je.offset),St.addRange(lt))}}}}for(zt=[],St=ye;St=St.parentNode;)St.nodeType===1&&zt.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<zt.length;ye++){var Nt=zt[ye];Nt.element.scrollLeft=Nt.left,Nt.element.scrollTop=Nt.top}}Lv=!!a3,s3=a3=null}finally{Oi=C,ae.p=x,j.T=m}}s.current=c,va=2}}function Jt(){if(va===2){va=0;var s=es,c=Yi,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=j.T,j.T=null;var x=ae.p;ae.p=2;var C=Oi;Oi|=4;try{Oc(s,c.alternate,c)}finally{Oi=C,ae.p=x,j.T=m}}va=3}}function Fn(){if(va===4||va===3){va=0,tt();var s=es,c=Yi,m=co,x=uo;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?va=5:(va=0,Yi=es=null,fo(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(lo=null),Ht(m),c=c.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(De,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=j.T,C=ae.p,ae.p=2,j.T=null;try{for(var P=s.onRecoverableError,ne=0;ne<x.length;ne++){var ye=x[ne];P(ye.value,{componentStack:ye.stack})}}finally{j.T=c,ae.p=C}}(co&3)!==0&&gu(),vu(s),C=s.pendingLanes,(m&4194090)!==0&&(C&42)!==0?s===Df?Xl++:(Xl=0,Df=s):Xl=0,m1(0)}}function fo(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Tc(c)))}function gu(s){return Zt(),Jt(),Fn(),yu()}function yu(){if(va!==5)return!1;var s=es,c=Uc;Uc=0;var m=Ht(co),x=j.T,C=ae.p;try{ae.p=32>m?32:m,j.T=null,m=Fd,Fd=null;var P=es,ne=co;if(va=0,Yi=es=null,co=0,(Oi&6)!==0)throw Error(i(331));var ye=Oi;if(Oi|=4,d1(P.current),vp(P,P.current,ne,m),Oi=ye,m1(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(De,P)}catch{}return!0}finally{ae.p=C,j.T=x,fo(s,c)}}function pt(s,c,m){c=tr(m,c),c=hp(s.stateNode,c,2),s=qe(s,c,2),s!==null&&(Lt(s,2),vu(s))}function Ge(s,c,m){if(s.tag===3)pt(s,s,m);else for(;c!==null;){if(c.tag===3){pt(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(lo===null||!lo.has(x))){s=tr(m,s),m=Sv(2),x=qe(c,m,2),x!==null&&(dp(m,x,c,s),Lt(x,2),vu(x));break}}c=c.return}}function _t(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new p1;var C=new Set;x.set(c,C)}else C=x.get(c),C===void 0&&(C=new Set,x.set(c,C));C.has(m)||(zh=!0,C.add(m),s=Vt.bind(null,s,c,m),c.then(s,s))}function Vt(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,kn===s&&(mn&m)===m&&(vr===4||vr===3&&(mn&62914560)===mn&&300>Ze()-Vi?(Oi&2)===0&&mu(s,0):Rf|=m,_i===mn&&(_i=0)),vu(s)}function dn(s,c){c===0&&(c=xt()),s=Oo(s,c),s!==null&&(Lt(s,c),vu(s))}function xr(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),dn(s,m)}function Cn(s,c){var m=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(m=C.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(c),dn(s,m)}function Ei(s,c){return Mt(s,c)}var Wr=null,oi=null,Kl=!1,_p=!1,Q4=!1,Hd=0;function vu(s){s!==oi&&s.next===null&&(oi===null?Wr=oi=s:oi=oi.next=s),_p=!0,Kl||(Kl=!0,CN())}function m1(s,c){if(!Q4&&_p){Q4=!0;do for(var m=!1,x=Wr;x!==null;){if(s!==0){var C=x.pendingLanes;if(C===0)var P=0;else{var ne=x.suspendedLanes,ye=x.pingedLanes;P=(1<<31-at(42|s)+1)-1,P&=C&~(ne&~ye),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(m=!0,G6(x,P))}else P=mn,P=Ee(x,x===kn?P:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(P&3)===0||Fe(x,P)||(m=!0,G6(x,P));x=x.next}while(m);Q4=!1}}function AN(){F6()}function F6(){_p=Kl=!1;var s=0;Hd!==0&&(PN()&&(s=Hd),Hd=0);for(var c=Ze(),m=null,x=Wr;x!==null;){var C=x.next,P=V6(x,c);P===0?(x.next=null,m===null?Wr=C:m.next=C,C===null&&(oi=m)):(m=x,(s!==0||(P&3)!==0)&&(_p=!0)),x=C}m1(s)}function V6(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,P=s.pendingLanes&-62914561;0<P;){var ne=31-at(P),ye=1<<ne,Ue=C[ne];Ue===-1?((ye&m)===0||(ye&x)!==0)&&(C[ne]=wt(ye,c)):Ue<=c&&(s.expiredLanes|=ye),P&=~ye}if(c=kn,m=mn,m=Ee(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&(Kn===2||Kn===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&ce(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||Fe(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&ce(x),Ht(m)){case 2:case 8:m=We;break;case 32:m=Ie;break;case 268435456:m=ue;break;default:m=Ie}return x=H6.bind(null,s),m=Mt(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&ce(x),s.callbackPriority=2,s.callbackNode=null,2}function H6(s,c){if(va!==0&&va!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(gu()&&s.callbackNode!==m)return null;var x=mn;return x=Ee(s,s===kn?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(Ph(s,x,c),V6(s,Ze()),s.callbackNode!=null&&s.callbackNode===m?H6.bind(null,s):null)}function G6(s,c){if(gu())return null;Ph(s,c,!0)}function CN(){IN(function(){(Oi&6)!==0?Mt(ct,AN):F6()})}function J4(){return Hd===0&&(Hd=Ae()),Hd}function j6(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Jr(""+s)}function W6(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function RN(s,c,m,x,C){if(c==="submit"&&m&&m.stateNode===C){var P=j6((C[mi]||null).action),ne=x.submitter;ne&&(c=(c=ne[mi]||null)?j6(c.formAction):ne.getAttribute("formAction"),c!==null&&(P=c,ne=null));var ye=new Sn("action","action",null,x,C);s.push({event:ye,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Hd!==0){var Ue=ne?W6(C,ne):new FormData(C);l1(m,{pending:!0,data:Ue,method:C.method,action:P},null,Ue)}}else typeof P=="function"&&(ye.preventDefault(),Ue=ne?W6(C,ne):new FormData(C),l1(m,{pending:!0,data:Ue,method:C.method,action:P},P,Ue))},currentTarget:C}]})}}for(var $4=0;$4<$c.length;$4++){var e3=$c[$4],DN=e3.toLowerCase(),ON=e3[0].toUpperCase()+e3.slice(1);Or(DN,"on"+ON)}Or(ha,"onAnimationEnd"),Or(of,"onAnimationIteration"),Or(ka,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Qs,"onTransitionRun"),Or(Do,"onTransitionStart"),Or(ge,"onTransitionCancel"),Or(Dr,"onTransitionEnd"),G("onMouseEnter",["mouseout","mouseover"]),G("onMouseLeave",["mouseout","mouseover"]),G("onPointerEnter",["pointerout","pointerover"]),G("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(g1));function q6(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],C=x.event;x=x.listeners;e:{var P=void 0;if(c)for(var ne=x.length-1;0<=ne;ne--){var ye=x[ne],Ue=ye.instance,ht=ye.currentTarget;if(ye=ye.listener,Ue!==P&&C.isPropagationStopped())break e;P=ye,C.currentTarget=ht;try{P(C)}catch(Ot){yf(Ot)}C.currentTarget=null,P=Ue}else for(ne=0;ne<x.length;ne++){if(ye=x[ne],Ue=ye.instance,ht=ye.currentTarget,ye=ye.listener,Ue!==P&&C.isPropagationStopped())break e;P=ye,C.currentTarget=ht;try{P(C)}catch(Ot){yf(Ot)}C.currentTarget=null,P=Ue}}}}function di(s,c){var m=c[En];m===void 0&&(m=c[En]=new Set);var x=s+"__bubble";m.has(x)||(X6(c,s,2,!1),m.add(x))}function t3(s,c,m){var x=0;c&&(x|=4),X6(m,s,x,c)}var Ev="_reactListening"+Math.random().toString(36).slice(2);function n3(s){if(!s[Ev]){s[Ev]=!0,wi.forEach(function(m){m!=="selectionchange"&&(NN.has(m)||t3(m,!1,s),t3(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Ev]||(c[Ev]=!0,t3("selectionchange",!1,c))}}function X6(s,c,m,x){switch(yT(c)){case 2:var C=aU;break;case 8:C=sU;break;default:C=g3}m=C.bind(null,c,m,s),C=void 0,!ua||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(c,m,{capture:!0,passive:C}):s.addEventListener(c,m,!0):C!==void 0?s.addEventListener(c,m,{passive:C}):s.addEventListener(c,m,!1)}function i3(s,c,m,x,C){var P=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var ne=x.tag;if(ne===3||ne===4){var ye=x.stateNode.containerInfo;if(ye===C)break;if(ne===4)for(ne=x.return;ne!==null;){var Ue=ne.tag;if((Ue===3||Ue===4)&&ne.stateNode.containerInfo===C)return;ne=ne.return}for(;ye!==null;){if(ne=ti(ye),ne===null)return;if(Ue=ne.tag,Ue===5||Ue===6||Ue===26||Ue===27){x=P=ne;continue e}ye=ye.parentNode}}x=x.return}as(function(){var ht=P,Ot=Xs(m),zt=[];e:{var gt=Fa.get(s);if(gt!==void 0){var St=Sn,Rn=s;switch(s){case"keypress":if(qa(m)===0)break e;case"keydown":case"keyup":St=X0;break;case"focusin":Rn="focus",St=Ys;break;case"focusout":Rn="blur",St=Ys;break;case"beforeblur":case"afterblur":St=Ys;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Yu;break;case ha:case of:case ka:St=Ks;break;case Dr:St=Zs;break;case"scroll":case"scrollend":St=Nl;break;case"wheel":St=Xm;break;case"copy":case"cut":case"paste":St=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=ws;break;case"toggle":case"beforetoggle":St=Ul}var Mn=(c&4)!==0,sr=!Mn&&(s==="scroll"||s==="scrollend"),$e=Mn?gt!==null?gt+"Capture":null:gt;Mn=[];for(var je=ht,lt;je!==null;){var Nt=je;if(lt=Nt.stateNode,Nt=Nt.tag,Nt!==5&&Nt!==26&&Nt!==27||lt===null||$e===null||(Nt=Ms(je,$e),Nt!=null&&Mn.push(y1(je,Nt,lt))),sr)break;je=je.return}0<Mn.length&&(gt=new St(gt,Rn,null,m,Ot),zt.push({event:gt,listeners:Mn}))}}if((c&7)===0){e:{if(gt=s==="mouseover"||s==="pointerover",St=s==="mouseout"||s==="pointerout",gt&&m!==qs&&(Rn=m.relatedTarget||m.fromElement)&&(ti(Rn)||Rn[Ri]))break e;if((St||gt)&&(gt=Ot.window===Ot?Ot:(gt=Ot.ownerDocument)?gt.defaultView||gt.parentWindow:window,St?(Rn=m.relatedTarget||m.toElement,St=ht,Rn=Rn?ti(Rn):null,Rn!==null&&(sr=a(Rn),Mn=Rn.tag,Rn!==sr||Mn!==5&&Mn!==27&&Mn!==6)&&(Rn=null)):(St=null,Rn=ht),St!==Rn)){if(Mn=kt,Nt="onMouseLeave",$e="onMouseEnter",je="mouse",(s==="pointerout"||s==="pointerover")&&(Mn=ws,Nt="onPointerLeave",$e="onPointerEnter",je="pointer"),sr=St==null?gt:Qi(St),lt=Rn==null?gt:Qi(Rn),gt=new Mn(Nt,je+"leave",St,m,Ot),gt.target=sr,gt.relatedTarget=lt,Nt=null,ti(Ot)===ht&&(Mn=new Mn($e,je+"enter",Rn,m,Ot),Mn.target=lt,Mn.relatedTarget=sr,Nt=Mn),sr=Nt,St&&Rn)t:{for(Mn=St,$e=Rn,je=0,lt=Mn;lt;lt=Mp(lt))je++;for(lt=0,Nt=$e;Nt;Nt=Mp(Nt))lt++;for(;0<je-lt;)Mn=Mp(Mn),je--;for(;0<lt-je;)$e=Mp($e),lt--;for(;je--;){if(Mn===$e||$e!==null&&Mn===$e.alternate)break t;Mn=Mp(Mn),$e=Mp($e)}Mn=null}else Mn=null;St!==null&&Y6(zt,gt,St,Mn,!1),Rn!==null&&sr!==null&&Y6(zt,sr,Rn,Mn,!0)}}e:{if(gt=ht?Qi(ht):window,St=gt.nodeName&&gt.nodeName.toLowerCase(),St==="select"||St==="input"&&gt.type==="file")var on=ch;else if(gd(gt))if(nf)on=Ao;else{on=vd;var hi=Ym}else St=gt.nodeName,!St||St.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?ht&&st(ht.elementType)&&(on=ch):on=mc;if(on&&(on=on(s,ht))){Ia(zt,on,m,Ot);break e}hi&&hi(s,gt,ht),s==="focusout"&&ht&&gt.type==="number"&&ht.memoizedProps.value!=null&&Mr(gt,"number",gt.value)}switch(hi=ht?Qi(ht):window,s){case"focusin":(gd(hi)||hi.contentEditable==="true")&&(Co=hi,hh=ht,Jc=null);break;case"focusout":Jc=hh=Co=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Z0(zt,m,Ot);break;case"selectionchange":if(bd)break;case"keydown":case"keyup":Z0(zt,m,Ot)}var pn;if(Yc)e:{switch(s){case"compositionstart":var An="onCompositionStart";break e;case"compositionend":An="onCompositionEnd";break e;case"compositionupdate":An="onCompositionUpdate";break e}An=void 0}else nl?Ju(s,m)&&(An="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(An="onCompositionStart");An&&(Kc&&m.locale!=="ko"&&(nl||An!=="onCompositionStart"?An==="onCompositionEnd"&&nl&&(pn=Ji()):(Cr=Ot,dc="value"in Cr?Cr.value:Cr.textContent,nl=!0)),hi=wv(ht,An),0<hi.length&&(An=new Ya(An,s,null,m,Ot),zt.push({event:An,listeners:hi}),pn?An.data=pn:(pn=md(m),pn!==null&&(An.data=pn)))),(pn=Qu?Zc(s,m):$u(s,m))&&(An=wv(ht,"onBeforeInput"),0<An.length&&(hi=new Ya("onBeforeInput","beforeinput",null,m,Ot),zt.push({event:hi,listeners:An}),hi.data=pn)),RN(zt,s,ht,m,Ot)}q6(zt,c)})}function y1(s,c,m){return{instance:s,listener:c,currentTarget:m}}function wv(s,c){for(var m=c+"Capture",x=[];s!==null;){var C=s,P=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||P===null||(C=Ms(s,m),C!=null&&x.unshift(y1(s,C,P)),C=Ms(s,c),C!=null&&x.push(y1(s,C,P))),s.tag===3)return x;s=s.return}return[]}function Mp(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y6(s,c,m,x,C){for(var P=c._reactName,ne=[];m!==null&&m!==x;){var ye=m,Ue=ye.alternate,ht=ye.stateNode;if(ye=ye.tag,Ue!==null&&Ue===x)break;ye!==5&&ye!==26&&ye!==27||ht===null||(Ue=ht,C?(ht=Ms(m,P),ht!=null&&ne.unshift(y1(m,ht,Ue))):C||(ht=Ms(m,P),ht!=null&&ne.push(y1(m,ht,Ue)))),m=m.return}ne.length!==0&&s.push({event:c,listeners:ne})}var UN=/\r\n?/g,LN=/\u0000|\uFFFD/g;function K6(s){return(typeof s=="string"?s:""+s).replace(UN,`
`).replace(LN,"")}function Z6(s,c){return c=K6(c),K6(s)===c}function Av(){}function ar(s,c,m,x,C,P){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||dr(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&dr(s,""+x);break;case"className":Ft(s,"class",x);break;case"tabIndex":Ft(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ft(s,m,x);break;case"style":hc(s,x,P);break;case"data":if(c!=="object"){Ft(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Jr(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(m==="formAction"?(c!=="input"&&ar(s,c,"name",C.name,C,null),ar(s,c,"formEncType",C.formEncType,C,null),ar(s,c,"formMethod",C.formMethod,C,null),ar(s,c,"formTarget",C.formTarget,C,null)):(ar(s,c,"encType",C.encType,C,null),ar(s,c,"method",C.method,C,null),ar(s,c,"target",C.target,C,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Jr(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=Av);break;case"onScroll":x!=null&&di("scroll",s);break;case"onScrollEnd":x!=null&&di("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Jr(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":di("beforetoggle",s),di("toggle",s),Pt(s,"popover",x);break;case"xlinkActuate":Et(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Et(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Et(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Et(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Et(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Et(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Et(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Et(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Et(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Pt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=vi.get(m)||m,Pt(s,m,x))}}function r3(s,c,m,x,C,P){switch(m){case"style":hc(s,x,P);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(m=x.__html,m!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=m}}break;case"children":typeof x=="string"?dr(s,x):(typeof x=="number"||typeof x=="bigint")&&dr(s,""+x);break;case"onScroll":x!=null&&di("scroll",s);break;case"onScrollEnd":x!=null&&di("scrollend",s);break;case"onClick":x!=null&&(s.onclick=Av);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),c=m.slice(2,C?m.length-7:void 0),P=s[mi]||null,P=P!=null?P[m]:null,typeof P=="function"&&s.removeEventListener(c,P,C),typeof x=="function")){typeof P!="function"&&P!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,C);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):Pt(s,m,x)}}}function ds(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":di("error",s),di("load",s);var x=!1,C=!1,P;for(P in m)if(m.hasOwnProperty(P)){var ne=m[P];if(ne!=null)switch(P){case"src":x=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ar(s,c,P,ne,m,null)}}C&&ar(s,c,"srcSet",m.srcSet,m,null),x&&ar(s,c,"src",m.src,m,null);return;case"input":di("invalid",s);var ye=P=ne=C=null,Ue=null,ht=null;for(x in m)if(m.hasOwnProperty(x)){var Ot=m[x];if(Ot!=null)switch(x){case"name":C=Ot;break;case"type":ne=Ot;break;case"checked":Ue=Ot;break;case"defaultChecked":ht=Ot;break;case"value":P=Ot;break;case"defaultValue":ye=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,c));break;default:ar(s,c,x,Ot,m,null)}}yi(s,P,ye,Ue,ht,ne,C,!1),Li(s);return;case"select":di("invalid",s),x=ne=P=null;for(C in m)if(m.hasOwnProperty(C)&&(ye=m[C],ye!=null))switch(C){case"value":P=ye;break;case"defaultValue":ne=ye;break;case"multiple":x=ye;default:ar(s,c,C,ye,m,null)}c=P,m=ne,s.multiple=!!x,c!=null?Fi(s,!!x,c,!1):m!=null&&Fi(s,!!x,m,!0);return;case"textarea":di("invalid",s),P=C=x=null;for(ne in m)if(m.hasOwnProperty(ne)&&(ye=m[ne],ye!=null))switch(ne){case"value":x=ye;break;case"defaultValue":C=ye;break;case"children":P=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(91));break;default:ar(s,c,ne,ye,m,null)}hr(s,x,C,P),Li(s);return;case"option":for(Ue in m)if(m.hasOwnProperty(Ue)&&(x=m[Ue],x!=null))switch(Ue){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ar(s,c,Ue,x,m,null)}return;case"dialog":di("beforetoggle",s),di("toggle",s),di("cancel",s),di("close",s);break;case"iframe":case"object":di("load",s);break;case"video":case"audio":for(x=0;x<g1.length;x++)di(g1[x],s);break;case"image":di("error",s),di("load",s);break;case"details":di("toggle",s);break;case"embed":case"source":case"link":di("error",s),di("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ht in m)if(m.hasOwnProperty(ht)&&(x=m[ht],x!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:ar(s,c,ht,x,m,null)}return;default:if(st(c)){for(Ot in m)m.hasOwnProperty(Ot)&&(x=m[Ot],x!==void 0&&r3(s,c,Ot,x,m,void 0));return}}for(ye in m)m.hasOwnProperty(ye)&&(x=m[ye],x!=null&&ar(s,c,ye,x,m,null))}function zN(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,P=null,ne=null,ye=null,Ue=null,ht=null,Ot=null;for(St in m){var zt=m[St];if(m.hasOwnProperty(St)&&zt!=null)switch(St){case"checked":break;case"value":break;case"defaultValue":Ue=zt;default:x.hasOwnProperty(St)||ar(s,c,St,null,x,zt)}}for(var gt in x){var St=x[gt];if(zt=m[gt],x.hasOwnProperty(gt)&&(St!=null||zt!=null))switch(gt){case"type":P=St;break;case"name":C=St;break;case"checked":ht=St;break;case"defaultChecked":Ot=St;break;case"value":ne=St;break;case"defaultValue":ye=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,c));break;default:St!==zt&&ar(s,c,gt,St,x,zt)}}wr(s,ne,ye,Ue,ht,Ot,P,C);return;case"select":St=ne=ye=gt=null;for(P in m)if(Ue=m[P],m.hasOwnProperty(P)&&Ue!=null)switch(P){case"value":break;case"multiple":St=Ue;default:x.hasOwnProperty(P)||ar(s,c,P,null,x,Ue)}for(C in x)if(P=x[C],Ue=m[C],x.hasOwnProperty(C)&&(P!=null||Ue!=null))switch(C){case"value":gt=P;break;case"defaultValue":ye=P;break;case"multiple":ne=P;default:P!==Ue&&ar(s,c,C,P,x,Ue)}c=ye,m=ne,x=St,gt!=null?Fi(s,!!m,gt,!1):!!x!=!!m&&(c!=null?Fi(s,!!m,c,!0):Fi(s,!!m,m?[]:"",!1));return;case"textarea":St=gt=null;for(ye in m)if(C=m[ye],m.hasOwnProperty(ye)&&C!=null&&!x.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:ar(s,c,ye,null,x,C)}for(ne in x)if(C=x[ne],P=m[ne],x.hasOwnProperty(ne)&&(C!=null||P!=null))switch(ne){case"value":gt=C;break;case"defaultValue":St=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==P&&ar(s,c,ne,C,x,P)}Ar(s,gt,St);return;case"option":for(var Rn in m)if(gt=m[Rn],m.hasOwnProperty(Rn)&&gt!=null&&!x.hasOwnProperty(Rn))switch(Rn){case"selected":s.selected=!1;break;default:ar(s,c,Rn,null,x,gt)}for(Ue in x)if(gt=x[Ue],St=m[Ue],x.hasOwnProperty(Ue)&&gt!==St&&(gt!=null||St!=null))switch(Ue){case"selected":s.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:ar(s,c,Ue,gt,x,St)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mn in m)gt=m[Mn],m.hasOwnProperty(Mn)&&gt!=null&&!x.hasOwnProperty(Mn)&&ar(s,c,Mn,null,x,gt);for(ht in x)if(gt=x[ht],St=m[ht],x.hasOwnProperty(ht)&&gt!==St&&(gt!=null||St!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,c));break;default:ar(s,c,ht,gt,x,St)}return;default:if(st(c)){for(var sr in m)gt=m[sr],m.hasOwnProperty(sr)&&gt!==void 0&&!x.hasOwnProperty(sr)&&r3(s,c,sr,void 0,x,gt);for(Ot in x)gt=x[Ot],St=m[Ot],!x.hasOwnProperty(Ot)||gt===St||gt===void 0&&St===void 0||r3(s,c,Ot,gt,x,St);return}}for(var $e in m)gt=m[$e],m.hasOwnProperty($e)&&gt!=null&&!x.hasOwnProperty($e)&&ar(s,c,$e,null,x,gt);for(zt in x)gt=x[zt],St=m[zt],!x.hasOwnProperty(zt)||gt===St||gt==null&&St==null||ar(s,c,zt,gt,x,St)}var a3=null,s3=null;function Cv(s){return s.nodeType===9?s:s.ownerDocument}function Q6(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J6(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function o3(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var l3=null;function PN(){var s=window.event;return s&&s.type==="popstate"?s===l3?!1:(l3=s,!0):(l3=null,!1)}var $6=typeof setTimeout=="function"?setTimeout:void 0,BN=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(s){return eT.resolve(null).then(s).catch(kN)}:$6;function kN(s){setTimeout(function(){throw s})}function Ih(s){return s==="head"}function tT(s,c){var m=c,x=0,C=0;do{var P=m.nextSibling;if(s.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"){if(0<x&&8>x){m=x;var ne=s.ownerDocument;if(m&1&&v1(ne.documentElement),m&2&&v1(ne.body),m&4)for(m=ne.head,v1(m),ne=m.firstChild;ne;){var ye=ne.nextSibling,Ue=ne.nodeName;ne[re]||Ue==="SCRIPT"||Ue==="STYLE"||Ue==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||m.removeChild(ne),ne=ye}}if(C===0){s.removeChild(P),w1(c);return}C--}else m==="$"||m==="$?"||m==="$!"?C++:x=m.charCodeAt(0)-48;else x=0;m=P}while(m);w1(c)}function c3(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":c3(m),we(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function FN(s,c,m,x){for(;s.nodeType===1;){var C=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[re])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(P=s.getAttribute("rel"),P==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(P!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(P=s.getAttribute("src"),(P!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&P&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var P=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===P)return s}else return s;if(s=Lc(s.nextSibling),s===null)break}return null}function VN(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Lc(s.nextSibling),s===null))return null;return s}function u3(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function HN(s,c){var m=s.ownerDocument;if(s.data!=="$?"||m.readyState==="complete")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Lc(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return s}var f3=null;function nT(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return s;c--}else m==="/$"&&c++}s=s.previousSibling}return null}function iT(s,c,m){switch(c=Cv(m),s){case"html":if(s=c.documentElement,!s)throw Error(i(452));return s;case"head":if(s=c.head,!s)throw Error(i(453));return s;case"body":if(s=c.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function v1(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);we(s)}var Zl=new Map,rT=new Set;function Rv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Nf=ae.d;ae.d={f:GN,r:jN,D:WN,C:qN,L:XN,m:YN,X:ZN,S:KN,M:QN};function GN(){var s=Nf.f(),c=Yl();return s||c}function jN(s){var c=jt(s);c!==null&&c.tag===5&&c.type==="form"?lv(c):Nf.r(s)}var Tp=typeof document>"u"?null:document;function aT(s,c,m){var x=Tp;if(x&&typeof c=="string"&&c){var C=gi(c);C='link[rel="'+s+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),rT.has(C)||(rT.add(C),s={rel:s,crossOrigin:m,href:c},x.querySelector(C)===null&&(c=x.createElement("link"),ds(c,"link",s),qt(c),x.head.appendChild(c)))}}function WN(s){Nf.D(s),aT("dns-prefetch",s,null)}function qN(s,c){Nf.C(s,c),aT("preconnect",s,c)}function XN(s,c,m){Nf.L(s,c,m);var x=Tp;if(x&&s&&c){var C='link[rel="preload"][as="'+gi(c)+'"]';c==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+gi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+gi(m.imageSizes)+'"]')):C+='[href="'+gi(s)+'"]';var P=C;switch(c){case"style":P=Ep(s);break;case"script":P=wp(s)}Zl.has(P)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),Zl.set(P,s),x.querySelector(C)!==null||c==="style"&&x.querySelector(x1(P))||c==="script"&&x.querySelector(b1(P))||(c=x.createElement("link"),ds(c,"link",s),qt(c),x.head.appendChild(c)))}}function YN(s,c){Nf.m(s,c);var m=Tp;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+gi(x)+'"][href="'+gi(s)+'"]',P=C;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=wp(s)}if(!Zl.has(P)&&(s=p({rel:"modulepreload",href:s},c),Zl.set(P,s),m.querySelector(C)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(b1(P)))return}x=m.createElement("link"),ds(x,"link",s),qt(x),m.head.appendChild(x)}}}function KN(s,c,m){Nf.S(s,c,m);var x=Tp;if(x&&s){var C=la(x).hoistableStyles,P=Ep(s);c=c||"default";var ne=C.get(P);if(!ne){var ye={loading:0,preload:null};if(ne=x.querySelector(x1(P)))ye.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=Zl.get(P))&&h3(s,m);var Ue=ne=x.createElement("link");qt(Ue),ds(Ue,"link",s),Ue._p=new Promise(function(ht,Ot){Ue.onload=ht,Ue.onerror=Ot}),Ue.addEventListener("load",function(){ye.loading|=1}),Ue.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,Dv(ne,c,x)}ne={type:"stylesheet",instance:ne,count:1,state:ye},C.set(P,ne)}}}function ZN(s,c){Nf.X(s,c);var m=Tp;if(m&&s){var x=la(m).hoistableScripts,C=wp(s),P=x.get(C);P||(P=m.querySelector(b1(C)),P||(s=p({src:s,async:!0},c),(c=Zl.get(C))&&d3(s,c),P=m.createElement("script"),qt(P),ds(P,"link",s),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(C,P))}}function QN(s,c){Nf.M(s,c);var m=Tp;if(m&&s){var x=la(m).hoistableScripts,C=wp(s),P=x.get(C);P||(P=m.querySelector(b1(C)),P||(s=p({src:s,async:!0,type:"module"},c),(c=Zl.get(C))&&d3(s,c),P=m.createElement("script"),qt(P),ds(P,"link",s),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},x.set(C,P))}}function sT(s,c,m,x){var C=(C=ze.current)?Rv(C):null;if(!C)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Ep(m.href),m=la(C).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Ep(m.href);var P=la(C).hoistableStyles,ne=P.get(s);if(ne||(C=C.ownerDocument||C,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(s,ne),(P=C.querySelector(x1(s)))&&!P._p&&(ne.instance=P,ne.state.loading=5),Zl.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Zl.set(s,m),P||JN(C,s,m,ne.state))),c&&x===null)throw Error(i(528,""));return ne}if(c&&x!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=wp(m),m=la(C).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ep(s){return'href="'+gi(s)+'"'}function x1(s){return'link[rel="stylesheet"]['+s+"]"}function oT(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function JN(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),ds(c,"link",m),qt(c),s.head.appendChild(c))}function wp(s){return'[src="'+gi(s)+'"]'}function b1(s){return"script[async]"+s}function lT(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+gi(m.href)+'"]');if(x)return c.instance=x,qt(x),x;var C=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),qt(x),ds(x,"style",C),Dv(x,m.precedence,s),c.instance=x;case"stylesheet":C=Ep(m.href);var P=s.querySelector(x1(C));if(P)return c.state.loading|=4,c.instance=P,qt(P),P;x=oT(m),(C=Zl.get(C))&&h3(x,C),P=(s.ownerDocument||s).createElement("link"),qt(P);var ne=P;return ne._p=new Promise(function(ye,Ue){ne.onload=ye,ne.onerror=Ue}),ds(P,"link",x),c.state.loading|=4,Dv(P,m.precedence,s),c.instance=P;case"script":return P=wp(m.src),(C=s.querySelector(b1(P)))?(c.instance=C,qt(C),C):(x=m,(C=Zl.get(P))&&(x=p({},m),d3(x,C)),s=s.ownerDocument||s,C=s.createElement("script"),qt(C),ds(C,"link",x),s.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,Dv(x,m.precedence,s));return c.instance}function Dv(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=x.length?x[x.length-1]:null,P=C,ne=0;ne<x.length;ne++){var ye=x[ne];if(ye.dataset.precedence===c)P=ye;else if(P!==C)break}P?P.parentNode.insertBefore(s,P.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function h3(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function d3(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Ov=null;function cT(s,c,m){if(Ov===null){var x=new Map,C=Ov=new Map;C.set(m,x)}else C=Ov,x=C.get(m),x||(x=new Map,C.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),C=0;C<m.length;C++){var P=m[C];if(!(P[re]||P[Hn]||s==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=P.getAttribute(c)||"";ne=s+ne;var ye=x.get(ne);ye?ye.push(P):x.set(ne,[P])}}return x}function uT(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function $N(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function fT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var S1=null;function eU(){}function tU(s,c,m){if(S1===null)throw Error(i(475));var x=S1;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var C=Ep(m.href),P=s.querySelector(x1(C));if(P){s=P._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(x.count++,x=Nv.bind(x),s.then(x,x)),c.state.loading|=4,c.instance=P,qt(P);return}P=s.ownerDocument||s,m=oT(m),(C=Zl.get(C))&&h3(m,C),P=P.createElement("link"),qt(P);var ne=P;ne._p=new Promise(function(ye,Ue){ne.onload=ye,ne.onerror=Ue}),ds(P,"link",m),c.instance=P}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(x.count++,c=Nv.bind(x),s.addEventListener("load",c),s.addEventListener("error",c))}}function nU(){if(S1===null)throw Error(i(475));var s=S1;return s.stylesheets&&s.count===0&&p3(s,s.stylesheets),0<s.count?function(c){var m=setTimeout(function(){if(s.stylesheets&&p3(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(m)}}:null}function Nv(){if(this.count--,this.count===0){if(this.stylesheets)p3(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uv=null;function p3(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uv=new Map,c.forEach(iU,s),Uv=null,Nv.call(s))}function iU(s,c){if(!(c.state.loading&4)){var m=Uv.get(s);if(m)var x=m.get(null);else{m=new Map,Uv.set(s,m);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<C.length;P++){var ne=C[P];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(m.set(ne.dataset.precedence,ne),x=ne)}x&&m.set(null,x)}C=c.instance,ne=C.getAttribute("data-precedence"),P=m.get(ne)||x,P===x&&m.set(null,C),m.set(ne,C),this.count++,x=Nv.bind(this),C.addEventListener("load",x),C.addEventListener("error",x),P?P.parentNode.insertBefore(C,P.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),c.state.loading|=4}}var _1={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function rU(s,c,m,x,C,P,ne,ye){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=x,this.onUncaughtError=C,this.onCaughtError=P,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function hT(s,c,m,x,C,P,ne,ye,Ue,ht,Ot,zt){return s=new rU(s,c,m,ne,ye,Ue,ht,zt),c=1,P===!0&&(c|=24),P=Ta(3,null,null,c),s.current=P,P.stateNode=s,c=Sh(),c.refCount++,s.pooledCache=c,c.refCount++,P.memoizedState={element:x,isDehydrated:m,cache:c},de(P),s}function dT(s){return s?(s=sl,s):sl}function pT(s,c,m,x,C,P){C=dT(C),x.context===null?x.context=C:x.pendingContext=C,x=Oe(c),x.payload={element:m},P=P===void 0?null:P,P!==null&&(x.callback=P),m=qe(s,x,c),m!==null&&(hs(m,s,c),et(m,s,c))}function mT(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function m3(s,c){mT(s,c),(s=s.alternate)&&mT(s,c)}function gT(s){if(s.tag===13){var c=Oo(s,67108864);c!==null&&hs(c,s,67108864),m3(s,67108864)}}var Lv=!0;function aU(s,c,m,x){var C=j.T;j.T=null;var P=ae.p;try{ae.p=2,g3(s,c,m,x)}finally{ae.p=P,j.T=C}}function sU(s,c,m,x){var C=j.T;j.T=null;var P=ae.p;try{ae.p=8,g3(s,c,m,x)}finally{ae.p=P,j.T=C}}function g3(s,c,m,x){if(Lv){var C=y3(x);if(C===null)i3(s,c,x,zv,m),vT(s,x);else if(lU(C,s,c,m,x))x.stopPropagation();else if(vT(s,x),c&4&&-1<oU.indexOf(s)){for(;C!==null;){var P=jt(C);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var ne=Ce(P.pendingLanes);if(ne!==0){var ye=P;for(ye.pendingLanes|=2,ye.entangledLanes|=2;ne;){var Ue=1<<31-at(ne);ye.entanglements[1]|=Ue,ne&=~Ue}vu(P),(Oi&6)===0&&($a=Ze()+500,m1(0))}}break;case 13:ye=Oo(P,2),ye!==null&&hs(ye,P,2),Yl(),m3(P,2)}if(P=y3(x),P===null&&i3(s,c,x,zv,m),P===C)break;C=P}C!==null&&x.stopPropagation()}else i3(s,c,x,null,m)}}function y3(s){return s=Xs(s),v3(s)}var zv=null;function v3(s){if(zv=null,s=ti(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return zv=s,null}function yT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case ct:return 2;case We:return 8;case Ie:case ut:return 32;case ue:return 268435456;default:return 32}default:return 32}}var x3=!1,kh=null,Fh=null,Vh=null,M1=new Map,T1=new Map,Hh=[],oU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vT(s,c){switch(s){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Fh=null;break;case"mouseover":case"mouseout":Vh=null;break;case"pointerover":case"pointerout":M1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":T1.delete(c.pointerId)}}function E1(s,c,m,x,C,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:P,targetContainers:[C]},c!==null&&(c=jt(c),c!==null&&gT(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function lU(s,c,m,x,C){switch(c){case"focusin":return kh=E1(kh,s,c,m,x,C),!0;case"dragenter":return Fh=E1(Fh,s,c,m,x,C),!0;case"mouseover":return Vh=E1(Vh,s,c,m,x,C),!0;case"pointerover":var P=C.pointerId;return M1.set(P,E1(M1.get(P)||null,s,c,m,x,C)),!0;case"gotpointercapture":return P=C.pointerId,T1.set(P,E1(T1.get(P)||null,s,c,m,x,C)),!0}return!1}function xT(s){var c=ti(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,ei(s.priority,function(){if(m.tag===13){var x=kr();x=It(x);var C=Oo(m,x);C!==null&&hs(C,m,x),m3(m,x)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pv(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=y3(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);qs=x,m.target.dispatchEvent(x),qs=null}else return c=jt(m),c!==null&&gT(c),s.blockedOn=m,!1;c.shift()}return!0}function bT(s,c,m){Pv(s)&&m.delete(c)}function cU(){x3=!1,kh!==null&&Pv(kh)&&(kh=null),Fh!==null&&Pv(Fh)&&(Fh=null),Vh!==null&&Pv(Vh)&&(Vh=null),M1.forEach(bT),T1.forEach(bT)}function Bv(s,c){s.blockedOn===c&&(s.blockedOn=null,x3||(x3=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cU)))}var Iv=null;function ST(s){Iv!==s&&(Iv=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Iv===s&&(Iv=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],C=s[c+2];if(typeof x!="function"){if(v3(x||m)===null)continue;break}var P=jt(m);P!==null&&(s.splice(c,3),c-=3,l1(P,{pending:!0,data:C,method:m.method,action:x},x,C))}}))}function w1(s){function c(Ue){return Bv(Ue,s)}kh!==null&&Bv(kh,s),Fh!==null&&Bv(Fh,s),Vh!==null&&Bv(Vh,s),M1.forEach(c),T1.forEach(c);for(var m=0;m<Hh.length;m++){var x=Hh[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Hh.length&&(m=Hh[0],m.blockedOn===null);)xT(m),m.blockedOn===null&&Hh.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var C=m[x],P=m[x+1],ne=C[mi]||null;if(typeof P=="function")ne||ST(m);else if(ne){var ye=null;if(P&&P.hasAttribute("formAction")){if(C=P,ne=P[mi]||null)ye=ne.formAction;else if(v3(C)!==null)continue}else ye=ne.action;typeof ye=="function"?m[x+1]=ye:(m.splice(x,3),x-=3),ST(m)}}}function b3(s){this._internalRoot=s}kv.prototype.render=b3.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,x=kr();pT(m,x,s,c,null,null)},kv.prototype.unmount=b3.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;pT(s.current,2,null,s,null,null),Yl(),c[Ri]=null}};function kv(s){this._internalRoot=s}kv.prototype.unstable_scheduleHydration=function(s){if(s){var c=$t();s={blockedOn:null,target:s,priority:c};for(var m=0;m<Hh.length&&c!==0&&c<Hh[m].priority;m++);Hh.splice(m,0,s),m===0&&xT(s)}};var _T=e.version;if(_T!=="19.1.0")throw Error(i(527,_T,"19.1.0"));ae.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=u(c),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var uU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fv.isDisabled&&Fv.supportsFiber)try{De=Fv.inject(uU),Re=Fv}catch{}}return R1.createRoot=function(s,c){if(!r(s))throw Error(i(299));var m=!1,x="",C=zd,P=up,ne=bv,ye=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(ne=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ye=c.unstable_transitionCallbacks)),c=hT(s,1,!1,null,null,m,x,C,P,ne,ye,null),s[Ri]=c.current,n3(s),new b3(c)},R1.hydrateRoot=function(s,c,m){if(!r(s))throw Error(i(299));var x=!1,C="",P=zd,ne=up,ye=bv,Ue=null,ht=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(ne=m.onCaughtError),m.onRecoverableError!==void 0&&(ye=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Ue=m.unstable_transitionCallbacks),m.formState!==void 0&&(ht=m.formState)),c=hT(s,1,!0,c,m??null,x,C,P,ne,ye,Ue,ht),c.context=dT(null),m=c.current,x=kr(),x=It(x),C=Oe(x),C.callback=null,qe(m,C,x),m=x,c.current.lanes=m,Lt(c,m),vu(c),s[Ri]=c.current,n3(s),new kv(c)},R1.version="19.1.0",R1}var NT;function _U(){if(NT)return M3.exports;NT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),M3.exports=SU(),M3.exports}var H8=_U();const MU=uy(H8),Rg={black:"#000",white:"#fff"},Ap={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Dp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Op={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},D1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},TU={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zf(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const fy="$$material";function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qf.apply(null,arguments)}function EU(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function wU(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var AU=function(){function n(t){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wU(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=EU(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Is="-ms-",_x="-moz-",Ii="-webkit-",G8="comm",k5="rule",F5="decl",CU="@import",j8="@keyframes",RU="@layer",DU=Math.abs,Nb=String.fromCharCode,OU=Object.assign;function NU(n,e){return bs(n,0)^45?(((e<<2^bs(n,0))<<2^bs(n,1))<<2^bs(n,2))<<2^bs(n,3):0}function W8(n){return n.trim()}function UU(n,e){return(n=e.exec(n))?n[0]:n}function ki(n,e,t){return n.replace(e,t)}function __(n,e){return n.indexOf(e)}function bs(n,e){return n.charCodeAt(e)|0}function Dg(n,e,t){return n.slice(e,t)}function Eu(n){return n.length}function V5(n){return n.length}function Vv(n,e){return e.push(n),n}function LU(n,e){return n.map(e).join("")}var Ub=1,xm=1,q8=0,Qo=0,Na=0,Pm="";function Lb(n,e,t,i,r,a,o){return{value:n,root:e,parent:t,type:i,props:r,children:a,line:Ub,column:xm,length:o,return:""}}function O1(n,e){return OU(Lb("",null,null,"",null,null,0),n,{length:-n.length},e)}function zU(){return Na}function PU(){return Na=Qo>0?bs(Pm,--Qo):0,xm--,Na===10&&(xm=1,Ub--),Na}function Al(){return Na=Qo<q8?bs(Pm,Qo++):0,xm++,Na===10&&(xm=1,Ub++),Na}function Du(){return bs(Pm,Qo)}function rx(){return Qo}function hy(n,e){return Dg(Pm,n,e)}function Og(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function X8(n){return Ub=xm=1,q8=Eu(Pm=n),Qo=0,[]}function Y8(n){return Pm="",n}function ax(n){return W8(hy(Qo-1,M_(n===91?n+2:n===40?n+1:n)))}function BU(n){for(;(Na=Du())&&Na<33;)Al();return Og(n)>2||Og(Na)>3?"":" "}function IU(n,e){for(;--e&&Al()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return hy(n,rx()+(e<6&&Du()==32&&Al()==32))}function M_(n){for(;Al();)switch(Na){case n:return Qo;case 34:case 39:n!==34&&n!==39&&M_(Na);break;case 40:n===41&&M_(n);break;case 92:Al();break}return Qo}function kU(n,e){for(;Al()&&n+Na!==57;)if(n+Na===84&&Du()===47)break;return"/*"+hy(e,Qo-1)+"*"+Nb(n===47?n:Al())}function FU(n){for(;!Og(Du());)Al();return hy(n,Qo)}function VU(n){return Y8(sx("",null,null,null,[""],n=X8(n),0,[0],n))}function sx(n,e,t,i,r,a,o,l,u){for(var f=0,p=0,g=o,v=0,S=0,T=0,A=1,w=1,E=1,L=0,O="",N=r,z=a,I=i,H=O;w;)switch(T=L,L=Al()){case 40:if(T!=108&&bs(H,g-1)==58){__(H+=ki(ax(L),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:H+=ax(L);break;case 9:case 10:case 13:case 32:H+=BU(T);break;case 92:H+=IU(rx()-1,7);continue;case 47:switch(Du()){case 42:case 47:Vv(HU(kU(Al(),rx()),e,t),u);break;default:H+="/"}break;case 123*A:l[f++]=Eu(H)*E;case 125*A:case 59:case 0:switch(L){case 0:case 125:w=0;case 59+p:E==-1&&(H=ki(H,/\f/g,"")),S>0&&Eu(H)-g&&Vv(S>32?LT(H+";",i,t,g-1):LT(ki(H," ","")+";",i,t,g-2),u);break;case 59:H+=";";default:if(Vv(I=UT(H,e,t,f,p,r,l,O,N=[],z=[],g),a),L===123)if(p===0)sx(H,e,I,I,N,a,g,l,z);else switch(v===99&&bs(H,3)===110?100:v){case 100:case 108:case 109:case 115:sx(n,I,I,i&&Vv(UT(n,I,I,0,0,r,l,O,r,N=[],g),z),r,z,g,l,i?N:z);break;default:sx(H,I,I,I,[""],z,0,l,z)}}f=p=S=0,A=E=1,O=H="",g=o;break;case 58:g=1+Eu(H),S=T;default:if(A<1){if(L==123)--A;else if(L==125&&A++==0&&PU()==125)continue}switch(H+=Nb(L),L*A){case 38:E=p>0?1:(H+="\f",-1);break;case 44:l[f++]=(Eu(H)-1)*E,E=1;break;case 64:Du()===45&&(H+=ax(Al())),v=Du(),p=g=Eu(O=H+=FU(rx())),L++;break;case 45:T===45&&Eu(H)==2&&(A=0)}}return a}function UT(n,e,t,i,r,a,o,l,u,f,p){for(var g=r-1,v=r===0?a:[""],S=V5(v),T=0,A=0,w=0;T<i;++T)for(var E=0,L=Dg(n,g+1,g=DU(A=o[T])),O=n;E<S;++E)(O=W8(A>0?v[E]+" "+L:ki(L,/&\f/g,v[E])))&&(u[w++]=O);return Lb(n,e,t,r===0?k5:l,u,f,p)}function HU(n,e,t){return Lb(n,e,t,G8,Nb(zU()),Dg(n,2,-2),0)}function LT(n,e,t,i){return Lb(n,e,t,F5,Dg(n,0,i),Dg(n,i+1,-1),i)}function pm(n,e){for(var t="",i=V5(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function GU(n,e,t,i){switch(n.type){case RU:if(n.children.length)break;case CU:case F5:return n.return=n.return||n.value;case G8:return"";case j8:return n.return=n.value+"{"+pm(n.children,i)+"}";case k5:n.value=n.props.join(",")}return Eu(t=pm(n.children,i))?n.return=n.value+"{"+t+"}":""}function jU(n){var e=V5(n);return function(t,i,r,a){for(var o="",l=0;l<e;l++)o+=n[l](t,i,r,a)||"";return o}}function WU(n){return function(e){e.root||(e=e.return)&&n(e)}}function K8(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qU=function(e,t,i){for(var r=0,a=0;r=a,a=Du(),r===38&&a===12&&(t[i]=1),!Og(a);)Al();return hy(e,Qo)},XU=function(e,t){var i=-1,r=44;do switch(Og(r)){case 0:r===38&&Du()===12&&(t[i]=1),e[i]+=qU(Qo-1,t,i);break;case 2:e[i]+=ax(r);break;case 4:if(r===44){e[++i]=Du()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Nb(r)}while(r=Al());return e},YU=function(e,t){return Y8(XU(X8(e),t))},zT=new WeakMap,KU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!zT.get(i))&&!r){zT.set(e,!0);for(var a=[],o=YU(t,a),l=i.props,u=0,f=0;u<o.length;u++)for(var p=0;p<l.length;p++,f++)e.props[f]=a[u]?o[u].replace(/&\f/g,l[p]):l[p]+" "+o[u]}}},ZU=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Z8(n,e){switch(NU(n,e)){case 5103:return Ii+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ii+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ii+n+_x+n+Is+n+n;case 6828:case 4268:return Ii+n+Is+n+n;case 6165:return Ii+n+Is+"flex-"+n+n;case 5187:return Ii+n+ki(n,/(\w+).+(:[^]+)/,Ii+"box-$1$2"+Is+"flex-$1$2")+n;case 5443:return Ii+n+Is+"flex-item-"+ki(n,/flex-|-self/,"")+n;case 4675:return Ii+n+Is+"flex-line-pack"+ki(n,/align-content|flex-|-self/,"")+n;case 5548:return Ii+n+Is+ki(n,"shrink","negative")+n;case 5292:return Ii+n+Is+ki(n,"basis","preferred-size")+n;case 6060:return Ii+"box-"+ki(n,"-grow","")+Ii+n+Is+ki(n,"grow","positive")+n;case 4554:return Ii+ki(n,/([^-])(transform)/g,"$1"+Ii+"$2")+n;case 6187:return ki(ki(ki(n,/(zoom-|grab)/,Ii+"$1"),/(image-set)/,Ii+"$1"),n,"")+n;case 5495:case 3959:return ki(n,/(image-set\([^]*)/,Ii+"$1$`$1");case 4968:return ki(ki(n,/(.+:)(flex-)?(.*)/,Ii+"box-pack:$3"+Is+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ii+n+n;case 4095:case 3583:case 4068:case 2532:return ki(n,/(.+)-inline(.+)/,Ii+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Eu(n)-1-e>6)switch(bs(n,e+1)){case 109:if(bs(n,e+4)!==45)break;case 102:return ki(n,/(.+:)(.+)-([^]+)/,"$1"+Ii+"$2-$3$1"+_x+(bs(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~__(n,"stretch")?Z8(ki(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(bs(n,e+1)!==115)break;case 6444:switch(bs(n,Eu(n)-3-(~__(n,"!important")&&10))){case 107:return ki(n,":",":"+Ii)+n;case 101:return ki(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ii+(bs(n,14)===45?"inline-":"")+"box$3$1"+Ii+"$2$3$1"+Is+"$2box$3")+n}break;case 5936:switch(bs(n,e+11)){case 114:return Ii+n+Is+ki(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ii+n+Is+ki(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ii+n+Is+ki(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ii+n+Is+n+n}return n}var QU=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case F5:e.return=Z8(e.value,e.length);break;case j8:return pm([O1(e,{value:ki(e.value,"@","@"+Ii)})],r);case k5:if(e.length)return LU(e.props,function(a){switch(UU(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pm([O1(e,{props:[ki(a,/:(read-\w+)/,":"+_x+"$1")]})],r);case"::placeholder":return pm([O1(e,{props:[ki(a,/:(plac\w+)/,":"+Ii+"input-$1")]}),O1(e,{props:[ki(a,/:(plac\w+)/,":"+_x+"$1")]}),O1(e,{props:[ki(a,/:(plac\w+)/,Is+"input-$1")]})],r)}return""})}},JU=[QU],$U=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(A){var w=A.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var r=e.stylisPlugins||JU,a={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var w=A.getAttribute("data-emotion").split(" "),E=1;E<w.length;E++)a[w[E]]=!0;l.push(A)});var u,f=[KU,ZU];{var p,g=[GU,WU(function(A){p.insert(A)})],v=jU(f.concat(r,g)),S=function(w){return pm(VU(w),v)};u=function(w,E,L,O){p=L,S(w?w+"{"+E.styles+"}":E.styles),O&&(T.inserted[E.name]=!0)}}var T={key:t,sheet:new AU({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:u};return T.sheet.hydrate(l),T},A3={exports:{}},Hi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function eL(){if(PT)return Hi;PT=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,S=n?Symbol.for("react.memo"):60115,T=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,L=n?Symbol.for("react.scope"):60119;function O(z){if(typeof z=="object"&&z!==null){var I=z.$$typeof;switch(I){case e:switch(z=z.type,z){case u:case f:case i:case a:case r:case g:return z;default:switch(z=z&&z.$$typeof,z){case l:case p:case T:case S:case o:return z;default:return I}}case t:return I}}}function N(z){return O(z)===f}return Hi.AsyncMode=u,Hi.ConcurrentMode=f,Hi.ContextConsumer=l,Hi.ContextProvider=o,Hi.Element=e,Hi.ForwardRef=p,Hi.Fragment=i,Hi.Lazy=T,Hi.Memo=S,Hi.Portal=t,Hi.Profiler=a,Hi.StrictMode=r,Hi.Suspense=g,Hi.isAsyncMode=function(z){return N(z)||O(z)===u},Hi.isConcurrentMode=N,Hi.isContextConsumer=function(z){return O(z)===l},Hi.isContextProvider=function(z){return O(z)===o},Hi.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},Hi.isForwardRef=function(z){return O(z)===p},Hi.isFragment=function(z){return O(z)===i},Hi.isLazy=function(z){return O(z)===T},Hi.isMemo=function(z){return O(z)===S},Hi.isPortal=function(z){return O(z)===t},Hi.isProfiler=function(z){return O(z)===a},Hi.isStrictMode=function(z){return O(z)===r},Hi.isSuspense=function(z){return O(z)===g},Hi.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===f||z===a||z===r||z===g||z===v||typeof z=="object"&&z!==null&&(z.$$typeof===T||z.$$typeof===S||z.$$typeof===o||z.$$typeof===l||z.$$typeof===p||z.$$typeof===w||z.$$typeof===E||z.$$typeof===L||z.$$typeof===A)},Hi.typeOf=O,Hi}var BT;function tL(){return BT||(BT=1,A3.exports=eL()),A3.exports}var C3,IT;function nL(){if(IT)return C3;IT=1;var n=tL(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=r;function o(T){return n.isMemo(T)?r:a[T.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function S(T,A,w){if(typeof A!="string"){if(v){var E=g(A);E&&E!==v&&S(T,E,w)}var L=u(A);f&&(L=L.concat(f(A)));for(var O=o(T),N=o(A),z=0;z<L.length;++z){var I=L[z];if(!t[I]&&!(w&&w[I])&&!(N&&N[I])&&!(O&&O[I])){var H=p(A,I);try{l(T,I,H)}catch{}}}}return T}return C3=S,C3}nL();var iL=!0;function Q8(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var H5=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||iL===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},G5=function(e,t,i){H5(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function rL(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sL=/[A-Z]|^ms/g,oL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J8=function(e){return e.charCodeAt(1)===45},kT=function(e){return e!=null&&typeof e!="boolean"},R3=K8(function(n){return J8(n)?n:n.replace(sL,"-$&").toLowerCase()}),FT=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(oL,function(i,r,a){return wu={name:r,styles:a,next:wu},r})}return aL[e]!==1&&!J8(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ng(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return wu={name:r.name,styles:r.styles,next:wu},r.name;var a=t;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)wu={name:o.name,styles:o.styles,next:wu},o=o.next;var l=a.styles+";";return l}return lL(n,e,t)}case"function":{if(n!==void 0){var u=wu,f=t(n);return wu=u,Ng(n,e,f)}break}}var p=t;if(e==null)return p;var g=e[p];return g!==void 0?g:p}function lL(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Ng(n,e,t[r])+";";else for(var a in t){var o=t[a];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?i+=a+"{"+e[l]+"}":kT(l)&&(i+=R3(a)+":"+FT(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)kT(o[u])&&(i+=R3(a)+":"+FT(a,o[u])+";");else{var f=Ng(n,e,o);switch(a){case"animation":case"animationName":{i+=R3(a)+":"+f+";";break}default:i+=a+"{"+f+"}"}}}return i}var VT=/label:\s*([^\s;{]+)\s*(;|$)/g,wu;function dy(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";wu=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,r+=Ng(t,e,a);else{var o=a;r+=o[0]}for(var l=1;l<n.length;l++)if(r+=Ng(t,e,n[l]),i){var u=a;r+=u[l]}VT.lastIndex=0;for(var f="",p;(p=VT.exec(r))!==null;)f+="-"+p[1];var g=rL(r)+f;return{name:g,styles:r,next:wu}}var cL=function(e){return e()},$8=Sx.useInsertionEffect?Sx.useInsertionEffect:!1,eC=$8||cL,HT=$8||se.useLayoutEffect,tC=se.createContext(typeof HTMLElement<"u"?$U({key:"css"}):null);tC.Provider;var j5=function(e){return se.forwardRef(function(t,i){var r=se.useContext(tC);return e(t,r,i)})},zb=se.createContext({}),W5={}.hasOwnProperty,T_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",uL=function(e,t){var i={};for(var r in t)W5.call(t,r)&&(i[r]=t[r]);return i[T_]=e,i},fL=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return H5(t,i,r),eC(function(){return G5(t,i,r)}),null},hL=j5(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[T_],a=[i],o="";typeof n.className=="string"?o=Q8(e.registered,a,n.className):n.className!=null&&(o=n.className+" ");var l=dy(a,void 0,se.useContext(zb));o+=e.key+"-"+l.name;var u={};for(var f in n)W5.call(n,f)&&f!=="css"&&f!==T_&&(u[f]=n[f]);return u.className=o,t&&(u.ref=t),se.createElement(se.Fragment,null,se.createElement(fL,{cache:e,serialized:l,isStringTag:typeof r=="string"}),se.createElement(r,u))}),dL=hL,GT=function(e,t){var i=arguments;if(t==null||!W5.call(t,"css"))return se.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=dL,a[1]=uL(e,t);for(var o=2;o<r;o++)a[o]=i[o];return se.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(GT||(GT={}));var pL=j5(function(n,e){var t=n.styles,i=dy([t],void 0,se.useContext(zb)),r=se.useRef();return HT(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+a+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",a),o.hydrate([u])),r.current=[o,l],function(){o.flush()}},[e]),HT(function(){var a=r.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(i.next!==void 0&&G5(e,i.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function q5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return dy(e)}function py(){var n=q5.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var mL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gL=K8(function(n){return mL.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),yL=gL,vL=function(e){return e!=="theme"},jT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?yL:vL},WT=function(e,t,i){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},xL=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return H5(t,i,r),eC(function(){return G5(t,i,r)}),null},bL=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,a,o;t!==void 0&&(a=t.label,o=t.target);var l=WT(e,t,i),u=l||jT(r),f=!u("as");return function(){var p=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var v=p[0];g.push(v[0]);for(var S=p.length,T=1;T<S;T++)g.push(p[T],v[T])}var A=j5(function(w,E,L){var O=f&&w.as||r,N="",z=[],I=w;if(w.theme==null){I={};for(var H in w)I[H]=w[H];I.theme=se.useContext(zb)}typeof w.className=="string"?N=Q8(E.registered,z,w.className):w.className!=null&&(N=w.className+" ");var W=dy(g.concat(z),E.registered,I);N+=E.key+"-"+W.name,o!==void 0&&(N+=" "+o);var V=f&&l===void 0?jT(O):u,U={};for(var Q in w)f&&Q==="as"||V(Q)&&(U[Q]=w[Q]);return U.className=N,L&&(U.ref=L),se.createElement(se.Fragment,null,se.createElement(xL,{cache:E,serialized:W,isStringTag:typeof O=="string"}),se.createElement(O,U))});return A.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=r,A.__emotion_styles=g,A.__emotion_forwardProp=l,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(w,E){var L=n(w,Qf({},t,E,{shouldForwardProp:WT(A,E,!0)}));return L.apply(void 0,g)},A}},SL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],E_=bL.bind(null);SL.forEach(function(n){E_[n]=E_(n)});var D3={exports:{}},O3,qT;function _L(){if(qT)return O3;qT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return O3=n,O3}var N3,XT;function ML(){if(XT)return N3;XT=1;var n=_L();function e(){}function t(){}return t.resetWarningCache=e,N3=function(){function i(o,l,u,f,p,g){if(g!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},N3}var YT;function TL(){return YT||(YT=1,D3.exports=ML()()),D3.exports}function EL(n){return n==null||Object.keys(n).length===0}function wL(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(EL(r)?t:r):e;return Z.jsx(pL,{styles:i})}function nC(n,e){return E_(n,e)}function AL(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const KT=[];function ZT(n){return KT[0]=n,dy(KT)}var U3={exports:{}},or={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function CL(){if(QT)return or;QT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function T(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case n:switch(A=A.type,A){case t:case r:case i:case u:case f:case v:return A;default:switch(A=A&&A.$$typeof,A){case o:case l:case g:case p:return A;case a:return A;default:return w}}case e:return w}}}return or.ContextConsumer=a,or.ContextProvider=o,or.Element=n,or.ForwardRef=l,or.Fragment=t,or.Lazy=g,or.Memo=p,or.Portal=e,or.Profiler=r,or.StrictMode=i,or.Suspense=u,or.SuspenseList=f,or.isContextConsumer=function(A){return T(A)===a},or.isContextProvider=function(A){return T(A)===o},or.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},or.isForwardRef=function(A){return T(A)===l},or.isFragment=function(A){return T(A)===t},or.isLazy=function(A){return T(A)===g},or.isMemo=function(A){return T(A)===p},or.isPortal=function(A){return T(A)===e},or.isProfiler=function(A){return T(A)===r},or.isStrictMode=function(A){return T(A)===i},or.isSuspense=function(A){return T(A)===u},or.isSuspenseList=function(A){return T(A)===f},or.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===r||A===i||A===u||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===o||A.$$typeof===a||A.$$typeof===l||A.$$typeof===S||A.getModuleId!==void 0)},or.typeOf=T,or}var JT;function RL(){return JT||(JT=1,U3.exports=CL()),U3.exports}var iC=RL();function Au(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function rC(n){if(se.isValidElement(n)||iC.isValidElementType(n)||!Au(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=rC(n[t])}),e}function is(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Au(n)&&Au(e)&&Object.keys(e).forEach(r=>{se.isValidElement(e[r])||iC.isValidElementType(e[r])?i[r]=e[r]:Au(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&Au(n[r])?i[r]=is(n[r],e[r],t):t.clone?i[r]=Au(e[r])?rC(e[r]):e[r]:i[r]=e[r]}),i}const DL=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function OL(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,a=DL(e),o=Object.keys(a);function l(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-i/100}${t})`}function f(v,S){const T=o.indexOf(S);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(T!==-1&&typeof e[o[T]]=="number"?e[o[T]]:S)-i/100}${t})`}function p(v){return o.indexOf(v)+1<o.length?f(v,o[o.indexOf(v)+1]):l(v)}function g(v){const S=o.indexOf(v);return S===0?l(o[1]):S===o.length-1?u(o[S]):f(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:l,down:u,between:f,only:p,not:g,unit:t,...r}}function NL(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,l;const a=/min-width:\s*([0-9.]+)/;return+(((o=i.match(a))==null?void 0:o[1])||0)-+(((l=r.match(a))==null?void 0:l[1])||0)});return t.length?t.reduce((i,r)=>{const a=e[r];return delete i[r],i[r]=a,i},{...e}):e}function UL(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function LL(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,a=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(a)}function zL(n){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function t(a,o){a.up=(...l)=>e(n.breakpoints.up(...l),o),a.down=(...l)=>e(n.breakpoints.down(...l),o),a.between=(...l)=>e(n.breakpoints.between(...l),o),a.only=(...l)=>e(n.breakpoints.only(...l),o),a.not=(...l)=>{const u=e(n.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},r=a=>(t(i,a),i);return t(r),{...n,containerQueries:r}}const PL={borderRadius:4};function sg(n,e){return e?is(n,e,{clone:!1}):n}const Pb={xs:0,sm:600,md:900,lg:1200,xl:1536},$T={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Pb[n]}px)`},BL={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Pb[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function qc(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const a=i.breakpoints||$T;return e.reduce((o,l,u)=>(o[a.up(a.keys[u])]=t(e[u]),o),{})}if(typeof e=="object"){const a=i.breakpoints||$T;return Object.keys(e).reduce((o,l)=>{if(UL(a.keys,l)){const u=LL(i.containerQueries?i:BL,l);u&&(o[u]=t(e[l],l))}else if(Object.keys(a.values||Pb).includes(l)){const u=a.up(l);o[u]=t(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return t(e)}function aC(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const a=n.up(r);return i[a]={},i},{}))||{}}function sC(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function IL(n,...e){const t=aC(n),i=[t,...e].reduce((r,a)=>is(r,a),{});return sC(Object.keys(t),i)}function kL(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,a)=>{a<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function L3({values:n,breakpoints:e,base:t}){const i=t||kL(n,e),r=Object.keys(i);if(r.length===0)return n;let a;return r.reduce((o,l,u)=>(Array.isArray(n)?(o[l]=n[u]!=null?n[u]:n[a],a=u):typeof n=="object"?(o[l]=n[l]!=null?n[l]:n[a],a=l):o[l]=n,o),{})}function Vn(n){if(typeof n!="string")throw new Error(Zf(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Bb(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,a)=>r&&r[a]?r[a]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function Mx(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=Bb(n,t)||i,e&&(r=e(r,i,n)),r}function Ma(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,a=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,f=Bb(u,i)||{};return qc(o,l,g=>{let v=Mx(f,r,g);return g===v&&typeof g=="string"&&(v=Mx(f,r,`${e}${g==="default"?"":Vn(g)}`,g)),t===!1?v:{[t]:v}})};return a.propTypes={},a.filterProps=[e],a}function FL(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const VL={m:"margin",p:"padding"},HL={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GL=FL(n=>{if(n.length>2)if(eE[n])n=eE[n];else return[n];const[e,t]=n.split(""),i=VL[e],r=HL[t]||"";return Array.isArray(r)?r.map(a=>i+a):[i+r]}),X5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Y5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...X5,...Y5];function my(n,e,t,i){const r=Bb(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?a=>typeof a=="string"?a:typeof r=="string"?r.startsWith("var(")&&a===0?0:r.startsWith("var(")&&a===1?r:`calc(${a} * ${r})`:r*a:Array.isArray(r)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),l=r[o];return a>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof r=="function"?r:()=>{}}function Ib(n){return my(n,"spacing",8)}function D0(n,e){return typeof e=="string"||e==null?e:n(e)}function jL(n,e){return t=>n.reduce((i,r)=>(i[r]=D0(e,t),i),{})}function WL(n,e,t,i){if(!e.includes(t))return null;const r=GL(t),a=jL(r,i),o=n[t];return qc(n,o,a)}function oC(n,e){const t=Ib(n.theme);return Object.keys(n).map(i=>WL(n,e,i,t)).reduce(sg,{})}function aa(n){return oC(n,X5)}aa.propTypes={};aa.filterProps=X5;function sa(n){return oC(n,Y5)}sa.propTypes={};sa.filterProps=Y5;function lC(n=8,e=Ib({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function kb(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(a=>{i[a]=r}),i),{}),t=i=>Object.keys(i).reduce((r,a)=>e[a]?sg(r,e[a](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function tc(n){return typeof n!="number"?n:`${n}px solid`}function cc(n,e){return Ma({prop:n,themeKey:"borders",transform:e})}const qL=cc("border",tc),XL=cc("borderTop",tc),YL=cc("borderRight",tc),KL=cc("borderBottom",tc),ZL=cc("borderLeft",tc),QL=cc("borderColor"),JL=cc("borderTopColor"),$L=cc("borderRightColor"),ez=cc("borderBottomColor"),tz=cc("borderLeftColor"),nz=cc("outline",tc),iz=cc("outlineColor"),Fb=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=my(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:D0(e,i)});return qc(n,n.borderRadius,t)}return null};Fb.propTypes={};Fb.filterProps=["borderRadius"];kb(qL,XL,YL,KL,ZL,QL,JL,$L,ez,tz,Fb,nz,iz);const Vb=n=>{if(n.gap!==void 0&&n.gap!==null){const e=my(n.theme,"spacing",8),t=i=>({gap:D0(e,i)});return qc(n,n.gap,t)}return null};Vb.propTypes={};Vb.filterProps=["gap"];const Hb=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=my(n.theme,"spacing",8),t=i=>({columnGap:D0(e,i)});return qc(n,n.columnGap,t)}return null};Hb.propTypes={};Hb.filterProps=["columnGap"];const Gb=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=my(n.theme,"spacing",8),t=i=>({rowGap:D0(e,i)});return qc(n,n.rowGap,t)}return null};Gb.propTypes={};Gb.filterProps=["rowGap"];const rz=Ma({prop:"gridColumn"}),az=Ma({prop:"gridRow"}),sz=Ma({prop:"gridAutoFlow"}),oz=Ma({prop:"gridAutoColumns"}),lz=Ma({prop:"gridAutoRows"}),cz=Ma({prop:"gridTemplateColumns"}),uz=Ma({prop:"gridTemplateRows"}),fz=Ma({prop:"gridTemplateAreas"}),hz=Ma({prop:"gridArea"});kb(Vb,Hb,Gb,rz,az,sz,oz,lz,cz,uz,fz,hz);function mm(n,e){return e==="grey"?e:n}const dz=Ma({prop:"color",themeKey:"palette",transform:mm}),pz=Ma({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mm}),mz=Ma({prop:"backgroundColor",themeKey:"palette",transform:mm});kb(dz,pz,mz);function El(n){return n<=1&&n!==0?`${n*100}%`:n}const gz=Ma({prop:"width",transform:El}),K5=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,a,o,l,u;const i=((o=(a=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:a.values)==null?void 0:o[t])||Pb[t];return i?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:El(t)}};return qc(n,n.maxWidth,e)}return null};K5.filterProps=["maxWidth"];const yz=Ma({prop:"minWidth",transform:El}),vz=Ma({prop:"height",transform:El}),xz=Ma({prop:"maxHeight",transform:El}),bz=Ma({prop:"minHeight",transform:El});Ma({prop:"size",cssProperty:"width",transform:El});Ma({prop:"size",cssProperty:"height",transform:El});const Sz=Ma({prop:"boxSizing"});kb(gz,K5,yz,vz,xz,bz,Sz);const gy={border:{themeKey:"borders",transform:tc},borderTop:{themeKey:"borders",transform:tc},borderRight:{themeKey:"borders",transform:tc},borderBottom:{themeKey:"borders",transform:tc},borderLeft:{themeKey:"borders",transform:tc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:tc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fb},color:{themeKey:"palette",transform:mm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mm},backgroundColor:{themeKey:"palette",transform:mm},p:{style:sa},pt:{style:sa},pr:{style:sa},pb:{style:sa},pl:{style:sa},px:{style:sa},py:{style:sa},padding:{style:sa},paddingTop:{style:sa},paddingRight:{style:sa},paddingBottom:{style:sa},paddingLeft:{style:sa},paddingX:{style:sa},paddingY:{style:sa},paddingInline:{style:sa},paddingInlineStart:{style:sa},paddingInlineEnd:{style:sa},paddingBlock:{style:sa},paddingBlockStart:{style:sa},paddingBlockEnd:{style:sa},m:{style:aa},mt:{style:aa},mr:{style:aa},mb:{style:aa},ml:{style:aa},mx:{style:aa},my:{style:aa},margin:{style:aa},marginTop:{style:aa},marginRight:{style:aa},marginBottom:{style:aa},marginLeft:{style:aa},marginX:{style:aa},marginY:{style:aa},marginInline:{style:aa},marginInlineStart:{style:aa},marginInlineEnd:{style:aa},marginBlock:{style:aa},marginBlockStart:{style:aa},marginBlockEnd:{style:aa},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vb},rowGap:{style:Gb},columnGap:{style:Hb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:El},maxWidth:{style:K5},minWidth:{transform:El},height:{transform:El},maxHeight:{transform:El},minHeight:{transform:El},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _z(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Mz(n,e){return typeof n=="function"?n(e):n}function Tz(){function n(t,i,r,a){const o={[t]:i,theme:r},l=a[t];if(!l)return{[t]:i};const{cssProperty:u=t,themeKey:f,transform:p,style:g}=l;if(i==null)return null;if(f==="typography"&&i==="inherit")return{[t]:i};const v=Bb(r,f)||{};return g?g(o):qc(o,i,T=>{let A=Mx(v,p,T);return T===A&&typeof T=="string"&&(A=Mx(v,p,`${t}${T==="default"?"":Vn(T)}`,T)),u===!1?A:{[u]:A}})}function e(t){const{sx:i,theme:r={}}=t||{};if(!i)return null;const a=r.unstable_sxConfig??gy;function o(l){let u=l;if(typeof l=="function")u=l(r);else if(typeof l!="object")return l;if(!u)return null;const f=aC(r.breakpoints),p=Object.keys(f);let g=f;return Object.keys(u).forEach(v=>{const S=Mz(u[v],r);if(S!=null)if(typeof S=="object")if(a[v])g=sg(g,n(v,S,r,a));else{const T=qc({theme:r},S,A=>({[v]:A}));_z(T,S)?g[v]=e({sx:S,theme:r}):g=sg(g,T)}else g=sg(g,n(v,S,r,a))}),NL(r,sC(p,g))}return Array.isArray(i)?i.map(o):o(i)}return e}const O0=Tz();O0.filterProps=["sx"];function Ez(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function yy(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:a={},...o}=n,l=OL(t),u=lC(r);let f=is({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...PL,...a}},o);return f=zL(f),f.applyStyles=Ez,f=e.reduce((p,g)=>is(p,g),f),f.unstable_sxConfig={...gy,...o==null?void 0:o.unstable_sxConfig},f.unstable_sx=function(g){return O0({sx:g,theme:this})},f}function wz(n){return Object.keys(n).length===0}function cC(n=null){const e=se.useContext(zb);return!e||wz(e)?n:e}const Az=yy();function vy(n=Az){return cC(n)}function Cz({styles:n,themeId:e,defaultTheme:t={}}){const i=vy(t),r=typeof n=="function"?n(e&&i[e]||i):n;return Z.jsx(wL,{styles:r})}const Rz=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??gy;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function jb(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=Rz(t);let a;return Array.isArray(e)?a=[i,...e]:typeof e=="function"?a=(...o)=>{const l=e(...o);return Au(l)?{...i,...l}:i}:a={...i,...e},{...r,sx:a}}const tE=n=>n,Dz=()=>{let n=tE;return{configure(e){n=e},generate(e){return n(e)},reset(){n=tE}}},uC=Dz();function fC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=fC(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ln(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=fC(n))&&(i&&(i+=" "),i+=e);return i}function Oz(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,a=nC("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(O0);return se.forwardRef(function(u,f){const p=vy(t),{className:g,component:v="div",...S}=jb(u);return Z.jsx(a,{as:v,ref:f,className:Ln(g,r?r(i):i),theme:e&&p[e]||p,...S})})}const Nz={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function cr(n,e,t="Mui"){const i=Nz[e];return i?`${t}-${i}`:`${uC.generate(n)}-${e}`}function Zi(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=cr(n,r,t)}),i}function hC(n){const{variants:e,...t}=n,i={variants:e,style:ZT(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=ZT(r.style))}),i}const Uz=yy();function z3(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Lz(n){return n?(e,t)=>t[n]:null}function zz(n,e,t){n.theme=Bz(n.theme)?t:n.theme[e]||n.theme}function ox(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>ox(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:r,...a}=t;i=a}return dC(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function dC(n,e,t=[]){var r;let i;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((r=n.ownerState)==null?void 0:r[l])!==o.props[l])continue e;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(i))):t.push(o.style)}return t}function pC(n={}){const{themeId:e,defaultTheme:t=Uz,rootShouldForwardProp:i=z3,slotShouldForwardProp:r=z3}=n;function a(l){zz(l,e,t)}return(l,u={})=>{AL(l,z=>z.filter(I=>I!==O0));const{name:f,slot:p,skipVariantsResolver:g,skipSx:v,overridesResolver:S=Lz(kz(p)),...T}=u,A=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,w=v||!1;let E=z3;p==="Root"||p==="root"?E=i:p?E=r:Iz(l)&&(E=void 0);const L=nC(l,{shouldForwardProp:E,label:Pz(),...T}),O=z=>{if(z.__emotion_real===z)return z;if(typeof z=="function")return function(H){return ox(H,z)};if(Au(z)){const I=hC(z);return I.variants?function(W){return ox(W,I)}:I.style}return z},N=(...z)=>{const I=[],H=z.map(O),W=[];if(I.push(a),f&&S&&W.push(function(ee){var j,ae;const oe=(ae=(j=ee.theme.components)==null?void 0:j[f])==null?void 0:ae.styleOverrides;if(!oe)return null;const pe={};for(const le in oe)pe[le]=ox(ee,oe[le]);return S(ee,pe)}),f&&!A&&W.push(function(ee){var pe,j;const te=ee.theme,oe=(j=(pe=te==null?void 0:te.components)==null?void 0:pe[f])==null?void 0:j.variants;return oe?dC(ee,oe):null}),w||W.push(O0),Array.isArray(H[0])){const Q=H.shift(),ee=new Array(I.length).fill(""),te=new Array(W.length).fill("");let oe;oe=[...ee,...Q,...te],oe.raw=[...ee,...Q.raw,...te],I.unshift(oe)}const V=[...I,...H,...W],U=L(...V);return l.muiName&&(U.muiName=l.muiName),U};return L.withConfig&&(N.withConfig=L.withConfig),N}}function Pz(n,e){return void 0}function Bz(n){for(const e in n)return!1;return!0}function Iz(n){return typeof n=="string"&&n.charCodeAt(0)>96}function kz(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const mC=pC();function Ug(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=i;if(r==="components"||r==="slots")t[r]={...n[r],...t[r]};else if(r==="componentsProps"||r==="slotProps"){const a=n[r],o=e[r];if(!o)t[r]=a||{};else if(!a)t[r]=o;else{t[r]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;t[r][u]=Ug(a[u],o[u])}}}else t[r]===void 0&&(t[r]=n[r])}return t}function gC(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:Ug(e.components[t].defaultProps,i)}function yC({props:n,name:e,defaultTheme:t,themeId:i}){let r=vy(t);return i&&(r=r[i]||r),gC({theme:r,name:e,props:n})}const ku=typeof window<"u"?se.useLayoutEffect:se.useEffect;function Fz(n,e,t,i,r){const[a,o]=se.useState(()=>r&&t?t(n).matches:i?i(n).matches:e);return ku(()=>{if(!t)return;const l=t(n),u=()=>{o(l.matches)};return u(),l.addEventListener("change",u),()=>{l.removeEventListener("change",u)}},[n,t]),a}const Vz={...Sx},vC=Vz.useSyncExternalStore;function Hz(n,e,t,i,r){const a=se.useCallback(()=>e,[e]),o=se.useMemo(()=>{if(r&&t)return()=>t(n).matches;if(i!==null){const{matches:p}=i(n);return()=>p}return a},[a,n,i,r,t]),[l,u]=se.useMemo(()=>{if(t===null)return[a,()=>()=>{}];const p=t(n);return[()=>p.matches,g=>(p.addEventListener("change",g),()=>{p.removeEventListener("change",g)})]},[a,t,n]);return vC(u,l,o)}function xC(n={}){const{themeId:e}=n;return function(i,r={}){let a=cC();a&&e&&(a=a[e]||a);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:u=o?window.matchMedia:null,ssrMatchMedia:f=null,noSsr:p=!1}=gC({name:"MuiUseMediaQuery",props:r,theme:a});let g=typeof i=="function"?i(a):i;return g=g.replace(/^@media( ?)/m,""),g.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(vC!==void 0?Hz:Fz)(g,l,u,f,p)}}xC();function nm(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Z5(n,e=0,t=1){return nm(n,e,t)}function Gz(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function nd(n){if(n.type)return n;if(n.charAt(0)==="#")return nd(Gz(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Zf(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Zf(10,r))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:t,values:i,colorSpace:r}}const jz=n=>{const e=nd(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Z1=(n,e)=>{try{return jz(n)}catch{return n}};function Wb(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,a)=>a<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function bC(n){n=nd(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,a=i*Math.min(r,1-r),o=(f,p=(f+t/30)%12)=>r-a*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),Wb({type:l,values:u})}function w_(n){n=nd(n);let e=n.type==="hsl"||n.type==="hsla"?nd(bC(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Wz(n,e){const t=w_(n),i=w_(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function go(n,e){return n=nd(n),e=Z5(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Wb(n)}function Hv(n,e,t){try{return go(n,e)}catch{return n}}function Lg(n,e){if(n=nd(n),e=Z5(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Wb(n)}function br(n,e,t){try{return Lg(n,e)}catch{return n}}function zg(n,e){if(n=nd(n),e=Z5(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Wb(n)}function Sr(n,e,t){try{return zg(n,e)}catch{return n}}function qz(n,e=.15){return w_(n)>.5?Lg(n,e):zg(n,e)}function Gv(n,e,t){try{return qz(n,e)}catch{return n}}const Xz=se.createContext(),SC=()=>se.useContext(Xz)??!1,Yz=se.createContext(void 0);function Kz(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?Ug(r.defaultProps,i):!r.styleOverrides&&!r.variants?Ug(r,i):i}function Zz({props:n,name:e}){const t=se.useContext(Yz);return Kz({props:n,name:e,theme:{components:t}})}const nE={theme:void 0};function Qz(n){let e,t;return function(r){let a=e;return(a===void 0||r.theme!==t)&&(nE.theme=r.theme,a=hC(n(nE)),e=a,t=r.theme),a}}function Jz(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const iE=(n,e,t,i=[])=>{let r=n;e.forEach((a,o)=>{o===e.length-1?Array.isArray(r)?r[Number(a)]=t:r&&typeof r=="object"&&(r[a]=t):r&&typeof r=="object"&&(r[a]||(r[a]=i.includes(a)?[]:{}),r=r[a])})},$z=(n,e,t)=>{function i(r,a=[],o=[]){Object.entries(r).forEach(([l,u])=>{(!t||t&&!t([...a,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...a,l],Array.isArray(u)?[...o,l]:o):e([...a,l],u,o))})}i(n)},eP=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function P3(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},a={},o={};return $z(n,(l,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(l,u))){const p=`--${t?`${t}-`:""}${l.join("-")}`,g=eP(l,u);Object.assign(r,{[p]:g}),iE(a,l,`var(${p})`,f),iE(o,l,`var(${p}, ${g})`,f)}},l=>l[0]==="vars"),{css:r,vars:a,varsWithDefaults:o}}function tP(n,e={}){const{getSelector:t=w,disableCssColorScheme:i,colorSchemeSelector:r}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=n,{vars:f,css:p,varsWithDefaults:g}=P3(u,e);let v=g;const S={},{[l]:T,...A}=a;if(Object.entries(A||{}).forEach(([O,N])=>{const{vars:z,css:I,varsWithDefaults:H}=P3(N,e);v=is(v,H),S[O]={css:I,vars:z}}),T){const{css:O,vars:N,varsWithDefaults:z}=P3(T,e);v=is(v,z),S[l]={css:O,vars:N}}function w(O,N){var I,H;let z=r;if(r==="class"&&(z=".%s"),r==="data"&&(z="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(z=`[${r}="%s"]`),O){if(z==="media")return n.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${((H=(I=a[O])==null?void 0:I.palette)==null?void 0:H.mode)||O})`]:{":root":N}};if(z)return n.defaultColorScheme===O?`:root, ${z.replace("%s",String(O))}`:z.replace("%s",String(O))}return":root"}return{vars:v,generateThemeVars:()=>{let O={...f};return Object.entries(S).forEach(([,{vars:N}])=>{O=is(O,N)}),O},generateStyleSheets:()=>{var W,V;const O=[],N=n.defaultColorScheme||"light";function z(U,Q){Object.keys(Q).length&&O.push(typeof U=="string"?{[U]:{...Q}}:U)}z(t(void 0,{...p}),p);const{[N]:I,...H}=S;if(I){const{css:U}=I,Q=(V=(W=a[N])==null?void 0:W.palette)==null?void 0:V.mode,ee=!i&&Q?{colorScheme:Q,...U}:{...U};z(t(N,{...ee}),ee)}return Object.entries(H).forEach(([U,{css:Q}])=>{var oe,pe;const ee=(pe=(oe=a[U])==null?void 0:oe.palette)==null?void 0:pe.mode,te=!i&&ee?{colorScheme:ee,...Q}:{...Q};z(t(U,{...te}),te)}),O}}}function nP(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function ur(n,e,t=void 0){const i={};for(const r in n){const a=n[r];let o="",l=!0;for(let u=0;u<a.length;u+=1){const f=a[u];f&&(o+=(l===!0?"":" ")+e(f),l=!1,t&&t[f]&&(o+=" "+t[f]))}i[r]=o}return i}function lx(n,e){var t,i,r;return se.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}const iP=(n,e)=>n.filter(t=>e.includes(t)),Bm=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,a)=>{t((o,l)=>{a<=n.keys.length-1&&(a===0?Object.assign(o,l):o[n.up(n.keys[a])]=l)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:iP(n.keys,Object.keys(e))).forEach(a=>{if(n.keys.includes(a)){const o=e[a];o!==void 0&&t((l,u)=>{i===a?Object.assign(l,u):l[n.up(a)]=u},o)}}):(typeof e=="number"||typeof e=="string")&&t((r,a)=>{Object.assign(r,a)},e)};function Tx(n){return`--Grid-${n}Spacing`}function qb(n){return`--Grid-parent-${n}Spacing`}const rE="--Grid-columns",gm="--Grid-parent-columns",rP=({theme:n,ownerState:e})=>{const t={};return Bm(n.breakpoints,e.size,(i,r)=>{let a={};r==="grow"&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${gm}) - (var(${gm}) - ${r}) * (var(${qb("column")}) / var(${gm})))`}),i(t,a)}),t},aP=({theme:n,ownerState:e})=>{const t={};return Bm(n.breakpoints,e.offset,(i,r)=>{let a={};r==="auto"&&(a={marginLeft:"auto"}),typeof r=="number"&&(a={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${gm}) + var(${qb("column")}) * ${r} / var(${gm}))`}),i(t,a)}),t},sP=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[rE]:12};return Bm(n.breakpoints,e.columns,(i,r)=>{const a=r??12;i(t,{[rE]:a,"> *":{[gm]:a}})}),t},oP=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Bm(n.breakpoints,e.rowSpacing,(i,r)=>{var o;const a=typeof r=="string"?r:(o=n.spacing)==null?void 0:o.call(n,r);i(t,{[Tx("row")]:a,"> *":{[qb("row")]:a}})}),t},lP=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Bm(n.breakpoints,e.columnSpacing,(i,r)=>{var o;const a=typeof r=="string"?r:(o=n.spacing)==null?void 0:o.call(n,r);i(t,{[Tx("column")]:a,"> *":{[qb("column")]:a}})}),t},cP=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Bm(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},uP=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${Tx("row")}) var(${Tx("column")})`}}),fP=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},hP=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,a])=>{t(a)&&i.push(`spacing-${r}-${String(a)}`)}),i}return[]},dP=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function pP(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const mP=yy(),gP=mC("div",{name:"MuiGrid",slot:"Root"});function yP(n){return yC({props:n,name:"MuiGrid",defaultTheme:mP})}function vP(n={}){const{createStyledComponent:e=gP,useThemeProps:t=yP,useTheme:i=vy,componentName:r="MuiGrid"}=n,a=(f,p)=>{const{container:g,direction:v,spacing:S,wrap:T,size:A}=f,w={root:["root",g&&"container",T!=="wrap"&&`wrap-xs-${String(T)}`,...dP(v),...fP(A),...g?hP(S,p.breakpoints.keys[0]):[]]};return ur(w,E=>cr(r,E),{})};function o(f,p,g=()=>!0){const v={};return f===null||(Array.isArray(f)?f.forEach((S,T)=>{S!==null&&g(S)&&p.keys[T]&&(v[p.keys[T]]=S)}):typeof f=="object"?Object.keys(f).forEach(S=>{const T=f[S];T!=null&&g(T)&&(v[S]=T)}):v[p.keys[0]]=f),v}const l=e(sP,lP,oP,rP,cP,uP,aP),u=se.forwardRef(function(p,g){const v=i(),S=t(p),T=jb(S);pP(T,v.breakpoints);const{className:A,children:w,columns:E=12,container:L=!1,component:O="div",direction:N="row",wrap:z="wrap",size:I={},offset:H={},spacing:W=0,rowSpacing:V=W,columnSpacing:U=W,unstable_level:Q=0,...ee}=T,te=o(I,v.breakpoints,K=>K!==!1),oe=o(H,v.breakpoints),pe=p.columns??(Q?void 0:E),j=p.spacing??(Q?void 0:W),ae=p.rowSpacing??p.spacing??(Q?void 0:V),le=p.columnSpacing??p.spacing??(Q?void 0:U),fe={...T,level:Q,columns:pe,container:L,direction:N,wrap:z,spacing:j,rowSpacing:ae,columnSpacing:le,size:te,offset:oe},J=a(fe,v);return Z.jsx(l,{ref:g,as:O,ownerState:fe,className:Ln(J.root,A),...ee,children:se.Children.map(w,K=>{var xe;return se.isValidElement(K)&&lx(K,["Grid"])&&L&&K.props.container?se.cloneElement(K,{unstable_level:((xe=K.props)==null?void 0:xe.unstable_level)??Q+1}):K})})});return u.muiName="Grid",u}const xP=yy(),bP=mC("div",{name:"MuiStack",slot:"Root"});function SP(n){return yC({props:n,name:"MuiStack",defaultTheme:xP})}function _P(n,e){const t=se.Children.toArray(n).filter(Boolean);return t.reduce((i,r,a)=>(i.push(r),a<t.length-1&&i.push(se.cloneElement(e,{key:`separator-${a}`})),i),[])}const MP=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],TP=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...qc({theme:e},L3({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=Ib(e),r=Object.keys(e.breakpoints.values).reduce((u,f)=>((typeof n.spacing=="object"&&n.spacing[f]!=null||typeof n.direction=="object"&&n.direction[f]!=null)&&(u[f]=!0),u),{}),a=L3({values:n.direction,base:r}),o=L3({values:n.spacing,base:r});typeof a=="object"&&Object.keys(a).forEach((u,f,p)=>{if(!a[u]){const v=f>0?a[p[f-1]]:"column";a[u]=v}}),t=is(t,qc({theme:e},o,(u,f)=>n.useFlexGap?{gap:D0(i,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${MP(f?a[f]:n.direction)}`]:D0(i,u)}}))}return t=IL(e.breakpoints,t),t};function EP(n={}){const{createStyledComponent:e=bP,useThemeProps:t=SP,componentName:i="MuiStack"}=n,r=()=>ur({root:["root"]},u=>cr(i,u),{}),a=e(TP);return se.forwardRef(function(u,f){const p=t(u),g=jb(p),{component:v="div",direction:S="column",spacing:T=0,divider:A,children:w,className:E,useFlexGap:L=!1,...O}=g,N={direction:S,spacing:T,useFlexGap:L},z=r();return Z.jsx(a,{as:v,ownerState:N,ref:f,className:Ln(z.root,E),...O,children:A?_P(w,A):w})})}function _C(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rg.white,default:Rg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const wP=_C();function MC(){return{text:{primary:Rg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const aE=MC();function sE(n,e,t,i){const r=i.light||i,a=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=zg(n.main,r):e==="dark"&&(n.dark=Lg(n.main,a)))}function AP(n="light"){return n==="dark"?{main:Rp[200],light:Rp[50],dark:Rp[400]}:{main:Rp[700],light:Rp[400],dark:Rp[800]}}function CP(n="light"){return n==="dark"?{main:Cp[200],light:Cp[50],dark:Cp[400]}:{main:Cp[500],light:Cp[300],dark:Cp[700]}}function RP(n="light"){return n==="dark"?{main:Ap[500],light:Ap[300],dark:Ap[700]}:{main:Ap[700],light:Ap[400],dark:Ap[800]}}function DP(n="light"){return n==="dark"?{main:Dp[400],light:Dp[300],dark:Dp[700]}:{main:Dp[700],light:Dp[500],dark:Dp[900]}}function OP(n="light"){return n==="dark"?{main:Op[400],light:Op[300],dark:Op[700]}:{main:Op[800],light:Op[500],dark:Op[900]}}function NP(n="light"){return n==="dark"?{main:D1[400],light:D1[300],dark:D1[700]}:{main:"#ed6c02",light:D1[500],dark:D1[900]}}function Q5(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...r}=n,a=n.primary||AP(e),o=n.secondary||CP(e),l=n.error||RP(e),u=n.info||DP(e),f=n.success||OP(e),p=n.warning||NP(e);function g(A){return Wz(A,aE.text.primary)>=t?aE.text.primary:wP.text.primary}const v=({color:A,name:w,mainShade:E=500,lightShade:L=300,darkShade:O=700})=>{if(A={...A},!A.main&&A[E]&&(A.main=A[E]),!A.hasOwnProperty("main"))throw new Error(Zf(11,w?` (${w})`:"",E));if(typeof A.main!="string")throw new Error(Zf(12,w?` (${w})`:"",JSON.stringify(A.main)));return sE(A,"light",L,i),sE(A,"dark",O,i),A.contrastText||(A.contrastText=g(A.main)),A};let S;return e==="light"?S=_C():e==="dark"&&(S=MC()),is({common:{...Rg},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:f,name:"success"}),grey:TU,contrastThreshold:t,getContrastText:g,augmentColor:v,tonalOffset:i,...S},r)}function UP(n){const e={};return Object.entries(n).forEach(i=>{const[r,a]=i;typeof a=="object"&&(e[r]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function LP(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function zP(n){return Math.round(n*1e5)/1e5}const oE={textTransform:"uppercase"},lE='"Roboto", "Helvetica", "Arial", sans-serif';function PP(n,e){const{fontFamily:t=lE,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:f,pxToRem:p,...g}=typeof e=="function"?e(n):e,v=i/14,S=p||(w=>`${w/u*v}rem`),T=(w,E,L,O,N)=>({fontFamily:t,fontWeight:w,fontSize:S(E),lineHeight:L,...t===lE?{letterSpacing:`${zP(O/E)}em`}:{},...N,...f}),A={h1:T(r,96,1.167,-1.5),h2:T(r,60,1.2,-.5),h3:T(a,48,1.167,0),h4:T(a,34,1.235,.25),h5:T(a,24,1.334,0),h6:T(o,20,1.6,.15),subtitle1:T(a,16,1.75,.15),subtitle2:T(o,14,1.57,.1),body1:T(a,16,1.5,.15),body2:T(a,14,1.43,.15),button:T(o,14,1.75,.4,oE),caption:T(a,12,1.66,.4),overline:T(a,12,2.66,1,oE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return is({htmlFontSize:u,pxToRem:S,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l,...A},g,{clone:!1})}const BP=.2,IP=.14,kP=.12;function Fr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${BP})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${IP})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${kP})`].join(",")}const FP=["none",Fr(0,2,1,-1,0,1,1,0,0,1,3,0),Fr(0,3,1,-2,0,2,2,0,0,1,5,0),Fr(0,3,3,-2,0,3,4,0,0,1,8,0),Fr(0,2,4,-1,0,4,5,0,0,1,10,0),Fr(0,3,5,-1,0,5,8,0,0,1,14,0),Fr(0,3,5,-1,0,6,10,0,0,1,18,0),Fr(0,4,5,-2,0,7,10,1,0,2,16,1),Fr(0,5,5,-3,0,8,10,1,0,3,14,2),Fr(0,5,6,-3,0,9,12,1,0,3,16,2),Fr(0,6,6,-3,0,10,14,1,0,4,18,3),Fr(0,6,7,-4,0,11,15,1,0,4,20,3),Fr(0,7,8,-4,0,12,17,2,0,5,22,4),Fr(0,7,8,-4,0,13,19,2,0,5,24,4),Fr(0,7,9,-4,0,14,21,2,0,5,26,4),Fr(0,8,9,-5,0,15,22,2,0,6,28,5),Fr(0,8,10,-5,0,16,24,2,0,6,30,5),Fr(0,8,11,-5,0,17,26,2,0,6,32,5),Fr(0,9,11,-5,0,18,28,2,0,7,34,6),Fr(0,9,12,-6,0,19,29,2,0,7,36,6),Fr(0,10,13,-6,0,20,31,3,0,8,38,7),Fr(0,10,13,-6,0,21,33,3,0,8,40,7),Fr(0,10,14,-6,0,22,35,3,0,8,42,7),Fr(0,11,14,-7,0,23,36,3,0,9,44,8),Fr(0,11,15,-7,0,24,38,3,0,9,46,8)],VP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},HP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cE(n){return`${Math.round(n)}ms`}function GP(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jP(n){const e={...VP,...n.easing},t={...HP,...n.duration};return{getAutoHeightDuration:GP,create:(r=["all"],a={})=>{const{duration:o=t.standard,easing:l=e.easeInOut,delay:u=0,...f}=a;return(Array.isArray(r)?r:[r]).map(p=>`${p} ${typeof o=="string"?o:cE(o)} ${l} ${typeof u=="string"?u:cE(u)}`).join(",")},...n,easing:e,duration:t}}const WP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qP(n){return Au(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function TC(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let a=0;a<r.length;a++){const[o,l]=r[a];!qP(l)||o.startsWith("unstable_")?delete i[o]:Au(l)&&(i[o]={...l},t(i[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function A_(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:a={},transitions:o={},typography:l={},shape:u,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Zf(20));const p=Q5(a),g=yy(n);let v=is(g,{mixins:LP(g.breakpoints,i),palette:p,shadows:FP.slice(),typography:PP(p,l),transitions:jP(o),zIndex:{...WP}});return v=is(v,f),v=e.reduce((S,T)=>is(S,T),v),v.unstable_sxConfig={...gy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(T){return O0({sx:T,theme:this})},v.toRuntimeSource=TC,v}function C_(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const XP=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=C_(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function EC(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function wC(n){return n==="dark"?XP:[]}function YP(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...r}=n,a=Q5(e);return{palette:a,opacity:{...EC(a.mode),...t},overlays:i||wC(a.mode),...r}}function KP(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const ZP=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],QP=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let a=r;if(r==="class"&&(a=".%s"),r==="data"&&(a="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(a=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return ZP(n.cssVarPrefix).forEach(l=>{o[l]=t[l],delete t[l]}),a==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:o}}:a?{[a.replace("%s",e)]:o,[`${i}, ${a.replace("%s",e)}`]:t}:{[i]:{...t,...o}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(a)return a.replace("%s",String(e))}return i};function JP(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function At(n,e,t){!n[e]&&t&&(n[e]=t)}function Q1(n){return typeof n!="string"||!n.startsWith("hsl")?n:bC(n)}function Uf(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Z1(Q1(n[e])))}function $P(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xu=n=>{try{return n()}catch{}},eB=(n="mui")=>Jz(n);function B3(n,e,t,i){if(!e)return;e=e===!0?{}:e;const r=i==="dark"?"dark":"light";if(!t){n[i]=YP({...e,palette:{mode:r,...e==null?void 0:e.palette}});return}const{palette:a,...o}=A_({...t,palette:{mode:r,...e==null?void 0:e.palette}});return n[i]={...e,palette:a,opacity:{...EC(r),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||wC(r)},o}function tB(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=KP,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...f}=n,p=Object.keys(t)[0],g=i||(t.light&&p!=="light"?"light":p),v=eB(a),{[g]:S,light:T,dark:A,...w}=t,E={...w};let L=S;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Zf(21,g));const O=B3(E,L,f,g);T&&!E.light&&B3(E,T,void 0,"light"),A&&!E.dark&&B3(E,A,void 0,"dark");let N={defaultColorScheme:g,...O,cssVarPrefix:a,colorSchemeSelector:l,rootSelector:u,getCssVar:v,colorSchemes:E,font:{...UP(O.typography),...O.font},spacing:$P(f.spacing)};Object.keys(N.colorSchemes).forEach(V=>{const U=N.colorSchemes[V].palette,Q=ee=>{const te=ee.split("-"),oe=te[1],pe=te[2];return v(ee,U[oe][pe])};if(U.mode==="light"&&(At(U.common,"background","#fff"),At(U.common,"onBackground","#000")),U.mode==="dark"&&(At(U.common,"background","#000"),At(U.common,"onBackground","#fff")),JP(U,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),U.mode==="light"){At(U.Alert,"errorColor",br(U.error.light,.6)),At(U.Alert,"infoColor",br(U.info.light,.6)),At(U.Alert,"successColor",br(U.success.light,.6)),At(U.Alert,"warningColor",br(U.warning.light,.6)),At(U.Alert,"errorFilledBg",Q("palette-error-main")),At(U.Alert,"infoFilledBg",Q("palette-info-main")),At(U.Alert,"successFilledBg",Q("palette-success-main")),At(U.Alert,"warningFilledBg",Q("palette-warning-main")),At(U.Alert,"errorFilledColor",xu(()=>U.getContrastText(U.error.main))),At(U.Alert,"infoFilledColor",xu(()=>U.getContrastText(U.info.main))),At(U.Alert,"successFilledColor",xu(()=>U.getContrastText(U.success.main))),At(U.Alert,"warningFilledColor",xu(()=>U.getContrastText(U.warning.main))),At(U.Alert,"errorStandardBg",Sr(U.error.light,.9)),At(U.Alert,"infoStandardBg",Sr(U.info.light,.9)),At(U.Alert,"successStandardBg",Sr(U.success.light,.9)),At(U.Alert,"warningStandardBg",Sr(U.warning.light,.9)),At(U.Alert,"errorIconColor",Q("palette-error-main")),At(U.Alert,"infoIconColor",Q("palette-info-main")),At(U.Alert,"successIconColor",Q("palette-success-main")),At(U.Alert,"warningIconColor",Q("palette-warning-main")),At(U.AppBar,"defaultBg",Q("palette-grey-100")),At(U.Avatar,"defaultBg",Q("palette-grey-400")),At(U.Button,"inheritContainedBg",Q("palette-grey-300")),At(U.Button,"inheritContainedHoverBg",Q("palette-grey-A100")),At(U.Chip,"defaultBorder",Q("palette-grey-400")),At(U.Chip,"defaultAvatarColor",Q("palette-grey-700")),At(U.Chip,"defaultIconColor",Q("palette-grey-700")),At(U.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),At(U.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),At(U.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),At(U.LinearProgress,"primaryBg",Sr(U.primary.main,.62)),At(U.LinearProgress,"secondaryBg",Sr(U.secondary.main,.62)),At(U.LinearProgress,"errorBg",Sr(U.error.main,.62)),At(U.LinearProgress,"infoBg",Sr(U.info.main,.62)),At(U.LinearProgress,"successBg",Sr(U.success.main,.62)),At(U.LinearProgress,"warningBg",Sr(U.warning.main,.62)),At(U.Skeleton,"bg",`rgba(${Q("palette-text-primaryChannel")} / 0.11)`),At(U.Slider,"primaryTrack",Sr(U.primary.main,.62)),At(U.Slider,"secondaryTrack",Sr(U.secondary.main,.62)),At(U.Slider,"errorTrack",Sr(U.error.main,.62)),At(U.Slider,"infoTrack",Sr(U.info.main,.62)),At(U.Slider,"successTrack",Sr(U.success.main,.62)),At(U.Slider,"warningTrack",Sr(U.warning.main,.62));const ee=Gv(U.background.default,.8);At(U.SnackbarContent,"bg",ee),At(U.SnackbarContent,"color",xu(()=>U.getContrastText(ee))),At(U.SpeedDialAction,"fabHoverBg",Gv(U.background.paper,.15)),At(U.StepConnector,"border",Q("palette-grey-400")),At(U.StepContent,"border",Q("palette-grey-400")),At(U.Switch,"defaultColor",Q("palette-common-white")),At(U.Switch,"defaultDisabledColor",Q("palette-grey-100")),At(U.Switch,"primaryDisabledColor",Sr(U.primary.main,.62)),At(U.Switch,"secondaryDisabledColor",Sr(U.secondary.main,.62)),At(U.Switch,"errorDisabledColor",Sr(U.error.main,.62)),At(U.Switch,"infoDisabledColor",Sr(U.info.main,.62)),At(U.Switch,"successDisabledColor",Sr(U.success.main,.62)),At(U.Switch,"warningDisabledColor",Sr(U.warning.main,.62)),At(U.TableCell,"border",Sr(Hv(U.divider,1),.88)),At(U.Tooltip,"bg",Hv(U.grey[700],.92))}if(U.mode==="dark"){At(U.Alert,"errorColor",Sr(U.error.light,.6)),At(U.Alert,"infoColor",Sr(U.info.light,.6)),At(U.Alert,"successColor",Sr(U.success.light,.6)),At(U.Alert,"warningColor",Sr(U.warning.light,.6)),At(U.Alert,"errorFilledBg",Q("palette-error-dark")),At(U.Alert,"infoFilledBg",Q("palette-info-dark")),At(U.Alert,"successFilledBg",Q("palette-success-dark")),At(U.Alert,"warningFilledBg",Q("palette-warning-dark")),At(U.Alert,"errorFilledColor",xu(()=>U.getContrastText(U.error.dark))),At(U.Alert,"infoFilledColor",xu(()=>U.getContrastText(U.info.dark))),At(U.Alert,"successFilledColor",xu(()=>U.getContrastText(U.success.dark))),At(U.Alert,"warningFilledColor",xu(()=>U.getContrastText(U.warning.dark))),At(U.Alert,"errorStandardBg",br(U.error.light,.9)),At(U.Alert,"infoStandardBg",br(U.info.light,.9)),At(U.Alert,"successStandardBg",br(U.success.light,.9)),At(U.Alert,"warningStandardBg",br(U.warning.light,.9)),At(U.Alert,"errorIconColor",Q("palette-error-main")),At(U.Alert,"infoIconColor",Q("palette-info-main")),At(U.Alert,"successIconColor",Q("palette-success-main")),At(U.Alert,"warningIconColor",Q("palette-warning-main")),At(U.AppBar,"defaultBg",Q("palette-grey-900")),At(U.AppBar,"darkBg",Q("palette-background-paper")),At(U.AppBar,"darkColor",Q("palette-text-primary")),At(U.Avatar,"defaultBg",Q("palette-grey-600")),At(U.Button,"inheritContainedBg",Q("palette-grey-800")),At(U.Button,"inheritContainedHoverBg",Q("palette-grey-700")),At(U.Chip,"defaultBorder",Q("palette-grey-700")),At(U.Chip,"defaultAvatarColor",Q("palette-grey-300")),At(U.Chip,"defaultIconColor",Q("palette-grey-300")),At(U.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),At(U.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),At(U.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),At(U.LinearProgress,"primaryBg",br(U.primary.main,.5)),At(U.LinearProgress,"secondaryBg",br(U.secondary.main,.5)),At(U.LinearProgress,"errorBg",br(U.error.main,.5)),At(U.LinearProgress,"infoBg",br(U.info.main,.5)),At(U.LinearProgress,"successBg",br(U.success.main,.5)),At(U.LinearProgress,"warningBg",br(U.warning.main,.5)),At(U.Skeleton,"bg",`rgba(${Q("palette-text-primaryChannel")} / 0.13)`),At(U.Slider,"primaryTrack",br(U.primary.main,.5)),At(U.Slider,"secondaryTrack",br(U.secondary.main,.5)),At(U.Slider,"errorTrack",br(U.error.main,.5)),At(U.Slider,"infoTrack",br(U.info.main,.5)),At(U.Slider,"successTrack",br(U.success.main,.5)),At(U.Slider,"warningTrack",br(U.warning.main,.5));const ee=Gv(U.background.default,.98);At(U.SnackbarContent,"bg",ee),At(U.SnackbarContent,"color",xu(()=>U.getContrastText(ee))),At(U.SpeedDialAction,"fabHoverBg",Gv(U.background.paper,.15)),At(U.StepConnector,"border",Q("palette-grey-600")),At(U.StepContent,"border",Q("palette-grey-600")),At(U.Switch,"defaultColor",Q("palette-grey-300")),At(U.Switch,"defaultDisabledColor",Q("palette-grey-600")),At(U.Switch,"primaryDisabledColor",br(U.primary.main,.55)),At(U.Switch,"secondaryDisabledColor",br(U.secondary.main,.55)),At(U.Switch,"errorDisabledColor",br(U.error.main,.55)),At(U.Switch,"infoDisabledColor",br(U.info.main,.55)),At(U.Switch,"successDisabledColor",br(U.success.main,.55)),At(U.Switch,"warningDisabledColor",br(U.warning.main,.55)),At(U.TableCell,"border",br(Hv(U.divider,1),.68)),At(U.Tooltip,"bg",Hv(U.grey[700],.92))}Uf(U.background,"default"),Uf(U.background,"paper"),Uf(U.common,"background"),Uf(U.common,"onBackground"),Uf(U,"divider"),Object.keys(U).forEach(ee=>{const te=U[ee];ee!=="tonalOffset"&&te&&typeof te=="object"&&(te.main&&At(U[ee],"mainChannel",Z1(Q1(te.main))),te.light&&At(U[ee],"lightChannel",Z1(Q1(te.light))),te.dark&&At(U[ee],"darkChannel",Z1(Q1(te.dark))),te.contrastText&&At(U[ee],"contrastTextChannel",Z1(Q1(te.contrastText))),ee==="text"&&(Uf(U[ee],"primary"),Uf(U[ee],"secondary")),ee==="action"&&(te.active&&Uf(U[ee],"active"),te.selected&&Uf(U[ee],"selected")))})}),N=e.reduce((V,U)=>is(V,U),N);const z={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:QP(N)},{vars:I,generateThemeVars:H,generateStyleSheets:W}=tP(N,z);return N.vars=I,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([V,U])=>{N[V]=U}),N.generateThemeVars=H,N.generateStyleSheets=W,N.generateSpacing=function(){return lC(f.spacing,Ib(this))},N.getColorSchemeSelector=nP(l),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=o,N.unstable_sxConfig={...gy,...f==null?void 0:f.unstable_sxConfig},N.unstable_sx=function(U){return O0({sx:U,theme:this})},N.toRuntimeSource=TC,N}function uE(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Q5({...t===!0?{}:t.palette,mode:e})})}function AC(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:a=t==null?void 0:t.mode,...o}=n,l=a||"light",u=r==null?void 0:r[l],f={...r,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return A_(n,...e);let p=t;"palette"in n||f[l]&&(f[l]!==!0?p=f[l].palette:l==="dark"&&(p={mode:"dark"}));const g=A_({...n,palette:p},...e);return g.defaultColorScheme=l,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},uE(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},uE(g,"light",f.light)),g}return!t&&!("light"in f)&&l==="light"&&(f.light=!0),tB({...o,colorSchemes:f,defaultColorScheme:l,...typeof i!="boolean"&&i},...e)}const J5=AC();function xy(){const n=vy(J5);return n[fy]||n}function Xb(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const uc=n=>Xb(n)&&n!=="classes",hn=pC({themeId:fy,defaultTheme:J5,rootShouldForwardProp:uc});function fE(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function nB(n){return Z.jsx(Cz,{...n,defaultTheme:J5,themeId:fy})}function iB(n){return function(t){return Z.jsx(nB,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function rB(){return jb}const fr=Qz;function _r(n){return Zz(n)}function aB(n){return cr("MuiSvgIcon",n)}Zi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sB=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${Vn(e)}`,`fontSize${Vn(t)}`]};return ur(r,aB,i)},oB=hn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Vn(t.color)}`],e[`fontSize${Vn(t.fontSize)}`]]}})(fr(({theme:n})=>{var e,t,i,r,a,o,l,u,f,p,g,v,S,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:p.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var w,E;return{props:{color:A},style:{color:(E=(w=(n.vars??n).palette)==null?void 0:w[A])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(v=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(T=(S=(n.vars??n).palette)==null?void 0:S.action)==null?void 0:T.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),R_=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiSvgIcon"}),{children:r,className:a,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:g,viewBox:v="0 0 24 24",...S}=i,T=se.isValidElement(r)&&r.type==="svg",A={...i,color:o,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:v,hasSvgAsChild:T},w={};p||(w.viewBox=v);const E=sB(A);return Z.jsxs(oB,{as:l,className:Ln(E.root,a),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...w,...S,...T&&r.props,ownerState:A,children:[T?r.props.children:r,g?Z.jsx("title",{children:g}):null]})});R_.muiName="SvgIcon";function I0(n,e){function t(i,r){return Z.jsx(R_,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=R_.muiName,se.memo(se.forwardRef(t))}function CC(n,e=166){let t;function i(...r){const a=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(a,e)}return i.clear=()=>{clearTimeout(t)},i}function xo(n){return n&&n.ownerDocument||document}function Jf(n){return xo(n).defaultView||window}function hE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let dE=0;function lB(n){const[e,t]=se.useState(n),i=n||e;return se.useEffect(()=>{e==null&&(dE+=1,t(`mui-${dE}`))},[e]),i}const cB={...Sx},pE=cB.useId;function RC(n){if(pE!==void 0){const e=pE();return n??e}return lB(n)}function D_(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:a}=se.useRef(e!==void 0),[o,l]=se.useState(t),u=a?e:o,f=se.useCallback(p=>{a||l(p)},[]);return[u,f]}function Ou(n){const e=se.useRef(n);return ku(()=>{e.current=n}),se.useRef((...t)=>(0,e.current)(...t)).current}function Gs(...n){const e=se.useRef(void 0),t=se.useCallback(i=>{const r=n.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(i);return typeof l=="function"?l:()=>{o(null)}}return a.current=i,()=>{a.current=null}});return()=>{r.forEach(a=>a==null?void 0:a())}},n);return se.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function uB(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function fB(n,e){if(!n)return e;function t(o,l){const u={};return Object.keys(l).forEach(f=>{uB(f,l[f])&&typeof o[f]=="function"&&(u[f]=(...p)=>{o[f](...p),l[f](...p)})}),u}if(typeof n=="function"||typeof e=="function")return o=>{const l=typeof e=="function"?e(o):e,u=typeof n=="function"?n({...o,...l}):n,f=Ln(o==null?void 0:o.className,l==null?void 0:l.className,u==null?void 0:u.className),p=t(u,l);return{...l,...u,...p,...!!f&&{className:f},...(l==null?void 0:l.style)&&(u==null?void 0:u.style)&&{style:{...l.style,...u.style}},...(l==null?void 0:l.sx)&&(u==null?void 0:u.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=e,r=t(n,i),a=Ln(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...r,...!!a&&{className:a},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function DC(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function O_(n,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},O_(n,e)}function OC(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,O_(n,e)}var NC=V8();const jv=uy(NC),mE={disabled:!1},Ex=jc.createContext(null);var hB=function(e){return e.scrollTop},J1="unmounted",o0="exited",l0="entering",im="entered",N_="exiting",Vu=function(n){OC(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=r,l=o&&!o.isMounting?i.enter:i.appear,u;return a.appearStatus=null,i.in?l?(u=o0,a.appearStatus=l0):u=im:i.unmountOnExit||i.mountOnEnter?u=J1:u=o0,a.state={status:u},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var o=r.in;return o&&a.status===J1?{status:o0}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var a=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==l0&&o!==im&&(a=l0):(o===l0||o===im)&&(a=N_)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,a,o,l;return a=o=l=r,r!=null&&typeof r!="number"&&(a=r.exit,o=r.enter,l=r.appear!==void 0?r.appear:o),{exit:a,enter:o,appear:l}},t.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===l0){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:jv.findDOMNode(this);o&&hB(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===o0&&this.setState({status:J1})},t.performEnter=function(r){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:r,u=this.props.nodeRef?[l]:[jv.findDOMNode(this),l],f=u[0],p=u[1],g=this.getTimeouts(),v=l?g.appear:g.enter;if(!r&&!o||mE.disabled){this.safeSetState({status:im},function(){a.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:l0},function(){a.props.onEntering(f,p),a.onTransitionEnd(v,function(){a.safeSetState({status:im},function(){a.props.onEntered(f,p)})})})},t.performExit=function(){var r=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:jv.findDOMNode(this);if(!a||mE.disabled){this.safeSetState({status:o0},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:N_},function(){r.props.onExiting(l),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:o0},function(){r.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},t.setNextCallback=function(r){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,r(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:jv.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=u[0],p=u[1];this.props.addEndListener(f,p)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===J1)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=DC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jc.createElement(Ex.Provider,{value:null},typeof o=="function"?o(r,l):jc.cloneElement(jc.Children.only(o),l))},e}(jc.Component);Vu.contextType=Ex;Vu.propTypes={};function Np(){}Vu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Np,onEntering:Np,onEntered:Np,onExit:Np,onExiting:Np,onExited:Np};Vu.UNMOUNTED=J1;Vu.EXITED=o0;Vu.ENTERING=l0;Vu.ENTERED=im;Vu.EXITING=N_;function dB(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $5(n,e){var t=function(a){return e&&se.isValidElement(a)?e(a):a},i=Object.create(null);return n&&se.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function pB(n,e){n=n||{},e=e||{};function t(p){return p in e?e[p]:n[p]}var i=Object.create(null),r=[];for(var a in n)a in e?r.length&&(i[a]=r,r=[]):r.push(a);var o,l={};for(var u in e){if(i[u])for(o=0;o<i[u].length;o++){var f=i[u][o];l[i[u][o]]=t(f)}l[u]=t(u)}for(o=0;o<r.length;o++)l[r[o]]=t(r[o]);return l}function g0(n,e,t){return t[e]!=null?t[e]:n.props[e]}function mB(n,e){return $5(n.children,function(t){return se.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:g0(t,"appear",n),enter:g0(t,"enter",n),exit:g0(t,"exit",n)})})}function gB(n,e,t){var i=$5(n.children),r=pB(e,i);return Object.keys(r).forEach(function(a){var o=r[a];if(se.isValidElement(o)){var l=a in e,u=a in i,f=e[a],p=se.isValidElement(f)&&!f.props.in;u&&(!l||p)?r[a]=se.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:g0(o,"exit",n),enter:g0(o,"enter",n)}):!u&&l&&!p?r[a]=se.cloneElement(o,{in:!1}):u&&l&&se.isValidElement(f)&&(r[a]=se.cloneElement(o,{onExited:t.bind(null,o),in:f.props.in,exit:g0(o,"exit",n),enter:g0(o,"enter",n)}))}}),r}var yB=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},vB={component:"div",childFactory:function(e){return e}},eM=function(n){OC(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=a.handleExited.bind(dB(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,a){var o=a.children,l=a.handleExited,u=a.firstRender;return{children:u?mB(r,l):gB(r,o,l),firstRender:!1}},t.handleExited=function(r,a){var o=$5(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(l){var u=Qf({},l.children);return delete u[r.key],{children:u}}))},t.render=function(){var r=this.props,a=r.component,o=r.childFactory,l=DC(r,["component","childFactory"]),u=this.state.contextValue,f=yB(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?jc.createElement(Ex.Provider,{value:u},f):jc.createElement(Ex.Provider,{value:u},jc.createElement(a,l,f))},e}(jc.Component);eM.propTypes={};eM.defaultProps=vB;const gE={};function UC(n,e){const t=se.useRef(gE);return t.current===gE&&(t.current=n(e)),t}const xB=[];function bB(n){se.useEffect(n,xB)}class tM{constructor(){A1(this,"currentId",null);A1(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});A1(this,"disposeEffect",()=>this.clear)}static create(){return new tM}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function LC(){const n=UC(tM.create).current;return bB(n.disposeEffect),n}const zC=n=>n.scrollTop;function wx(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function SB(n){return cr("MuiPaper",n)}Zi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _B=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,a={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return ur(a,SB,r)},MB=hn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(fr(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),bm=se.forwardRef(function(e,t){var S;const i=_r({props:e,name:"MuiPaper"}),r=xy(),{className:a,component:o="div",elevation:l=1,square:u=!1,variant:f="elevation",...p}=i,g={...i,component:o,elevation:l,square:u,variant:f},v=_B(g);return Z.jsx(MB,{as:o,ownerState:g,className:Ln(v.root,a),ref:t,...p,style:{...f==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[l],...r.vars&&{"--Paper-overlay":(S=r.vars.overlays)==null?void 0:S[l]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${go("#fff",C_(l))}, ${go("#fff",C_(l))})`}},...p.style}})});function TB(n){return typeof n=="string"}function PC(n,e,t){return n===void 0||TB(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function BC(n,e,t){return typeof n=="function"?n(e,t):n}function og(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function yE(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function IC(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:a}=n;if(!e){const S=Ln(t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),T={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},A={...t,...r,...i};return S.length>0&&(A.className=S),Object.keys(T).length>0&&(A.style=T),{props:A,internalRef:void 0}}const o=og({...r,...i}),l=yE(i),u=yE(r),f=e(o),p=Ln(f==null?void 0:f.className,t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),g={...f==null?void 0:f.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},v={...f,...t,...u,...l};return p.length>0&&(v.className=p),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:f.ref}}function Nu(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...u}=e,{component:f,slots:p={[n]:void 0},slotProps:g={[n]:void 0},...v}=a,S=p[n]||i,T=BC(g[n],r),{props:{component:A,...w},internalRef:E}=IC({className:t,...u,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:T}),L=Gs(E,T==null?void 0:T.ref,e.ref),O=n==="root"?A||f:A,N=PC(S,{...n==="root"&&!f&&!p[n]&&o,...n!=="root"&&!p[n]&&o,...w,...O&&!l&&{as:O},...O&&l&&{component:O},ref:L},r);return[S,N]}function Ax(n){try{return n.matches(":focus-visible")}catch{}return!1}class Cx{constructor(){A1(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Cx}static use(){const e=UC(Cx.create).current,[t,i]=se.useState(!1);return e.shouldMount=t,e.setShouldMount=i,se.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=wB(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function EB(){return Cx.use()}function wB(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function AB(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:a,rippleSize:o,in:l,onExited:u,timeout:f}=n,[p,g]=se.useState(!1),v=Ln(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),S={width:o,height:o,top:-(o/2)+a,left:-(o/2)+r},T=Ln(t.child,p&&t.childLeaving,i&&t.childPulsate);return!l&&!p&&g(!0),se.useEffect(()=>{if(!l&&u!=null){const A=setTimeout(u,f);return()=>{clearTimeout(A)}}},[u,l,f]),Z.jsx("span",{className:v,style:S,children:Z.jsx("span",{className:T})})}const ec=Zi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),U_=550,CB=80,RB=py`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,DB=py`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,OB=py`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,NB=hn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),UB=hn(AB,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ec.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${RB};
    animation-duration: ${U_}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${ec.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${ec.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ec.childLeaving} {
    opacity: 0;
    animation-name: ${DB};
    animation-duration: ${U_}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${ec.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${OB};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,LB=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:a={},className:o,...l}=i,[u,f]=se.useState([]),p=se.useRef(0),g=se.useRef(null);se.useEffect(()=>{g.current&&(g.current(),g.current=null)},[u]);const v=se.useRef(!1),S=LC(),T=se.useRef(null),A=se.useRef(null),w=se.useCallback(N=>{const{pulsate:z,rippleX:I,rippleY:H,rippleSize:W,cb:V}=N;f(U=>[...U,Z.jsx(UB,{classes:{ripple:Ln(a.ripple,ec.ripple),rippleVisible:Ln(a.rippleVisible,ec.rippleVisible),ripplePulsate:Ln(a.ripplePulsate,ec.ripplePulsate),child:Ln(a.child,ec.child),childLeaving:Ln(a.childLeaving,ec.childLeaving),childPulsate:Ln(a.childPulsate,ec.childPulsate)},timeout:U_,pulsate:z,rippleX:I,rippleY:H,rippleSize:W},p.current)]),p.current+=1,g.current=V},[a]),E=se.useCallback((N={},z={},I=()=>{})=>{const{pulsate:H=!1,center:W=r||z.pulsate,fakeElement:V=!1}=z;if((N==null?void 0:N.type)==="mousedown"&&v.current){v.current=!1;return}(N==null?void 0:N.type)==="touchstart"&&(v.current=!0);const U=V?null:A.current,Q=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ee,te,oe;if(W||N===void 0||N.clientX===0&&N.clientY===0||!N.clientX&&!N.touches)ee=Math.round(Q.width/2),te=Math.round(Q.height/2);else{const{clientX:pe,clientY:j}=N.touches&&N.touches.length>0?N.touches[0]:N;ee=Math.round(pe-Q.left),te=Math.round(j-Q.top)}if(W)oe=Math.sqrt((2*Q.width**2+Q.height**2)/3),oe%2===0&&(oe+=1);else{const pe=Math.max(Math.abs((U?U.clientWidth:0)-ee),ee)*2+2,j=Math.max(Math.abs((U?U.clientHeight:0)-te),te)*2+2;oe=Math.sqrt(pe**2+j**2)}N!=null&&N.touches?T.current===null&&(T.current=()=>{w({pulsate:H,rippleX:ee,rippleY:te,rippleSize:oe,cb:I})},S.start(CB,()=>{T.current&&(T.current(),T.current=null)})):w({pulsate:H,rippleX:ee,rippleY:te,rippleSize:oe,cb:I})},[r,w,S]),L=se.useCallback(()=>{E({},{pulsate:!0})},[E]),O=se.useCallback((N,z)=>{if(S.clear(),(N==null?void 0:N.type)==="touchend"&&T.current){T.current(),T.current=null,S.start(0,()=>{O(N,z)});return}T.current=null,f(I=>I.length>0?I.slice(1):I),g.current=z},[S]);return se.useImperativeHandle(t,()=>({pulsate:L,start:E,stop:O}),[L,E,O]),Z.jsx(NB,{className:Ln(ec.root,a.root,o),ref:A,...l,children:Z.jsx(eM,{component:null,exit:!0,children:u})})});function zB(n){return cr("MuiButtonBase",n)}const PB=Zi("MuiButtonBase",["root","disabled","focusVisible"]),BB=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,o=ur({root:["root",e&&"disabled",t&&"focusVisible"]},zB,r);return t&&i&&(o.root+=` ${i}`),o},IB=hn("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${PB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:a=!1,children:o,className:l,component:u="button",disabled:f=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:v=!1,focusVisibleClassName:S,LinkComponent:T="a",onBlur:A,onClick:w,onContextMenu:E,onDragLeave:L,onFocus:O,onFocusVisible:N,onKeyDown:z,onKeyUp:I,onMouseDown:H,onMouseLeave:W,onMouseUp:V,onTouchEnd:U,onTouchMove:Q,onTouchStart:ee,tabIndex:te=0,TouchRippleProps:oe,touchRippleRef:pe,type:j,...ae}=i,le=se.useRef(null),fe=EB(),J=Gs(fe.ref,pe),[K,xe]=se.useState(!1);f&&K&&xe(!1),se.useImperativeHandle(r,()=>({focusVisible:()=>{xe(!0),le.current.focus()}}),[]);const Me=fe.shouldMount&&!p&&!f;se.useEffect(()=>{K&&v&&!p&&fe.pulsate()},[p,v,K,fe]);const he=Lf(fe,"start",H,g),Te=Lf(fe,"stop",E,g),ze=Lf(fe,"stop",L,g),Be=Lf(fe,"stop",V,g),ke=Lf(fe,"stop",ut=>{K&&ut.preventDefault(),W&&W(ut)},g),yt=Lf(fe,"start",ee,g),Qe=Lf(fe,"stop",U,g),Je=Lf(fe,"stop",Q,g),Xe=Lf(fe,"stop",ut=>{Ax(ut.target)||xe(!1),A&&A(ut)},!1),Mt=Ou(ut=>{le.current||(le.current=ut.currentTarget),Ax(ut.target)&&(xe(!0),N&&N(ut)),O&&O(ut)}),ce=()=>{const ut=le.current;return u&&u!=="button"&&!(ut.tagName==="A"&&ut.href)},rt=Ou(ut=>{v&&!ut.repeat&&K&&ut.key===" "&&fe.stop(ut,()=>{fe.start(ut)}),ut.target===ut.currentTarget&&ce()&&ut.key===" "&&ut.preventDefault(),z&&z(ut),ut.target===ut.currentTarget&&ce()&&ut.key==="Enter"&&!f&&(ut.preventDefault(),w&&w(ut))}),tt=Ou(ut=>{v&&ut.key===" "&&K&&!ut.defaultPrevented&&fe.stop(ut,()=>{fe.pulsate(ut)}),I&&I(ut),w&&ut.target===ut.currentTarget&&ce()&&ut.key===" "&&!ut.defaultPrevented&&w(ut)});let Ze=u;Ze==="button"&&(ae.href||ae.to)&&(Ze=T);const Le={};Ze==="button"?(Le.type=j===void 0?"button":j,Le.disabled=f):(!ae.href&&!ae.to&&(Le.role="button"),f&&(Le["aria-disabled"]=f));const ct=Gs(t,le),We={...i,centerRipple:a,component:u,disabled:f,disableRipple:p,disableTouchRipple:g,focusRipple:v,tabIndex:te,focusVisible:K},Ie=BB(We);return Z.jsxs(IB,{as:Ze,className:Ln(Ie.root,l),ownerState:We,onBlur:Xe,onClick:w,onContextMenu:Te,onFocus:Mt,onKeyDown:rt,onKeyUp:tt,onMouseDown:he,onMouseLeave:ke,onMouseUp:Be,onDragLeave:ze,onTouchEnd:Qe,onTouchMove:Je,onTouchStart:yt,ref:ct,tabIndex:f?-1:te,type:j,...Le,...ae,children:[o,Me?Z.jsx(LB,{ref:J,center:a,...oe}):null]})});function Lf(n,e,t,i=!1){return Ou(r=>(t&&t(r),i||n[e](r),!0))}function kB(n){return typeof n.main=="string"}function FB(n,e=[]){if(!kB(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Hu(n=[]){return([,e])=>e&&FB(e,n)}function VB(n){return cr("MuiCircularProgress",n)}Zi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const jh=44,L_=py`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,z_=py`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,HB=typeof L_!="string"?q5`
        animation: ${L_} 1.4s linear infinite;
      `:null,GB=typeof z_!="string"?q5`
        animation: ${z_} 1.4s ease-in-out infinite;
      `:null,jB=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,a={root:["root",t,`color${Vn(i)}`],svg:["svg"],circle:["circle",`circle${Vn(t)}`,r&&"circleDisableShrink"]};return ur(a,VB,e)},WB=hn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Vn(t.color)}`]]}})(fr(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:HB||{animation:`${L_} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Hu()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),qB=hn("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),XB=hn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Vn(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(fr(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:GB||{animation:`${z_} 1.4s ease-in-out infinite`}}]}))),YB=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiCircularProgress"}),{className:r,color:a="primary",disableShrink:o=!1,size:l=40,style:u,thickness:f=3.6,value:p=0,variant:g="indeterminate",...v}=i,S={...i,color:a,disableShrink:o,size:l,thickness:f,value:p,variant:g},T=jB(S),A={},w={},E={};if(g==="determinate"){const L=2*Math.PI*((jh-f)/2);A.strokeDasharray=L.toFixed(3),E["aria-valuenow"]=Math.round(p),A.strokeDashoffset=`${((100-p)/100*L).toFixed(3)}px`,w.transform="rotate(-90deg)"}return Z.jsx(WB,{className:Ln(T.root,r),style:{width:l,height:l,...w,...u},ownerState:S,ref:t,role:"progressbar",...E,...v,children:Z.jsx(qB,{className:T.svg,ownerState:S,viewBox:`${jh/2} ${jh/2} ${jh} ${jh}`,children:Z.jsx(XB,{className:T.circle,style:A,ownerState:S,cx:jh,cy:jh,r:(jh-f)/2,fill:"none",strokeWidth:f})})})});function KB(n){return cr("MuiTypography",n)}Zi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ZB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},QB=rB(),JB=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:a,classes:o}=n,l={root:["root",a,n.align!=="inherit"&&`align${Vn(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return ur(l,KB,o)},$B=hn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Vn(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(fr(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(Hu()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Vn(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),vE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fn=se.forwardRef(function(e,t){const{color:i,...r}=_r({props:e,name:"MuiTypography"}),a=!ZB[i],o=QB({...r,...a&&{color:i}}),{align:l="inherit",className:u,component:f,gutterBottom:p=!1,noWrap:g=!1,paragraph:v=!1,variant:S="body1",variantMapping:T=vE,...A}=o,w={...o,align:l,color:i,className:u,component:f,gutterBottom:p,noWrap:g,paragraph:v,variant:S,variantMapping:T},E=f||(v?"p":T[S]||vE[S])||"span",L=JB(w);return Z.jsx($B,{as:E,ref:t,className:Ln(L.root,u),...A,ownerState:w,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...A.style}})});function Hf(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...a}=n,o=r?{}:BC(t,i),{props:l,internalRef:u}=IC({...a,externalSlotProps:o}),f=Gs(u,o==null?void 0:o.ref,(g=n.additionalProps)==null?void 0:g.ref);return PC(e,{...l,ref:f},i)}function by(n){var e;return parseInt(se.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function eI(n){return typeof n=="function"?n():n}const tI=se.forwardRef(function(e,t){const{children:i,container:r,disablePortal:a=!1}=e,[o,l]=se.useState(null),u=Gs(se.isValidElement(i)?by(i):null,t);if(ku(()=>{a||l(eI(r)||document.body)},[r,a]),ku(()=>{if(o&&!a)return hE(t,o),()=>{hE(t,null)}},[t,o,a]),a){if(se.isValidElement(i)){const f={ref:u};return se.cloneElement(i,f)}return i}return o&&NC.createPortal(i,o)});function Wv(n){return parseInt(n,10)||0}const nI={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function iI(n){for(const e in n)return!1;return!0}function xE(n){return iI(n)||n.outerHeightStyle===0&&!n.overflowing}const rI=se.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:a=1,style:o,value:l,...u}=e,{current:f}=se.useRef(l!=null),p=se.useRef(null),g=Gs(t,p),v=se.useRef(null),S=se.useRef(null),T=se.useCallback(()=>{const O=p.current,N=S.current;if(!O||!N)return;const I=Jf(O).getComputedStyle(O);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};N.style.width=I.width,N.value=O.value||e.placeholder||"x",N.value.slice(-1)===`
`&&(N.value+=" ");const H=I.boxSizing,W=Wv(I.paddingBottom)+Wv(I.paddingTop),V=Wv(I.borderBottomWidth)+Wv(I.borderTopWidth),U=N.scrollHeight;N.value="x";const Q=N.scrollHeight;let ee=U;a&&(ee=Math.max(Number(a)*Q,ee)),r&&(ee=Math.min(Number(r)*Q,ee)),ee=Math.max(ee,Q);const te=ee+(H==="border-box"?W+V:0),oe=Math.abs(ee-U)<=1;return{outerHeightStyle:te,overflowing:oe}},[r,a,e.placeholder]),A=Ou(()=>{const O=p.current,N=T();if(!O||!N||xE(N))return!1;const z=N.outerHeightStyle;return v.current!=null&&v.current!==z}),w=se.useCallback(()=>{const O=p.current,N=T();if(!O||!N||xE(N))return;const z=N.outerHeightStyle;v.current!==z&&(v.current=z,O.style.height=`${z}px`),O.style.overflow=N.overflowing?"hidden":""},[T]),E=se.useRef(-1);ku(()=>{const O=CC(w),N=p==null?void 0:p.current;if(!N)return;const z=Jf(N);z.addEventListener("resize",O);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{A()&&(I.unobserve(N),cancelAnimationFrame(E.current),w(),E.current=requestAnimationFrame(()=>{I.observe(N)}))}),I.observe(N)),()=>{O.clear(),cancelAnimationFrame(E.current),z.removeEventListener("resize",O),I&&I.disconnect()}},[T,w,A]),ku(()=>{w()});const L=O=>{f||w();const N=O.target,z=N.value.length,I=N.value.endsWith(`
`),H=N.selectionStart===z;I&&H&&N.setSelectionRange(z,z),i&&i(O)};return Z.jsxs(se.Fragment,{children:[Z.jsx("textarea",{value:l,onChange:L,ref:g,rows:a,style:o,...u}),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:{...nI.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function _0(n){return typeof n=="string"}function Sy({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const nM=se.createContext(void 0);function _y(){return se.useContext(nM)}function bE(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function Rx(n,e=!1){return n&&(bE(n.value)&&n.value!==""||e&&bE(n.defaultValue)&&n.defaultValue!=="")}function aI(n){return n.startAdornment}function sI(n){return cr("MuiInputBase",n)}const Sm=Zi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var SE;const Yb=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Vn(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Kb=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},oI=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:a,focused:o,formControl:l,fullWidth:u,hiddenLabel:f,multiline:p,readOnly:g,size:v,startAdornment:S,type:T}=n,A={root:["root",`color${Vn(t)}`,i&&"disabled",r&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",v&&v!=="medium"&&`size${Vn(v)}`,p&&"multiline",S&&"adornedStart",a&&"adornedEnd",f&&"hiddenLabel",g&&"readOnly"],input:["input",i&&"disabled",T==="search"&&"inputTypeSearch",p&&"inputMultiline",v==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",S&&"inputAdornedStart",a&&"inputAdornedEnd",g&&"readOnly"]};return ur(A,sI,e)},Zb=hn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Yb})(fr(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Sm.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Qb=hn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Kb})(fr(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Sm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Sm.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),_E=iB({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),iM=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:a,autoFocus:o,className:l,color:u,components:f={},componentsProps:p={},defaultValue:g,disabled:v,disableInjectingGlobalStyles:S,endAdornment:T,error:A,fullWidth:w=!1,id:E,inputComponent:L="input",inputProps:O={},inputRef:N,margin:z,maxRows:I,minRows:H,multiline:W=!1,name:V,onBlur:U,onChange:Q,onClick:ee,onFocus:te,onKeyDown:oe,onKeyUp:pe,placeholder:j,readOnly:ae,renderSuffix:le,rows:fe,size:J,slotProps:K={},slots:xe={},startAdornment:Me,type:he="text",value:Te,...ze}=i,Be=O.value!=null?O.value:Te,{current:ke}=se.useRef(Be!=null),yt=se.useRef(),Qe=se.useCallback(vt=>{},[]),Je=Gs(yt,N,O.ref,Qe),[Xe,Mt]=se.useState(!1),ce=_y(),rt=Sy({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});rt.focused=ce?ce.focused:Xe,se.useEffect(()=>{!ce&&v&&Xe&&(Mt(!1),U&&U())},[ce,v,Xe,U]);const tt=ce&&ce.onFilled,Ze=ce&&ce.onEmpty,Le=se.useCallback(vt=>{Rx(vt)?tt&&tt():Ze&&Ze()},[tt,Ze]);ku(()=>{ke&&Le({value:Be})},[Be,Le,ke]);const ct=vt=>{te&&te(vt),O.onFocus&&O.onFocus(vt),ce&&ce.onFocus?ce.onFocus(vt):Mt(!0)},We=vt=>{U&&U(vt),O.onBlur&&O.onBlur(vt),ce&&ce.onBlur?ce.onBlur(vt):Mt(!1)},Ie=(vt,...Rt)=>{if(!ke){const Ye=vt.target||yt.current;if(Ye==null)throw new Error(Zf(1));Le({value:Ye.value})}O.onChange&&O.onChange(vt,...Rt),Q&&Q(vt,...Rt)};se.useEffect(()=>{Le(yt.current)},[]);const ut=vt=>{yt.current&&vt.currentTarget===vt.target&&yt.current.focus(),ee&&ee(vt)};let ue=L,$=O;W&&ue==="input"&&(fe?$={type:void 0,minRows:fe,maxRows:fe,...$}:$={type:void 0,maxRows:I,minRows:H,...$},ue=rI);const be=vt=>{Le(vt.animationName==="mui-auto-fill-cancel"?yt.current:{value:"x"})};se.useEffect(()=>{ce&&ce.setAdornedStart(!!Me)},[ce,Me]);const De={...i,color:rt.color||"primary",disabled:rt.disabled,endAdornment:T,error:rt.error,focused:rt.focused,formControl:ce,fullWidth:w,hiddenLabel:rt.hiddenLabel,multiline:W,size:rt.size,startAdornment:Me,type:he},Re=oI(De),Ne=xe.root||f.Root||Zb,at=K.root||p.root||{},nt=xe.input||f.Input||Qb;return $={...$,...K.input??p.input},Z.jsxs(se.Fragment,{children:[!S&&typeof _E=="function"&&(SE||(SE=Z.jsx(_E,{}))),Z.jsxs(Ne,{...at,ref:t,onClick:ut,...ze,...!_0(Ne)&&{ownerState:{...De,...at.ownerState}},className:Ln(Re.root,at.className,l,ae&&"MuiInputBase-readOnly"),children:[Me,Z.jsx(nM.Provider,{value:null,children:Z.jsx(nt,{"aria-invalid":rt.error,"aria-describedby":r,autoComplete:a,autoFocus:o,defaultValue:g,disabled:rt.disabled,id:E,onAnimationStart:be,name:V,placeholder:j,readOnly:ae,required:rt.required,rows:fe,value:Be,onKeyDown:oe,onKeyUp:pe,type:he,...$,...!_0(nt)&&{as:ue,ownerState:{...De,...$.ownerState}},ref:Je,className:Ln(Re.input,$.className,ae&&"MuiInputBase-readOnly"),onBlur:We,onChange:Ie,onFocus:ct})}),T,le?le({...rt,startAdornment:Me}):null]})]})});function lI(n){return cr("MuiInput",n)}const N1={...Sm,...Zi("MuiInput",["root","underline","input"])};function cI(n){return cr("MuiOutlinedInput",n)}const bu={...Sm,...Zi("MuiOutlinedInput",["root","notchedOutline","input"])};function uI(n){return cr("MuiFilledInput",n)}const Gd={...Sm,...Zi("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},fI=I0(Z.jsx("path",{d:"M7 10l5 5 5-5z"})),hI={entering:{opacity:1},entered:{opacity:1}},dI=se.forwardRef(function(e,t){const i=xy(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:u,in:f,onEnter:p,onEntered:g,onEntering:v,onExit:S,onExited:T,onExiting:A,style:w,timeout:E=r,TransitionComponent:L=Vu,...O}=e,N=se.useRef(null),z=Gs(N,by(l),t),I=oe=>pe=>{if(oe){const j=N.current;pe===void 0?oe(j):oe(j,pe)}},H=I(v),W=I((oe,pe)=>{zC(oe);const j=wx({style:w,timeout:E,easing:u},{mode:"enter"});oe.style.webkitTransition=i.transitions.create("opacity",j),oe.style.transition=i.transitions.create("opacity",j),p&&p(oe,pe)}),V=I(g),U=I(A),Q=I(oe=>{const pe=wx({style:w,timeout:E,easing:u},{mode:"exit"});oe.style.webkitTransition=i.transitions.create("opacity",pe),oe.style.transition=i.transitions.create("opacity",pe),S&&S(oe)}),ee=I(T),te=oe=>{a&&a(N.current,oe)};return Z.jsx(L,{appear:o,in:f,nodeRef:N,onEnter:W,onEntered:V,onEntering:H,onExit:Q,onExited:ee,onExiting:U,addEndListener:te,timeout:E,...O,children:(oe,{ownerState:pe,...j})=>se.cloneElement(l,{style:{opacity:0,visibility:oe==="exited"&&!f?"hidden":void 0,...hI[oe],...w,...l.props.style},ref:z,...j})})});function pI(n){return cr("MuiBackdrop",n)}Zi("MuiBackdrop",["root","invisible"]);const mI=n=>{const{classes:e,invisible:t}=n;return ur({root:["root",t&&"invisible"]},pI,e)},gI=hn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),yI=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiBackdrop"}),{children:r,className:a,component:o="div",invisible:l=!1,open:u,components:f={},componentsProps:p={},slotProps:g={},slots:v={},TransitionComponent:S,transitionDuration:T,...A}=i,w={...i,component:o,invisible:l},E=mI(w),L={transition:S,root:f.Root,...v},O={...p,...g},N={slots:L,slotProps:O},[z,I]=Nu("root",{elementType:gI,externalForwardedProps:N,className:Ln(E.root,a),ownerState:w}),[H,W]=Nu("transition",{elementType:dI,externalForwardedProps:N,ownerState:w});return Z.jsx(H,{in:u,timeout:T,...A,...W,children:Z.jsx(z,{"aria-hidden":!0,...I,classes:E,ref:t,children:r})})}),vI=Zi("MuiBox",["root"]),xI=AC(),un=Oz({themeId:fy,defaultTheme:xI,defaultClassName:vI.root,generateClassName:uC.generate});function bI(n){return cr("MuiButton",n)}const jd=Zi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),SI=se.createContext({}),_I=se.createContext(void 0),MI=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:a,loading:o,loadingPosition:l,classes:u}=n,f={root:["root",o&&"loading",a,`${a}${Vn(e)}`,`size${Vn(r)}`,`${a}Size${Vn(r)}`,`color${Vn(e)}`,t&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${Vn(l)}`],startIcon:["icon","startIcon",`iconSize${Vn(r)}`],endIcon:["icon","endIcon",`iconSize${Vn(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=ur(f,bI,u);return{...u,...p}},FC=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],TI=hn(kC,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Vn(t.color)}`],e[`size${Vn(t.size)}`],e[`${t.variant}Size${Vn(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(fr(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${jd.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${jd.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${jd.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${jd.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Hu()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:go(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:go(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:go(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:go(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:go(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${jd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${jd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${jd.loading}`]:{color:"transparent"}}}]}})),EI=hn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Vn(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...FC]})),wI=hn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Vn(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...FC]})),AI=hn("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ME=hn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),My=se.forwardRef(function(e,t){const i=se.useContext(SI),r=se.useContext(_I),a=Ug(i,e),o=_r({props:a,name:"MuiButton"}),{children:l,color:u="primary",component:f="button",className:p,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:S=!1,endIcon:T,focusVisibleClassName:A,fullWidth:w=!1,id:E,loading:L=null,loadingIndicator:O,loadingPosition:N="center",size:z="medium",startIcon:I,type:H,variant:W="text",...V}=o,U=RC(E),Q=O??Z.jsx(YB,{"aria-labelledby":U,color:"inherit",size:16}),ee={...o,color:u,component:f,disabled:g,disableElevation:v,disableFocusRipple:S,fullWidth:w,loading:L,loadingIndicator:Q,loadingPosition:N,size:z,type:H,variant:W},te=MI(ee),oe=(I||L&&N==="start")&&Z.jsx(EI,{className:te.startIcon,ownerState:ee,children:I||Z.jsx(ME,{className:te.loadingIconPlaceholder,ownerState:ee})}),pe=(T||L&&N==="end")&&Z.jsx(wI,{className:te.endIcon,ownerState:ee,children:T||Z.jsx(ME,{className:te.loadingIconPlaceholder,ownerState:ee})}),j=r||"",ae=typeof L=="boolean"?Z.jsx("span",{className:te.loadingWrapper,style:{display:"contents"},children:L&&Z.jsx(AI,{className:te.loadingIndicator,ownerState:ee,children:Q})}):null;return Z.jsxs(TI,{ownerState:ee,className:Ln(i.className,te.root,p,j),component:f,disabled:g||L,focusRipple:!S,focusVisibleClassName:Ln(te.focusVisible,A),ref:t,type:H,id:L?U:E,...V,classes:te,children:[oe,N!=="end"&&ae,l,N==="end"&&ae,pe]})});function CI(n){return cr("MuiCard",n)}Zi("MuiCard",["root"]);const RI=n=>{const{classes:e}=n;return ur({root:["root"]},CI,e)},DI=hn(bm,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),VC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiCard"}),{className:r,raised:a=!1,...o}=i,l={...i,raised:a},u=RI(l);return Z.jsx(DI,{className:Ln(u.root,r),elevation:a?8:void 0,ref:t,ownerState:l,...o})});function OI(n){return cr("MuiCardContent",n)}Zi("MuiCardContent",["root"]);const NI=n=>{const{classes:e}=n;return ur({root:["root"]},OI,e)},UI=hn("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),HC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiCardContent"}),{className:r,component:a="div",...o}=i,l={...i,component:a},u=NI(l);return Z.jsx(UI,{as:a,className:Ln(u.root,r),ownerState:l,ref:t,...o})});function GC(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function LI(n){const e=xo(n);return e.body===n?Jf(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function lg(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function TE(n){return parseInt(Jf(n).getComputedStyle(n).paddingRight,10)||0}function zI(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function EE(n,e,t,i,r){const a=[e,t,...i];[].forEach.call(n.children,o=>{const l=!a.includes(o),u=!zI(o);l&&u&&lg(o,r)})}function I3(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function PI(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(LI(i)){const o=GC(Jf(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${TE(i)+o}px`;const l=xo(i).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${TE(u)+o}px`})}let a;if(i.parentNode instanceof DocumentFragment)a=xo(i).body;else{const o=i.parentElement,l=Jf(i);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:i}t.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{t.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function BI(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class II{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&lg(e.modalRef,!1);const r=BI(t);EE(t,e.mount,e.modalRef,r,!0);const a=I3(this.containers,o=>o.container===t);return a!==-1?(this.containers[a].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=I3(this.containers,a=>a.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=PI(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=I3(this.containers,o=>o.modals.includes(e)),a=this.containers[r];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(i,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&lg(e.modalRef,t),EE(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&lg(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const kI=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function FI(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function VI(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function HI(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||VI(n))}function GI(n){const e=[],t=[];return Array.from(n.querySelectorAll(kI)).forEach((i,r)=>{const a=FI(i);a===-1||!HI(i)||(a===0?e.push(i):t.push({documentOrder:r,tabIndex:a,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function jI(){return!0}function WI(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:a=GI,isEnabled:o=jI,open:l}=n,u=se.useRef(!1),f=se.useRef(null),p=se.useRef(null),g=se.useRef(null),v=se.useRef(null),S=se.useRef(!1),T=se.useRef(null),A=Gs(by(e),T),w=se.useRef(null);se.useEffect(()=>{!l||!T.current||(S.current=!t)},[t,l]),se.useEffect(()=>{if(!l||!T.current)return;const O=xo(T.current);return T.current.contains(O.activeElement)||(T.current.hasAttribute("tabIndex")||T.current.setAttribute("tabIndex","-1"),S.current&&T.current.focus()),()=>{r||(g.current&&g.current.focus&&(u.current=!0,g.current.focus()),g.current=null)}},[l]),se.useEffect(()=>{if(!l||!T.current)return;const O=xo(T.current),N=H=>{w.current=H,!(i||!o()||H.key!=="Tab")&&O.activeElement===T.current&&H.shiftKey&&(u.current=!0,p.current&&p.current.focus())},z=()=>{var V,U;const H=T.current;if(H===null)return;if(!O.hasFocus()||!o()||u.current){u.current=!1;return}if(H.contains(O.activeElement)||i&&O.activeElement!==f.current&&O.activeElement!==p.current)return;if(O.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!S.current)return;let W=[];if((O.activeElement===f.current||O.activeElement===p.current)&&(W=a(T.current)),W.length>0){const Q=!!((V=w.current)!=null&&V.shiftKey&&((U=w.current)==null?void 0:U.key)==="Tab"),ee=W[0],te=W[W.length-1];typeof ee!="string"&&typeof te!="string"&&(Q?te.focus():ee.focus())}else H.focus()};O.addEventListener("focusin",z),O.addEventListener("keydown",N,!0);const I=setInterval(()=>{O.activeElement&&O.activeElement.tagName==="BODY"&&z()},50);return()=>{clearInterval(I),O.removeEventListener("focusin",z),O.removeEventListener("keydown",N,!0)}},[t,i,r,o,l,a]);const E=O=>{g.current===null&&(g.current=O.relatedTarget),S.current=!0,v.current=O.target;const N=e.props.onFocus;N&&N(O)},L=O=>{g.current===null&&(g.current=O.relatedTarget),S.current=!0};return Z.jsxs(se.Fragment,{children:[Z.jsx("div",{tabIndex:l?0:-1,onFocus:L,ref:f,"data-testid":"sentinelStart"}),se.cloneElement(e,{ref:A,onFocus:E}),Z.jsx("div",{tabIndex:l?0:-1,onFocus:L,ref:p,"data-testid":"sentinelEnd"})]})}function qI(n){return typeof n=="function"?n():n}function XI(n){return n?n.props.hasOwnProperty("in"):!1}const wE=()=>{},qv=new II;function YI(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:f,rootRef:p}=n,g=se.useRef({}),v=se.useRef(null),S=se.useRef(null),T=Gs(S,p),[A,w]=se.useState(!f),E=XI(l);let L=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(L=!1);const O=()=>xo(v.current),N=()=>(g.current.modalRef=S.current,g.current.mount=v.current,g.current),z=()=>{qv.mount(N(),{disableScrollLock:i}),S.current&&(S.current.scrollTop=0)},I=Ou(()=>{const pe=qI(e)||O().body;qv.add(N(),pe),S.current&&z()}),H=()=>qv.isTopModal(N()),W=Ou(pe=>{v.current=pe,pe&&(f&&H()?z():S.current&&lg(S.current,L))}),V=se.useCallback(()=>{qv.remove(N(),L)},[L]);se.useEffect(()=>()=>{V()},[V]),se.useEffect(()=>{f?I():(!E||!r)&&V()},[f,V,E,r,I]);const U=pe=>j=>{var ae;(ae=pe.onKeyDown)==null||ae.call(pe,j),!(j.key!=="Escape"||j.which===229||!H())&&(t||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},Q=pe=>j=>{var ae;(ae=pe.onClick)==null||ae.call(pe,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(pe={})=>{const j=og(n);delete j.onTransitionEnter,delete j.onTransitionExited;const ae={...j,...pe};return{role:"presentation",...ae,onKeyDown:U(ae),ref:T}},getBackdropProps:(pe={})=>{const j=pe;return{"aria-hidden":!0,...j,onClick:Q(j),open:f}},getTransitionProps:()=>{const pe=()=>{w(!1),a&&a()},j=()=>{w(!0),o&&o(),r&&V()};return{onEnter:fE(pe,(l==null?void 0:l.props.onEnter)??wE),onExited:fE(j,(l==null?void 0:l.props.onExited)??wE)}},rootRef:T,portalRef:W,isTopModal:H,exited:A,hasTransition:E}}function KI(n){return cr("MuiModal",n)}Zi("MuiModal",["root","hidden","backdrop"]);const ZI=n=>{const{open:e,exited:t,classes:i}=n;return ur({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},KI,i)},QI=hn("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(fr(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),JI=hn(yI,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),$I=se.forwardRef(function(e,t){const i=_r({name:"MuiModal",props:e}),{BackdropComponent:r=JI,BackdropProps:a,classes:o,className:l,closeAfterTransition:u=!1,children:f,container:p,component:g,components:v={},componentsProps:S={},disableAutoFocus:T=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:w=!1,disablePortal:E=!1,disableRestoreFocus:L=!1,disableScrollLock:O=!1,hideBackdrop:N=!1,keepMounted:z=!1,onClose:I,onTransitionEnter:H,onTransitionExited:W,open:V,slotProps:U={},slots:Q={},theme:ee,...te}=i,oe={...i,closeAfterTransition:u,disableAutoFocus:T,disableEnforceFocus:A,disableEscapeKeyDown:w,disablePortal:E,disableRestoreFocus:L,disableScrollLock:O,hideBackdrop:N,keepMounted:z},{getRootProps:pe,getBackdropProps:j,getTransitionProps:ae,portalRef:le,isTopModal:fe,exited:J,hasTransition:K}=YI({...oe,rootRef:t}),xe={...oe,exited:J},Me=ZI(xe),he={};if(f.props.tabIndex===void 0&&(he.tabIndex="-1"),K){const{onEnter:Qe,onExited:Je}=ae();he.onEnter=Qe,he.onExited=Je}const Te={slots:{root:v.Root,backdrop:v.Backdrop,...Q},slotProps:{...S,...U}},[ze,Be]=Nu("root",{ref:t,elementType:QI,externalForwardedProps:{...Te,...te,component:g},getSlotProps:pe,ownerState:xe,className:Ln(l,Me==null?void 0:Me.root,!xe.open&&xe.exited&&(Me==null?void 0:Me.hidden))}),[ke,yt]=Nu("backdrop",{ref:a==null?void 0:a.ref,elementType:r,externalForwardedProps:Te,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:Qe=>j({...Qe,onClick:Je=>{Qe!=null&&Qe.onClick&&Qe.onClick(Je)}}),className:Ln(a==null?void 0:a.className,Me==null?void 0:Me.backdrop),ownerState:xe});return!z&&!V&&(!K||J)?null:Z.jsx(tI,{ref:le,container:p,disablePortal:E,children:Z.jsxs(ze,{...Be,children:[!N&&r?Z.jsx(ke,{...yt}):null,Z.jsx(WI,{disableEnforceFocus:A,disableAutoFocus:T,disableRestoreFocus:L,isEnabled:fe,open:V,children:se.cloneElement(f,he)})]})})});function ek(n){return cr("MuiDivider",n)}const AE=Zi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),tk=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:a,orientation:o,textAlign:l,variant:u}=n;return ur({root:["root",e&&"absolute",u,a&&"light",o==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},ek,i)},nk=hn("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(fr(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:go(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ik=hn("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(fr(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),_m=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiDivider"}),{absolute:r=!1,children:a,className:o,orientation:l="horizontal",component:u=a||l==="vertical"?"div":"hr",flexItem:f=!1,light:p=!1,role:g=u!=="hr"?"separator":void 0,textAlign:v="center",variant:S="fullWidth",...T}=i,A={...i,absolute:r,component:u,flexItem:f,light:p,orientation:l,role:g,textAlign:v,variant:S},w=tk(A);return Z.jsx(nk,{as:u,className:Ln(w.root,o),role:g,ref:t,ownerState:A,"aria-orientation":g==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,...T,children:a?Z.jsx(ik,{className:w.wrapper,ownerState:A,children:a}):null})});_m&&(_m.muiSkipListHighlight=!0);const rk=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:a,hiddenLabel:o,multiline:l}=n,u={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",a==="small"&&`size${Vn(a)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},f=ur(u,uI,e);return{...e,...f}},ak=hn(Zb,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Yb(n,e),!t.disableUnderline&&e.underline]}})(fr(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Gd.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Gd.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gd.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gd.disabled}, .${Gd.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Gd.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Hu()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),sk=hn(Qb,{name:"MuiFilledInput",slot:"Input",overridesResolver:Kb})(fr(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),jC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:a={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:f="input",multiline:p=!1,slotProps:g,slots:v={},type:S="text",...T}=i,A={...i,disableUnderline:r,fullWidth:l,inputComponent:f,multiline:p,type:S},w=rk(i),E={root:{ownerState:A},input:{ownerState:A}},L=g??o?is(E,g??o):E,O=v.root??a.Root??ak,N=v.input??a.Input??sk;return Z.jsx(iM,{slots:{root:O,input:N},slotProps:L,fullWidth:l,inputComponent:f,multiline:p,ref:t,type:S,...T,classes:w})});jC.muiName="Input";function ok(n){return cr("MuiFormControl",n)}Zi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const lk=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${Vn(t)}`,i&&"fullWidth"]};return ur(r,ok,e)},ck=hn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Vn(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),uk=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiFormControl"}),{children:r,className:a,color:o="primary",component:l="div",disabled:u=!1,error:f=!1,focused:p,fullWidth:g=!1,hiddenLabel:v=!1,margin:S="none",required:T=!1,size:A="medium",variant:w="outlined",...E}=i,L={...i,color:o,component:l,disabled:u,error:f,fullWidth:g,hiddenLabel:v,margin:S,required:T,size:A,variant:w},O=lk(L),[N,z]=se.useState(()=>{let pe=!1;return r&&se.Children.forEach(r,j=>{if(!lx(j,["Input","Select"]))return;const ae=lx(j,["Select"])?j.props.input:j;ae&&aI(ae.props)&&(pe=!0)}),pe}),[I,H]=se.useState(()=>{let pe=!1;return r&&se.Children.forEach(r,j=>{lx(j,["Input","Select"])&&(Rx(j.props,!0)||Rx(j.props.inputProps,!0))&&(pe=!0)}),pe}),[W,V]=se.useState(!1);u&&W&&V(!1);const U=p!==void 0&&!u?p:W;let Q;se.useRef(!1);const ee=se.useCallback(()=>{H(!0)},[]),te=se.useCallback(()=>{H(!1)},[]),oe=se.useMemo(()=>({adornedStart:N,setAdornedStart:z,color:o,disabled:u,error:f,filled:I,focused:U,fullWidth:g,hiddenLabel:v,size:A,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},onEmpty:te,onFilled:ee,registerEffect:Q,required:T,variant:w}),[N,o,u,f,I,U,g,v,Q,te,ee,T,A,w]);return Z.jsx(nM.Provider,{value:oe,children:Z.jsx(ck,{as:l,ownerState:L,className:Ln(O.root,a),ref:t,...E,children:r})})});function fk(n){return cr("MuiFormLabel",n)}const cg=Zi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),hk=n=>{const{classes:e,color:t,focused:i,disabled:r,error:a,filled:o,required:l}=n,u={root:["root",`color${Vn(t)}`,r&&"disabled",a&&"error",o&&"filled",i&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return ur(u,fk,e)},dk=hn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(fr(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Hu()).map(([e])=>({props:{color:e},style:{[`&.${cg.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${cg.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${cg.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),pk=hn("span",{name:"MuiFormLabel",slot:"Asterisk"})(fr(({theme:n})=>({[`&.${cg.error}`]:{color:(n.vars||n).palette.error.main}}))),mk=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiFormLabel"}),{children:r,className:a,color:o,component:l="label",disabled:u,error:f,filled:p,focused:g,required:v,...S}=i,T=_y(),A=Sy({props:i,muiFormControl:T,states:["color","required","focused","disabled","error","filled"]}),w={...i,color:A.color||"primary",component:l,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},E=hk(w);return Z.jsxs(dk,{as:l,ownerState:w,className:Ln(E.root,a),ref:t,...S,children:[r,A.required&&Z.jsxs(pk,{ownerState:w,"aria-hidden":!0,className:E.asterisk,children:[" ","*"]})]})}),rm=vP({createStyledComponent:hn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>_r({props:n,name:"MuiGrid"}),useTheme:xy});function P_(n){return`scale(${n}, ${n**2})`}const gk={entering:{opacity:1,transform:P_(1)},entered:{opacity:1,transform:"none"}},k3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),B_=se.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:a,easing:o,in:l,onEnter:u,onEntered:f,onEntering:p,onExit:g,onExited:v,onExiting:S,style:T,timeout:A="auto",TransitionComponent:w=Vu,...E}=e,L=LC(),O=se.useRef(),N=xy(),z=se.useRef(null),I=Gs(z,by(a),t),H=pe=>j=>{if(pe){const ae=z.current;j===void 0?pe(ae):pe(ae,j)}},W=H(p),V=H((pe,j)=>{zC(pe);const{duration:ae,delay:le,easing:fe}=wx({style:T,timeout:A,easing:o},{mode:"enter"});let J;A==="auto"?(J=N.transitions.getAutoHeightDuration(pe.clientHeight),O.current=J):J=ae,pe.style.transition=[N.transitions.create("opacity",{duration:J,delay:le}),N.transitions.create("transform",{duration:k3?J:J*.666,delay:le,easing:fe})].join(","),u&&u(pe,j)}),U=H(f),Q=H(S),ee=H(pe=>{const{duration:j,delay:ae,easing:le}=wx({style:T,timeout:A,easing:o},{mode:"exit"});let fe;A==="auto"?(fe=N.transitions.getAutoHeightDuration(pe.clientHeight),O.current=fe):fe=j,pe.style.transition=[N.transitions.create("opacity",{duration:fe,delay:ae}),N.transitions.create("transform",{duration:k3?fe:fe*.666,delay:k3?ae:ae||fe*.333,easing:le})].join(","),pe.style.opacity=0,pe.style.transform=P_(.75),g&&g(pe)}),te=H(v),oe=pe=>{A==="auto"&&L.start(O.current||0,pe),i&&i(z.current,pe)};return Z.jsx(w,{appear:r,in:l,nodeRef:z,onEnter:V,onEntered:U,onEntering:W,onExit:ee,onExited:te,onExiting:Q,addEndListener:oe,timeout:A==="auto"?null:A,...E,children:(pe,{ownerState:j,...ae})=>se.cloneElement(a,{style:{opacity:0,transform:P_(.75),visibility:pe==="exited"&&!l?"hidden":void 0,...gk[pe],...T,...a.props.style},ref:I,...ae})})});B_&&(B_.muiSupportAuto=!0);const yk=n=>{const{classes:e,disableUnderline:t}=n,r=ur({root:["root",!t&&"underline"],input:["input"]},lI,e);return{...e,...r}},vk=hn(Zb,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Yb(n,e),!t.disableUnderline&&e.underline]}})(fr(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${N1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${N1.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${N1.disabled}, .${N1.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${N1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Hu()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),xk=hn(Qb,{name:"MuiInput",slot:"Input",overridesResolver:Kb})({}),WC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:a={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:f=!1,slotProps:p,slots:g={},type:v="text",...S}=i,T=yk(i),w={root:{ownerState:{disableUnderline:r}}},E=p??o?is(p??o,w):w,L=g.root??a.Root??vk,O=g.input??a.Input??xk;return Z.jsx(iM,{slots:{root:L,input:O},slotProps:E,fullWidth:l,inputComponent:u,multiline:f,ref:t,type:v,...S,classes:T})});WC.muiName="Input";function bk(n){return cr("MuiInputLabel",n)}Zi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Sk=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:a,variant:o,required:l}=n,u={root:["root",t&&"formControl",!a&&"animated",r&&"shrink",i&&i!=="medium"&&`size${Vn(i)}`,o],asterisk:[l&&"asterisk"]},f=ur(u,bk,e);return{...e,...f}},_k=hn(mk,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${cg.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(fr(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Mk=se.forwardRef(function(e,t){const i=_r({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:a,shrink:o,variant:l,className:u,...f}=i,p=_y();let g=o;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const v=Sy({props:i,muiFormControl:p,states:["size","variant","required","focused"]}),S={...i,disableAnimation:r,formControl:p,shrink:g,size:v.size,variant:v.variant,required:v.required,focused:v.focused},T=Sk(S);return Z.jsx(_k,{"data-shrink":g,ref:t,className:Ln(T.root,u),...f,ownerState:S,classes:T})}),I_=se.createContext({});function Tk(n){return cr("MuiList",n)}Zi("MuiList",["root","padding","dense","subheader"]);const Ek=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return ur({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},Tk,e)},wk=hn("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),Ak=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiList"}),{children:r,className:a,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:f,...p}=i,g=se.useMemo(()=>({dense:l}),[l]),v={...i,component:o,dense:l,disablePadding:u},S=Ek(v);return Z.jsx(I_.Provider,{value:g,children:Z.jsxs(wk,{as:o,className:Ln(S.root,a),ref:t,ownerState:v,...p,children:[f,r]})})}),CE=Zi("MuiListItemIcon",["root","alignItemsFlexStart"]),RE=Zi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function F3(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function DE(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function qC(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function U1(n,e,t,i,r,a){let o=!1,l=r(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(o)return!1;o=!0}const u=i?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!qC(l,a)||u)l=r(n,l,t);else return l.focus(),!0}return!1}const Ck=se.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:f=!1,onKeyDown:p,variant:g="selectedMenu",...v}=e,S=se.useRef(null),T=se.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ku(()=>{r&&S.current.focus()},[r]),se.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(O,{direction:N})=>{const z=!S.current.style.width;if(O.clientHeight<S.current.clientHeight&&z){const I=`${GC(Jf(O))}px`;S.current.style[N==="rtl"?"paddingLeft":"paddingRight"]=I,S.current.style.width=`calc(100% + ${I})`}return S.current}}),[]);const A=O=>{const N=S.current,z=O.key;if(O.ctrlKey||O.metaKey||O.altKey){p&&p(O);return}const H=xo(N).activeElement;if(z==="ArrowDown")O.preventDefault(),U1(N,H,f,u,F3);else if(z==="ArrowUp")O.preventDefault(),U1(N,H,f,u,DE);else if(z==="Home")O.preventDefault(),U1(N,null,f,u,F3);else if(z==="End")O.preventDefault(),U1(N,null,f,u,DE);else if(z.length===1){const W=T.current,V=z.toLowerCase(),U=performance.now();W.keys.length>0&&(U-W.lastTime>500?(W.keys=[],W.repeating=!0,W.previousKeyMatched=!0):W.repeating&&V!==W.keys[0]&&(W.repeating=!1)),W.lastTime=U,W.keys.push(V);const Q=H&&!W.repeating&&qC(H,W);W.previousKeyMatched&&(Q||U1(N,H,!1,u,F3,W))?O.preventDefault():W.previousKeyMatched=!1}p&&p(O)},w=Gs(S,t);let E=-1;se.Children.forEach(o,(O,N)=>{if(!se.isValidElement(O)){E===N&&(E+=1,E>=o.length&&(E=-1));return}O.props.disabled||(g==="selectedMenu"&&O.props.selected||E===-1)&&(E=N),E===N&&(O.props.disabled||O.props.muiSkipListHighlight||O.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const L=se.Children.map(o,(O,N)=>{if(N===E){const z={};return a&&(z.autoFocus=!0),O.props.tabIndex===void 0&&g==="selectedMenu"&&(z.tabIndex=0),se.cloneElement(O,z)}return O});return Z.jsx(Ak,{role:"menu",ref:w,className:l,onKeyDown:A,tabIndex:r?0:-1,...v,children:L})});function Rk(n){return cr("MuiPopover",n)}Zi("MuiPopover",["root","paper"]);function OE(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function NE(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function UE(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xv(n){return typeof n=="function"?n():n}const Dk=n=>{const{classes:e}=n;return ur({root:["root"],paper:["paper"]},Rk,e)},Ok=hn($I,{name:"MuiPopover",slot:"Root"})({}),XC=hn(bm,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Nk=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiPopover"}),{action:r,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:f,className:p,container:g,elevation:v=8,marginThreshold:S=16,open:T,PaperProps:A={},slots:w={},slotProps:E={},transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:O,transitionDuration:N="auto",TransitionProps:z={},disableScrollLock:I=!1,...H}=i,W=se.useRef(),V={...i,anchorOrigin:o,anchorReference:u,elevation:v,marginThreshold:S,transformOrigin:L,TransitionComponent:O,transitionDuration:N,TransitionProps:z},U=Dk(V),Q=se.useCallback(()=>{if(u==="anchorPosition")return l;const Qe=Xv(a),Xe=(Qe&&Qe.nodeType===1?Qe:xo(W.current).body).getBoundingClientRect();return{top:Xe.top+OE(Xe,o.vertical),left:Xe.left+NE(Xe,o.horizontal)}},[a,o.horizontal,o.vertical,l,u]),ee=se.useCallback(Qe=>({vertical:OE(Qe,L.vertical),horizontal:NE(Qe,L.horizontal)}),[L.horizontal,L.vertical]),te=se.useCallback(Qe=>{const Je={width:Qe.offsetWidth,height:Qe.offsetHeight},Xe=ee(Je);if(u==="none")return{top:null,left:null,transformOrigin:UE(Xe)};const Mt=Q();let ce=Mt.top-Xe.vertical,rt=Mt.left-Xe.horizontal;const tt=ce+Je.height,Ze=rt+Je.width,Le=Jf(Xv(a)),ct=Le.innerHeight-S,We=Le.innerWidth-S;if(S!==null&&ce<S){const Ie=ce-S;ce-=Ie,Xe.vertical+=Ie}else if(S!==null&&tt>ct){const Ie=tt-ct;ce-=Ie,Xe.vertical+=Ie}if(S!==null&&rt<S){const Ie=rt-S;rt-=Ie,Xe.horizontal+=Ie}else if(Ze>We){const Ie=Ze-We;rt-=Ie,Xe.horizontal+=Ie}return{top:`${Math.round(ce)}px`,left:`${Math.round(rt)}px`,transformOrigin:UE(Xe)}},[a,u,Q,ee,S]),[oe,pe]=se.useState(T),j=se.useCallback(()=>{const Qe=W.current;if(!Qe)return;const Je=te(Qe);Je.top!==null&&Qe.style.setProperty("top",Je.top),Je.left!==null&&(Qe.style.left=Je.left),Qe.style.transformOrigin=Je.transformOrigin,pe(!0)},[te]);se.useEffect(()=>(I&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)),[a,I,j]);const ae=()=>{j()},le=()=>{pe(!1)};se.useEffect(()=>{T&&j()}),se.useImperativeHandle(r,()=>T?{updatePosition:()=>{j()}}:null,[T,j]),se.useEffect(()=>{if(!T)return;const Qe=CC(()=>{j()}),Je=Jf(Xv(a));return Je.addEventListener("resize",Qe),()=>{Qe.clear(),Je.removeEventListener("resize",Qe)}},[a,T,j]);let fe=N;const J={slots:{transition:O,...w},slotProps:{transition:z,paper:A,...E}},[K,xe]=Nu("transition",{elementType:B_,externalForwardedProps:J,ownerState:V,getSlotProps:Qe=>({...Qe,onEntering:(Je,Xe)=>{var Mt;(Mt=Qe.onEntering)==null||Mt.call(Qe,Je,Xe),ae()},onExited:Je=>{var Xe;(Xe=Qe.onExited)==null||Xe.call(Qe,Je),le()}}),additionalProps:{appear:!0,in:T}});N==="auto"&&!K.muiSupportAuto&&(fe=void 0);const Me=g||(a?xo(Xv(a)).body:void 0),[he,{slots:Te,slotProps:ze,...Be}]=Nu("root",{ref:t,elementType:Ok,externalForwardedProps:{...J,...H},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:w.backdrop},slotProps:{backdrop:fB(typeof E.backdrop=="function"?E.backdrop(V):E.backdrop,{invisible:!0})},container:Me,open:T},ownerState:V,className:Ln(U.root,p)}),[ke,yt]=Nu("paper",{ref:W,className:U.paper,elementType:XC,externalForwardedProps:J,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:oe?void 0:{opacity:0}},ownerState:V});return Z.jsx(he,{...Be,...!_0(he)&&{slots:Te,slotProps:ze,disableScrollLock:I},children:Z.jsx(K,{...xe,timeout:fe,children:Z.jsx(ke,{...yt,children:f})})})});function Uk(n){return cr("MuiMenu",n)}Zi("MuiMenu",["root","paper","list"]);const Lk={vertical:"top",horizontal:"right"},zk={vertical:"top",horizontal:"left"},Pk=n=>{const{classes:e}=n;return ur({root:["root"],paper:["paper"],list:["list"]},Uk,e)},Bk=hn(Nk,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),Ik=hn(XC,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),kk=hn(Ck,{name:"MuiMenu",slot:"List"})({outline:0}),Fk=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:a,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:f,open:p,PaperProps:g={},PopoverClasses:v,transitionDuration:S="auto",TransitionProps:{onEntering:T,...A}={},variant:w="selectedMenu",slots:E={},slotProps:L={},...O}=i,N=SC(),z={...i,autoFocus:r,disableAutoFocusItem:l,MenuListProps:u,onEntering:T,PaperProps:g,transitionDuration:S,TransitionProps:A,variant:w},I=Pk(z),H=r&&!l&&p,W=se.useRef(null),V=(fe,J)=>{W.current&&W.current.adjustStyleForScrollbar(fe,{direction:N?"rtl":"ltr"}),T&&T(fe,J)},U=fe=>{fe.key==="Tab"&&(fe.preventDefault(),f&&f(fe,"tabKeyDown"))};let Q=-1;se.Children.map(a,(fe,J)=>{se.isValidElement(fe)&&(fe.props.disabled||(w==="selectedMenu"&&fe.props.selected||Q===-1)&&(Q=J))});const ee={slots:E,slotProps:{list:u,transition:A,paper:g,...L}},te=Hf({elementType:E.root,externalSlotProps:L.root,ownerState:z,className:[I.root,o]}),[oe,pe]=Nu("paper",{className:I.paper,elementType:Ik,externalForwardedProps:ee,shouldForwardComponentProp:!0,ownerState:z}),[j,ae]=Nu("list",{className:Ln(I.list,u.className),elementType:kk,shouldForwardComponentProp:!0,externalForwardedProps:ee,getSlotProps:fe=>({...fe,onKeyDown:J=>{var K;U(J),(K=fe.onKeyDown)==null||K.call(fe,J)}}),ownerState:z}),le=typeof ee.slotProps.transition=="function"?ee.slotProps.transition(z):ee.slotProps.transition;return Z.jsx(Bk,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?Lk:zk,slots:{root:E.root,paper:oe,backdrop:E.backdrop,...E.transition&&{transition:E.transition}},slotProps:{root:te,paper:pe,backdrop:typeof L.backdrop=="function"?L.backdrop(z):L.backdrop,transition:{...le,onEntering:(...fe)=>{var J;V(...fe),(J=le==null?void 0:le.onEntering)==null||J.call(le,...fe)}}},open:p,ref:t,transitionDuration:S,ownerState:z,...O,classes:v,children:Z.jsx(j,{actions:W,autoFocus:r&&(Q===-1||l),autoFocusItem:H,variant:w,...ae,children:a})})});function Vk(n){return cr("MuiMenuItem",n)}const L1=Zi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Hk=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},Gk=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:a,classes:o}=n,u=ur({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",a&&"selected"]},Vk,o);return{...o,...u}},jk=hn(kC,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Hk})(fr(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L1.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:go(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${L1.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:go(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${L1.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:go(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:go(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${L1.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${L1.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${AE.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${AE.inset}`]:{marginLeft:52},[`& .${RE.root}`]:{marginTop:0,marginBottom:0},[`& .${RE.inset}`]:{paddingLeft:36},[`& .${CE.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${CE.root} svg`]:{fontSize:"1.25rem"}}}]}))),V3=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:f,role:p="menuitem",tabIndex:g,className:v,...S}=i,T=se.useContext(I_),A=se.useMemo(()=>({dense:o||T.dense||!1,disableGutters:u}),[T.dense,o,u]),w=se.useRef(null);ku(()=>{r&&w.current&&w.current.focus()},[r]);const E={...i,dense:A.dense,divider:l,disableGutters:u},L=Gk(i),O=Gs(w,t);let N;return i.disabled||(N=g!==void 0?g:-1),Z.jsx(I_.Provider,{value:A,children:Z.jsx(jk,{ref:O,role:p,tabIndex:N,component:a,focusVisibleClassName:Ln(L.focusVisible,f),className:Ln(L.root,v),...S,ownerState:E,classes:L})})});function Wk(n){return cr("MuiNativeSelect",n)}const rM=Zi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),qk=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:a,error:o}=n,l={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${Vn(t)}`,a&&"iconOpen",i&&"disabled"]};return ur(l,Wk,e)},YC=hn("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${rM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Xk=hn(YC,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:uc,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${rM.multiple}`]:e.multiple}]}})({}),KC=hn("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${rM.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Yk=hn(KC,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Vn(t.variant)}`],t.open&&e.iconOpen]}})({}),Kk=se.forwardRef(function(e,t){const{className:i,disabled:r,error:a,IconComponent:o,inputRef:l,variant:u="standard",...f}=e,p={...e,disabled:r,variant:u,error:a},g=qk(p);return Z.jsxs(se.Fragment,{children:[Z.jsx(Xk,{ownerState:p,className:Ln(g.select,i),disabled:r,ref:l||t,...f}),e.multiple?null:Z.jsx(Yk,{as:o,ownerState:p,className:g.icon})]})});var LE;const Zk=hn("fieldset",{shouldForwardProp:uc})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Qk=hn("legend",{shouldForwardProp:uc})(fr(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function Jk(n){const{children:e,classes:t,className:i,label:r,notched:a,...o}=n,l=r!=null&&r!=="",u={...n,notched:a,withLabel:l};return Z.jsx(Zk,{"aria-hidden":!0,className:i,ownerState:u,...o,children:Z.jsx(Qk,{ownerState:u,children:l?Z.jsx("span",{children:r}):LE||(LE=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const $k=n=>{const{classes:e}=n,i=ur({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},cI,e);return{...e,...i}},eF=hn(Zb,{shouldForwardProp:n=>uc(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Yb})(fr(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${bu.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${bu.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${bu.focused} .${bu.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Hu()).map(([t])=>({props:{color:t},style:{[`&.${bu.focused} .${bu.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${bu.error} .${bu.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${bu.disabled} .${bu.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),tF=hn(Jk,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(fr(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),nF=hn(Qb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Kb})(fr(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),ZC=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:a=!1,inputComponent:o="input",label:l,multiline:u=!1,notched:f,slots:p={},slotProps:g={},type:v="text",...S}=i,T=$k(i),A=_y(),w=Sy({props:i,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E={...i,color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:A,fullWidth:a,hiddenLabel:w.hiddenLabel,multiline:u,size:w.size,type:v},L=p.root??r.Root??eF,O=p.input??r.Input??nF,[N,z]=Nu("notchedOutline",{elementType:tF,className:T.notchedOutline,shouldForwardComponentProp:!0,ownerState:E,externalForwardedProps:{slots:p,slotProps:g},additionalProps:{label:l!=null&&l!==""&&w.required?Z.jsxs(se.Fragment,{children:[l," ","*"]}):l}});return Z.jsx(iM,{slots:{root:L,input:O},slotProps:g,renderSuffix:I=>Z.jsx(N,{...z,notched:typeof f<"u"?f:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:a,inputComponent:o,multiline:u,ref:t,type:v,...S,classes:{...T,notchedOutline:null}})});ZC.muiName="Input";const iF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function QC(n){return cr("MuiSelect",n)}const z1=Zi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var zE;const rF=hn(YC,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${z1.select}`]:e.select},{[`&.${z1.select}`]:e[t.variant]},{[`&.${z1.error}`]:e.error},{[`&.${z1.multiple}`]:e.multiple}]}})({[`&.${z1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),aF=hn(KC,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Vn(t.variant)}`],t.open&&e.iconOpen]}})({}),sF=hn("input",{shouldForwardProp:n=>Xb(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function PE(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function oF(n){return n==null||typeof n=="string"&&!n.trim()}const lF=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:a,error:o}=n,l={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${Vn(t)}`,a&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return ur(l,QC,e)},cF=se.forwardRef(function(e,t){var ot;const{"aria-describedby":i,"aria-label":r,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:f,defaultValue:p,disabled:g,displayEmpty:v,error:S=!1,IconComponent:T,inputRef:A,labelId:w,MenuProps:E={},multiple:L,name:O,onBlur:N,onChange:z,onClose:I,onFocus:H,onOpen:W,open:V,readOnly:U,renderValue:Q,required:ee,SelectDisplayProps:te={},tabIndex:oe,type:pe,value:j,variant:ae="standard",...le}=e,[fe,J]=D_({controlled:j,default:p,name:"Select"}),[K,xe]=D_({controlled:V,default:f,name:"Select"}),Me=se.useRef(null),he=se.useRef(null),[Te,ze]=se.useState(null),{current:Be}=se.useRef(V!=null),[ke,yt]=se.useState(),Qe=Gs(t,A),Je=se.useCallback(Ce=>{he.current=Ce,Ce&&ze(Ce)},[]),Xe=Te==null?void 0:Te.parentNode;se.useImperativeHandle(Qe,()=>({focus:()=>{he.current.focus()},node:Me.current,value:fe}),[fe]),se.useEffect(()=>{f&&K&&Te&&!Be&&(yt(o?null:Xe.clientWidth),he.current.focus())},[Te,o]),se.useEffect(()=>{a&&he.current.focus()},[a]),se.useEffect(()=>{if(!w)return;const Ce=xo(he.current).getElementById(w);if(Ce){const Ee=()=>{getSelection().isCollapsed&&he.current.focus()};return Ce.addEventListener("click",Ee),()=>{Ce.removeEventListener("click",Ee)}}},[w]);const Mt=(Ce,Ee)=>{Ce?W&&W(Ee):I&&I(Ee),Be||(yt(o?null:Xe.clientWidth),xe(Ce))},ce=Ce=>{Ce.button===0&&(Ce.preventDefault(),he.current.focus(),Mt(!0,Ce))},rt=Ce=>{Mt(!1,Ce)},tt=se.Children.toArray(l),Ze=Ce=>{const Ee=tt.find(Fe=>Fe.props.value===Ce.target.value);Ee!==void 0&&(J(Ee.props.value),z&&z(Ce,Ee))},Le=Ce=>Ee=>{let Fe;if(Ee.currentTarget.hasAttribute("tabindex")){if(L){Fe=Array.isArray(fe)?fe.slice():[];const wt=fe.indexOf(Ce.props.value);wt===-1?Fe.push(Ce.props.value):Fe.splice(wt,1)}else Fe=Ce.props.value;if(Ce.props.onClick&&Ce.props.onClick(Ee),fe!==Fe&&(J(Fe),z)){const wt=Ee.nativeEvent||Ee,Ae=new wt.constructor(wt.type,wt);Object.defineProperty(Ae,"target",{writable:!0,value:{value:Fe,name:O}}),z(Ae,Ce)}L||Mt(!1,Ee)}},ct=Ce=>{U||[" ","ArrowUp","ArrowDown","Enter"].includes(Ce.key)&&(Ce.preventDefault(),Mt(!0,Ce))},We=Te!==null&&K,Ie=Ce=>{!We&&N&&(Object.defineProperty(Ce,"target",{writable:!0,value:{value:fe,name:O}}),N(Ce))};delete le["aria-invalid"];let ut,ue;const $=[];let be=!1;(Rx({value:fe})||v)&&(Q?ut=Q(fe):be=!0);const De=tt.map(Ce=>{if(!se.isValidElement(Ce))return null;let Ee;if(L){if(!Array.isArray(fe))throw new Error(Zf(2));Ee=fe.some(Fe=>PE(Fe,Ce.props.value)),Ee&&be&&$.push(Ce.props.children)}else Ee=PE(fe,Ce.props.value),Ee&&be&&(ue=Ce.props.children);return se.cloneElement(Ce,{"aria-selected":Ee?"true":"false",onClick:Le(Ce),onKeyUp:Fe=>{Fe.key===" "&&Fe.preventDefault(),Ce.props.onKeyUp&&Ce.props.onKeyUp(Fe)},role:"option",selected:Ee,value:void 0,"data-value":Ce.props.value})});be&&(L?$.length===0?ut=null:ut=$.reduce((Ce,Ee,Fe)=>(Ce.push(Ee),Fe<$.length-1&&Ce.push(", "),Ce),[]):ut=ue);let Re=ke;!o&&Be&&Te&&(Re=Xe.clientWidth);let Ne;typeof oe<"u"?Ne=oe:Ne=g?null:0;const at=te.id||(O?`mui-component-select-${O}`:void 0),nt={...e,variant:ae,value:fe,open:We,error:S},vt=lF(nt),Rt={...E.PaperProps,...(ot=E.slotProps)==null?void 0:ot.paper},Ye=RC();return Z.jsxs(se.Fragment,{children:[Z.jsx(rF,{as:"div",ref:Je,tabIndex:Ne,role:"combobox","aria-controls":We?Ye:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":We?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[w,at].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":ee?"true":void 0,"aria-invalid":S?"true":void 0,onKeyDown:ct,onMouseDown:g||U?null:ce,onBlur:Ie,onFocus:H,...te,ownerState:nt,className:Ln(te.className,vt.select,u),id:at,children:oF(ut)?zE||(zE=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ut}),Z.jsx(sF,{"aria-invalid":S,value:Array.isArray(fe)?fe.join(","):fe,name:O,ref:Me,"aria-hidden":!0,onChange:Ze,tabIndex:-1,disabled:g,className:vt.nativeInput,autoFocus:a,required:ee,...le,ownerState:nt}),Z.jsx(aF,{as:T,className:vt.icon,ownerState:nt}),Z.jsx(Fk,{id:`menu-${O||""}`,anchorEl:Xe,open:We,onClose:rt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...E,slotProps:{...E.slotProps,list:{"aria-labelledby":w,role:"listbox","aria-multiselectable":L?"true":void 0,disableListWrap:!0,id:Ye,...E.MenuListProps},paper:{...Rt,style:{minWidth:Re,...Rt!=null?Rt.style:null}}},children:De})]})}),uF=n=>{const{classes:e}=n,i=ur({root:["root"]},QC,e);return{...e,...i}},aM={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>uc(n)&&n!=="variant"},fF=hn(WC,aM)(""),hF=hn(ZC,aM)(""),dF=hn(jC,aM)(""),JC=se.forwardRef(function(e,t){const i=_r({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:a,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:f=!1,IconComponent:p=fI,id:g,input:v,inputProps:S,label:T,labelId:A,MenuProps:w,multiple:E=!1,native:L=!1,onClose:O,onOpen:N,open:z,renderValue:I,SelectDisplayProps:H,variant:W="outlined",...V}=i,U=L?Kk:cF,Q=_y(),ee=Sy({props:i,muiFormControl:Q,states:["variant","error"]}),te=ee.variant||W,oe={...i,variant:te,classes:o},pe=uF(oe),{root:j,...ae}=pe,le=v||{standard:Z.jsx(fF,{ownerState:oe}),outlined:Z.jsx(hF,{label:T,ownerState:oe}),filled:Z.jsx(dF,{ownerState:oe})}[te],fe=Gs(t,by(le));return Z.jsx(se.Fragment,{children:se.cloneElement(le,{inputComponent:U,inputProps:{children:a,error:ee.error,IconComponent:p,variant:te,type:void 0,multiple:E,...L?{id:g}:{autoWidth:r,defaultOpen:u,displayEmpty:f,labelId:A,MenuProps:w,onClose:O,onOpen:N,open:z,renderValue:I,SelectDisplayProps:{id:g,...H}},...S,classes:S?is(ae,S.classes):ae,...v?v.props.inputProps:{}},...(E&&L||f)&&te==="outlined"?{notched:!0}:{},ref:fe,className:Ln(le.props.className,l,pe.root),...!v&&{variant:te},...V})})});JC.muiName="Select";function pF(n,e,t=(i,r)=>i===r){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}const mF=2;function Up(n,e,t,i,r){return t===1?Math.min(n+e,r):Math.max(n-e,i)}function $C(n,e){return n-e}function BE(n,e){const{index:t}=n.reduce((i,r,a)=>{const o=Math.abs(e-r);return i===null||o<i.distance||o===i.distance?{distance:o,index:a}:i},null)??{};return t}function Yv(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const r=t.changedTouches[i];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function Dx(n,e,t){return(n-e)*100/(t-e)}function gF(n,e,t){return(t-e)*n+e}function yF(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function vF(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(yF(e)))}function IE({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort($C)}function Kv({sliderRef:n,activeIndex:e,setActive:t}){var r,a,o;const i=xo(n.current);(!((r=n.current)!=null&&r.contains(i.activeElement))||Number((a=i==null?void 0:i.activeElement)==null?void 0:a.getAttribute("data-index"))!==e)&&((o=n.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function Zv(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?pF(n,e):!1}const xF={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},bF=n=>n;let Qv;function kE(){return Qv===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Qv=CSS.supports("touch-action","none"):Qv=!0),Qv}function SF(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:r=!1,isRtl:a=!1,marks:o=!1,max:l=100,min:u=0,name:f,onChange:p,onChangeCommitted:g,orientation:v="horizontal",rootRef:S,scale:T=bF,step:A=1,shiftStep:w=10,tabIndex:E,value:L}=n,O=se.useRef(void 0),[N,z]=se.useState(-1),[I,H]=se.useState(-1),[W,V]=se.useState(!1),U=se.useRef(0),Q=se.useRef(null),[ee,te]=D_({controlled:L,default:t??u,name:"Slider"}),oe=p&&((be,De,Re)=>{const Ne=be.nativeEvent||be,at=new Ne.constructor(Ne.type,Ne);Object.defineProperty(at,"target",{writable:!0,value:{value:De,name:f}}),Q.current=De,p(at,De,Re)}),pe=Array.isArray(ee);let j=pe?ee.slice().sort($C):[ee];j=j.map(be=>be==null?u:nm(be,u,l));const ae=o===!0&&A!==null?[...Array(Math.floor((l-u)/A)+1)].map((be,De)=>({value:u+A*De})):o||[],le=ae.map(be=>be.value),[fe,J]=se.useState(-1),K=se.useRef(null),xe=Gs(S,K),Me=be=>De=>{var Ne;const Re=Number(De.currentTarget.getAttribute("data-index"));Ax(De.target)&&J(Re),H(Re),(Ne=be==null?void 0:be.onFocus)==null||Ne.call(be,De)},he=be=>De=>{var Re;Ax(De.target)||J(-1),H(-1),(Re=be==null?void 0:be.onBlur)==null||Re.call(be,De)},Te=(be,De)=>{const Re=Number(be.currentTarget.getAttribute("data-index")),Ne=j[Re],at=le.indexOf(Ne);let nt=De;if(ae&&A==null){const vt=le[le.length-1];nt>=vt?nt=vt:nt<=le[0]?nt=le[0]:nt=nt<Ne?le[at-1]:le[at+1]}if(nt=nm(nt,u,l),pe){r&&(nt=nm(nt,j[Re-1]||-1/0,j[Re+1]||1/0));const vt=nt;nt=IE({values:j,newValue:nt,index:Re});let Rt=Re;r||(Rt=nt.indexOf(vt)),Kv({sliderRef:K,activeIndex:Rt})}te(nt),J(Re),oe&&!Zv(nt,ee)&&oe(be,nt,Re),g&&g(be,Q.current??nt)},ze=be=>De=>{var Re;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(De.key)){De.preventDefault();const Ne=Number(De.currentTarget.getAttribute("data-index")),at=j[Ne];let nt=null;if(A!=null){const vt=De.shiftKey?w:A;switch(De.key){case"ArrowUp":nt=Up(at,vt,1,u,l);break;case"ArrowRight":nt=Up(at,vt,a?-1:1,u,l);break;case"ArrowDown":nt=Up(at,vt,-1,u,l);break;case"ArrowLeft":nt=Up(at,vt,a?1:-1,u,l);break;case"PageUp":nt=Up(at,w,1,u,l);break;case"PageDown":nt=Up(at,w,-1,u,l);break;case"Home":nt=u;break;case"End":nt=l;break}}else if(ae){const vt=le[le.length-1],Rt=le.indexOf(at),Ye=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],ot=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ye.includes(De.key)?Rt===0?nt=le[0]:nt=le[Rt-1]:ot.includes(De.key)&&(Rt===le.length-1?nt=vt:nt=le[Rt+1])}nt!=null&&Te(De,nt)}(Re=be==null?void 0:be.onKeyDown)==null||Re.call(be,De)};ku(()=>{var be;i&&K.current.contains(document.activeElement)&&((be=document.activeElement)==null||be.blur())},[i]),i&&N!==-1&&z(-1),i&&fe!==-1&&J(-1);const Be=be=>De=>{var Re;(Re=be.onChange)==null||Re.call(be,De),Te(De,De.target.valueAsNumber)},ke=se.useRef(void 0);let yt=v;a&&v==="horizontal"&&(yt+="-reverse");const Qe=({finger:be,move:De=!1})=>{const{current:Re}=K,{width:Ne,height:at,bottom:nt,left:vt}=Re.getBoundingClientRect();let Rt;yt.startsWith("vertical")?Rt=(nt-be.y)/at:Rt=(be.x-vt)/Ne,yt.includes("-reverse")&&(Rt=1-Rt);let Ye;if(Ye=gF(Rt,u,l),A)Ye=vF(Ye,A,u);else{const Ce=BE(le,Ye);Ye=le[Ce]}Ye=nm(Ye,u,l);let ot=0;if(pe){De?ot=ke.current:ot=BE(j,Ye),r&&(Ye=nm(Ye,j[ot-1]||-1/0,j[ot+1]||1/0));const Ce=Ye;Ye=IE({values:j,newValue:Ye,index:ot}),r&&De||(ot=Ye.indexOf(Ce),ke.current=ot)}return{newValue:Ye,activeIndex:ot}},Je=Ou(be=>{const De=Yv(be,O);if(!De)return;if(U.current+=1,be.type==="mousemove"&&be.buttons===0){Xe(be);return}const{newValue:Re,activeIndex:Ne}=Qe({finger:De,move:!0});Kv({sliderRef:K,activeIndex:Ne,setActive:z}),te(Re),!W&&U.current>mF&&V(!0),oe&&!Zv(Re,ee)&&oe(be,Re,Ne)}),Xe=Ou(be=>{const De=Yv(be,O);if(V(!1),!De)return;const{newValue:Re}=Qe({finger:De,move:!0});z(-1),be.type==="touchend"&&H(-1),g&&g(be,Q.current??Re),O.current=void 0,ce()}),Mt=Ou(be=>{if(i)return;kE()||be.preventDefault();const De=be.changedTouches[0];De!=null&&(O.current=De.identifier);const Re=Yv(be,O);if(Re!==!1){const{newValue:at,activeIndex:nt}=Qe({finger:Re});Kv({sliderRef:K,activeIndex:nt,setActive:z}),te(at),oe&&!Zv(at,ee)&&oe(be,at,nt)}U.current=0;const Ne=xo(K.current);Ne.addEventListener("touchmove",Je,{passive:!0}),Ne.addEventListener("touchend",Xe,{passive:!0})}),ce=se.useCallback(()=>{const be=xo(K.current);be.removeEventListener("mousemove",Je),be.removeEventListener("mouseup",Xe),be.removeEventListener("touchmove",Je),be.removeEventListener("touchend",Xe)},[Xe,Je]);se.useEffect(()=>{const{current:be}=K;return be.addEventListener("touchstart",Mt,{passive:kE()}),()=>{be.removeEventListener("touchstart",Mt),ce()}},[ce,Mt]),se.useEffect(()=>{i&&ce()},[i,ce]);const rt=be=>De=>{var at;if((at=be.onMouseDown)==null||at.call(be,De),i||De.defaultPrevented||De.button!==0)return;De.preventDefault();const Re=Yv(De,O);if(Re!==!1){const{newValue:nt,activeIndex:vt}=Qe({finger:Re});Kv({sliderRef:K,activeIndex:vt,setActive:z}),te(nt),oe&&!Zv(nt,ee)&&oe(De,nt,vt)}U.current=0;const Ne=xo(K.current);Ne.addEventListener("mousemove",Je,{passive:!0}),Ne.addEventListener("mouseup",Xe)},tt=Dx(pe?j[0]:u,u,l),Ze=Dx(j[j.length-1],u,l)-tt,Le=(be={})=>{const De=og(be),Re={onMouseDown:rt(De||{})},Ne={...De,...Re};return{...be,ref:xe,...Ne}},ct=be=>De=>{var Ne;(Ne=be.onMouseOver)==null||Ne.call(be,De);const Re=Number(De.currentTarget.getAttribute("data-index"));H(Re)},We=be=>De=>{var Re;(Re=be.onMouseLeave)==null||Re.call(be,De),H(-1)},Ie=(be={})=>{const De=og(be),Re={onMouseOver:ct(De||{}),onMouseLeave:We(De||{})};return{...be,...De,...Re}},ut=be=>({pointerEvents:N!==-1&&N!==be?"none":void 0});let ue;return v==="vertical"&&(ue=a?"vertical-rl":"vertical-lr"),{active:N,axis:yt,axisProps:xF,dragging:W,focusedThumbIndex:fe,getHiddenInputProps:(be={})=>{const De=og(be),Re={onChange:Be(De||{}),onFocus:Me(De||{}),onBlur:he(De||{}),onKeyDown:ze(De||{})},Ne={...De,...Re};return{tabIndex:E,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":T(l),"aria-valuemin":T(u),name:f,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...be,...Ne,style:{...iF,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:ue}}},getRootProps:Le,getThumbProps:Ie,marks:ae,open:I,range:pe,rootRef:xe,trackLeap:Ze,trackOffset:tt,values:j,getThumbStyle:ut}}const _F=n=>!n||!_0(n);function MF(n){return cr("MuiSlider",n)}const ic=Zi("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),TF=n=>{const{open:e}=n;return{offset:Ln(e&&ic.valueLabelOpen),circle:ic.valueLabelCircle,label:ic.valueLabelLabel}};function EF(n){const{children:e,className:t,value:i}=n,r=TF(n);return e?se.cloneElement(e,{className:e.props.className},Z.jsxs(se.Fragment,{children:[e.props.children,Z.jsx("span",{className:Ln(r.offset,t),"aria-hidden":!0,children:Z.jsx("span",{className:r.circle,children:Z.jsx("span",{className:r.label,children:i})})})]})):null}function FE(n){return n}const wF=hn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Vn(t.color)}`],t.size!=="medium"&&e[`size${Vn(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(fr(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${ic.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${ic.dragging}`]:{[`& .${ic.thumb}, & .${ic.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(Hu()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),AF=hn("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),CF=hn("span",{name:"MuiSlider",slot:"Track"})(fr(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(Hu()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:zg(n.palette[e].main,.62),borderColor:zg(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:Lg(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:Lg(n.palette[e].main,.5)})}}}))]}))),RF=hn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Vn(t.color)}`],t.size!=="medium"&&e[`thumbSize${Vn(t.size)}`]]}})(fr(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${ic.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(Hu()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${ic.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${go(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${ic.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${go(n.palette[e].main,.16)}`}}}}))]}))),DF=hn(EF,{name:"MuiSlider",slot:"ValueLabel"})(fr(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${ic.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${ic.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),OF=hn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Xb(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(fr(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),NF=hn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Xb(n)&&n!=="markLabelActive"})(fr(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),UF=n=>{const{disabled:e,dragging:t,marked:i,orientation:r,track:a,classes:o,color:l,size:u}=n,f={root:["root",e&&"disabled",t&&"dragging",i&&"marked",r==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",l&&`color${Vn(l)}`,u&&`size${Vn(u)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",u&&`thumbSize${Vn(u)}`,l&&`thumbColor${Vn(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ur(f,MF,o)},LF=({children:n})=>n,VE=se.forwardRef(function(e,t){const i=_r({props:e,name:"MuiSlider"}),r=SC(),{"aria-label":a,"aria-valuetext":o,"aria-labelledby":l,component:u="span",components:f={},componentsProps:p={},color:g="primary",classes:v,className:S,disableSwap:T=!1,disabled:A=!1,getAriaLabel:w,getAriaValueText:E,marks:L=!1,max:O=100,min:N=0,name:z,onChange:I,onChangeCommitted:H,orientation:W="horizontal",shiftStep:V=10,size:U="medium",step:Q=1,scale:ee=FE,slotProps:te,slots:oe,tabIndex:pe,track:j="normal",value:ae,valueLabelDisplay:le="off",valueLabelFormat:fe=FE,...J}=i,K={...i,isRtl:r,max:O,min:N,classes:v,disabled:A,disableSwap:T,orientation:W,marks:L,color:g,size:U,step:Q,shiftStep:V,scale:ee,track:j,valueLabelDisplay:le,valueLabelFormat:fe},{axisProps:xe,getRootProps:Me,getHiddenInputProps:he,getThumbProps:Te,open:ze,active:Be,axis:ke,focusedThumbIndex:yt,range:Qe,dragging:Je,marks:Xe,values:Mt,trackOffset:ce,trackLeap:rt,getThumbStyle:tt}=SF({...K,rootRef:t});K.marked=Xe.length>0&&Xe.some(Lt=>Lt.label),K.dragging=Je,K.focusedThumbIndex=yt;const Ze=UF(K),Le=(oe==null?void 0:oe.root)??f.Root??wF,ct=(oe==null?void 0:oe.rail)??f.Rail??AF,We=(oe==null?void 0:oe.track)??f.Track??CF,Ie=(oe==null?void 0:oe.thumb)??f.Thumb??RF,ut=(oe==null?void 0:oe.valueLabel)??f.ValueLabel??DF,ue=(oe==null?void 0:oe.mark)??f.Mark??OF,$=(oe==null?void 0:oe.markLabel)??f.MarkLabel??NF,be=(oe==null?void 0:oe.input)??f.Input??"input",De=(te==null?void 0:te.root)??p.root,Re=(te==null?void 0:te.rail)??p.rail,Ne=(te==null?void 0:te.track)??p.track,at=(te==null?void 0:te.thumb)??p.thumb,nt=(te==null?void 0:te.valueLabel)??p.valueLabel,vt=(te==null?void 0:te.mark)??p.mark,Rt=(te==null?void 0:te.markLabel)??p.markLabel,Ye=(te==null?void 0:te.input)??p.input,ot=Hf({elementType:Le,getSlotProps:Me,externalSlotProps:De,externalForwardedProps:J,additionalProps:{..._F(Le)&&{as:u}},ownerState:{...K,...De==null?void 0:De.ownerState},className:[Ze.root,S]}),Ce=Hf({elementType:ct,externalSlotProps:Re,ownerState:K,className:Ze.rail}),Ee=Hf({elementType:We,externalSlotProps:Ne,additionalProps:{style:{...xe[ke].offset(ce),...xe[ke].leap(rt)}},ownerState:{...K,...Ne==null?void 0:Ne.ownerState},className:Ze.track}),Fe=Hf({elementType:Ie,getSlotProps:Te,externalSlotProps:at,ownerState:{...K,...at==null?void 0:at.ownerState},className:Ze.thumb}),wt=Hf({elementType:ut,externalSlotProps:nt,ownerState:{...K,...nt==null?void 0:nt.ownerState},className:Ze.valueLabel}),Ae=Hf({elementType:ue,externalSlotProps:vt,ownerState:K,className:Ze.mark}),xt=Hf({elementType:$,externalSlotProps:Rt,ownerState:K,className:Ze.markLabel}),mt=Hf({elementType:be,getSlotProps:he,externalSlotProps:Ye,ownerState:K});return Z.jsxs(Le,{...ot,children:[Z.jsx(ct,{...Ce}),Z.jsx(We,{...Ee}),Xe.filter(Lt=>Lt.value>=N&&Lt.value<=O).map((Lt,bt)=>{const ft=Dx(Lt.value,N,O),Ut=xe[ke].offset(ft);let It;return j===!1?It=Mt.includes(Lt.value):It=j==="normal"&&(Qe?Lt.value>=Mt[0]&&Lt.value<=Mt[Mt.length-1]:Lt.value<=Mt[0])||j==="inverted"&&(Qe?Lt.value<=Mt[0]||Lt.value>=Mt[Mt.length-1]:Lt.value>=Mt[0]),Z.jsxs(se.Fragment,{children:[Z.jsx(ue,{"data-index":bt,...Ae,...!_0(ue)&&{markActive:It},style:{...Ut,...Ae.style},className:Ln(Ae.className,It&&Ze.markActive)}),Lt.label!=null?Z.jsx($,{"aria-hidden":!0,"data-index":bt,...xt,...!_0($)&&{markLabelActive:It},style:{...Ut,...xt.style},className:Ln(Ze.markLabel,xt.className,It&&Ze.markLabelActive),children:Lt.label}):null]},bt)}),Mt.map((Lt,bt)=>{const ft=Dx(Lt,N,O),Ut=xe[ke].offset(ft),It=le==="off"?LF:ut;return Z.jsx(It,{...!_0(It)&&{valueLabelFormat:fe,valueLabelDisplay:le,value:typeof fe=="function"?fe(ee(Lt),bt):fe,index:bt,open:ze===bt||Be===bt||le==="on",disabled:A},...wt,children:Z.jsx(Ie,{"data-index":bt,...Fe,className:Ln(Ze.thumb,Fe.className,Be===bt&&Ze.active,yt===bt&&Ze.focusVisible),style:{...Ut,...tt(bt),...Fe.style},children:Z.jsx(be,{"data-index":bt,"aria-label":w?w(bt):a,"aria-valuenow":ee(Lt),"aria-labelledby":l,"aria-valuetext":E?E(ee(Lt),bt):o,value:Mt[bt],...mt})})},bt)})]})}),Mm=EP({createStyledComponent:hn("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>_r({props:n,name:"MuiStack"})}),zF=xC({themeId:fy});var H3={exports:{}},G3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function PF(){if(HE)return G3;HE=1;var n=cd();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return G3.useSyncExternalStoreWithSelector=function(u,f,p,g,v){var S=r(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=o(function(){function w(z){if(!E){if(E=!0,L=z,z=g(z),v!==void 0&&T.hasValue){var I=T.value;if(v(I,z))return O=I}return O=z}if(I=O,t(L,z))return I;var H=g(z);return v!==void 0&&v(I,H)?(L=z,I):(L=z,O=H)}var E=!1,L,O,N=p===void 0?null:p;return[function(){return w(f())},N===null?void 0:function(){return w(N())}]},[f,p,g,v]);var A=i(u,S[0],S[1]);return a(function(){T.hasValue=!0,T.value=A},[A]),l(A),A},G3}var GE;function BF(){return GE||(GE=1,H3.exports=PF()),H3.exports}var IF=BF();function kF(n){n()}function FF(){let n=null,e=null;return{clear(){n=null,e=null},notify(){kF(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var jE={notify(){},get:()=>[]};function VF(n,e){let t,i=jE,r=0,a=!1;function o(A){p();const w=i.subscribe(A);let E=!1;return()=>{E||(E=!0,w(),g())}}function l(){i.notify()}function u(){T.onStateChange&&T.onStateChange()}function f(){return a}function p(){r++,t||(t=n.subscribe(u),i=FF())}function g(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=jE)}function v(){a||(a=!0,p())}function S(){a&&(a=!1,g())}const T={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>i};return T}var HF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GF=HF(),jF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WF=jF(),qF=()=>GF||WF?se.useLayoutEffect:se.useEffect,XF=qF(),j3=Symbol.for("react-redux-context"),W3=typeof globalThis<"u"?globalThis:{};function YF(){if(!se.createContext)return{};const n=W3[j3]??(W3[j3]=new Map);let e=n.get(se.createContext);return e||(e=se.createContext(null),n.set(se.createContext,e)),e}var id=YF();function KF(n){const{children:e,context:t,serverState:i,store:r}=n,a=se.useMemo(()=>{const u=VF(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),o=se.useMemo(()=>r.getState(),[r]);XF(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=t||id;return se.createElement(l.Provider,{value:a},e)}var ZF=KF;function sM(n=id){return function(){return se.useContext(n)}}var eR=sM();function tR(n=id){const e=n===id?eR:sM(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var QF=tR();function JF(n=id){const e=n===id?QF:tR(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var oM=JF(),$F=(n,e)=>n===e;function eV(n=id){const e=n===id?eR:sM(n),t=(i,r={})=>{const{equalityFn:a=$F}=typeof r=="function"?{equalityFn:r}:r,o=e(),{store:l,subscription:u,getServerState:f}=o;se.useRef(!0);const p=se.useCallback({[i.name](v){return i(v)}}[i.name],[i]),g=IF.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,f||l.getState,p,a);return se.useDebugValue(g),g};return Object.assign(t,{withTypes:()=>t}),t}var k0=eV();function ys(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var tV=typeof Symbol=="function"&&Symbol.observable||"@@observable",WE=tV,q3=()=>Math.random().toString(36).substring(7).split("").join("."),nV={INIT:`@@redux/INIT${q3()}`,REPLACE:`@@redux/REPLACE${q3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${q3()}`},Ox=nV;function lM(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function nR(n,e,t){if(typeof n!="function")throw new Error(ys(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ys(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ys(1));return t(nR)(n,e)}let i=n,r=e,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((w,E)=>{o.set(E,w)}))}function p(){if(u)throw new Error(ys(3));return r}function g(w){if(typeof w!="function")throw new Error(ys(4));if(u)throw new Error(ys(5));let E=!0;f();const L=l++;return o.set(L,w),function(){if(E){if(u)throw new Error(ys(6));E=!1,f(),o.delete(L),a=null}}}function v(w){if(!lM(w))throw new Error(ys(7));if(typeof w.type>"u")throw new Error(ys(8));if(typeof w.type!="string")throw new Error(ys(17));if(u)throw new Error(ys(9));try{u=!0,r=i(r,w)}finally{u=!1}return(a=o).forEach(L=>{L()}),w}function S(w){if(typeof w!="function")throw new Error(ys(10));i=w,v({type:Ox.REPLACE})}function T(){const w=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ys(11));function L(){const N=E;N.next&&N.next(p())}return L(),{unsubscribe:w(L)}},[WE](){return this}}}return v({type:Ox.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:S,[WE]:T}}function iV(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ox.INIT})>"u")throw new Error(ys(12));if(typeof t(void 0,{type:Ox.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ys(13))})}function rV(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const o=e[a];typeof n[o]=="function"&&(t[o]=n[o])}const i=Object.keys(t);let r;try{iV(t)}catch(a){r=a}return function(o={},l){if(r)throw r;let u=!1;const f={};for(let p=0;p<i.length;p++){const g=i[p],v=t[g],S=o[g],T=v(S,l);if(typeof T>"u")throw l&&l.type,new Error(ys(14));f[g]=T,u=u||T!==S}return u=u||i.length!==Object.keys(o).length,u?f:o}}function Nx(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function aV(...n){return e=>(t,i)=>{const r=e(t,i);let a=()=>{throw new Error(ys(15))};const o={getState:r.getState,dispatch:(u,...f)=>a(u,...f)},l=n.map(u=>u(o));return a=Nx(...l)(r.dispatch),{...r,dispatch:a}}}function sV(n){return lM(n)&&"type"in n&&typeof n.type=="string"}var iR=Symbol.for("immer-nothing"),qE=Symbol.for("immer-draftable"),Rl=Symbol.for("immer-state");function Gc(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Tm=Object.getPrototypeOf;function N0(n){return!!n&&!!n[Rl]}function $f(n){var e;return n?rR(n)||Array.isArray(n)||!!n[qE]||!!((e=n.constructor)!=null&&e[qE])||$b(n)||e4(n):!1}var oV=Object.prototype.constructor.toString();function rR(n){if(!n||typeof n!="object")return!1;const e=Tm(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===oV}function Ux(n,e){Jb(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Jb(n){const e=n[Rl];return e?e.type_:Array.isArray(n)?1:$b(n)?2:e4(n)?3:0}function k_(n,e){return Jb(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function aR(n,e,t){const i=Jb(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function lV(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function $b(n){return n instanceof Map}function e4(n){return n instanceof Set}function c0(n){return n.copy_||n.base_}function F_(n,e){if($b(n))return new Map(n);if(e4(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=rR(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Rl];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],l=i[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(Tm(n),i)}else{const i=Tm(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function cM(n,e=!1){return t4(n)||N0(n)||!$f(n)||(Jb(n)>1&&(n.set=n.add=n.clear=n.delete=cV),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>cM(i,!0))),n}function cV(){Gc(2)}function t4(n){return Object.isFrozen(n)}var uV={};function U0(n){const e=uV[n];return e||Gc(0,n),e}var Pg;function sR(){return Pg}function fV(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XE(n,e){e&&(U0("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function V_(n){H_(n),n.drafts_.forEach(hV),n.drafts_=null}function H_(n){n===Pg&&(Pg=n.parent_)}function YE(n){return Pg=fV(Pg,n)}function hV(n){const e=n[Rl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KE(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Rl].modified_&&(V_(e),Gc(4)),$f(n)&&(n=Lx(e,n),e.parent_||zx(e,n)),e.patches_&&U0("Patches").generateReplacementPatches_(t[Rl].base_,n,e.patches_,e.inversePatches_)):n=Lx(e,t,[]),V_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==iR?n:void 0}function Lx(n,e,t){if(t4(e))return e;const i=e[Rl];if(!i)return Ux(e,(r,a)=>ZE(n,i,e,r,a,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return zx(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,o=!1;i.type_===3&&(a=new Set(r),r.clear(),o=!0),Ux(a,(l,u)=>ZE(n,i,r,l,u,t,o)),zx(n,r,!1),t&&n.patches_&&U0("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function ZE(n,e,t,i,r,a,o){if(N0(r)){const l=a&&e&&e.type_!==3&&!k_(e.assigned_,i)?a.concat(i):void 0,u=Lx(n,r,l);if(aR(t,i,u),N0(u))n.canAutoFreeze_=!1;else return}else o&&t.add(r);if($f(r)&&!t4(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Lx(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&zx(n,r)}}function zx(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&cM(e,t)}function dV(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:sR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=uM;t&&(r=[i],a=Bg);const{revoke:o,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=o,l}var uM={get(n,e){if(e===Rl)return n;const t=c0(n);if(!k_(t,e))return pV(n,t,e);const i=t[e];return n.finalized_||!$f(i)?i:i===X3(n.base_,e)?(Y3(n),n.copy_[e]=j_(i,n)):i},has(n,e){return e in c0(n)},ownKeys(n){return Reflect.ownKeys(c0(n))},set(n,e,t){const i=oR(c0(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=X3(c0(n),e),a=r==null?void 0:r[Rl];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(lV(t,r)&&(t!==void 0||k_(n.base_,e)))return!0;Y3(n),G_(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return X3(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Y3(n),G_(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=c0(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Gc(11)},getPrototypeOf(n){return Tm(n.base_)},setPrototypeOf(){Gc(12)}},Bg={};Ux(uM,(n,e)=>{Bg[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bg.deleteProperty=function(n,e){return Bg.set.call(this,n,e,void 0)};Bg.set=function(n,e,t){return uM.set.call(this,n[0],e,t,n[0])};function X3(n,e){const t=n[Rl];return(t?c0(t):n)[e]}function pV(n,e,t){var r;const i=oR(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function oR(n,e){if(!(e in n))return;let t=Tm(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Tm(t)}}function G_(n){n.modified_||(n.modified_=!0,n.parent_&&G_(n.parent_))}function Y3(n){n.copy_||(n.copy_=F_(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var mV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const o=this;return function(u=a,...f){return o.produce(u,p=>t.call(this,p,...f))}}typeof t!="function"&&Gc(6),i!==void 0&&typeof i!="function"&&Gc(7);let r;if($f(e)){const a=YE(this),o=j_(e,void 0);let l=!0;try{r=t(o),l=!1}finally{l?V_(a):H_(a)}return XE(a,i),KE(r,a)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===iR&&(r=void 0),this.autoFreeze_&&cM(r,!0),i){const a=[],o=[];U0("Patches").generateReplacementPatches_(e,r,a,o),i(a,o)}return r}else Gc(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let i,r;return[this.produce(e,t,(o,l)=>{i=o,r=l}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){$f(n)||Gc(8),N0(n)&&(n=gV(n));const e=YE(this),t=j_(n,void 0);return t[Rl].isManual_=!0,H_(e),t}finishDraft(n,e){const t=n&&n[Rl];(!t||!t.isManual_)&&Gc(9);const{scope_:i}=t;return XE(i,e),KE(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=U0("Patches").applyPatches_;return N0(n)?i(n,e):this.produce(n,r=>i(r,e))}};function j_(n,e){const t=$b(n)?U0("MapSet").proxyMap_(n,e):e4(n)?U0("MapSet").proxySet_(n,e):dV(n,e);return(e?e.scope_:sR()).drafts_.push(t),t}function gV(n){return N0(n)||Gc(10,n),lR(n)}function lR(n){if(!$f(n)||t4(n))return n;const e=n[Rl];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=F_(n,e.scope_.immer_.useStrictShallowCopy_)}else t=F_(n,!0);return Ux(t,(i,r)=>{aR(t,i,lR(r))}),e&&(e.finalized_=!1),t}var Dl=new mV,cR=Dl.produce;Dl.produceWithPatches.bind(Dl);Dl.setAutoFreeze.bind(Dl);Dl.setUseStrictShallowCopy.bind(Dl);Dl.applyPatches.bind(Dl);Dl.createDraft.bind(Dl);Dl.finishDraft.bind(Dl);function uR(n){return({dispatch:t,getState:i})=>r=>a=>typeof a=="function"?a(t,i,n):r(a)}var yV=uR(),vV=uR,xV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nx:Nx.apply(null,arguments)};function QE(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Xf(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>sV(i)&&i.type===n,t}var fR=class $1 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$1.prototype)}static get[Symbol.species](){return $1}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $1(...e[0].concat(this)):new $1(...e.concat(this))}};function JE(n){return $f(n)?cR(n,()=>{}):n}function Jv(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function bV(n){return typeof n=="boolean"}var SV=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new fR;return t&&(bV(t)?o.push(yV):o.push(vV(t.extraArgument))),o},_V="RTK_autoBatch",$E=n=>e=>{setTimeout(e,n)},MV=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,a=!1,o=!1;const l=new Set,u=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$E(10):n.type==="callback"?n.queueNotification:$E(n.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const g=()=>r&&p(),v=i.subscribe(g);return l.add(p),()=>{v(),l.delete(p)}},dispatch(p){var g;try{return r=!((g=p==null?void 0:p.meta)!=null&&g[_V]),a=!r,a&&(o||(o=!0,u(f))),i.dispatch(p)}finally{r=!0}}})},TV=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new fR(n);return i&&r.push(MV(typeof i=="object"?i:void 0)),r};function EV(n){const e=SV(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=n||{};let l;if(typeof t=="function")l=t;else if(lM(t))l=rV(t);else throw new Error(Xf(1));let u;typeof i=="function"?u=i(e):u=e();let f=Nx;r&&(f=xV({trace:!1,...typeof r=="object"&&r}));const p=aV(...u),g=TV(p);let v=typeof o=="function"?o(g):g();const S=f(...v);return nR(l,a,S)}function hR(n){const e={},t=[];let i;const r={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Xf(28));if(l in e)throw new Error(Xf(29));return e[l]=o,r},addMatcher(a,o){return t.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return n(r),[e,t,i]}function wV(n){return typeof n=="function"}function AV(n,e){let[t,i,r]=hR(e),a;if(wV(n))a=()=>JE(n());else{const l=JE(n);a=()=>l}function o(l=a(),u){let f=[t[u.type],...i.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,g)=>{if(g)if(N0(p)){const S=g(p,u);return S===void 0?p:S}else{if($f(p))return cR(p,v=>g(v,u));{const v=g(p,u);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},l)}return o.getInitialState=a,o}var CV=Symbol.for("rtk-slice-createasyncthunk");function RV(n,e){return`${n}/${e}`}function DV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[CV];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Xf(11));const l=(typeof r.reducers=="function"?r.reducers(UV()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(N,z){const I=typeof N=="string"?N:N.type;if(!I)throw new Error(Xf(12));if(I in f.sliceCaseReducersByType)throw new Error(Xf(13));return f.sliceCaseReducersByType[I]=z,p},addMatcher(N,z){return f.sliceMatchers.push({matcher:N,reducer:z}),p},exposeAction(N,z){return f.actionCreators[N]=z,p},exposeCaseReducer(N,z){return f.sliceCaseReducersByName[N]=z,p}};u.forEach(N=>{const z=l[N],I={reducerName:N,type:RV(a,N),createNotation:typeof r.reducers=="function"};zV(z)?BV(I,z,p,e):LV(I,z,p)});function g(){const[N={},z=[],I=void 0]=typeof r.extraReducers=="function"?hR(r.extraReducers):[r.extraReducers],H={...N,...f.sliceCaseReducersByType};return AV(r.initialState,W=>{for(let V in H)W.addCase(V,H[V]);for(let V of f.sliceMatchers)W.addMatcher(V.matcher,V.reducer);for(let V of z)W.addMatcher(V.matcher,V.reducer);I&&W.addDefaultCase(I)})}const v=N=>N,S=new Map,T=new WeakMap;let A;function w(N,z){return A||(A=g()),A(N,z)}function E(){return A||(A=g()),A.getInitialState()}function L(N,z=!1){function I(W){let V=W[N];return typeof V>"u"&&z&&(V=Jv(T,I,E)),V}function H(W=v){const V=Jv(S,z,()=>new WeakMap);return Jv(V,W,()=>{const U={};for(const[Q,ee]of Object.entries(r.selectors??{}))U[Q]=OV(ee,W,()=>Jv(T,W,E),z);return U})}return{reducerPath:N,getSelectors:H,get selectors(){return H(I)},selectSlice:I}}const O={name:a,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...L(o),injectInto(N,{reducerPath:z,...I}={}){const H=z??o;return N.inject({reducerPath:H,reducer:w},I),{...O,...L(H,!0)}}};return O}}function OV(n,e,t,i){function r(a,...o){let l=e(a);return typeof l>"u"&&i&&(l=t()),n(l,...o)}return r.unwrapped=n,r}var NV=DV();function UV(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function LV({type:n,reducerName:e,createNotation:t},i,r){let a,o;if("reducer"in i){if(t&&!PV(i))throw new Error(Xf(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,o?QE(n,o):QE(n))}function zV(n){return n._reducerDefinitionType==="asyncThunk"}function PV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function BV({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Xf(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:p}=t,g=r(n,a,p);i.exposeAction(e,g),o&&i.addCase(g.fulfilled,o),l&&i.addCase(g.pending,l),u&&i.addCase(g.rejected,u),f&&i.addMatcher(g.settled,f),i.exposeCaseReducer(e,{fulfilled:o||$v,pending:l||$v,rejected:u||$v,settled:f||$v})}function $v(){}function Xf(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const ew={theta:null,phi:null,observable:null,expectationValue:null,step:"step1"},dR=NV({name:"quantum",initialState:ew,reducers:{setThetaPhi:(n,e)=>{n.theta=e.payload.theta,n.phi=e.payload.phi,n.step="step1"},setObservable:(n,e)=>{n.observable=e.payload,n.step="step2";const t=n.theta*Math.PI/180,i=n.phi*Math.PI/180;e.payload==="X"?n.expectationValue=Math.sin(t)*Math.cos(i):e.payload==="Y"?n.expectationValue=Math.sin(t)*Math.sin(i):e.payload==="Z"&&(n.expectationValue=Math.cos(t))},goToStep2:n=>{n.step="step2"},reset:()=>ew}}),{setThetaPhi:tw,setObservable:nw,goToStep2:IV,reset:Lie}=dR.actions,kV=dR.reducer,FV=I0(Z.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3"})),pR=I0(Z.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),VV=()=>{const n=oM(),[e,t]=se.useState(45),[i,r]=se.useState(90),[a,o]=se.useState(!1);se.useEffect(()=>{a&&n(tw({theta:e,phi:i}))},[e,i,a,n]);const l=()=>{o(!0),n(tw({theta:e,phi:i}))};return Z.jsxs(bm,{elevation:4,sx:{p:3,borderRadius:3,bgcolor:"#ECEFF1",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[Z.jsxs(bm,{elevation:0,sx:{p:2,mb:3,backgroundColor:"#D6E4FF",borderLeft:"5px solid #1976D2"},children:[Z.jsxs(un,{display:"flex",alignItems:"center",mb:1,children:[Z.jsx(pR,{sx:{color:"#1976D2",mr:1}}),Z.jsx(fn,{variant:"subtitle1",fontWeight:600,color:"#263238",children:"What is a Qubit?"})]}),Z.jsxs(fn,{variant:"body2",color:"#455-эA64",children:["A ",Z.jsx("strong",{children:"qubit (quantum bit)"})," is the fundamental unit of quantum information — similar to a classical bit, but with quantum properties. ",Z.jsx("br",{}),"A classical bit can be ",Z.jsx("strong",{children:" 0"})," or ",Z.jsx("strong",{children:"1"}),". ",Z.jsx("br",{}),"A qubit can be in state ",Z.jsx("code",{children:"|0⟩"}),", state ",Z.jsx("code",{children:"|1⟩"}),", or any combination (superposition) of both."]})]}),Z.jsxs(un,{display:"flex",alignItems:"center",mb:2,children:[Z.jsx(FV,{sx:{color:"#1976D2",mr:1}}),Z.jsx(fn,{variant:"h6",fontWeight:"bold",color:"#263238",children:"Step 1: Define Qubit"})]}),Z.jsx(fn,{variant:"body2",color:"#455A64",mb:2,children:"Select the angles θ (theta) and ϕ (phi) to configure the qubit's orientation on the Bloch Sphere."}),Z.jsx(_m,{sx:{mb:3,borderColor:"#B0BEC5"}}),Z.jsxs(Mm,{spacing:4,children:[Z.jsxs(un,{children:[Z.jsxs(fn,{gutterBottom:!0,color:"#263238",fontWeight:500,children:["θ: ",e,"°"]}),Z.jsx(VE,{value:e,onChange:(u,f)=>t(f),min:0,max:180,step:1,valueLabelDisplay:"auto",sx:{color:"#1976D2"}}),Z.jsxs(un,{display:"flex",justifyContent:"space-between",children:[Z.jsx(fn,{variant:"caption",color:"#455A64",children:"0°"}),Z.jsx(fn,{variant:"caption",color:"#455A64",children:"180°"})]})]}),Z.jsxs(un,{children:[Z.jsxs(fn,{gutterBottom:!0,color:"#263238",fontWeight:500,children:["ϕ: ",i,"°"]}),Z.jsx(VE,{value:i,onChange:(u,f)=>r(f),min:0,max:360,step:1,valueLabelDisplay:"auto",sx:{color:"#AB47BC"}}),Z.jsxs(un,{display:"flex",justifyContent:"space-between",children:[Z.jsx(fn,{variant:"caption",color:"#455A64",children:"0°"}),Z.jsx(fn,{variant:"caption",color:"#455A64",children:"360°"})]})]}),Z.jsx(un,{textAlign:"center",children:Z.jsx(My,{variant:"contained",size:"large",sx:{bgcolor:"#1976D2","&:hover":{bgcolor:"#1565C0"},px:4},onClick:l,children:"Confirm Qubit State"})})]})]})},mR=I0(Z.jsx("path",{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"})),HV=()=>{const[n,e]=se.useState("Z"),[t,i]=se.useState(!1),r=oM();se.useEffect(()=>{t&&r(nw(n))},[n,t,r]);const a=()=>{i(!0),r(nw(n))};return Z.jsxs(bm,{elevation:4,sx:{p:3,borderRadius:3,bgcolor:"#ECEFF1",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[Z.jsxs(bm,{elevation:0,sx:{p:2,mb:3,backgroundColor:"#FCE4EC",borderLeft:"5px solid #D81B60"},children:[Z.jsxs(un,{display:"flex",alignItems:"center",mb:1,children:[Z.jsx(pR,{sx:{color:"#D81B60",mr:1}}),Z.jsx(fn,{variant:"subtitle1",fontWeight:600,color:"#263238",children:"What is an Observable?"})]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",children:["An ",Z.jsx("strong",{children:"observable"})," is a measurable property of a quantum system.",Z.jsx("br",{}),"Observables are always Hermitian to ensure real measurement outcomes.",Z.jsx("br",{}),Z.jsx("strong",{children:"Pauli-Z"})," → Measures in |0⟩ / |1⟩ basis (standard)",Z.jsx("br",{}),Z.jsx("strong",{children:"Pauli-X"})," → Measures in |+⟩ / |−⟩ basis (superposition)",Z.jsx("br",{}),Z.jsx("strong",{children:"Pauli-Y"})," → Measures in |i+⟩ / |i−⟩ basis (phase)"]})]}),Z.jsxs(un,{display:"flex",alignItems:"center",mb:2,children:[Z.jsx(mR,{sx:{color:"#D81B60",mr:1}}),Z.jsx(fn,{variant:"h6",fontWeight:"bold",color:"#263238",children:"Step 2: Select Observable"})]}),Z.jsx(fn,{variant:"body2",color:"#455A64",mb:2,children:"Choose a Pauli operator to measure the expectation value from the qubit state."}),Z.jsx(_m,{sx:{mb:3,borderColor:"#B0BEC5"}}),Z.jsxs(Mm,{spacing:4,children:[Z.jsxs(uk,{fullWidth:!0,children:[Z.jsx(Mk,{id:"observable-select-label",sx:{color:"#263238"},children:"Observable"}),Z.jsxs(JC,{labelId:"observable-select-label",value:n,label:"Observable",onChange:o=>e(o.target.value),sx:{textTransform:"uppercase",bgcolor:"#FFFFFF","& .MuiOutlinedInput-notchedOutline":{borderColor:"#B0BEC5"}},children:[Z.jsx(V3,{value:"X",children:"Pauli-X (σₓ)"}),Z.jsx(V3,{value:"Y",children:"Pauli-Y (σᵧ)"}),Z.jsx(V3,{value:"Z",children:"Pauli-Z (σ𝓏)"})]})]}),Z.jsx(un,{textAlign:"center",children:Z.jsx(My,{variant:"contained",size:"large",sx:{bgcolor:"#D81B60","&:hover":{bgcolor:"#C2185B"},px:4},onClick:a,children:"Calculate Expectation Value"})})]})]})},GV=()=>{const{step:n}=k0(e=>e.quantum);return Z.jsxs(un,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[n==="step1"&&Z.jsx(VV,{}),n==="step2"&&Z.jsx(HV,{})]})};var eg={exports:{}},cx={exports:{}},jV=cx.exports,iw;function WV(){return iw||(iw=1,function(n,e){(function(i,r){n.exports=r()})(typeof self<"u"?self:jV,function(){return function(){var t={};(function(){t.d=function(b,y){for(var M in y)t.o(y,M)&&!t.o(b,M)&&Object.defineProperty(b,M,{enumerable:!0,get:y[M]})}})(),function(){t.o=function(b,y){return Object.prototype.hasOwnProperty.call(b,y)}}();var i={};t.d(i,{default:function(){return pf}});class r{constructor(y,M){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let D="KaTeX parse error: "+y,k,Y;const ie=M&&M.loc;if(ie&&ie.start<=ie.end){const ve=ie.lexer.input;k=ie.start,Y=ie.end,k===ve.length?D+=" at end of input: ":D+=" at position "+(k+1)+": ";const Oe=ve.slice(k,Y).replace(/[^]/g,"$&̲");let qe;k>15?qe="…"+ve.slice(k-15,k):qe=ve.slice(0,k);let et;Y+15<ve.length?et=ve.slice(Y,Y+15)+"…":et=ve.slice(Y),D+=qe+Oe+et}const de=new Error(D);return de.name="ParseError",de.__proto__=r.prototype,de.position=k,k!=null&&Y!=null&&(de.length=Y-k),de.rawMessage=y,de}}r.prototype.__proto__=Error.prototype;var a=r;const o=function(b,y){return b.indexOf(y)!==-1},l=function(b,y){return b===void 0?y:b},u=/([A-Z])/g,f=function(b){return b.replace(u,"-$1").toLowerCase()},p={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;function v(b){return String(b).replace(g,y=>p[y])}const S=function(b){return b.type==="ordgroup"||b.type==="color"?b.body.length===1?S(b.body[0]):b:b.type==="font"?S(b.body):b},T=function(b){const y=S(b);return y.type==="mathord"||y.type==="textord"||y.type==="atom"},A=function(b){if(!b)throw new Error("Expected non-null, but got "+String(b));return b};var E={contains:o,deflt:l,escape:v,hyphenate:f,getBaseElem:S,isCharacterBox:T,protocolFromUrl:function(b){const y=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(b);return y?y[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(y[1])?null:y[1].toLowerCase():"_relative"}};const L={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:b=>"#"+b},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(b,y)=>(y.push(b),y)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:b=>Math.max(0,b),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:b=>Math.max(0,b),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:b=>Math.max(0,b),cli:"-e, --max-expand <n>",cliProcessor:b=>b==="Infinity"?1/0:parseInt(b)},globalGroup:{type:"boolean",cli:!1}};function O(b){if(b.default)return b.default;const y=b.type,M=Array.isArray(y)?y[0]:y;if(typeof M!="string")return M.enum[0];switch(M){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class N{constructor(y){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,y=y||{};for(const M in L)if(L.hasOwnProperty(M)){const D=L[M];this[M]=y[M]!==void 0?D.processor?D.processor(y[M]):y[M]:O(D)}}reportNonstrict(y,M,D){let k=this.strict;if(typeof k=="function"&&(k=k(y,M,D)),!(!k||k==="ignore")){if(k===!0||k==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(M+" ["+y+"]"),D);k==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(M+" ["+y+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+k+"': "+M+" ["+y+"]"))}}useStrictBehavior(y,M,D){let k=this.strict;if(typeof k=="function")try{k=k(y,M,D)}catch{k="error"}return!k||k==="ignore"?!1:k===!0||k==="error"?!0:k==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(M+" ["+y+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+k+"': "+M+" ["+y+"]")),!1)}isTrusted(y){if(y.url&&!y.protocol){const D=E.protocolFromUrl(y.url);if(D==null)return!1;y.protocol=D}return!!(typeof this.trust=="function"?this.trust(y):this.trust)}}class z{constructor(y,M,D){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=y,this.size=M,this.cramped=D}sup(){return oe[pe[this.id]]}sub(){return oe[j[this.id]]}fracNum(){return oe[ae[this.id]]}fracDen(){return oe[le[this.id]]}cramp(){return oe[fe[this.id]]}text(){return oe[J[this.id]]}isTight(){return this.size>=2}}const I=0,H=1,W=2,V=3,U=4,Q=5,ee=6,te=7,oe=[new z(I,0,!1),new z(H,0,!0),new z(W,1,!1),new z(V,1,!0),new z(U,2,!1),new z(Q,2,!0),new z(ee,3,!1),new z(te,3,!0)],pe=[U,Q,U,Q,ee,te,ee,te],j=[Q,Q,Q,Q,te,te,te,te],ae=[W,V,U,Q,ee,te,ee,te],le=[V,V,Q,Q,te,te,te,te],fe=[H,H,V,V,Q,Q,te,te],J=[I,H,W,V,W,V,W,V];var K={DISPLAY:oe[I],TEXT:oe[W],SCRIPT:oe[U],SCRIPTSCRIPT:oe[ee]};const xe=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Me(b){for(let y=0;y<xe.length;y++){const M=xe[y];for(let D=0;D<M.blocks.length;D++){const k=M.blocks[D];if(b>=k[0]&&b<=k[1])return M.name}}return null}const he=[];xe.forEach(b=>b.blocks.forEach(y=>he.push(...y)));function Te(b){for(let y=0;y<he.length;y+=2)if(b>=he[y]&&b<=he[y+1])return!0;return!1}const ze=80,Be=function(b,y){return"M95,"+(622+b+y)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+b/2.075+" -"+b+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+b)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},ke=function(b,y){return"M263,"+(601+b+y)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+b/2.084+" -"+b+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+b)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},yt=function(b,y){return"M983 "+(10+b+y)+`
l`+b/3.13+" -"+b+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+b)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},Qe=function(b,y){return"M424,"+(2398+b+y)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+b/4.223+" -"+b+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+b)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+b)+" "+y+`
h400000v`+(40+b)+"h-400000z"},Je=function(b,y){return"M473,"+(2713+b+y)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+b/5.298+" -"+b+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+b)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+b)+" "+y+"h400000v"+(40+b)+"H1017.7z"},Xe=function(b){const y=b/2;return"M400000 "+b+" H0 L"+y+" 0 l65 45 L145 "+(b-80)+" H400000z"},Mt=function(b,y,M){const D=M-54-y-b;return"M702 "+(b+y)+"H400000"+(40+b)+`
H742v`+D+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+y+"H400000v"+(40+b)+"H742z"},ce=function(b,y,M){y=1e3*y;let D="";switch(b){case"sqrtMain":D=Be(y,ze);break;case"sqrtSize1":D=ke(y,ze);break;case"sqrtSize2":D=yt(y,ze);break;case"sqrtSize3":D=Qe(y,ze);break;case"sqrtSize4":D=Je(y,ze);break;case"sqrtTall":D=Mt(y,ze,M)}return D},rt=function(b,y){switch(b){case"⎜":return"M291 0 H417 V"+y+" H291z M291 0 H417 V"+y+" H291z";case"∣":return"M145 0 H188 V"+y+" H145z M145 0 H188 V"+y+" H145z";case"∥":return"M145 0 H188 V"+y+" H145z M145 0 H188 V"+y+" H145z"+("M367 0 H410 V"+y+" H367z M367 0 H410 V"+y+" H367z");case"⎟":return"M457 0 H583 V"+y+" H457z M457 0 H583 V"+y+" H457z";case"⎢":return"M319 0 H403 V"+y+" H319z M319 0 H403 V"+y+" H319z";case"⎥":return"M263 0 H347 V"+y+" H263z M263 0 H347 V"+y+" H263z";case"⎪":return"M384 0 H504 V"+y+" H384z M384 0 H504 V"+y+" H384z";case"⏐":return"M312 0 H355 V"+y+" H312z M312 0 H355 V"+y+" H312z";case"‖":return"M257 0 H300 V"+y+" H257z M257 0 H300 V"+y+" H257z"+("M478 0 H521 V"+y+" H478z M478 0 H521 V"+y+" H478z");default:return""}},tt={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ze=function(b,y){switch(b){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+y+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+y+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+y+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+y+" v1759 h84z";case"vert":return"M145 15 v585 v"+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+y+" v585 h43z";case"doublevert":return"M145 15 v585 v"+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+y+` v585 h43z
M367 15 v585 v`+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+y+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+y+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+y+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+y+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+y+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+y+` v602 h84z
M403 1759 V0 H319 V1759 v`+y+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+y+` v602 h84z
M347 1759 V0 h-84 V1759 v`+y+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(y+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(y+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(y+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(y+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Le{constructor(y){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=y,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(y){return E.contains(this.classes,y)}toNode(){const y=document.createDocumentFragment();for(let M=0;M<this.children.length;M++)y.appendChild(this.children[M].toNode());return y}toMarkup(){let y="";for(let M=0;M<this.children.length;M++)y+=this.children[M].toMarkup();return y}toText(){const y=M=>M.toText();return this.children.map(y).join("")}}var ct={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const We={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ie={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function ut(b,y){ct[b]=y}function ue(b,y,M){if(!ct[y])throw new Error("Font metrics not found for font: "+y+".");let D=b.charCodeAt(0),k=ct[y][D];if(!k&&b[0]in Ie&&(D=Ie[b[0]].charCodeAt(0),k=ct[y][D]),!k&&M==="text"&&Te(D)&&(k=ct[y][77]),k)return{depth:k[0],height:k[1],italic:k[2],skew:k[3],width:k[4]}}const $={};function be(b){let y;if(b>=5?y=0:b>=3?y=1:y=2,!$[y]){const M=$[y]={cssEmPerMu:We.quad[y]/18};for(const D in We)We.hasOwnProperty(D)&&(M[D]=We[D][y])}return $[y]}const De=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Re=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ne=function(b,y){return y.size<2?b:De[b-1][y.size-1]};class at{constructor(y){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=y.style,this.color=y.color,this.size=y.size||at.BASESIZE,this.textSize=y.textSize||this.size,this.phantom=!!y.phantom,this.font=y.font||"",this.fontFamily=y.fontFamily||"",this.fontWeight=y.fontWeight||"",this.fontShape=y.fontShape||"",this.sizeMultiplier=Re[this.size-1],this.maxSize=y.maxSize,this.minRuleThickness=y.minRuleThickness,this._fontMetrics=void 0}extend(y){const M={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const D in y)y.hasOwnProperty(D)&&(M[D]=y[D]);return new at(M)}havingStyle(y){return this.style===y?this:this.extend({style:y,size:Ne(this.textSize,y)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(y){return this.size===y&&this.textSize===y?this:this.extend({style:this.style.text(),size:y,textSize:y,sizeMultiplier:Re[y-1]})}havingBaseStyle(y){y=y||this.style.text();const M=Ne(at.BASESIZE,y);return this.size===M&&this.textSize===at.BASESIZE&&this.style===y?this:this.extend({style:y,size:M})}havingBaseSizing(){let y;switch(this.style.id){case 4:case 5:y=3;break;case 6:case 7:y=1;break;default:y=6}return this.extend({style:this.style.text(),size:y})}withColor(y){return this.extend({color:y})}withPhantom(){return this.extend({phantom:!0})}withFont(y){return this.extend({font:y})}withTextFontFamily(y){return this.extend({fontFamily:y,font:""})}withTextFontWeight(y){return this.extend({fontWeight:y,font:""})}withTextFontShape(y){return this.extend({fontShape:y,font:""})}sizingClasses(y){return y.size!==this.size?["sizing","reset-size"+y.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==at.BASESIZE?["sizing","reset-size"+this.size,"size"+at.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=be(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}at.BASESIZE=6;var nt=at;const vt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Rt={ex:!0,em:!0,mu:!0},Ye=function(b){return typeof b!="string"&&(b=b.unit),b in vt||b in Rt||b==="ex"},ot=function(b,y){let M;if(b.unit in vt)M=vt[b.unit]/y.fontMetrics().ptPerEm/y.sizeMultiplier;else if(b.unit==="mu")M=y.fontMetrics().cssEmPerMu;else{let D;if(y.style.isTight()?D=y.havingStyle(y.style.text()):D=y,b.unit==="ex")M=D.fontMetrics().xHeight;else if(b.unit==="em")M=D.fontMetrics().quad;else throw new a("Invalid unit: '"+b.unit+"'");D!==y&&(M*=D.sizeMultiplier/y.sizeMultiplier)}return Math.min(b.number*M,y.maxSize)},Ce=function(b){return+b.toFixed(4)+"em"},Ee=function(b){return b.filter(y=>y).join(" ")},Fe=function(b,y,M){if(this.classes=b||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=M||{},y){y.style.isTight()&&this.classes.push("mtight");const D=y.getColor();D&&(this.style.color=D)}},wt=function(b){const y=document.createElement(b);y.className=Ee(this.classes);for(const M in this.style)this.style.hasOwnProperty(M)&&(y.style[M]=this.style[M]);for(const M in this.attributes)this.attributes.hasOwnProperty(M)&&y.setAttribute(M,this.attributes[M]);for(let M=0;M<this.children.length;M++)y.appendChild(this.children[M].toNode());return y},Ae=/[\s"'>/=\x00-\x1f]/,xt=function(b){let y="<"+b;this.classes.length&&(y+=' class="'+E.escape(Ee(this.classes))+'"');let M="";for(const D in this.style)this.style.hasOwnProperty(D)&&(M+=E.hyphenate(D)+":"+this.style[D]+";");M&&(y+=' style="'+E.escape(M)+'"');for(const D in this.attributes)if(this.attributes.hasOwnProperty(D)){if(Ae.test(D))throw new a("Invalid attribute name '"+D+"'");y+=" "+D+'="'+E.escape(this.attributes[D])+'"'}y+=">";for(let D=0;D<this.children.length;D++)y+=this.children[D].toMarkup();return y+="</"+b+">",y};class mt{constructor(y,M,D,k){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Fe.call(this,y,D,k),this.children=M||[]}setAttribute(y,M){this.attributes[y]=M}hasClass(y){return E.contains(this.classes,y)}toNode(){return wt.call(this,"span")}toMarkup(){return xt.call(this,"span")}}class Lt{constructor(y,M,D,k){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Fe.call(this,M,k),this.children=D||[],this.setAttribute("href",y)}setAttribute(y,M){this.attributes[y]=M}hasClass(y){return E.contains(this.classes,y)}toNode(){return wt.call(this,"a")}toMarkup(){return xt.call(this,"a")}}class bt{constructor(y,M,D){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=M,this.src=y,this.classes=["mord"],this.style=D}hasClass(y){return E.contains(this.classes,y)}toNode(){const y=document.createElement("img");y.src=this.src,y.alt=this.alt,y.className="mord";for(const M in this.style)this.style.hasOwnProperty(M)&&(y.style[M]=this.style[M]);return y}toMarkup(){let y='<img src="'+E.escape(this.src)+'"'+(' alt="'+E.escape(this.alt)+'"'),M="";for(const D in this.style)this.style.hasOwnProperty(D)&&(M+=E.hyphenate(D)+":"+this.style[D]+";");return M&&(y+=' style="'+E.escape(M)+'"'),y+="'/>",y}}const ft={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ut{constructor(y,M,D,k,Y,ie,de,ve){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=y,this.height=M||0,this.depth=D||0,this.italic=k||0,this.skew=Y||0,this.width=ie||0,this.classes=de||[],this.style=ve||{},this.maxFontSize=0;const Oe=Me(this.text.charCodeAt(0));Oe&&this.classes.push(Oe+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=ft[this.text])}hasClass(y){return E.contains(this.classes,y)}toNode(){const y=document.createTextNode(this.text);let M=null;this.italic>0&&(M=document.createElement("span"),M.style.marginRight=Ce(this.italic)),this.classes.length>0&&(M=M||document.createElement("span"),M.className=Ee(this.classes));for(const D in this.style)this.style.hasOwnProperty(D)&&(M=M||document.createElement("span"),M.style[D]=this.style[D]);return M?(M.appendChild(y),M):y}toMarkup(){let y=!1,M="<span";this.classes.length&&(y=!0,M+=' class="',M+=E.escape(Ee(this.classes)),M+='"');let D="";this.italic>0&&(D+="margin-right:"+this.italic+"em;");for(const Y in this.style)this.style.hasOwnProperty(Y)&&(D+=E.hyphenate(Y)+":"+this.style[Y]+";");D&&(y=!0,M+=' style="'+E.escape(D)+'"');const k=E.escape(this.text);return y?(M+=">",M+=k,M+="</span>",M):k}}class It{constructor(y,M){this.children=void 0,this.attributes=void 0,this.children=y||[],this.attributes=M||{}}toNode(){const M=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const D in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,D)&&M.setAttribute(D,this.attributes[D]);for(let D=0;D<this.children.length;D++)M.appendChild(this.children[D].toNode());return M}toMarkup(){let y='<svg xmlns="http://www.w3.org/2000/svg"';for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&(y+=" "+M+'="'+E.escape(this.attributes[M])+'"');y+=">";for(let M=0;M<this.children.length;M++)y+=this.children[M].toMarkup();return y+="</svg>",y}}class Ht{constructor(y,M){this.pathName=void 0,this.alternate=void 0,this.pathName=y,this.alternate=M}toNode(){const M=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?M.setAttribute("d",this.alternate):M.setAttribute("d",tt[this.pathName]),M}toMarkup(){return this.alternate?'<path d="'+E.escape(this.alternate)+'"/>':'<path d="'+E.escape(tt[this.pathName])+'"/>'}}class $t{constructor(y){this.attributes=void 0,this.attributes=y||{}}toNode(){const M=document.createElementNS("http://www.w3.org/2000/svg","line");for(const D in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,D)&&M.setAttribute(D,this.attributes[D]);return M}toMarkup(){let y="<line";for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&(y+=" "+M+'="'+E.escape(this.attributes[M])+'"');return y+="/>",y}}function ei(b){if(b instanceof Ut)return b;throw new Error("Expected symbolNode but got "+String(b)+".")}function Pn(b){if(b instanceof mt)return b;throw new Error("Expected span<HtmlDomNode> but got "+String(b)+".")}const Hn={bin:1,close:1,inner:1,open:1,punct:1,rel:1},mi={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ri={math:{},text:{}};var En=Ri;function F(b,y,M,D,k,Y){Ri[b][k]={font:y,group:M,replace:D},Y&&D&&(Ri[b][D]=Ri[b][k])}const X="math",Tt="text",re="main",we="ams",ti="accent-token",jt="bin",Qi="close",la="inner",qt="mathord",wi="op-token",zr="open",ca="punct",G="rel",Ve="spacing",me="textord";F(X,re,G,"≡","\\equiv",!0),F(X,re,G,"≺","\\prec",!0),F(X,re,G,"≻","\\succ",!0),F(X,re,G,"∼","\\sim",!0),F(X,re,G,"⊥","\\perp"),F(X,re,G,"⪯","\\preceq",!0),F(X,re,G,"⪰","\\succeq",!0),F(X,re,G,"≃","\\simeq",!0),F(X,re,G,"∣","\\mid",!0),F(X,re,G,"≪","\\ll",!0),F(X,re,G,"≫","\\gg",!0),F(X,re,G,"≍","\\asymp",!0),F(X,re,G,"∥","\\parallel"),F(X,re,G,"⋈","\\bowtie",!0),F(X,re,G,"⌣","\\smile",!0),F(X,re,G,"⊑","\\sqsubseteq",!0),F(X,re,G,"⊒","\\sqsupseteq",!0),F(X,re,G,"≐","\\doteq",!0),F(X,re,G,"⌢","\\frown",!0),F(X,re,G,"∋","\\ni",!0),F(X,re,G,"∝","\\propto",!0),F(X,re,G,"⊢","\\vdash",!0),F(X,re,G,"⊣","\\dashv",!0),F(X,re,G,"∋","\\owns"),F(X,re,ca,".","\\ldotp"),F(X,re,ca,"⋅","\\cdotp"),F(X,re,me,"#","\\#"),F(Tt,re,me,"#","\\#"),F(X,re,me,"&","\\&"),F(Tt,re,me,"&","\\&"),F(X,re,me,"ℵ","\\aleph",!0),F(X,re,me,"∀","\\forall",!0),F(X,re,me,"ℏ","\\hbar",!0),F(X,re,me,"∃","\\exists",!0),F(X,re,me,"∇","\\nabla",!0),F(X,re,me,"♭","\\flat",!0),F(X,re,me,"ℓ","\\ell",!0),F(X,re,me,"♮","\\natural",!0),F(X,re,me,"♣","\\clubsuit",!0),F(X,re,me,"℘","\\wp",!0),F(X,re,me,"♯","\\sharp",!0),F(X,re,me,"♢","\\diamondsuit",!0),F(X,re,me,"ℜ","\\Re",!0),F(X,re,me,"♡","\\heartsuit",!0),F(X,re,me,"ℑ","\\Im",!0),F(X,re,me,"♠","\\spadesuit",!0),F(X,re,me,"§","\\S",!0),F(Tt,re,me,"§","\\S"),F(X,re,me,"¶","\\P",!0),F(Tt,re,me,"¶","\\P"),F(X,re,me,"†","\\dag"),F(Tt,re,me,"†","\\dag"),F(Tt,re,me,"†","\\textdagger"),F(X,re,me,"‡","\\ddag"),F(Tt,re,me,"‡","\\ddag"),F(Tt,re,me,"‡","\\textdaggerdbl"),F(X,re,Qi,"⎱","\\rmoustache",!0),F(X,re,zr,"⎰","\\lmoustache",!0),F(X,re,Qi,"⟯","\\rgroup",!0),F(X,re,zr,"⟮","\\lgroup",!0),F(X,re,jt,"∓","\\mp",!0),F(X,re,jt,"⊖","\\ominus",!0),F(X,re,jt,"⊎","\\uplus",!0),F(X,re,jt,"⊓","\\sqcap",!0),F(X,re,jt,"∗","\\ast"),F(X,re,jt,"⊔","\\sqcup",!0),F(X,re,jt,"◯","\\bigcirc",!0),F(X,re,jt,"∙","\\bullet",!0),F(X,re,jt,"‡","\\ddagger"),F(X,re,jt,"≀","\\wr",!0),F(X,re,jt,"⨿","\\amalg"),F(X,re,jt,"&","\\And"),F(X,re,G,"⟵","\\longleftarrow",!0),F(X,re,G,"⇐","\\Leftarrow",!0),F(X,re,G,"⟸","\\Longleftarrow",!0),F(X,re,G,"⟶","\\longrightarrow",!0),F(X,re,G,"⇒","\\Rightarrow",!0),F(X,re,G,"⟹","\\Longrightarrow",!0),F(X,re,G,"↔","\\leftrightarrow",!0),F(X,re,G,"⟷","\\longleftrightarrow",!0),F(X,re,G,"⇔","\\Leftrightarrow",!0),F(X,re,G,"⟺","\\Longleftrightarrow",!0),F(X,re,G,"↦","\\mapsto",!0),F(X,re,G,"⟼","\\longmapsto",!0),F(X,re,G,"↗","\\nearrow",!0),F(X,re,G,"↩","\\hookleftarrow",!0),F(X,re,G,"↪","\\hookrightarrow",!0),F(X,re,G,"↘","\\searrow",!0),F(X,re,G,"↼","\\leftharpoonup",!0),F(X,re,G,"⇀","\\rightharpoonup",!0),F(X,re,G,"↙","\\swarrow",!0),F(X,re,G,"↽","\\leftharpoondown",!0),F(X,re,G,"⇁","\\rightharpoondown",!0),F(X,re,G,"↖","\\nwarrow",!0),F(X,re,G,"⇌","\\rightleftharpoons",!0),F(X,we,G,"≮","\\nless",!0),F(X,we,G,"","\\@nleqslant"),F(X,we,G,"","\\@nleqq"),F(X,we,G,"⪇","\\lneq",!0),F(X,we,G,"≨","\\lneqq",!0),F(X,we,G,"","\\@lvertneqq"),F(X,we,G,"⋦","\\lnsim",!0),F(X,we,G,"⪉","\\lnapprox",!0),F(X,we,G,"⊀","\\nprec",!0),F(X,we,G,"⋠","\\npreceq",!0),F(X,we,G,"⋨","\\precnsim",!0),F(X,we,G,"⪹","\\precnapprox",!0),F(X,we,G,"≁","\\nsim",!0),F(X,we,G,"","\\@nshortmid"),F(X,we,G,"∤","\\nmid",!0),F(X,we,G,"⊬","\\nvdash",!0),F(X,we,G,"⊭","\\nvDash",!0),F(X,we,G,"⋪","\\ntriangleleft"),F(X,we,G,"⋬","\\ntrianglelefteq",!0),F(X,we,G,"⊊","\\subsetneq",!0),F(X,we,G,"","\\@varsubsetneq"),F(X,we,G,"⫋","\\subsetneqq",!0),F(X,we,G,"","\\@varsubsetneqq"),F(X,we,G,"≯","\\ngtr",!0),F(X,we,G,"","\\@ngeqslant"),F(X,we,G,"","\\@ngeqq"),F(X,we,G,"⪈","\\gneq",!0),F(X,we,G,"≩","\\gneqq",!0),F(X,we,G,"","\\@gvertneqq"),F(X,we,G,"⋧","\\gnsim",!0),F(X,we,G,"⪊","\\gnapprox",!0),F(X,we,G,"⊁","\\nsucc",!0),F(X,we,G,"⋡","\\nsucceq",!0),F(X,we,G,"⋩","\\succnsim",!0),F(X,we,G,"⪺","\\succnapprox",!0),F(X,we,G,"≆","\\ncong",!0),F(X,we,G,"","\\@nshortparallel"),F(X,we,G,"∦","\\nparallel",!0),F(X,we,G,"⊯","\\nVDash",!0),F(X,we,G,"⋫","\\ntriangleright"),F(X,we,G,"⋭","\\ntrianglerighteq",!0),F(X,we,G,"","\\@nsupseteqq"),F(X,we,G,"⊋","\\supsetneq",!0),F(X,we,G,"","\\@varsupsetneq"),F(X,we,G,"⫌","\\supsetneqq",!0),F(X,we,G,"","\\@varsupsetneqq"),F(X,we,G,"⊮","\\nVdash",!0),F(X,we,G,"⪵","\\precneqq",!0),F(X,we,G,"⪶","\\succneqq",!0),F(X,we,G,"","\\@nsubseteqq"),F(X,we,jt,"⊴","\\unlhd"),F(X,we,jt,"⊵","\\unrhd"),F(X,we,G,"↚","\\nleftarrow",!0),F(X,we,G,"↛","\\nrightarrow",!0),F(X,we,G,"⇍","\\nLeftarrow",!0),F(X,we,G,"⇏","\\nRightarrow",!0),F(X,we,G,"↮","\\nleftrightarrow",!0),F(X,we,G,"⇎","\\nLeftrightarrow",!0),F(X,we,G,"△","\\vartriangle"),F(X,we,me,"ℏ","\\hslash"),F(X,we,me,"▽","\\triangledown"),F(X,we,me,"◊","\\lozenge"),F(X,we,me,"Ⓢ","\\circledS"),F(X,we,me,"®","\\circledR"),F(Tt,we,me,"®","\\circledR"),F(X,we,me,"∡","\\measuredangle",!0),F(X,we,me,"∄","\\nexists"),F(X,we,me,"℧","\\mho"),F(X,we,me,"Ⅎ","\\Finv",!0),F(X,we,me,"⅁","\\Game",!0),F(X,we,me,"‵","\\backprime"),F(X,we,me,"▲","\\blacktriangle"),F(X,we,me,"▼","\\blacktriangledown"),F(X,we,me,"■","\\blacksquare"),F(X,we,me,"⧫","\\blacklozenge"),F(X,we,me,"★","\\bigstar"),F(X,we,me,"∢","\\sphericalangle",!0),F(X,we,me,"∁","\\complement",!0),F(X,we,me,"ð","\\eth",!0),F(Tt,re,me,"ð","ð"),F(X,we,me,"╱","\\diagup"),F(X,we,me,"╲","\\diagdown"),F(X,we,me,"□","\\square"),F(X,we,me,"□","\\Box"),F(X,we,me,"◊","\\Diamond"),F(X,we,me,"¥","\\yen",!0),F(Tt,we,me,"¥","\\yen",!0),F(X,we,me,"✓","\\checkmark",!0),F(Tt,we,me,"✓","\\checkmark"),F(X,we,me,"ℶ","\\beth",!0),F(X,we,me,"ℸ","\\daleth",!0),F(X,we,me,"ℷ","\\gimel",!0),F(X,we,me,"ϝ","\\digamma",!0),F(X,we,me,"ϰ","\\varkappa"),F(X,we,zr,"┌","\\@ulcorner",!0),F(X,we,Qi,"┐","\\@urcorner",!0),F(X,we,zr,"└","\\@llcorner",!0),F(X,we,Qi,"┘","\\@lrcorner",!0),F(X,we,G,"≦","\\leqq",!0),F(X,we,G,"⩽","\\leqslant",!0),F(X,we,G,"⪕","\\eqslantless",!0),F(X,we,G,"≲","\\lesssim",!0),F(X,we,G,"⪅","\\lessapprox",!0),F(X,we,G,"≊","\\approxeq",!0),F(X,we,jt,"⋖","\\lessdot"),F(X,we,G,"⋘","\\lll",!0),F(X,we,G,"≶","\\lessgtr",!0),F(X,we,G,"⋚","\\lesseqgtr",!0),F(X,we,G,"⪋","\\lesseqqgtr",!0),F(X,we,G,"≑","\\doteqdot"),F(X,we,G,"≓","\\risingdotseq",!0),F(X,we,G,"≒","\\fallingdotseq",!0),F(X,we,G,"∽","\\backsim",!0),F(X,we,G,"⋍","\\backsimeq",!0),F(X,we,G,"⫅","\\subseteqq",!0),F(X,we,G,"⋐","\\Subset",!0),F(X,we,G,"⊏","\\sqsubset",!0),F(X,we,G,"≼","\\preccurlyeq",!0),F(X,we,G,"⋞","\\curlyeqprec",!0),F(X,we,G,"≾","\\precsim",!0),F(X,we,G,"⪷","\\precapprox",!0),F(X,we,G,"⊲","\\vartriangleleft"),F(X,we,G,"⊴","\\trianglelefteq"),F(X,we,G,"⊨","\\vDash",!0),F(X,we,G,"⊪","\\Vvdash",!0),F(X,we,G,"⌣","\\smallsmile"),F(X,we,G,"⌢","\\smallfrown"),F(X,we,G,"≏","\\bumpeq",!0),F(X,we,G,"≎","\\Bumpeq",!0),F(X,we,G,"≧","\\geqq",!0),F(X,we,G,"⩾","\\geqslant",!0),F(X,we,G,"⪖","\\eqslantgtr",!0),F(X,we,G,"≳","\\gtrsim",!0),F(X,we,G,"⪆","\\gtrapprox",!0),F(X,we,jt,"⋗","\\gtrdot"),F(X,we,G,"⋙","\\ggg",!0),F(X,we,G,"≷","\\gtrless",!0),F(X,we,G,"⋛","\\gtreqless",!0),F(X,we,G,"⪌","\\gtreqqless",!0),F(X,we,G,"≖","\\eqcirc",!0),F(X,we,G,"≗","\\circeq",!0),F(X,we,G,"≜","\\triangleq",!0),F(X,we,G,"∼","\\thicksim"),F(X,we,G,"≈","\\thickapprox"),F(X,we,G,"⫆","\\supseteqq",!0),F(X,we,G,"⋑","\\Supset",!0),F(X,we,G,"⊐","\\sqsupset",!0),F(X,we,G,"≽","\\succcurlyeq",!0),F(X,we,G,"⋟","\\curlyeqsucc",!0),F(X,we,G,"≿","\\succsim",!0),F(X,we,G,"⪸","\\succapprox",!0),F(X,we,G,"⊳","\\vartriangleright"),F(X,we,G,"⊵","\\trianglerighteq"),F(X,we,G,"⊩","\\Vdash",!0),F(X,we,G,"∣","\\shortmid"),F(X,we,G,"∥","\\shortparallel"),F(X,we,G,"≬","\\between",!0),F(X,we,G,"⋔","\\pitchfork",!0),F(X,we,G,"∝","\\varpropto"),F(X,we,G,"◀","\\blacktriangleleft"),F(X,we,G,"∴","\\therefore",!0),F(X,we,G,"∍","\\backepsilon"),F(X,we,G,"▶","\\blacktriangleright"),F(X,we,G,"∵","\\because",!0),F(X,we,G,"⋘","\\llless"),F(X,we,G,"⋙","\\gggtr"),F(X,we,jt,"⊲","\\lhd"),F(X,we,jt,"⊳","\\rhd"),F(X,we,G,"≂","\\eqsim",!0),F(X,re,G,"⋈","\\Join"),F(X,we,G,"≑","\\Doteq",!0),F(X,we,jt,"∔","\\dotplus",!0),F(X,we,jt,"∖","\\smallsetminus"),F(X,we,jt,"⋒","\\Cap",!0),F(X,we,jt,"⋓","\\Cup",!0),F(X,we,jt,"⩞","\\doublebarwedge",!0),F(X,we,jt,"⊟","\\boxminus",!0),F(X,we,jt,"⊞","\\boxplus",!0),F(X,we,jt,"⋇","\\divideontimes",!0),F(X,we,jt,"⋉","\\ltimes",!0),F(X,we,jt,"⋊","\\rtimes",!0),F(X,we,jt,"⋋","\\leftthreetimes",!0),F(X,we,jt,"⋌","\\rightthreetimes",!0),F(X,we,jt,"⋏","\\curlywedge",!0),F(X,we,jt,"⋎","\\curlyvee",!0),F(X,we,jt,"⊝","\\circleddash",!0),F(X,we,jt,"⊛","\\circledast",!0),F(X,we,jt,"⋅","\\centerdot"),F(X,we,jt,"⊺","\\intercal",!0),F(X,we,jt,"⋒","\\doublecap"),F(X,we,jt,"⋓","\\doublecup"),F(X,we,jt,"⊠","\\boxtimes",!0),F(X,we,G,"⇢","\\dashrightarrow",!0),F(X,we,G,"⇠","\\dashleftarrow",!0),F(X,we,G,"⇇","\\leftleftarrows",!0),F(X,we,G,"⇆","\\leftrightarrows",!0),F(X,we,G,"⇚","\\Lleftarrow",!0),F(X,we,G,"↞","\\twoheadleftarrow",!0),F(X,we,G,"↢","\\leftarrowtail",!0),F(X,we,G,"↫","\\looparrowleft",!0),F(X,we,G,"⇋","\\leftrightharpoons",!0),F(X,we,G,"↶","\\curvearrowleft",!0),F(X,we,G,"↺","\\circlearrowleft",!0),F(X,we,G,"↰","\\Lsh",!0),F(X,we,G,"⇈","\\upuparrows",!0),F(X,we,G,"↿","\\upharpoonleft",!0),F(X,we,G,"⇃","\\downharpoonleft",!0),F(X,re,G,"⊶","\\origof",!0),F(X,re,G,"⊷","\\imageof",!0),F(X,we,G,"⊸","\\multimap",!0),F(X,we,G,"↭","\\leftrightsquigarrow",!0),F(X,we,G,"⇉","\\rightrightarrows",!0),F(X,we,G,"⇄","\\rightleftarrows",!0),F(X,we,G,"↠","\\twoheadrightarrow",!0),F(X,we,G,"↣","\\rightarrowtail",!0),F(X,we,G,"↬","\\looparrowright",!0),F(X,we,G,"↷","\\curvearrowright",!0),F(X,we,G,"↻","\\circlearrowright",!0),F(X,we,G,"↱","\\Rsh",!0),F(X,we,G,"⇊","\\downdownarrows",!0),F(X,we,G,"↾","\\upharpoonright",!0),F(X,we,G,"⇂","\\downharpoonright",!0),F(X,we,G,"⇝","\\rightsquigarrow",!0),F(X,we,G,"⇝","\\leadsto"),F(X,we,G,"⇛","\\Rrightarrow",!0),F(X,we,G,"↾","\\restriction"),F(X,re,me,"‘","`"),F(X,re,me,"$","\\$"),F(Tt,re,me,"$","\\$"),F(Tt,re,me,"$","\\textdollar"),F(X,re,me,"%","\\%"),F(Tt,re,me,"%","\\%"),F(X,re,me,"_","\\_"),F(Tt,re,me,"_","\\_"),F(Tt,re,me,"_","\\textunderscore"),F(X,re,me,"∠","\\angle",!0),F(X,re,me,"∞","\\infty",!0),F(X,re,me,"′","\\prime"),F(X,re,me,"△","\\triangle"),F(X,re,me,"Γ","\\Gamma",!0),F(X,re,me,"Δ","\\Delta",!0),F(X,re,me,"Θ","\\Theta",!0),F(X,re,me,"Λ","\\Lambda",!0),F(X,re,me,"Ξ","\\Xi",!0),F(X,re,me,"Π","\\Pi",!0),F(X,re,me,"Σ","\\Sigma",!0),F(X,re,me,"Υ","\\Upsilon",!0),F(X,re,me,"Φ","\\Phi",!0),F(X,re,me,"Ψ","\\Psi",!0),F(X,re,me,"Ω","\\Omega",!0),F(X,re,me,"A","Α"),F(X,re,me,"B","Β"),F(X,re,me,"E","Ε"),F(X,re,me,"Z","Ζ"),F(X,re,me,"H","Η"),F(X,re,me,"I","Ι"),F(X,re,me,"K","Κ"),F(X,re,me,"M","Μ"),F(X,re,me,"N","Ν"),F(X,re,me,"O","Ο"),F(X,re,me,"P","Ρ"),F(X,re,me,"T","Τ"),F(X,re,me,"X","Χ"),F(X,re,me,"¬","\\neg",!0),F(X,re,me,"¬","\\lnot"),F(X,re,me,"⊤","\\top"),F(X,re,me,"⊥","\\bot"),F(X,re,me,"∅","\\emptyset"),F(X,we,me,"∅","\\varnothing"),F(X,re,qt,"α","\\alpha",!0),F(X,re,qt,"β","\\beta",!0),F(X,re,qt,"γ","\\gamma",!0),F(X,re,qt,"δ","\\delta",!0),F(X,re,qt,"ϵ","\\epsilon",!0),F(X,re,qt,"ζ","\\zeta",!0),F(X,re,qt,"η","\\eta",!0),F(X,re,qt,"θ","\\theta",!0),F(X,re,qt,"ι","\\iota",!0),F(X,re,qt,"κ","\\kappa",!0),F(X,re,qt,"λ","\\lambda",!0),F(X,re,qt,"μ","\\mu",!0),F(X,re,qt,"ν","\\nu",!0),F(X,re,qt,"ξ","\\xi",!0),F(X,re,qt,"ο","\\omicron",!0),F(X,re,qt,"π","\\pi",!0),F(X,re,qt,"ρ","\\rho",!0),F(X,re,qt,"σ","\\sigma",!0),F(X,re,qt,"τ","\\tau",!0),F(X,re,qt,"υ","\\upsilon",!0),F(X,re,qt,"ϕ","\\phi",!0),F(X,re,qt,"χ","\\chi",!0),F(X,re,qt,"ψ","\\psi",!0),F(X,re,qt,"ω","\\omega",!0),F(X,re,qt,"ε","\\varepsilon",!0),F(X,re,qt,"ϑ","\\vartheta",!0),F(X,re,qt,"ϖ","\\varpi",!0),F(X,re,qt,"ϱ","\\varrho",!0),F(X,re,qt,"ς","\\varsigma",!0),F(X,re,qt,"φ","\\varphi",!0),F(X,re,jt,"∗","*",!0),F(X,re,jt,"+","+"),F(X,re,jt,"−","-",!0),F(X,re,jt,"⋅","\\cdot",!0),F(X,re,jt,"∘","\\circ",!0),F(X,re,jt,"÷","\\div",!0),F(X,re,jt,"±","\\pm",!0),F(X,re,jt,"×","\\times",!0),F(X,re,jt,"∩","\\cap",!0),F(X,re,jt,"∪","\\cup",!0),F(X,re,jt,"∖","\\setminus",!0),F(X,re,jt,"∧","\\land"),F(X,re,jt,"∨","\\lor"),F(X,re,jt,"∧","\\wedge",!0),F(X,re,jt,"∨","\\vee",!0),F(X,re,me,"√","\\surd"),F(X,re,zr,"⟨","\\langle",!0),F(X,re,zr,"∣","\\lvert"),F(X,re,zr,"∥","\\lVert"),F(X,re,Qi,"?","?"),F(X,re,Qi,"!","!"),F(X,re,Qi,"⟩","\\rangle",!0),F(X,re,Qi,"∣","\\rvert"),F(X,re,Qi,"∥","\\rVert"),F(X,re,G,"=","="),F(X,re,G,":",":"),F(X,re,G,"≈","\\approx",!0),F(X,re,G,"≅","\\cong",!0),F(X,re,G,"≥","\\ge"),F(X,re,G,"≥","\\geq",!0),F(X,re,G,"←","\\gets"),F(X,re,G,">","\\gt",!0),F(X,re,G,"∈","\\in",!0),F(X,re,G,"","\\@not"),F(X,re,G,"⊂","\\subset",!0),F(X,re,G,"⊃","\\supset",!0),F(X,re,G,"⊆","\\subseteq",!0),F(X,re,G,"⊇","\\supseteq",!0),F(X,we,G,"⊈","\\nsubseteq",!0),F(X,we,G,"⊉","\\nsupseteq",!0),F(X,re,G,"⊨","\\models"),F(X,re,G,"←","\\leftarrow",!0),F(X,re,G,"≤","\\le"),F(X,re,G,"≤","\\leq",!0),F(X,re,G,"<","\\lt",!0),F(X,re,G,"→","\\rightarrow",!0),F(X,re,G,"→","\\to"),F(X,we,G,"≱","\\ngeq",!0),F(X,we,G,"≰","\\nleq",!0),F(X,re,Ve," ","\\ "),F(X,re,Ve," ","\\space"),F(X,re,Ve," ","\\nobreakspace"),F(Tt,re,Ve," ","\\ "),F(Tt,re,Ve," "," "),F(Tt,re,Ve," ","\\space"),F(Tt,re,Ve," ","\\nobreakspace"),F(X,re,Ve,null,"\\nobreak"),F(X,re,Ve,null,"\\allowbreak"),F(X,re,ca,",",","),F(X,re,ca,";",";"),F(X,we,jt,"⊼","\\barwedge",!0),F(X,we,jt,"⊻","\\veebar",!0),F(X,re,jt,"⊙","\\odot",!0),F(X,re,jt,"⊕","\\oplus",!0),F(X,re,jt,"⊗","\\otimes",!0),F(X,re,me,"∂","\\partial",!0),F(X,re,jt,"⊘","\\oslash",!0),F(X,we,jt,"⊚","\\circledcirc",!0),F(X,we,jt,"⊡","\\boxdot",!0),F(X,re,jt,"△","\\bigtriangleup"),F(X,re,jt,"▽","\\bigtriangledown"),F(X,re,jt,"†","\\dagger"),F(X,re,jt,"⋄","\\diamond"),F(X,re,jt,"⋆","\\star"),F(X,re,jt,"◃","\\triangleleft"),F(X,re,jt,"▹","\\triangleright"),F(X,re,zr,"{","\\{"),F(Tt,re,me,"{","\\{"),F(Tt,re,me,"{","\\textbraceleft"),F(X,re,Qi,"}","\\}"),F(Tt,re,me,"}","\\}"),F(Tt,re,me,"}","\\textbraceright"),F(X,re,zr,"{","\\lbrace"),F(X,re,Qi,"}","\\rbrace"),F(X,re,zr,"[","\\lbrack",!0),F(Tt,re,me,"[","\\lbrack",!0),F(X,re,Qi,"]","\\rbrack",!0),F(Tt,re,me,"]","\\rbrack",!0),F(X,re,zr,"(","\\lparen",!0),F(X,re,Qi,")","\\rparen",!0),F(Tt,re,me,"<","\\textless",!0),F(Tt,re,me,">","\\textgreater",!0),F(X,re,zr,"⌊","\\lfloor",!0),F(X,re,Qi,"⌋","\\rfloor",!0),F(X,re,zr,"⌈","\\lceil",!0),F(X,re,Qi,"⌉","\\rceil",!0),F(X,re,me,"\\","\\backslash"),F(X,re,me,"∣","|"),F(X,re,me,"∣","\\vert"),F(Tt,re,me,"|","\\textbar",!0),F(X,re,me,"∥","\\|"),F(X,re,me,"∥","\\Vert"),F(Tt,re,me,"∥","\\textbardbl"),F(Tt,re,me,"~","\\textasciitilde"),F(Tt,re,me,"\\","\\textbackslash"),F(Tt,re,me,"^","\\textasciicircum"),F(X,re,G,"↑","\\uparrow",!0),F(X,re,G,"⇑","\\Uparrow",!0),F(X,re,G,"↓","\\downarrow",!0),F(X,re,G,"⇓","\\Downarrow",!0),F(X,re,G,"↕","\\updownarrow",!0),F(X,re,G,"⇕","\\Updownarrow",!0),F(X,re,wi,"∐","\\coprod"),F(X,re,wi,"⋁","\\bigvee"),F(X,re,wi,"⋀","\\bigwedge"),F(X,re,wi,"⨄","\\biguplus"),F(X,re,wi,"⋂","\\bigcap"),F(X,re,wi,"⋃","\\bigcup"),F(X,re,wi,"∫","\\int"),F(X,re,wi,"∫","\\intop"),F(X,re,wi,"∬","\\iint"),F(X,re,wi,"∭","\\iiint"),F(X,re,wi,"∏","\\prod"),F(X,re,wi,"∑","\\sum"),F(X,re,wi,"⨂","\\bigotimes"),F(X,re,wi,"⨁","\\bigoplus"),F(X,re,wi,"⨀","\\bigodot"),F(X,re,wi,"∮","\\oint"),F(X,re,wi,"∯","\\oiint"),F(X,re,wi,"∰","\\oiiint"),F(X,re,wi,"⨆","\\bigsqcup"),F(X,re,wi,"∫","\\smallint"),F(Tt,re,la,"…","\\textellipsis"),F(X,re,la,"…","\\mathellipsis"),F(Tt,re,la,"…","\\ldots",!0),F(X,re,la,"…","\\ldots",!0),F(X,re,la,"⋯","\\@cdots",!0),F(X,re,la,"⋱","\\ddots",!0),F(X,re,me,"⋮","\\varvdots"),F(Tt,re,me,"⋮","\\varvdots"),F(X,re,ti,"ˊ","\\acute"),F(X,re,ti,"ˋ","\\grave"),F(X,re,ti,"¨","\\ddot"),F(X,re,ti,"~","\\tilde"),F(X,re,ti,"ˉ","\\bar"),F(X,re,ti,"˘","\\breve"),F(X,re,ti,"ˇ","\\check"),F(X,re,ti,"^","\\hat"),F(X,re,ti,"⃗","\\vec"),F(X,re,ti,"˙","\\dot"),F(X,re,ti,"˚","\\mathring"),F(X,re,qt,"","\\@imath"),F(X,re,qt,"","\\@jmath"),F(X,re,me,"ı","ı"),F(X,re,me,"ȷ","ȷ"),F(Tt,re,me,"ı","\\i",!0),F(Tt,re,me,"ȷ","\\j",!0),F(Tt,re,me,"ß","\\ss",!0),F(Tt,re,me,"æ","\\ae",!0),F(Tt,re,me,"œ","\\oe",!0),F(Tt,re,me,"ø","\\o",!0),F(Tt,re,me,"Æ","\\AE",!0),F(Tt,re,me,"Œ","\\OE",!0),F(Tt,re,me,"Ø","\\O",!0),F(Tt,re,ti,"ˊ","\\'"),F(Tt,re,ti,"ˋ","\\`"),F(Tt,re,ti,"ˆ","\\^"),F(Tt,re,ti,"˜","\\~"),F(Tt,re,ti,"ˉ","\\="),F(Tt,re,ti,"˘","\\u"),F(Tt,re,ti,"˙","\\."),F(Tt,re,ti,"¸","\\c"),F(Tt,re,ti,"˚","\\r"),F(Tt,re,ti,"ˇ","\\v"),F(Tt,re,ti,"¨",'\\"'),F(Tt,re,ti,"˝","\\H"),F(Tt,re,ti,"◯","\\textcircled");const He={"--":!0,"---":!0,"``":!0,"''":!0};F(Tt,re,me,"–","--",!0),F(Tt,re,me,"–","\\textendash"),F(Tt,re,me,"—","---",!0),F(Tt,re,me,"—","\\textemdash"),F(Tt,re,me,"‘","`",!0),F(Tt,re,me,"‘","\\textquoteleft"),F(Tt,re,me,"’","'",!0),F(Tt,re,me,"’","\\textquoteright"),F(Tt,re,me,"“","``",!0),F(Tt,re,me,"“","\\textquotedblleft"),F(Tt,re,me,"”","''",!0),F(Tt,re,me,"”","\\textquotedblright"),F(X,re,me,"°","\\degree",!0),F(Tt,re,me,"°","\\degree"),F(Tt,re,me,"°","\\textdegree",!0),F(X,re,me,"£","\\pounds"),F(X,re,me,"£","\\mathsterling",!0),F(Tt,re,me,"£","\\pounds"),F(Tt,re,me,"£","\\textsterling",!0),F(X,we,me,"✠","\\maltese"),F(Tt,we,me,"✠","\\maltese");const Ke='0123456789/@."';for(let b=0;b<Ke.length;b++){const y=Ke.charAt(b);F(X,re,me,y,y)}const Pt='0123456789!@*()-=+";:?/.,';for(let b=0;b<Pt.length;b++){const y=Pt.charAt(b);F(Tt,re,me,y,y)}const Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let b=0;b<Ft.length;b++){const y=Ft.charAt(b);F(X,re,qt,y,y),F(Tt,re,me,y,y)}F(X,we,me,"C","ℂ"),F(Tt,we,me,"C","ℂ"),F(X,we,me,"H","ℍ"),F(Tt,we,me,"H","ℍ"),F(X,we,me,"N","ℕ"),F(Tt,we,me,"N","ℕ"),F(X,we,me,"P","ℙ"),F(Tt,we,me,"P","ℙ"),F(X,we,me,"Q","ℚ"),F(Tt,we,me,"Q","ℚ"),F(X,we,me,"R","ℝ"),F(Tt,we,me,"R","ℝ"),F(X,we,me,"Z","ℤ"),F(Tt,we,me,"Z","ℤ"),F(X,re,qt,"h","ℎ"),F(Tt,re,qt,"h","ℎ");let Et="";for(let b=0;b<Ft.length;b++){const y=Ft.charAt(b);Et=String.fromCharCode(55349,56320+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56372+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56424+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56580+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56684+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56736+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56788+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56840+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56944+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),b<26&&(Et=String.fromCharCode(55349,56632+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,56476+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et))}Et="𝕜",F(X,re,qt,"k",Et),F(Tt,re,me,"k",Et);for(let b=0;b<10;b++){const y=b.toString();Et=String.fromCharCode(55349,57294+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,57314+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,57324+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et),Et=String.fromCharCode(55349,57334+b),F(X,re,qt,y,Et),F(Tt,re,me,y,Et)}const Xt="ÐÞþ";for(let b=0;b<Xt.length;b++){const y=Xt.charAt(b);F(X,re,qt,y,y),F(Tt,re,me,y,y)}const cn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],sn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],nn=function(b,y){const M=b.charCodeAt(0),D=b.charCodeAt(1),k=(M-55296)*1024+(D-56320)+65536,Y=y==="math"?0:1;if(119808<=k&&k<120484){const ie=Math.floor((k-119808)/26);return[cn[ie][2],cn[ie][Y]]}else if(120782<=k&&k<=120831){const ie=Math.floor((k-120782)/10);return[sn[ie][2],sn[ie][Y]]}else{if(k===120485||k===120486)return[cn[0][2],cn[0][Y]];if(120486<k&&k<120782)return["",""];throw new a("Unsupported character: "+b)}},wn=function(b,y,M){return En[M][b]&&En[M][b].replace&&(b=En[M][b].replace),{value:b,metrics:ue(b,y,M)}},bn=function(b,y,M,D,k){const Y=wn(b,y,M),ie=Y.metrics;b=Y.value;let de;if(ie){let ve=ie.italic;(M==="text"||D&&D.font==="mathit")&&(ve=0),de=new Ut(b,ie.height,ie.depth,ve,ie.skew,ie.width,k)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+b+"' in style '"+y+"' and mode '"+M+"'")),de=new Ut(b,0,0,0,0,0,k);if(D){de.maxFontSize=D.sizeMultiplier,D.style.isTight()&&de.classes.push("mtight");const ve=D.getColor();ve&&(de.style.color=ve)}return de},Ti=function(b,y,M,D){return D===void 0&&(D=[]),M.font==="boldsymbol"&&wn(b,"Main-Bold",y).metrics?bn(b,"Main-Bold",y,M,D.concat(["mathbf"])):b==="\\"||En[y][b].font==="main"?bn(b,"Main-Regular",y,M,D):bn(b,"AMS-Regular",y,M,D.concat(["amsrm"]))},Bn=function(b,y,M,D,k){return k!=="textord"&&wn(b,"Math-BoldItalic",y).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},qn=function(b,y,M){const D=b.mode,k=b.text,Y=["mord"],ie=D==="math"||D==="text"&&y.font,de=ie?y.font:y.fontFamily;let ve="",Oe="";if(k.charCodeAt(0)===55349&&([ve,Oe]=nn(k,D)),ve.length>0)return bn(k,ve,D,y,Y.concat(Oe));if(de){let qe,et;if(de==="boldsymbol"){const dt=Bn(k,D,y,Y,M);qe=dt.fontName,et=[dt.fontClass]}else ie?(qe=za[de].fontName,et=[de]):(qe=dr(de,y.fontWeight,y.fontShape),et=[de,y.fontWeight,y.fontShape]);if(wn(k,qe,D).metrics)return bn(k,qe,D,y,Y.concat(et));if(He.hasOwnProperty(k)&&qe.slice(0,10)==="Typewriter"){const dt=[];for(let Bt=0;Bt<k.length;Bt++)dt.push(bn(k[Bt],qe,D,y,Y.concat(et)));return yi(dt)}}if(M==="mathord")return bn(k,"Math-Italic",D,y,Y.concat(["mathnormal"]));if(M==="textord"){const qe=En[D][k]&&En[D][k].font;if(qe==="ams"){const et=dr("amsrm",y.fontWeight,y.fontShape);return bn(k,et,D,y,Y.concat("amsrm",y.fontWeight,y.fontShape))}else if(qe==="main"||!qe){const et=dr("textrm",y.fontWeight,y.fontShape);return bn(k,et,D,y,Y.concat(y.fontWeight,y.fontShape))}else{const et=dr(qe,y.fontWeight,y.fontShape);return bn(k,et,D,y,Y.concat(et,y.fontWeight,y.fontShape))}}else throw new Error("unexpected type: "+M+" in makeOrd")},ln=(b,y)=>{if(Ee(b.classes)!==Ee(y.classes)||b.skew!==y.skew||b.maxFontSize!==y.maxFontSize)return!1;if(b.classes.length===1){const M=b.classes[0];if(M==="mbin"||M==="mord")return!1}for(const M in b.style)if(b.style.hasOwnProperty(M)&&b.style[M]!==y.style[M])return!1;for(const M in y.style)if(y.style.hasOwnProperty(M)&&b.style[M]!==y.style[M])return!1;return!0},Li=b=>{for(let y=0;y<b.length-1;y++){const M=b[y],D=b[y+1];M instanceof Ut&&D instanceof Ut&&ln(M,D)&&(M.text+=D.text,M.height=Math.max(M.height,D.height),M.depth=Math.max(M.depth,D.depth),M.italic=D.italic,b.splice(y+1,1),y--)}return b},On=function(b){let y=0,M=0,D=0;for(let k=0;k<b.children.length;k++){const Y=b.children[k];Y.height>y&&(y=Y.height),Y.depth>M&&(M=Y.depth),Y.maxFontSize>D&&(D=Y.maxFontSize)}b.height=y,b.depth=M,b.maxFontSize=D},li=function(b,y,M,D){const k=new mt(b,y,M,D);return On(k),k},La=(b,y,M,D)=>new mt(b,y,M,D),gi=function(b,y,M){const D=li([b],[],y);return D.height=Math.max(M||y.fontMetrics().defaultRuleThickness,y.minRuleThickness),D.style.borderBottomWidth=Ce(D.height),D.maxFontSize=1,D},wr=function(b,y,M,D){const k=new Lt(b,y,M,D);return On(k),k},yi=function(b){const y=new Le(b);return On(y),y},Mr=function(b,y){return b instanceof Le?li([],[b],y):b},Fi=function(b){if(b.positionType==="individualShift"){const M=b.children,D=[M[0]],k=-M[0].shift-M[0].elem.depth;let Y=k;for(let ie=1;ie<M.length;ie++){const de=-M[ie].shift-Y-M[ie].elem.depth,ve=de-(M[ie-1].elem.height+M[ie-1].elem.depth);Y=Y+de,D.push({type:"kern",size:ve}),D.push(M[ie])}return{children:D,depth:k}}let y;if(b.positionType==="top"){let M=b.positionData;for(let D=0;D<b.children.length;D++){const k=b.children[D];M-=k.type==="kern"?k.size:k.elem.height+k.elem.depth}y=M}else if(b.positionType==="bottom")y=-b.positionData;else{const M=b.children[0];if(M.type!=="elem")throw new Error('First child must have type "elem".');if(b.positionType==="shift")y=-M.elem.depth-b.positionData;else if(b.positionType==="firstBaseline")y=-M.elem.depth;else throw new Error("Invalid positionType "+b.positionType+".")}return{children:b.children,depth:y}},Ar=function(b,y){const{children:M,depth:D}=Fi(b);let k=0;for(let Bt=0;Bt<M.length;Bt++){const Kt=M[Bt];if(Kt.type==="elem"){const tn=Kt.elem;k=Math.max(k,tn.maxFontSize,tn.height)}}k+=2;const Y=li(["pstrut"],[]);Y.style.height=Ce(k);const ie=[];let de=D,ve=D,Oe=D;for(let Bt=0;Bt<M.length;Bt++){const Kt=M[Bt];if(Kt.type==="kern")Oe+=Kt.size;else{const tn=Kt.elem,Gn=Kt.wrapperClasses||[],Xn=Kt.wrapperStyle||{},Yn=li(Gn,[Y,tn],void 0,Xn);Yn.style.top=Ce(-k-Oe-tn.depth),Kt.marginLeft&&(Yn.style.marginLeft=Kt.marginLeft),Kt.marginRight&&(Yn.style.marginRight=Kt.marginRight),ie.push(Yn),Oe+=tn.height+tn.depth}de=Math.min(de,Oe),ve=Math.max(ve,Oe)}const qe=li(["vlist"],ie);qe.style.height=Ce(ve);let et;if(de<0){const Bt=li([],[]),Kt=li(["vlist"],[Bt]);Kt.style.height=Ce(-de);const tn=li(["vlist-s"],[new Ut("​")]);et=[li(["vlist-r"],[qe,tn]),li(["vlist-r"],[Kt])]}else et=[li(["vlist-r"],[qe])];const dt=li(["vlist-t"],et);return et.length===2&&dt.classes.push("vlist-t2"),dt.height=ve,dt.depth=-de,dt},hr=(b,y)=>{const M=li(["mspace"],[],y),D=ot(b,y);return M.style.marginRight=Ce(D),M},dr=function(b,y,M){let D="";switch(b){case"amsrm":D="AMS";break;case"textrm":D="Main";break;case"textsf":D="SansSerif";break;case"texttt":D="Typewriter";break;default:D=b}let k;return y==="textbf"&&M==="textit"?k="BoldItalic":y==="textbf"?k="Bold":y==="textit"?k="Italic":k="Regular",D+"-"+k},za={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$o={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var st={fontMap:za,makeSymbol:bn,mathsym:Ti,makeSpan:li,makeSvgSpan:La,makeLineSpan:gi,makeAnchor:wr,makeFragment:yi,wrapFragment:Mr,makeVList:Ar,makeOrd:qn,makeGlue:hr,staticSvg:function(b,y){const[M,D,k]=$o[b],Y=new Ht(M),ie=new It([Y],{width:Ce(D),height:Ce(k),style:"width:"+Ce(D),viewBox:"0 0 "+1e3*D+" "+1e3*k,preserveAspectRatio:"xMinYMin"}),de=La(["overlay"],[ie],y);return de.height=k,de.style.height=Ce(k),de.style.width=Ce(D),de},svgData:$o,tryCombineChars:Li};const vi={number:3,unit:"mu"},Ws={number:4,unit:"mu"},Jr={number:5,unit:"mu"},qs={mord:{mop:vi,mbin:Ws,mrel:Jr,minner:vi},mop:{mord:vi,mop:vi,mrel:Jr,minner:vi},mbin:{mord:Ws,mop:Ws,mopen:Ws,minner:Ws},mrel:{mord:Jr,mop:Jr,mopen:Jr,minner:Jr},mopen:{},mclose:{mop:vi,mbin:Ws,mrel:Jr,minner:vi},mpunct:{mord:vi,mop:vi,mrel:Jr,mopen:vi,mclose:vi,mpunct:vi,minner:vi},minner:{mord:vi,mop:vi,mbin:Ws,mrel:Jr,mopen:vi,mpunct:vi,minner:vi}},Xs={mord:{mop:vi},mop:{mord:vi,mop:vi},mbin:{},mrel:{},mopen:{},mclose:{mop:vi},mpunct:{},minner:{mop:vi}},Pa={},rs={},_s={};function Wt(b){let{type:y,names:M,props:D,handler:k,htmlBuilder:Y,mathmlBuilder:ie}=b;const de={type:y,numArgs:D.numArgs,argTypes:D.argTypes,allowedInArgument:!!D.allowedInArgument,allowedInText:!!D.allowedInText,allowedInMath:D.allowedInMath===void 0?!0:D.allowedInMath,numOptionalArgs:D.numOptionalArgs||0,infix:!!D.infix,primitive:!!D.primitive,handler:k};for(let ve=0;ve<M.length;++ve)Pa[M[ve]]=de;y&&(Y&&(rs[y]=Y),ie&&(_s[y]=ie))}function as(b){let{type:y,htmlBuilder:M,mathmlBuilder:D}=b;Wt({type:y,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:M,mathmlBuilder:D})}const Ms=function(b){return b.type==="ordgroup"&&b.body.length===1?b.body[0]:b},si=function(b){return b.type==="ordgroup"?b.body:[b]},ua=st.makeSpan,el=["leftmost","mbin","mopen","mrel","mop","mpunct"],Cr=["rightmost","mrel","mclose","mpunct"],dc={display:K.DISPLAY,text:K.TEXT,script:K.SCRIPT,scriptscript:K.SCRIPTSCRIPT},pc={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ji=function(b,y,M,D){D===void 0&&(D=[null,null]);const k=[];for(let Oe=0;Oe<b.length;Oe++){const qe=Sn(b[Oe],y);if(qe instanceof Le){const et=qe.children;k.push(...et)}else k.push(qe)}if(st.tryCombineChars(k),!M)return k;let Y=y;if(b.length===1){const Oe=b[0];Oe.type==="sizing"?Y=y.havingSize(Oe.size):Oe.type==="styling"&&(Y=y.havingStyle(dc[Oe.style]))}const ie=ua([D[0]||"leftmost"],[],y),de=ua([D[1]||"rightmost"],[],y),ve=M==="root";return qa(k,(Oe,qe)=>{const et=qe.classes[0],dt=Oe.classes[0];et==="mbin"&&E.contains(Cr,dt)?qe.classes[0]="mord":dt==="mbin"&&E.contains(el,et)&&(Oe.classes[0]="mord")},{node:ie},de,ve),qa(k,(Oe,qe)=>{const et=pr(qe),dt=pr(Oe),Bt=et&&dt?Oe.hasClass("mtight")?Xs[et][dt]:qs[et][dt]:null;if(Bt)return st.makeGlue(Bt,Y)},{node:ie},de,ve),k},qa=function(b,y,M,D,k){D&&b.push(D);let Y=0;for(;Y<b.length;Y++){const ie=b[Y],de=_o(ie);if(de){qa(de.children,y,M,null,k);continue}const ve=!ie.hasClass("mspace");if(ve){const Oe=y(ie,M.node);Oe&&(M.insertAfter?M.insertAfter(Oe):(b.unshift(Oe),Y++))}ve?M.node=ie:k&&ie.hasClass("newline")&&(M.node=ua(["leftmost"])),M.insertAfter=(Oe=>qe=>{b.splice(Oe+1,0,qe),Y++})(Y)}D&&b.pop()},_o=function(b){return b instanceof Le||b instanceof Lt||b instanceof mt&&b.hasClass("enclosing")?b:null},Mo=function(b,y){const M=_o(b);if(M){const D=M.children;if(D.length){if(y==="right")return Mo(D[D.length-1],"right");if(y==="left")return Mo(D[0],"left")}}return b},pr=function(b,y){return b?(y&&(b=Mo(b,y)),pc[b.classes[0]]||null):null},$r=function(b,y){const M=["nulldelimiter"].concat(b.baseSizingClasses());return ua(y.concat(M))},Sn=function(b,y,M){if(!b)return ua();if(rs[b.type]){let D=rs[b.type](b,y);if(M&&y.size!==M.size){D=ua(y.sizingClasses(M),[D],y);const k=y.sizeMultiplier/M.sizeMultiplier;D.height*=k,D.depth*=k}return D}else throw new a("Got group of unknown type: '"+b.type+"'")};function Ts(b,y){const M=ua(["base"],b,y),D=ua(["strut"]);return D.style.height=Ce(M.height+M.depth),M.depth&&(D.style.verticalAlign=Ce(-M.depth)),M.children.unshift(D),M}function Nl(b,y){let M=null;b.length===1&&b[0].type==="tag"&&(M=b[0].tag,b=b[0].body);const D=Ji(b,y,"root");let k;D.length===2&&D[1].hasClass("tag")&&(k=D.pop());const Y=[];let ie=[];for(let Oe=0;Oe<D.length;Oe++)if(ie.push(D[Oe]),D[Oe].hasClass("mbin")||D[Oe].hasClass("mrel")||D[Oe].hasClass("allowbreak")){let qe=!1;for(;Oe<D.length-1&&D[Oe+1].hasClass("mspace")&&!D[Oe+1].hasClass("newline");)Oe++,ie.push(D[Oe]),D[Oe].hasClass("nobreak")&&(qe=!0);qe||(Y.push(Ts(ie,y)),ie=[])}else D[Oe].hasClass("newline")&&(ie.pop(),ie.length>0&&(Y.push(Ts(ie,y)),ie=[]),Y.push(D[Oe]));ie.length>0&&Y.push(Ts(ie,y));let de;M?(de=Ts(Ji(M,y,!0)),de.classes=["tag"],Y.push(de)):k&&Y.push(k);const ve=ua(["katex-html"],Y);if(ve.setAttribute("aria-hidden","true"),de){const Oe=de.children[0];Oe.style.height=Ce(ve.height+ve.depth),ve.depth&&(Oe.style.verticalAlign=Ce(-ve.depth))}return ve}function Xa(b){return new Le(b)}class $i{constructor(y,M,D){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=y,this.attributes={},this.children=M||[],this.classes=D||[]}setAttribute(y,M){this.attributes[y]=M}getAttribute(y){return this.attributes[y]}toNode(){const y=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&y.setAttribute(M,this.attributes[M]);this.classes.length>0&&(y.className=Ee(this.classes));for(let M=0;M<this.children.length;M++)if(this.children[M]instanceof ea&&this.children[M+1]instanceof ea){let D=this.children[M].toText()+this.children[++M].toText();for(;this.children[M+1]instanceof ea;)D+=this.children[++M].toText();y.appendChild(new ea(D).toNode())}else y.appendChild(this.children[M].toNode());return y}toMarkup(){let y="<"+this.type;for(const M in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,M)&&(y+=" "+M+'="',y+=E.escape(this.attributes[M]),y+='"');this.classes.length>0&&(y+=' class ="'+E.escape(Ee(this.classes))+'"'),y+=">";for(let M=0;M<this.children.length;M++)y+=this.children[M].toMarkup();return y+="</"+this.type+">",y}toText(){return this.children.map(y=>y.toText()).join("")}}class ea{constructor(y){this.text=void 0,this.text=y}toNode(){return document.createTextNode(this.text)}toMarkup(){return E.escape(this.toText())}toText(){return this.text}}class Es{constructor(y){this.width=void 0,this.character=void 0,this.width=y,y>=.05555&&y<=.05556?this.character=" ":y>=.1666&&y<=.1667?this.character=" ":y>=.2222&&y<=.2223?this.character=" ":y>=.2777&&y<=.2778?this.character="  ":y>=-.05556&&y<=-.05555?this.character=" ⁣":y>=-.1667&&y<=-.1666?this.character=" ⁣":y>=-.2223&&y<=-.2222?this.character=" ⁣":y>=-.2778&&y<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const y=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return y.setAttribute("width",Ce(this.width)),y}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ce(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var kt={MathNode:$i,TextNode:ea,SpaceNode:Es,newDocumentFragment:Xa};const zi=function(b,y,M){return En[y][b]&&En[y][b].replace&&b.charCodeAt(0)!==55349&&!(He.hasOwnProperty(b)&&M&&(M.fontFamily&&M.fontFamily.slice(4,6)==="tt"||M.font&&M.font.slice(4,6)==="tt"))&&(b=En[y][b].replace),new kt.TextNode(b)},Wu=function(b){return b.length===1?b[0]:new kt.MathNode("mrow",b)},er=function(b,y){if(y.fontFamily==="texttt")return"monospace";if(y.fontFamily==="textsf")return y.fontShape==="textit"&&y.fontWeight==="textbf"?"sans-serif-bold-italic":y.fontShape==="textit"?"sans-serif-italic":y.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(y.fontShape==="textit"&&y.fontWeight==="textbf")return"bold-italic";if(y.fontShape==="textit")return"italic";if(y.fontWeight==="textbf")return"bold";const M=y.font;if(!M||M==="mathnormal")return null;const D=b.mode;if(M==="mathit")return"italic";if(M==="boldsymbol")return b.type==="textord"?"bold":"bold-italic";if(M==="mathbf")return"bold";if(M==="mathbb")return"double-struck";if(M==="mathsfit")return"sans-serif-italic";if(M==="mathfrak")return"fraktur";if(M==="mathscr"||M==="mathcal")return"script";if(M==="mathsf")return"sans-serif";if(M==="mathtt")return"monospace";let k=b.text;if(E.contains(["\\imath","\\jmath"],k))return null;En[D][k]&&En[D][k].replace&&(k=En[D][k].replace);const Y=st.fontMap[M].fontName;return ue(k,Y,D)?st.fontMap[M].variant:null};function Ys(b){if(!b)return!1;if(b.type==="mi"&&b.children.length===1){const y=b.children[0];return y instanceof ea&&y.text==="."}else if(b.type==="mo"&&b.children.length===1&&b.getAttribute("separator")==="true"&&b.getAttribute("lspace")==="0em"&&b.getAttribute("rspace")==="0em"){const y=b.children[0];return y instanceof ea&&y.text===","}else return!1}const ta=function(b,y,M){if(b.length===1){const Y=Nn(b[0],y);return M&&Y instanceof $i&&Y.type==="mo"&&(Y.setAttribute("lspace","0em"),Y.setAttribute("rspace","0em")),[Y]}const D=[];let k;for(let Y=0;Y<b.length;Y++){const ie=Nn(b[Y],y);if(ie instanceof $i&&k instanceof $i){if(ie.type==="mtext"&&k.type==="mtext"&&ie.getAttribute("mathvariant")===k.getAttribute("mathvariant")){k.children.push(...ie.children);continue}else if(ie.type==="mn"&&k.type==="mn"){k.children.push(...ie.children);continue}else if(Ys(ie)&&k.type==="mn"){k.children.push(...ie.children);continue}else if(ie.type==="mn"&&Ys(k))ie.children=[...k.children,...ie.children],D.pop();else if((ie.type==="msup"||ie.type==="msub")&&ie.children.length>=1&&(k.type==="mn"||Ys(k))){const de=ie.children[0];de instanceof $i&&de.type==="mn"&&(de.children=[...k.children,...de.children],D.pop())}else if(k.type==="mi"&&k.children.length===1){const de=k.children[0];if(de instanceof ea&&de.text==="̸"&&(ie.type==="mo"||ie.type==="mi"||ie.type==="mn")){const ve=ie.children[0];ve instanceof ea&&ve.text.length>0&&(ve.text=ve.text.slice(0,1)+"̸"+ve.text.slice(1),D.pop())}}}D.push(ie),k=ie}return D},Ks=function(b,y,M){return Wu(ta(b,y,M))},Nn=function(b,y){if(!b)return new kt.MathNode("mrow");if(_s[b.type])return _s[b.type](b,y);throw new a("Got group of unknown type: '"+b.type+"'")};function Ba(b,y,M,D,k){const Y=ta(b,M);let ie;Y.length===1&&Y[0]instanceof $i&&E.contains(["mrow","mtable"],Y[0].type)?ie=Y[0]:ie=new kt.MathNode("mrow",Y);const de=new kt.MathNode("annotation",[new kt.TextNode(y)]);de.setAttribute("encoding","application/x-tex");const ve=new kt.MathNode("semantics",[ie,de]),Oe=new kt.MathNode("math",[ve]);Oe.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),D&&Oe.setAttribute("display","block");const qe=k?"katex":"katex-mathml";return st.makeSpan([qe],[Oe])}const Rr=function(b){return new nt({style:b.displayMode?K.DISPLAY:K.TEXT,maxSize:b.maxSize,minRuleThickness:b.minRuleThickness})},Ya=function(b,y){if(y.displayMode){const M=["katex-display"];y.leqno&&M.push("leqno"),y.fleqn&&M.push("fleqn"),b=st.makeSpan(M,[b])}return b},qu=function(b,y,M){const D=Rr(M);let k;if(M.output==="mathml")return Ba(b,y,D,M.displayMode,!0);if(M.output==="html"){const Y=Nl(b,D);k=st.makeSpan(["katex"],[Y])}else{const Y=Ba(b,y,D,M.displayMode,!1),ie=Nl(b,D);k=st.makeSpan(["katex"],[Y,ie])}return Ya(k,M)},j0=function(b,y,M){const D=Rr(M),k=Nl(b,D),Y=st.makeSpan(["katex"],[k]);return Ya(Y,M)},W0={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},pd=function(b){const y=new kt.MathNode("mo",[new kt.TextNode(W0[b.replace(/^\\/,"")])]);return y.setAttribute("stretchy","true"),y},Xu={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},q0=function(b){return b.type==="ordgroup"?b.body.length:1};var ws={encloseSpan:function(b,y,M,D,k){let Y;const ie=b.height+b.depth+M+D;if(/fbox|color|angl/.test(y)){if(Y=st.makeSpan(["stretchy",y],[],k),y==="fbox"){const de=k.color&&k.getColor();de&&(Y.style.borderColor=de)}}else{const de=[];/^[bx]cancel$/.test(y)&&de.push(new $t({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(y)&&de.push(new $t({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const ve=new It(de,{width:"100%",height:Ce(ie)});Y=st.makeSvgSpan([],[ve],k)}return Y.height=ie,Y.style.height=Ce(ie),Y},mathMLnode:pd,svgSpan:function(b,y){function M(){let ie=4e5;const de=b.label.slice(1);if(E.contains(["widehat","widecheck","widetilde","utilde"],de)){const Oe=q0(b.base);let qe,et,dt;if(Oe>5)de==="widehat"||de==="widecheck"?(qe=420,ie=2364,dt=.42,et=de+"4"):(qe=312,ie=2340,dt=.34,et="tilde4");else{const tn=[1,1,2,2,3,3][Oe];de==="widehat"||de==="widecheck"?(ie=[0,1062,2364,2364,2364][tn],qe=[0,239,300,360,420][tn],dt=[0,.24,.3,.3,.36,.42][tn],et=de+tn):(ie=[0,600,1033,2339,2340][tn],qe=[0,260,286,306,312][tn],dt=[0,.26,.286,.3,.306,.34][tn],et="tilde"+tn)}const Bt=new Ht(et),Kt=new It([Bt],{width:"100%",height:Ce(dt),viewBox:"0 0 "+ie+" "+qe,preserveAspectRatio:"none"});return{span:st.makeSvgSpan([],[Kt],y),minWidth:0,height:dt}}else{const ve=[],Oe=Xu[de],[qe,et,dt]=Oe,Bt=dt/1e3,Kt=qe.length;let tn,Gn;if(Kt===1){const Xn=Oe[3];tn=["hide-tail"],Gn=[Xn]}else if(Kt===2)tn=["halfarrow-left","halfarrow-right"],Gn=["xMinYMin","xMaxYMin"];else if(Kt===3)tn=["brace-left","brace-center","brace-right"],Gn=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Kt+" children.");for(let Xn=0;Xn<Kt;Xn++){const Yn=new Ht(qe[Xn]),ui=new It([Yn],{width:"400em",height:Ce(Bt),viewBox:"0 0 "+ie+" "+dt,preserveAspectRatio:Gn[Xn]+" slice"}),Bi=st.makeSvgSpan([tn[Xn]],[ui],y);if(Kt===1)return{span:Bi,minWidth:et,height:Bt};Bi.style.height=Ce(Bt),ve.push(Bi)}return{span:st.makeSpan(["stretchy"],ve,y),minWidth:et,height:Bt}}}const{span:D,minWidth:k,height:Y}=M();return D.height=Y,D.style.height=Ce(Y),k>0&&(D.style.minWidth=Ce(k)),D}};function zn(b,y){if(!b||b.type!==y)throw new Error("Expected node of type "+y+", but got "+(b?"node of type "+b.type:String(b)));return b}function Yu(b){const y=Ku(b);if(!y)throw new Error("Expected node of symbol group type, but got "+(b?"node of type "+b.type:String(b)));return y}function Ku(b){return b&&(b.type==="atom"||mi.hasOwnProperty(b.type))?b:null}const Zs=(b,y)=>{let M,D,k;b&&b.type==="supsub"?(D=zn(b.base,"accent"),M=D.base,b.base=M,k=Pn(Sn(b,y)),b.base=D):(D=zn(b,"accent"),M=D.base);const Y=Sn(M,y.havingCrampedStyle()),ie=D.isShifty&&E.isCharacterBox(M);let de=0;if(ie){const dt=E.getBaseElem(M),Bt=Sn(dt,y.havingCrampedStyle());de=ei(Bt).skew}const ve=D.label==="\\c";let Oe=ve?Y.height+Y.depth:Math.min(Y.height,y.fontMetrics().xHeight),qe;if(D.isStretchy)qe=ws.svgSpan(D,y),qe=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"elem",elem:qe,wrapperClasses:["svg-align"],wrapperStyle:de>0?{width:"calc(100% - "+Ce(2*de)+")",marginLeft:Ce(2*de)}:void 0}]},y);else{let dt,Bt;D.label==="\\vec"?(dt=st.staticSvg("vec",y),Bt=st.svgData.vec[1]):(dt=st.makeOrd({mode:D.mode,text:D.label},y,"textord"),dt=ei(dt),dt.italic=0,Bt=dt.width,ve&&(Oe+=dt.depth)),qe=st.makeSpan(["accent-body"],[dt]);const Kt=D.label==="\\textcircled";Kt&&(qe.classes.push("accent-full"),Oe=Y.height);let tn=de;Kt||(tn-=Bt/2),qe.style.left=Ce(tn),D.label==="\\textcircled"&&(qe.style.top=".2em"),qe=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"kern",size:-Oe},{type:"elem",elem:qe}]},y)}const et=st.makeSpan(["mord","accent"],[qe],y);return k?(k.children[0]=et,k.height=Math.max(et.height,k.height),k.classes[0]="mord",k):et},lh=(b,y)=>{const M=b.isStretchy?ws.mathMLnode(b.label):new kt.MathNode("mo",[zi(b.label,b.mode)]),D=new kt.MathNode("mover",[Nn(b.base,y),M]);return D.setAttribute("accent","true"),D},Xm=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(b=>"\\"+b).join("|"));Wt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(b,y)=>{const M=Ms(y[0]),D=!Xm.test(b.funcName),k=!D||b.funcName==="\\widehat"||b.funcName==="\\widetilde"||b.funcName==="\\widecheck";return{type:"accent",mode:b.parser.mode,label:b.funcName,isStretchy:D,isShifty:k,base:M}},htmlBuilder:Zs,mathmlBuilder:lh}),Wt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(b,y)=>{const M=y[0];let D=b.parser.mode;return D==="math"&&(b.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+b.funcName+" works only in text mode"),D="text"),{type:"accent",mode:D,label:b.funcName,isStretchy:!1,isShifty:!0,base:M}},htmlBuilder:Zs,mathmlBuilder:lh}),Wt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0];return{type:"accentUnder",mode:M.mode,label:D,base:k}},htmlBuilder:(b,y)=>{const M=Sn(b.base,y),D=ws.svgSpan(b,y),k=b.label==="\\utilde"?.12:0,Y=st.makeVList({positionType:"top",positionData:M.height,children:[{type:"elem",elem:D,wrapperClasses:["svg-align"]},{type:"kern",size:k},{type:"elem",elem:M}]},y);return st.makeSpan(["mord","accentunder"],[Y],y)},mathmlBuilder:(b,y)=>{const M=ws.mathMLnode(b.label),D=new kt.MathNode("munder",[Nn(b.base,y),M]);return D.setAttribute("accentunder","true"),D}});const Zu=b=>{const y=new kt.MathNode("mpadded",b?[b]:[]);return y.setAttribute("width","+0.6em"),y.setAttribute("lspace","0.3em"),y};Wt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(b,y,M){let{parser:D,funcName:k}=b;return{type:"xArrow",mode:D.mode,label:k,body:y[0],below:M[0]}},htmlBuilder(b,y){const M=y.style;let D=y.havingStyle(M.sup());const k=st.wrapFragment(Sn(b.body,D,y),y),Y=b.label.slice(0,2)==="\\x"?"x":"cd";k.classes.push(Y+"-arrow-pad");let ie;b.below&&(D=y.havingStyle(M.sub()),ie=st.wrapFragment(Sn(b.below,D,y),y),ie.classes.push(Y+"-arrow-pad"));const de=ws.svgSpan(b,y),ve=-y.fontMetrics().axisHeight+.5*de.height;let Oe=-y.fontMetrics().axisHeight-.5*de.height-.111;(k.depth>.25||b.label==="\\xleftequilibrium")&&(Oe-=k.depth);let qe;if(ie){const et=-y.fontMetrics().axisHeight+ie.height+.5*de.height+.111;qe=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:k,shift:Oe},{type:"elem",elem:de,shift:ve},{type:"elem",elem:ie,shift:et}]},y)}else qe=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:k,shift:Oe},{type:"elem",elem:de,shift:ve}]},y);return qe.children[0].children[0].children[1].classes.push("svg-align"),st.makeSpan(["mrel","x-arrow"],[qe],y)},mathmlBuilder(b,y){const M=ws.mathMLnode(b.label);M.setAttribute("minsize",b.label.charAt(0)==="x"?"1.75em":"3.0em");let D;if(b.body){const k=Zu(Nn(b.body,y));if(b.below){const Y=Zu(Nn(b.below,y));D=new kt.MathNode("munderover",[M,Y,k])}else D=new kt.MathNode("mover",[M,k])}else if(b.below){const k=Zu(Nn(b.below,y));D=new kt.MathNode("munder",[M,k])}else D=Zu(),D=new kt.MathNode("mover",[M,D]);return D}});const Ul=st.makeSpan;function To(b,y){const M=Ji(b.body,y,!0);return Ul([b.mclass],M,y)}function Yc(b,y){let M;const D=ta(b.body,y);return b.mclass==="minner"?M=new kt.MathNode("mpadded",D):b.mclass==="mord"?b.isCharacterBox?(M=D[0],M.type="mi"):M=new kt.MathNode("mi",D):(b.isCharacterBox?(M=D[0],M.type="mo"):M=new kt.MathNode("mo",D),b.mclass==="mbin"?(M.attributes.lspace="0.22em",M.attributes.rspace="0.22em"):b.mclass==="mpunct"?(M.attributes.lspace="0em",M.attributes.rspace="0.17em"):b.mclass==="mopen"||b.mclass==="mclose"?(M.attributes.lspace="0em",M.attributes.rspace="0em"):b.mclass==="minner"&&(M.attributes.lspace="0.0556em",M.attributes.width="+0.1111em")),M}Wt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(b,y){let{parser:M,funcName:D}=b;const k=y[0];return{type:"mclass",mode:M.mode,mclass:"m"+D.slice(5),body:si(k),isCharacterBox:E.isCharacterBox(k)}},htmlBuilder:To,mathmlBuilder:Yc});const Eo=b=>{const y=b.type==="ordgroup"&&b.body.length?b.body[0]:b;return y.type==="atom"&&(y.family==="bin"||y.family==="rel")?"m"+y.family:"mord"};Wt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(b,y){let{parser:M}=b;return{type:"mclass",mode:M.mode,mclass:Eo(y[0]),body:si(y[1]),isCharacterBox:E.isCharacterBox(y[1])}}}),Wt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(b,y){let{parser:M,funcName:D}=b;const k=y[1],Y=y[0];let ie;D!=="\\stackrel"?ie=Eo(k):ie="mrel";const de={type:"op",mode:k.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:D!=="\\stackrel",body:si(k)},ve={type:"supsub",mode:Y.mode,base:de,sup:D==="\\underset"?null:Y,sub:D==="\\underset"?Y:null};return{type:"mclass",mode:M.mode,mclass:ie,body:[ve],isCharacterBox:E.isCharacterBox(ve)}},htmlBuilder:To,mathmlBuilder:Yc}),Wt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(b,y){let{parser:M}=b;return{type:"pmb",mode:M.mode,mclass:Eo(y[0]),body:si(y[0])}},htmlBuilder(b,y){const M=Ji(b.body,y,!0),D=st.makeSpan([b.mclass],M,y);return D.style.textShadow="0.02em 0.01em 0.04px",D},mathmlBuilder(b,y){const M=ta(b.body,y),D=new kt.MathNode("mstyle",M);return D.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),D}});const Qu={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Kc=()=>({type:"styling",body:[],mode:"math",style:"display"}),tl=b=>b.type==="textord"&&b.text==="@",fa=(b,y)=>(b.type==="mathord"||b.type==="atom")&&b.text===y;function Ju(b,y,M){const D=Qu[b];switch(D){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return M.callFunction(D,[y[0]],[y[1]]);case"\\uparrow":case"\\downarrow":{const k=M.callFunction("\\\\cdleft",[y[0]],[]),Y={type:"atom",text:D,mode:"math",family:"rel"},ie=M.callFunction("\\Big",[Y],[]),de=M.callFunction("\\\\cdright",[y[1]],[]),ve={type:"ordgroup",mode:"math",body:[k,ie,de]};return M.callFunction("\\\\cdparent",[ve],[])}case"\\\\cdlongequal":return M.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const k={type:"textord",text:"\\Vert",mode:"math"};return M.callFunction("\\Big",[k],[])}default:return{type:"textord",text:" ",mode:"math"}}}function md(b){const y=[];for(b.gullet.beginGroup(),b.gullet.macros.set("\\cr","\\\\\\relax"),b.gullet.beginGroup();;){y.push(b.parseExpression(!1,"\\\\")),b.gullet.endGroup(),b.gullet.beginGroup();const Y=b.fetch().text;if(Y==="&"||Y==="\\\\")b.consume();else if(Y==="\\end"){y[y.length-1].length===0&&y.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",b.nextToken)}let M=[];const D=[M];for(let Y=0;Y<y.length;Y++){const ie=y[Y];let de=Kc();for(let ve=0;ve<ie.length;ve++)if(!tl(ie[ve]))de.body.push(ie[ve]);else{M.push(de),ve+=1;const Oe=Yu(ie[ve]).text,qe=new Array(2);if(qe[0]={type:"ordgroup",mode:"math",body:[]},qe[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Oe)>-1))if("<>AV".indexOf(Oe)>-1)for(let Bt=0;Bt<2;Bt++){let Kt=!0;for(let tn=ve+1;tn<ie.length;tn++){if(fa(ie[tn],Oe)){Kt=!1,ve=tn;break}if(tl(ie[tn]))throw new a("Missing a "+Oe+" character to complete a CD arrow.",ie[tn]);qe[Bt].body.push(ie[tn])}if(Kt)throw new a("Missing a "+Oe+" character to complete a CD arrow.",ie[ve])}else throw new a('Expected one of "<>AV=|." after @',ie[ve]);const dt={type:"styling",body:[Ju(Oe,qe,b)],mode:"math",style:"display"};M.push(dt),de=Kc()}Y%2===0?M.push(de):M.shift(),M=[],D.push(M)}b.gullet.endGroup(),b.gullet.endGroup();const k=new Array(D[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:D,arraystretch:1,addJot:!0,rowGaps:[null],cols:k,colSeparationType:"CD",hLinesBeforeRow:new Array(D.length+1).fill([])}}Wt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(b,y){let{parser:M,funcName:D}=b;return{type:"cdlabel",mode:M.mode,side:D.slice(4),label:y[0]}},htmlBuilder(b,y){const M=y.havingStyle(y.style.sup()),D=st.wrapFragment(Sn(b.label,M,y),y);return D.classes.push("cd-label-"+b.side),D.style.bottom=Ce(.8-D.depth),D.height=0,D.depth=0,D},mathmlBuilder(b,y){let M=new kt.MathNode("mrow",[Nn(b.label,y)]);return M=new kt.MathNode("mpadded",[M]),M.setAttribute("width","0"),b.side==="left"&&M.setAttribute("lspace","-1width"),M.setAttribute("voffset","0.7em"),M=new kt.MathNode("mstyle",[M]),M.setAttribute("displaystyle","false"),M.setAttribute("scriptlevel","1"),M}}),Wt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(b,y){let{parser:M}=b;return{type:"cdlabelparent",mode:M.mode,fragment:y[0]}},htmlBuilder(b,y){const M=st.wrapFragment(Sn(b.fragment,y),y);return M.classes.push("cd-vert-arrow"),M},mathmlBuilder(b,y){return new kt.MathNode("mrow",[Nn(b.fragment,y)])}}),Wt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(b,y){let{parser:M}=b;const k=zn(y[0],"ordgroup").body;let Y="";for(let ve=0;ve<k.length;ve++){const Oe=zn(k[ve],"textord");Y+=Oe.text}let ie=parseInt(Y),de;if(isNaN(ie))throw new a("\\@char has non-numeric argument "+Y);if(ie<0||ie>=1114111)throw new a("\\@char with invalid code point "+Y);return ie<=65535?de=String.fromCharCode(ie):(ie-=65536,de=String.fromCharCode((ie>>10)+55296,(ie&1023)+56320)),{type:"textord",mode:M.mode,text:de}}});const nl=(b,y)=>{const M=Ji(b.body,y.withColor(b.color),!1);return st.makeFragment(M)},Zc=(b,y)=>{const M=ta(b.body,y.withColor(b.color)),D=new kt.MathNode("mstyle",M);return D.setAttribute("mathcolor",b.color),D};Wt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(b,y){let{parser:M}=b;const D=zn(y[0],"color-token").color,k=y[1];return{type:"color",mode:M.mode,color:D,body:si(k)}},htmlBuilder:nl,mathmlBuilder:Zc}),Wt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(b,y){let{parser:M,breakOnTokenText:D}=b;const k=zn(y[0],"color-token").color;M.gullet.macros.set("\\current@color",k);const Y=M.parseExpression(!0,D);return{type:"color",mode:M.mode,color:k,body:Y}},htmlBuilder:nl,mathmlBuilder:Zc}),Wt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(b,y,M){let{parser:D}=b;const k=D.gullet.future().text==="["?D.parseSizeGroup(!0):null,Y=!D.settings.displayMode||!D.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:D.mode,newLine:Y,size:k&&zn(k,"size").value}},htmlBuilder(b,y){const M=st.makeSpan(["mspace"],[],y);return b.newLine&&(M.classes.push("newline"),b.size&&(M.style.marginTop=Ce(ot(b.size,y)))),M},mathmlBuilder(b,y){const M=new kt.MathNode("mspace");return b.newLine&&(M.setAttribute("linebreak","newline"),b.size&&M.setAttribute("height",Ce(ot(b.size,y)))),M}});const $u={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ef=b=>{const y=b.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(y))throw new a("Expected a control sequence",b);return y},gd=b=>{let y=b.gullet.popToken();return y.text==="="&&(y=b.gullet.popToken(),y.text===" "&&(y=b.gullet.popToken())),y},Ia=(b,y,M,D)=>{let k=b.gullet.macros.get(M.text);k==null&&(M.noexpand=!0,k={tokens:[M],numArgs:0,unexpandable:!b.gullet.isExpandable(M.text)}),b.gullet.macros.set(y,k,D)};Wt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(b){let{parser:y,funcName:M}=b;y.consumeSpaces();const D=y.fetch();if($u[D.text])return(M==="\\global"||M==="\\\\globallong")&&(D.text=$u[D.text]),zn(y.parseFunction(),"internal");throw new a("Invalid token after macro prefix",D)}}),Wt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){let{parser:y,funcName:M}=b,D=y.gullet.popToken();const k=D.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(k))throw new a("Expected a control sequence",D);let Y=0,ie;const de=[[]];for(;y.gullet.future().text!=="{";)if(D=y.gullet.popToken(),D.text==="#"){if(y.gullet.future().text==="{"){ie=y.gullet.future(),de[Y].push("{");break}if(D=y.gullet.popToken(),!/^[1-9]$/.test(D.text))throw new a('Invalid argument number "'+D.text+'"');if(parseInt(D.text)!==Y+1)throw new a('Argument number "'+D.text+'" out of order');Y++,de.push([])}else{if(D.text==="EOF")throw new a("Expected a macro definition");de[Y].push(D.text)}let{tokens:ve}=y.gullet.consumeArg();return ie&&ve.unshift(ie),(M==="\\edef"||M==="\\xdef")&&(ve=y.gullet.expandTokens(ve),ve.reverse()),y.gullet.macros.set(k,{tokens:ve,numArgs:Y,delimiters:de},M===$u[M]),{type:"internal",mode:y.mode}}}),Wt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){let{parser:y,funcName:M}=b;const D=ef(y.gullet.popToken());y.gullet.consumeSpaces();const k=gd(y);return Ia(y,D,k,M==="\\\\globallet"),{type:"internal",mode:y.mode}}}),Wt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){let{parser:y,funcName:M}=b;const D=ef(y.gullet.popToken()),k=y.gullet.popToken(),Y=y.gullet.popToken();return Ia(y,D,Y,M==="\\\\globalfuture"),y.gullet.pushToken(Y),y.gullet.pushToken(k),{type:"internal",mode:y.mode}}});const wo=function(b,y,M){const D=En.math[b]&&En.math[b].replace,k=ue(D||b,y,M);if(!k)throw new Error("Unsupported symbol "+b+" and font size "+y+".");return k},il=function(b,y,M,D){const k=M.havingBaseStyle(y),Y=st.makeSpan(D.concat(k.sizingClasses(M)),[b],M),ie=k.sizeMultiplier/M.sizeMultiplier;return Y.height*=ie,Y.depth*=ie,Y.maxFontSize=k.sizeMultiplier,Y},yd=function(b,y,M){const D=y.havingBaseStyle(M),k=(1-y.sizeMultiplier/D.sizeMultiplier)*y.fontMetrics().axisHeight;b.classes.push("delimcenter"),b.style.top=Ce(k),b.height-=k,b.depth+=k},tf=function(b,y,M,D,k,Y){const ie=st.makeSymbol(b,"Main-Regular",k,D),de=il(ie,y,D,Y);return M&&yd(de,D,y),de},ch=function(b,y,M,D){return st.makeSymbol(b,"Size"+y+"-Regular",M,D)},nf=function(b,y,M,D,k,Y){const ie=ch(b,y,k,D),de=il(st.makeSpan(["delimsizing","size"+y],[ie],D),K.TEXT,D,Y);return M&&yd(de,D,K.TEXT),de},Qc=function(b,y,M){let D;return y==="Size1-Regular"?D="delim-size1":D="delim-size4",{type:"elem",elem:st.makeSpan(["delimsizinginner",D],[st.makeSpan([],[st.makeSymbol(b,y,M)])])}},Ll=function(b,y,M){const D=ct["Size4-Regular"][b.charCodeAt(0)]?ct["Size4-Regular"][b.charCodeAt(0)][4]:ct["Size1-Regular"][b.charCodeAt(0)][4],k=new Ht("inner",rt(b,Math.round(1e3*y))),Y=new It([k],{width:Ce(D),height:Ce(y),style:"width:"+Ce(D),viewBox:"0 0 "+1e3*D+" "+Math.round(1e3*y),preserveAspectRatio:"xMinYMin"}),ie=st.makeSvgSpan([],[Y],M);return ie.height=y,ie.style.height=Ce(y),ie.style.width=Ce(D),{type:"elem",elem:ie}},zl=.008,Pi={type:"kern",size:-1*zl},K0=["|","\\lvert","\\rvert","\\vert"],Ym=["\\|","\\lVert","\\rVert","\\Vert"],vd=function(b,y,M,D,k,Y){let ie,de,ve,Oe,qe="",et=0;ie=ve=Oe=b,de=null;let dt="Size1-Regular";b==="\\uparrow"?ve=Oe="⏐":b==="\\Uparrow"?ve=Oe="‖":b==="\\downarrow"?ie=ve="⏐":b==="\\Downarrow"?ie=ve="‖":b==="\\updownarrow"?(ie="\\uparrow",ve="⏐",Oe="\\downarrow"):b==="\\Updownarrow"?(ie="\\Uparrow",ve="‖",Oe="\\Downarrow"):E.contains(K0,b)?(ve="∣",qe="vert",et=333):E.contains(Ym,b)?(ve="∥",qe="doublevert",et=556):b==="["||b==="\\lbrack"?(ie="⎡",ve="⎢",Oe="⎣",dt="Size4-Regular",qe="lbrack",et=667):b==="]"||b==="\\rbrack"?(ie="⎤",ve="⎥",Oe="⎦",dt="Size4-Regular",qe="rbrack",et=667):b==="\\lfloor"||b==="⌊"?(ve=ie="⎢",Oe="⎣",dt="Size4-Regular",qe="lfloor",et=667):b==="\\lceil"||b==="⌈"?(ie="⎡",ve=Oe="⎢",dt="Size4-Regular",qe="lceil",et=667):b==="\\rfloor"||b==="⌋"?(ve=ie="⎥",Oe="⎦",dt="Size4-Regular",qe="rfloor",et=667):b==="\\rceil"||b==="⌉"?(ie="⎤",ve=Oe="⎥",dt="Size4-Regular",qe="rceil",et=667):b==="("||b==="\\lparen"?(ie="⎛",ve="⎜",Oe="⎝",dt="Size4-Regular",qe="lparen",et=875):b===")"||b==="\\rparen"?(ie="⎞",ve="⎟",Oe="⎠",dt="Size4-Regular",qe="rparen",et=875):b==="\\{"||b==="\\lbrace"?(ie="⎧",de="⎨",Oe="⎩",ve="⎪",dt="Size4-Regular"):b==="\\}"||b==="\\rbrace"?(ie="⎫",de="⎬",Oe="⎭",ve="⎪",dt="Size4-Regular"):b==="\\lgroup"||b==="⟮"?(ie="⎧",Oe="⎩",ve="⎪",dt="Size4-Regular"):b==="\\rgroup"||b==="⟯"?(ie="⎫",Oe="⎭",ve="⎪",dt="Size4-Regular"):b==="\\lmoustache"||b==="⎰"?(ie="⎧",Oe="⎭",ve="⎪",dt="Size4-Regular"):(b==="\\rmoustache"||b==="⎱")&&(ie="⎫",Oe="⎩",ve="⎪",dt="Size4-Regular");const Bt=wo(ie,dt,k),Kt=Bt.height+Bt.depth,tn=wo(ve,dt,k),Gn=tn.height+tn.depth,Xn=wo(Oe,dt,k),Yn=Xn.height+Xn.depth;let ui=0,Bi=1;if(de!==null){const ri=wo(de,dt,k);ui=ri.height+ri.depth,Bi=2}const pa=Kt+Yn+ui,gr=Math.max(0,Math.ceil((y-pa)/(Bi*Gn))),Pr=pa+gr*Bi*Gn;let _n=D.fontMetrics().axisHeight;M&&(_n*=D.sizeMultiplier);const an=Pr/2-_n,yn=[];if(qe.length>0){const ri=Pr-Kt-Yn,In=Math.round(Pr*1e3),yr=Ze(qe,Math.round(ri*1e3)),ma=new Ht(qe,yr),Rd=(et/1e3).toFixed(3)+"em",Er=(In/1e3).toFixed(3)+"em",wa=new It([ma],{width:Rd,height:Er,viewBox:"0 0 "+et+" "+In}),Os=st.makeSvgSpan([],[wa],D);Os.height=In/1e3,Os.style.width=Rd,Os.style.height=Er,yn.push({type:"elem",elem:Os})}else{if(yn.push(Qc(Oe,dt,k)),yn.push(Pi),de===null){const ri=Pr-Kt-Yn+2*zl;yn.push(Ll(ve,ri,D))}else{const ri=(Pr-Kt-Yn-ui)/2+2*zl;yn.push(Ll(ve,ri,D)),yn.push(Pi),yn.push(Qc(de,dt,k)),yn.push(Pi),yn.push(Ll(ve,ri,D))}yn.push(Pi),yn.push(Qc(ie,dt,k))}const Di=D.havingBaseStyle(K.TEXT),bi=st.makeVList({positionType:"bottom",positionData:an,children:yn},Di);return il(st.makeSpan(["delimsizing","mult"],[bi],Di),K.TEXT,D,Y)},mc=80,Ao=.08,uh=function(b,y,M,D,k){const Y=ce(b,D,M),ie=new Ht(b,Y),de=new It([ie],{width:"400em",height:Ce(y),viewBox:"0 0 400000 "+M,preserveAspectRatio:"xMinYMin slice"});return st.makeSvgSpan(["hide-tail"],[de],k)},Ka=function(b,y){const M=y.havingBaseSizing(),D=Jc("\\surd",b*M.sizeMultiplier,Co,M);let k=M.sizeMultiplier;const Y=Math.max(0,y.minRuleThickness-y.fontMetrics().sqrtRuleThickness);let ie,de=0,ve=0,Oe=0,qe;return D.type==="small"?(Oe=1e3+1e3*Y+mc,b<1?k=1:b<1.4&&(k=.7),de=(1+Y+Ao)/k,ve=(1+Y)/k,ie=uh("sqrtMain",de,Oe,Y,y),ie.style.minWidth="0.853em",qe=.833/k):D.type==="large"?(Oe=(1e3+mc)*gc[D.size],ve=(gc[D.size]+Y)/k,de=(gc[D.size]+Y+Ao)/k,ie=uh("sqrtSize"+D.size,de,Oe,Y,y),ie.style.minWidth="1.02em",qe=1/k):(de=b+Y+Ao,ve=b+Y,Oe=Math.floor(1e3*b+Y)+mc,ie=uh("sqrtTall",de,Oe,Y,y),ie.style.minWidth="0.742em",qe=1.056),ie.height=ve,ie.style.height=Ce(de),{span:ie,advanceWidth:qe,ruleWidth:(y.fontMetrics().sqrtRuleThickness+Y)*k}},As=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Za=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],fh=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],gc=[0,1.2,1.8,2.4,3],xd=function(b,y,M,D,k){if(b==="<"||b==="\\lt"||b==="⟨"?b="\\langle":(b===">"||b==="\\gt"||b==="⟩")&&(b="\\rangle"),E.contains(As,b)||E.contains(fh,b))return nf(b,y,!1,M,D,k);if(E.contains(Za,b))return vd(b,gc[y],!1,M,D,k);throw new a("Illegal delimiter: '"+b+"'")},rf=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bd=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"stack"}],Co=[{type:"small",style:K.SCRIPTSCRIPT},{type:"small",style:K.SCRIPT},{type:"small",style:K.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],hh=function(b){if(b.type==="small")return"Main-Regular";if(b.type==="large")return"Size"+b.size+"-Regular";if(b.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+b.type+"' here.")},Jc=function(b,y,M,D){const k=Math.min(2,3-D.style.size);for(let Y=k;Y<M.length&&M[Y].type!=="stack";Y++){const ie=wo(b,hh(M[Y]),"math");let de=ie.height+ie.depth;if(M[Y].type==="small"){const ve=D.havingBaseStyle(M[Y].style);de*=ve.sizeMultiplier}if(de>y)return M[Y]}return M[M.length-1]},af=function(b,y,M,D,k,Y){b==="<"||b==="\\lt"||b==="⟨"?b="\\langle":(b===">"||b==="\\gt"||b==="⟩")&&(b="\\rangle");let ie;E.contains(fh,b)?ie=rf:E.contains(As,b)?ie=Co:ie=bd;const de=Jc(b,y,ie,D);return de.type==="small"?tf(b,de.style,M,D,k,Y):de.type==="large"?nf(b,de.size,M,D,k,Y):vd(b,y,M,D,k,Y)};var Gi={sqrtImage:Ka,sizedDelim:xd,sizeToMaxHeight:gc,customSizedDelim:af,leftRightDelim:function(b,y,M,D,k,Y){const ie=D.fontMetrics().axisHeight*D.sizeMultiplier,de=901,ve=5/D.fontMetrics().ptPerEm,Oe=Math.max(y-ie,M+ie),qe=Math.max(Oe/500*de,2*Oe-ve);return af(b,qe,!0,D,k,Y)}};const rl={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dh=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function sf(b,y){const M=Ku(b);if(M&&E.contains(dh,M.text))return M;throw M?new a("Invalid delimiter '"+M.text+"' after '"+y.funcName+"'",b):new a("Invalid delimiter type '"+b.type+"'",b)}Wt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(b,y)=>{const M=sf(y[0],b);return{type:"delimsizing",mode:b.parser.mode,size:rl[b.funcName].size,mclass:rl[b.funcName].mclass,delim:M.text}},htmlBuilder:(b,y)=>b.delim==="."?st.makeSpan([b.mclass]):Gi.sizedDelim(b.delim,b.size,y,b.mode,[b.mclass]),mathmlBuilder:b=>{const y=[];b.delim!=="."&&y.push(zi(b.delim,b.mode));const M=new kt.MathNode("mo",y);b.mclass==="mopen"||b.mclass==="mclose"?M.setAttribute("fence","true"):M.setAttribute("fence","false"),M.setAttribute("stretchy","true");const D=Ce(Gi.sizeToMaxHeight[b.size]);return M.setAttribute("minsize",D),M.setAttribute("maxsize",D),M}});function Ro(b){if(!b.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Wt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(b,y)=>{const M=b.parser.gullet.macros.get("\\current@color");if(M&&typeof M!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:b.parser.mode,delim:sf(y[0],b).text,color:M}}}),Wt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(b,y)=>{const M=sf(y[0],b),D=b.parser;++D.leftrightDepth;const k=D.parseExpression(!1);--D.leftrightDepth,D.expect("\\right",!1);const Y=zn(D.parseFunction(),"leftright-right");return{type:"leftright",mode:D.mode,body:k,left:M.text,right:Y.delim,rightColor:Y.color}},htmlBuilder:(b,y)=>{Ro(b);const M=Ji(b.body,y,!0,["mopen","mclose"]);let D=0,k=0,Y=!1;for(let ve=0;ve<M.length;ve++)M[ve].isMiddle?Y=!0:(D=Math.max(M[ve].height,D),k=Math.max(M[ve].depth,k));D*=y.sizeMultiplier,k*=y.sizeMultiplier;let ie;if(b.left==="."?ie=$r(y,["mopen"]):ie=Gi.leftRightDelim(b.left,D,k,y,b.mode,["mopen"]),M.unshift(ie),Y)for(let ve=1;ve<M.length;ve++){const qe=M[ve].isMiddle;qe&&(M[ve]=Gi.leftRightDelim(qe.delim,D,k,qe.options,b.mode,[]))}let de;if(b.right===".")de=$r(y,["mclose"]);else{const ve=b.rightColor?y.withColor(b.rightColor):y;de=Gi.leftRightDelim(b.right,D,k,ve,b.mode,["mclose"])}return M.push(de),st.makeSpan(["minner"],M,y)},mathmlBuilder:(b,y)=>{Ro(b);const M=ta(b.body,y);if(b.left!=="."){const D=new kt.MathNode("mo",[zi(b.left,b.mode)]);D.setAttribute("fence","true"),M.unshift(D)}if(b.right!=="."){const D=new kt.MathNode("mo",[zi(b.right,b.mode)]);D.setAttribute("fence","true"),b.rightColor&&D.setAttribute("mathcolor",b.rightColor),M.push(D)}return Wu(M)}}),Wt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(b,y)=>{const M=sf(y[0],b);if(!b.parser.leftrightDepth)throw new a("\\middle without preceding \\left",M);return{type:"middle",mode:b.parser.mode,delim:M.text}},htmlBuilder:(b,y)=>{let M;if(b.delim===".")M=$r(y,[]);else{M=Gi.sizedDelim(b.delim,1,y,b.mode,[]);const D={delim:b.delim,options:y};M.isMiddle=D}return M},mathmlBuilder:(b,y)=>{const M=b.delim==="\\vert"||b.delim==="|"?zi("|","text"):zi(b.delim,b.mode),D=new kt.MathNode("mo",[M]);return D.setAttribute("fence","true"),D.setAttribute("lspace","0.05em"),D.setAttribute("rspace","0.05em"),D}});const ha=(b,y)=>{const M=st.wrapFragment(Sn(b.body,y),y),D=b.label.slice(1);let k=y.sizeMultiplier,Y,ie=0;const de=E.isCharacterBox(b.body);if(D==="sout")Y=st.makeSpan(["stretchy","sout"]),Y.height=y.fontMetrics().defaultRuleThickness/k,ie=-.5*y.fontMetrics().xHeight;else if(D==="phase"){const Oe=ot({number:.6,unit:"pt"},y),qe=ot({number:.35,unit:"ex"},y),et=y.havingBaseSizing();k=k/et.sizeMultiplier;const dt=M.height+M.depth+Oe+qe;M.style.paddingLeft=Ce(dt/2+Oe);const Bt=Math.floor(1e3*dt*k),Kt=Xe(Bt),tn=new It([new Ht("phase",Kt)],{width:"400em",height:Ce(Bt/1e3),viewBox:"0 0 400000 "+Bt,preserveAspectRatio:"xMinYMin slice"});Y=st.makeSvgSpan(["hide-tail"],[tn],y),Y.style.height=Ce(dt),ie=M.depth+Oe+qe}else{/cancel/.test(D)?de||M.classes.push("cancel-pad"):D==="angl"?M.classes.push("anglpad"):M.classes.push("boxpad");let Oe=0,qe=0,et=0;/box/.test(D)?(et=Math.max(y.fontMetrics().fboxrule,y.minRuleThickness),Oe=y.fontMetrics().fboxsep+(D==="colorbox"?0:et),qe=Oe):D==="angl"?(et=Math.max(y.fontMetrics().defaultRuleThickness,y.minRuleThickness),Oe=4*et,qe=Math.max(0,.25-M.depth)):(Oe=de?.2:0,qe=Oe),Y=ws.encloseSpan(M,D,Oe,qe,y),/fbox|boxed|fcolorbox/.test(D)?(Y.style.borderStyle="solid",Y.style.borderWidth=Ce(et)):D==="angl"&&et!==.049&&(Y.style.borderTopWidth=Ce(et),Y.style.borderRightWidth=Ce(et)),ie=M.depth+qe,b.backgroundColor&&(Y.style.backgroundColor=b.backgroundColor,b.borderColor&&(Y.style.borderColor=b.borderColor))}let ve;if(b.backgroundColor)ve=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Y,shift:ie},{type:"elem",elem:M,shift:0}]},y);else{const Oe=/cancel|phase/.test(D)?["svg-align"]:[];ve=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:M,shift:0},{type:"elem",elem:Y,shift:ie,wrapperClasses:Oe}]},y)}return/cancel/.test(D)&&(ve.height=M.height,ve.depth=M.depth),/cancel/.test(D)&&!de?st.makeSpan(["mord","cancel-lap"],[ve],y):st.makeSpan(["mord"],[ve],y)},of=(b,y)=>{let M=0;const D=new kt.MathNode(b.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Nn(b.body,y)]);switch(b.label){case"\\cancel":D.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":D.setAttribute("notation","downdiagonalstrike");break;case"\\phase":D.setAttribute("notation","phasorangle");break;case"\\sout":D.setAttribute("notation","horizontalstrike");break;case"\\fbox":D.setAttribute("notation","box");break;case"\\angl":D.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(M=y.fontMetrics().fboxsep*y.fontMetrics().ptPerEm,D.setAttribute("width","+"+2*M+"pt"),D.setAttribute("height","+"+2*M+"pt"),D.setAttribute("lspace",M+"pt"),D.setAttribute("voffset",M+"pt"),b.label==="\\fcolorbox"){const k=Math.max(y.fontMetrics().fboxrule,y.minRuleThickness);D.setAttribute("style","border: "+k+"em solid "+String(b.borderColor))}break;case"\\xcancel":D.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return b.backgroundColor&&D.setAttribute("mathbackground",b.backgroundColor),D};Wt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(b,y,M){let{parser:D,funcName:k}=b;const Y=zn(y[0],"color-token").color,ie=y[1];return{type:"enclose",mode:D.mode,label:k,backgroundColor:Y,body:ie}},htmlBuilder:ha,mathmlBuilder:of}),Wt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(b,y,M){let{parser:D,funcName:k}=b;const Y=zn(y[0],"color-token").color,ie=zn(y[1],"color-token").color,de=y[2];return{type:"enclose",mode:D.mode,label:k,backgroundColor:ie,borderColor:Y,body:de}},htmlBuilder:ha,mathmlBuilder:of}),Wt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(b,y){let{parser:M}=b;return{type:"enclose",mode:M.mode,label:"\\fbox",body:y[0]}}}),Wt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(b,y){let{parser:M,funcName:D}=b;const k=y[0];return{type:"enclose",mode:M.mode,label:D,body:k}},htmlBuilder:ha,mathmlBuilder:of}),Wt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(b,y){let{parser:M}=b;return{type:"enclose",mode:M.mode,label:"\\angl",body:y[0]}}});const ka={};function Qs(b){let{type:y,names:M,props:D,handler:k,htmlBuilder:Y,mathmlBuilder:ie}=b;const de={type:y,numArgs:D.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:k};for(let ve=0;ve<M.length;++ve)ka[M[ve]]=de;Y&&(rs[y]=Y),ie&&(_s[y]=ie)}const Do={};function ge(b,y){Do[b]=y}class Dr{constructor(y,M,D){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=y,this.start=M,this.end=D}static range(y,M){return M?!y||!y.loc||!M.loc||y.loc.lexer!==M.loc.lexer?null:new Dr(y.loc.lexer,y.loc.start,M.loc.end):y&&y.loc}}class Fa{constructor(y,M){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=y,this.loc=M}range(y,M){return new Fa(M,Dr.range(this,y))}}function $c(b){const y=[];b.consumeSpaces();let M=b.fetch().text;for(M==="\\relax"&&(b.consume(),b.consumeSpaces(),M=b.fetch().text);M==="\\hline"||M==="\\hdashline";)b.consume(),y.push(M==="\\hdashline"),b.consumeSpaces(),M=b.fetch().text;return y}const Or=b=>{if(!b.parser.settings.displayMode)throw new a("{"+b.envName+"} can be used only in display mode.")};function lf(b){if(b.indexOf("ed")===-1)return b.indexOf("*")===-1}function tr(b,y,M){let{hskipBeforeAndAfter:D,addJot:k,cols:Y,arraystretch:ie,colSeparationType:de,autoTag:ve,singleRow:Oe,emptySingleRow:qe,maxNumCols:et,leqno:dt}=y;if(b.gullet.beginGroup(),Oe||b.gullet.macros.set("\\cr","\\\\\\relax"),!ie){const Bi=b.gullet.expandMacroAsText("\\arraystretch");if(Bi==null)ie=1;else if(ie=parseFloat(Bi),!ie||ie<0)throw new a("Invalid \\arraystretch: "+Bi)}b.gullet.beginGroup();let Bt=[];const Kt=[Bt],tn=[],Gn=[],Xn=ve!=null?[]:void 0;function Yn(){ve&&b.gullet.macros.set("\\@eqnsw","1",!0)}function ui(){Xn&&(b.gullet.macros.get("\\df@tag")?(Xn.push(b.subparse([new Fa("\\df@tag")])),b.gullet.macros.set("\\df@tag",void 0,!0)):Xn.push(!!ve&&b.gullet.macros.get("\\@eqnsw")==="1"))}for(Yn(),Gn.push($c(b));;){let Bi=b.parseExpression(!1,Oe?"\\end":"\\\\");b.gullet.endGroup(),b.gullet.beginGroup(),Bi={type:"ordgroup",mode:b.mode,body:Bi},M&&(Bi={type:"styling",mode:b.mode,style:M,body:[Bi]}),Bt.push(Bi);const pa=b.fetch().text;if(pa==="&"){if(et&&Bt.length===et){if(Oe||de)throw new a("Too many tab characters: &",b.nextToken);b.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}b.consume()}else if(pa==="\\end"){ui(),Bt.length===1&&Bi.type==="styling"&&Bi.body[0].body.length===0&&(Kt.length>1||!qe)&&Kt.pop(),Gn.length<Kt.length+1&&Gn.push([]);break}else if(pa==="\\\\"){b.consume();let gr;b.gullet.future().text!==" "&&(gr=b.parseSizeGroup(!0)),tn.push(gr?gr.value:null),ui(),Gn.push($c(b)),Bt=[],Kt.push(Bt),Yn()}else throw new a("Expected & or \\\\ or \\cr or \\end",b.nextToken)}return b.gullet.endGroup(),b.gullet.endGroup(),{type:"array",mode:b.mode,addJot:k,arraystretch:ie,body:Kt,cols:Y,rowGaps:tn,hskipBeforeAndAfter:D,hLinesBeforeRow:Gn,colSeparationType:de,tags:Xn,leqno:dt}}function na(b){return b.slice(0,1)==="d"?"display":"text"}const Nr=function(b,y){let M,D;const k=b.body.length,Y=b.hLinesBeforeRow;let ie=0,de=new Array(k);const ve=[],Oe=Math.max(y.fontMetrics().arrayRuleWidth,y.minRuleThickness),qe=1/y.fontMetrics().ptPerEm;let et=5*qe;b.colSeparationType&&b.colSeparationType==="small"&&(et=.2778*(y.havingStyle(K.SCRIPT).sizeMultiplier/y.sizeMultiplier));const dt=b.colSeparationType==="CD"?ot({number:3,unit:"ex"},y):12*qe,Bt=3*qe,Kt=b.arraystretch*dt,tn=.7*Kt,Gn=.3*Kt;let Xn=0;function Yn(an){for(let yn=0;yn<an.length;++yn)yn>0&&(Xn+=.25),ve.push({pos:Xn,isDashed:an[yn]})}for(Yn(Y[0]),M=0;M<b.body.length;++M){const an=b.body[M];let yn=tn,Di=Gn;ie<an.length&&(ie=an.length);const bi=new Array(an.length);for(D=0;D<an.length;++D){const yr=Sn(an[D],y);Di<yr.depth&&(Di=yr.depth),yn<yr.height&&(yn=yr.height),bi[D]=yr}const ri=b.rowGaps[M];let In=0;ri&&(In=ot(ri,y),In>0&&(In+=Gn,Di<In&&(Di=In),In=0)),b.addJot&&(Di+=Bt),bi.height=yn,bi.depth=Di,Xn+=yn,bi.pos=Xn,Xn+=Di+In,de[M]=bi,Yn(Y[M+1])}const ui=Xn/2+y.fontMetrics().axisHeight,Bi=b.cols||[],pa=[];let gr,Pr;const _n=[];if(b.tags&&b.tags.some(an=>an))for(M=0;M<k;++M){const an=de[M],yn=an.pos-ui,Di=b.tags[M];let bi;Di===!0?bi=st.makeSpan(["eqn-num"],[],y):Di===!1?bi=st.makeSpan([],[],y):bi=st.makeSpan([],Ji(Di,y,!0),y),bi.depth=an.depth,bi.height=an.height,_n.push({type:"elem",elem:bi,shift:yn})}for(D=0,Pr=0;D<ie||Pr<Bi.length;++D,++Pr){let an=Bi[Pr]||{},yn=!0;for(;an.type==="separator";){if(yn||(gr=st.makeSpan(["arraycolsep"],[]),gr.style.width=Ce(y.fontMetrics().doubleRuleSep),pa.push(gr)),an.separator==="|"||an.separator===":"){const ri=an.separator==="|"?"solid":"dashed",In=st.makeSpan(["vertical-separator"],[],y);In.style.height=Ce(Xn),In.style.borderRightWidth=Ce(Oe),In.style.borderRightStyle=ri,In.style.margin="0 "+Ce(-Oe/2);const yr=Xn-ui;yr&&(In.style.verticalAlign=Ce(-yr)),pa.push(In)}else throw new a("Invalid separator type: "+an.separator);Pr++,an=Bi[Pr]||{},yn=!1}if(D>=ie)continue;let Di;(D>0||b.hskipBeforeAndAfter)&&(Di=E.deflt(an.pregap,et),Di!==0&&(gr=st.makeSpan(["arraycolsep"],[]),gr.style.width=Ce(Di),pa.push(gr)));let bi=[];for(M=0;M<k;++M){const ri=de[M],In=ri[D];if(!In)continue;const yr=ri.pos-ui;In.depth=ri.depth,In.height=ri.height,bi.push({type:"elem",elem:In,shift:yr})}bi=st.makeVList({positionType:"individualShift",children:bi},y),bi=st.makeSpan(["col-align-"+(an.align||"c")],[bi]),pa.push(bi),(D<ie-1||b.hskipBeforeAndAfter)&&(Di=E.deflt(an.postgap,et),Di!==0&&(gr=st.makeSpan(["arraycolsep"],[]),gr.style.width=Ce(Di),pa.push(gr)))}if(de=st.makeSpan(["mtable"],pa),ve.length>0){const an=st.makeLineSpan("hline",y,Oe),yn=st.makeLineSpan("hdashline",y,Oe),Di=[{type:"elem",elem:de,shift:0}];for(;ve.length>0;){const bi=ve.pop(),ri=bi.pos-ui;bi.isDashed?Di.push({type:"elem",elem:yn,shift:ri}):Di.push({type:"elem",elem:an,shift:ri})}de=st.makeVList({positionType:"individualShift",children:Di},y)}if(_n.length===0)return st.makeSpan(["mord"],[de],y);{let an=st.makeVList({positionType:"individualShift",children:_n},y);return an=st.makeSpan(["tag"],[an],y),st.makeFragment([de,an])}},ph={c:"center ",l:"left ",r:"right "},Qa=function(b,y){const M=[],D=new kt.MathNode("mtd",[],["mtr-glue"]),k=new kt.MathNode("mtd",[],["mml-eqn-num"]);for(let et=0;et<b.body.length;et++){const dt=b.body[et],Bt=[];for(let Kt=0;Kt<dt.length;Kt++)Bt.push(new kt.MathNode("mtd",[Nn(dt[Kt],y)]));b.tags&&b.tags[et]&&(Bt.unshift(D),Bt.push(D),b.leqno?Bt.unshift(k):Bt.push(k)),M.push(new kt.MathNode("mtr",Bt))}let Y=new kt.MathNode("mtable",M);const ie=b.arraystretch===.5?.1:.16+b.arraystretch-1+(b.addJot?.09:0);Y.setAttribute("rowspacing",Ce(ie));let de="",ve="";if(b.cols&&b.cols.length>0){const et=b.cols;let dt="",Bt=!1,Kt=0,tn=et.length;et[0].type==="separator"&&(de+="top ",Kt=1),et[et.length-1].type==="separator"&&(de+="bottom ",tn-=1);for(let Gn=Kt;Gn<tn;Gn++)et[Gn].type==="align"?(ve+=ph[et[Gn].align],Bt&&(dt+="none "),Bt=!0):et[Gn].type==="separator"&&Bt&&(dt+=et[Gn].separator==="|"?"solid ":"dashed ",Bt=!1);Y.setAttribute("columnalign",ve.trim()),/[sd]/.test(dt)&&Y.setAttribute("columnlines",dt.trim())}if(b.colSeparationType==="align"){const et=b.cols||[];let dt="";for(let Bt=1;Bt<et.length;Bt++)dt+=Bt%2?"0em ":"1em ";Y.setAttribute("columnspacing",dt.trim())}else b.colSeparationType==="alignat"||b.colSeparationType==="gather"?Y.setAttribute("columnspacing","0em"):b.colSeparationType==="small"?Y.setAttribute("columnspacing","0.2778em"):b.colSeparationType==="CD"?Y.setAttribute("columnspacing","0.5em"):Y.setAttribute("columnspacing","1em");let Oe="";const qe=b.hLinesBeforeRow;de+=qe[0].length>0?"left ":"",de+=qe[qe.length-1].length>0?"right ":"";for(let et=1;et<qe.length-1;et++)Oe+=qe[et].length===0?"none ":qe[et][0]?"dashed ":"solid ";return/[sd]/.test(Oe)&&Y.setAttribute("rowlines",Oe.trim()),de!==""&&(Y=new kt.MathNode("menclose",[Y]),Y.setAttribute("notation",de.trim())),b.arraystretch&&b.arraystretch<1&&(Y=new kt.MathNode("mstyle",[Y]),Y.setAttribute("scriptlevel","1")),Y},al=function(b,y){b.envName.indexOf("ed")===-1&&Or(b);const M=[],D=b.envName.indexOf("at")>-1?"alignat":"align",k=b.envName==="split",Y=tr(b.parser,{cols:M,addJot:!0,autoTag:k?void 0:lf(b.envName),emptySingleRow:!0,colSeparationType:D,maxNumCols:k?2:void 0,leqno:b.parser.settings.leqno},"display");let ie,de=0;const ve={type:"ordgroup",mode:b.mode,body:[]};if(y[0]&&y[0].type==="ordgroup"){let qe="";for(let et=0;et<y[0].body.length;et++){const dt=zn(y[0].body[et],"textord");qe+=dt.text}ie=Number(qe),de=ie*2}const Oe=!de;Y.body.forEach(function(qe){for(let et=1;et<qe.length;et+=2){const dt=zn(qe[et],"styling");zn(dt.body[0],"ordgroup").body.unshift(ve)}if(Oe)de<qe.length&&(de=qe.length);else{const et=qe.length/2;if(ie<et)throw new a("Too many math in a row: "+("expected "+ie+", but got "+et),qe[0])}});for(let qe=0;qe<de;++qe){let et="r",dt=0;qe%2===1?et="l":qe>0&&Oe&&(dt=1),M[qe]={type:"align",align:et,pregap:dt,postgap:0}}return Y.colSeparationType=Oe?"align":"alignat",Y};Qs({type:"array",names:["array","darray"],props:{numArgs:1},handler(b,y){const k=(Ku(y[0])?[y[0]]:zn(y[0],"ordgroup").body).map(function(ie){const ve=Yu(ie).text;if("lcr".indexOf(ve)!==-1)return{type:"align",align:ve};if(ve==="|")return{type:"separator",separator:"|"};if(ve===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+ve,ie)}),Y={cols:k,hskipBeforeAndAfter:!0,maxNumCols:k.length};return tr(b.parser,Y,na(b.envName))},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(b){const y={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[b.envName.replace("*","")];let M="c";const D={hskipBeforeAndAfter:!1,cols:[{type:"align",align:M}]};if(b.envName.charAt(b.envName.length-1)==="*"){const ie=b.parser;if(ie.consumeSpaces(),ie.fetch().text==="["){if(ie.consume(),ie.consumeSpaces(),M=ie.fetch().text,"lcr".indexOf(M)===-1)throw new a("Expected l or c or r",ie.nextToken);ie.consume(),ie.consumeSpaces(),ie.expect("]"),ie.consume(),D.cols=[{type:"align",align:M}]}}const k=tr(b.parser,D,na(b.envName)),Y=Math.max(0,...k.body.map(ie=>ie.length));return k.cols=new Array(Y).fill({type:"align",align:M}),y?{type:"leftright",mode:b.mode,body:[k],left:y[0],right:y[1],rightColor:void 0}:k},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(b){const y={arraystretch:.5},M=tr(b.parser,y,"script");return M.colSeparationType="small",M},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["subarray"],props:{numArgs:1},handler(b,y){const k=(Ku(y[0])?[y[0]]:zn(y[0],"ordgroup").body).map(function(ie){const ve=Yu(ie).text;if("lc".indexOf(ve)!==-1)return{type:"align",align:ve};throw new a("Unknown column alignment: "+ve,ie)});if(k.length>1)throw new a("{subarray} can contain only one column");let Y={cols:k,hskipBeforeAndAfter:!1,arraystretch:.5};if(Y=tr(b.parser,Y,"script"),Y.body.length>0&&Y.body[0].length>1)throw new a("{subarray} can contain only one column");return Y},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(b){const y={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},M=tr(b.parser,y,na(b.envName));return{type:"leftright",mode:b.mode,body:[M],left:b.envName.indexOf("r")>-1?".":"\\{",right:b.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:al,htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(b){E.contains(["gather","gather*"],b.envName)&&Or(b);const y={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:lf(b.envName),emptySingleRow:!0,leqno:b.parser.settings.leqno};return tr(b.parser,y,"display")},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:al,htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(b){Or(b);const y={autoTag:lf(b.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:b.parser.settings.leqno};return tr(b.parser,y,"display")},htmlBuilder:Nr,mathmlBuilder:Qa}),Qs({type:"array",names:["CD"],props:{numArgs:0},handler(b){return Or(b),md(b.parser)},htmlBuilder:Nr,mathmlBuilder:Qa}),ge("\\nonumber","\\gdef\\@eqnsw{0}"),ge("\\notag","\\nonumber"),Wt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(b,y){throw new a(b.funcName+" valid only within array environment")}});var Oo=ka;Wt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(b,y){let{parser:M,funcName:D}=b;const k=y[0];if(k.type!=="ordgroup")throw new a("Invalid environment name",k);let Y="";for(let ie=0;ie<k.body.length;++ie)Y+=zn(k.body[ie],"textord").text;if(D==="\\begin"){if(!Oo.hasOwnProperty(Y))throw new a("No such environment: "+Y,k);const ie=Oo[Y],{args:de,optArgs:ve}=M.parseArguments("\\begin{"+Y+"}",ie),Oe={mode:M.mode,envName:Y,parser:M},qe=ie.handler(Oe,de,ve);M.expect("\\end",!1);const et=M.nextToken,dt=zn(M.parseFunction(),"environment");if(dt.name!==Y)throw new a("Mismatch: \\begin{"+Y+"} matched by \\end{"+dt.name+"}",et);return qe}return{type:"environment",mode:M.mode,name:Y,nameGroup:k}}});const mh=(b,y)=>{const M=b.font,D=y.withFont(M);return Sn(b.body,D)},yc=(b,y)=>{const M=b.font,D=y.withFont(M);return Nn(b.body,D)},sl={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Wt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=Ms(y[0]);let Y=D;return Y in sl&&(Y=sl[Y]),{type:"font",mode:M.mode,font:Y.slice(1),body:k}},htmlBuilder:mh,mathmlBuilder:yc}),Wt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(b,y)=>{let{parser:M}=b;const D=y[0],k=E.isCharacterBox(D);return{type:"mclass",mode:M.mode,mclass:Eo(D),body:[{type:"font",mode:M.mode,font:"boldsymbol",body:D}],isCharacterBox:k}}}),Wt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(b,y)=>{let{parser:M,funcName:D,breakOnTokenText:k}=b;const{mode:Y}=M,ie=M.parseExpression(!0,k),de="math"+D.slice(1);return{type:"font",mode:Y,font:de,body:{type:"ordgroup",mode:M.mode,body:ie}}},htmlBuilder:mh,mathmlBuilder:yc});const gh=(b,y)=>{let M=y;return b==="display"?M=M.id>=K.SCRIPT.id?M.text():K.DISPLAY:b==="text"&&M.size===K.DISPLAY.size?M=K.TEXT:b==="script"?M=K.SCRIPT:b==="scriptscript"&&(M=K.SCRIPTSCRIPT),M},Ta=(b,y)=>{const M=gh(b.size,y.style),D=M.fracNum(),k=M.fracDen();let Y;Y=y.havingStyle(D);const ie=Sn(b.numer,Y,y);if(b.continued){const Yn=8.5/y.fontMetrics().ptPerEm,ui=3.5/y.fontMetrics().ptPerEm;ie.height=ie.height<Yn?Yn:ie.height,ie.depth=ie.depth<ui?ui:ie.depth}Y=y.havingStyle(k);const de=Sn(b.denom,Y,y);let ve,Oe,qe;b.hasBarLine?(b.barSize?(Oe=ot(b.barSize,y),ve=st.makeLineSpan("frac-line",y,Oe)):ve=st.makeLineSpan("frac-line",y),Oe=ve.height,qe=ve.height):(ve=null,Oe=0,qe=y.fontMetrics().defaultRuleThickness);let et,dt,Bt;M.size===K.DISPLAY.size||b.size==="display"?(et=y.fontMetrics().num1,Oe>0?dt=3*qe:dt=7*qe,Bt=y.fontMetrics().denom1):(Oe>0?(et=y.fontMetrics().num2,dt=qe):(et=y.fontMetrics().num3,dt=3*qe),Bt=y.fontMetrics().denom2);let Kt;if(ve){const Yn=y.fontMetrics().axisHeight;et-ie.depth-(Yn+.5*Oe)<dt&&(et+=dt-(et-ie.depth-(Yn+.5*Oe))),Yn-.5*Oe-(de.height-Bt)<dt&&(Bt+=dt-(Yn-.5*Oe-(de.height-Bt)));const ui=-(Yn-.5*Oe);Kt=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:de,shift:Bt},{type:"elem",elem:ve,shift:ui},{type:"elem",elem:ie,shift:-et}]},y)}else{const Yn=et-ie.depth-(de.height-Bt);Yn<dt&&(et+=.5*(dt-Yn),Bt+=.5*(dt-Yn)),Kt=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:de,shift:Bt},{type:"elem",elem:ie,shift:-et}]},y)}Y=y.havingStyle(M),Kt.height*=Y.sizeMultiplier/y.sizeMultiplier,Kt.depth*=Y.sizeMultiplier/y.sizeMultiplier;let tn;M.size===K.DISPLAY.size?tn=y.fontMetrics().delim1:M.size===K.SCRIPTSCRIPT.size?tn=y.havingStyle(K.SCRIPT).fontMetrics().delim2:tn=y.fontMetrics().delim2;let Gn,Xn;return b.leftDelim==null?Gn=$r(y,["mopen"]):Gn=Gi.customSizedDelim(b.leftDelim,tn,!0,y.havingStyle(M),b.mode,["mopen"]),b.continued?Xn=st.makeSpan([]):b.rightDelim==null?Xn=$r(y,["mclose"]):Xn=Gi.customSizedDelim(b.rightDelim,tn,!0,y.havingStyle(M),b.mode,["mclose"]),st.makeSpan(["mord"].concat(Y.sizingClasses(y)),[Gn,st.makeSpan(["mfrac"],[Kt]),Xn],y)},vc=(b,y)=>{let M=new kt.MathNode("mfrac",[Nn(b.numer,y),Nn(b.denom,y)]);if(!b.hasBarLine)M.setAttribute("linethickness","0px");else if(b.barSize){const k=ot(b.barSize,y);M.setAttribute("linethickness",Ce(k))}const D=gh(b.size,y.style);if(D.size!==y.style.size){M=new kt.MathNode("mstyle",[M]);const k=D.size===K.DISPLAY.size?"true":"false";M.setAttribute("displaystyle",k),M.setAttribute("scriptlevel","0")}if(b.leftDelim!=null||b.rightDelim!=null){const k=[];if(b.leftDelim!=null){const Y=new kt.MathNode("mo",[new kt.TextNode(b.leftDelim.replace("\\",""))]);Y.setAttribute("fence","true"),k.push(Y)}if(k.push(M),b.rightDelim!=null){const Y=new kt.MathNode("mo",[new kt.TextNode(b.rightDelim.replace("\\",""))]);Y.setAttribute("fence","true"),k.push(Y)}return Wu(k)}return M};Wt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0],Y=y[1];let ie,de=null,ve=null,Oe="auto";switch(D){case"\\dfrac":case"\\frac":case"\\tfrac":ie=!0;break;case"\\\\atopfrac":ie=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ie=!1,de="(",ve=")";break;case"\\\\bracefrac":ie=!1,de="\\{",ve="\\}";break;case"\\\\brackfrac":ie=!1,de="[",ve="]";break;default:throw new Error("Unrecognized genfrac command")}switch(D){case"\\dfrac":case"\\dbinom":Oe="display";break;case"\\tfrac":case"\\tbinom":Oe="text";break}return{type:"genfrac",mode:M.mode,continued:!1,numer:k,denom:Y,hasBarLine:ie,leftDelim:de,rightDelim:ve,size:Oe,barSize:null}},htmlBuilder:Ta,mathmlBuilder:vc}),Wt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0],Y=y[1];return{type:"genfrac",mode:M.mode,continued:!0,numer:k,denom:Y,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Wt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(b){let{parser:y,funcName:M,token:D}=b,k;switch(M){case"\\over":k="\\frac";break;case"\\choose":k="\\binom";break;case"\\atop":k="\\\\atopfrac";break;case"\\brace":k="\\\\bracefrac";break;case"\\brack":k="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:y.mode,replaceWith:k,token:D}}});const Tr=["display","text","script","scriptscript"],yh=function(b){let y=null;return b.length>0&&(y=b,y=y==="."?null:y),y};Wt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(b,y){let{parser:M}=b;const D=y[4],k=y[5],Y=Ms(y[0]),ie=Y.type==="atom"&&Y.family==="open"?yh(Y.text):null,de=Ms(y[1]),ve=de.type==="atom"&&de.family==="close"?yh(de.text):null,Oe=zn(y[2],"size");let qe,et=null;Oe.isBlank?qe=!0:(et=Oe.value,qe=et.number>0);let dt="auto",Bt=y[3];if(Bt.type==="ordgroup"){if(Bt.body.length>0){const Kt=zn(Bt.body[0],"textord");dt=Tr[Number(Kt.text)]}}else Bt=zn(Bt,"textord"),dt=Tr[Number(Bt.text)];return{type:"genfrac",mode:M.mode,numer:D,denom:k,continued:!1,hasBarLine:qe,barSize:et,leftDelim:ie,rightDelim:ve,size:dt}},htmlBuilder:Ta,mathmlBuilder:vc}),Wt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(b,y){let{parser:M,funcName:D,token:k}=b;return{type:"infix",mode:M.mode,replaceWith:"\\\\abovefrac",size:zn(y[0],"size").value,token:k}}}),Wt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0],Y=A(zn(y[1],"infix").size),ie=y[2],de=Y.number>0;return{type:"genfrac",mode:M.mode,numer:k,denom:ie,continued:!1,hasBarLine:de,barSize:Y,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ta,mathmlBuilder:vc});const Hr=(b,y)=>{const M=y.style;let D,k;b.type==="supsub"?(D=b.sup?Sn(b.sup,y.havingStyle(M.sup()),y):Sn(b.sub,y.havingStyle(M.sub()),y),k=zn(b.base,"horizBrace")):k=zn(b,"horizBrace");const Y=Sn(k.base,y.havingBaseStyle(K.DISPLAY)),ie=ws.svgSpan(k,y);let de;if(k.isOver?(de=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Y},{type:"kern",size:.1},{type:"elem",elem:ie}]},y),de.children[0].children[0].children[1].classes.push("svg-align")):(de=st.makeVList({positionType:"bottom",positionData:Y.depth+.1+ie.height,children:[{type:"elem",elem:ie},{type:"kern",size:.1},{type:"elem",elem:Y}]},y),de.children[0].children[0].children[0].classes.push("svg-align")),D){const ve=st.makeSpan(["mord",k.isOver?"mover":"munder"],[de],y);k.isOver?de=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ve},{type:"kern",size:.2},{type:"elem",elem:D}]},y):de=st.makeVList({positionType:"bottom",positionData:ve.depth+.2+D.height+D.depth,children:[{type:"elem",elem:D},{type:"kern",size:.2},{type:"elem",elem:ve}]},y)}return st.makeSpan(["mord",k.isOver?"mover":"munder"],[de],y)};Wt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(b,y){let{parser:M,funcName:D}=b;return{type:"horizBrace",mode:M.mode,label:D,isOver:/^\\over/.test(D),base:y[0]}},htmlBuilder:Hr,mathmlBuilder:(b,y)=>{const M=ws.mathMLnode(b.label);return new kt.MathNode(b.isOver?"mover":"munder",[Nn(b.base,y),M])}}),Wt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;const D=y[1],k=zn(y[0],"url").url;return M.settings.isTrusted({command:"\\href",url:k})?{type:"href",mode:M.mode,href:k,body:si(D)}:M.formatUnsupportedCmd("\\href")},htmlBuilder:(b,y)=>{const M=Ji(b.body,y,!1);return st.makeAnchor(b.href,[],M,y)},mathmlBuilder:(b,y)=>{let M=Ks(b.body,y);return M instanceof $i||(M=new $i("mrow",[M])),M.setAttribute("href",b.href),M}}),Wt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;const D=zn(y[0],"url").url;if(!M.settings.isTrusted({command:"\\url",url:D}))return M.formatUnsupportedCmd("\\url");const k=[];for(let ie=0;ie<D.length;ie++){let de=D[ie];de==="~"&&(de="\\textasciitilde"),k.push({type:"textord",mode:"text",text:de})}const Y={type:"text",mode:M.mode,font:"\\texttt",body:k};return{type:"href",mode:M.mode,href:D,body:si(Y)}}}),Wt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(b,y){let{parser:M}=b;return{type:"hbox",mode:M.mode,body:si(y[0])}},htmlBuilder(b,y){const M=Ji(b.body,y,!1);return st.makeFragment(M)},mathmlBuilder(b,y){return new kt.MathNode("mrow",ta(b.body,y))}}),Wt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(b,y)=>{let{parser:M,funcName:D,token:k}=b;const Y=zn(y[0],"raw").string,ie=y[1];M.settings.strict&&M.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let de;const ve={};switch(D){case"\\htmlClass":ve.class=Y,de={command:"\\htmlClass",class:Y};break;case"\\htmlId":ve.id=Y,de={command:"\\htmlId",id:Y};break;case"\\htmlStyle":ve.style=Y,de={command:"\\htmlStyle",style:Y};break;case"\\htmlData":{const Oe=Y.split(",");for(let qe=0;qe<Oe.length;qe++){const et=Oe[qe].split("=");if(et.length!==2)throw new a("Error parsing key-value for \\htmlData");ve["data-"+et[0].trim()]=et[1].trim()}de={command:"\\htmlData",attributes:ve};break}default:throw new Error("Unrecognized html command")}return M.settings.isTrusted(de)?{type:"html",mode:M.mode,attributes:ve,body:si(ie)}:M.formatUnsupportedCmd(D)},htmlBuilder:(b,y)=>{const M=Ji(b.body,y,!1),D=["enclosing"];b.attributes.class&&D.push(...b.attributes.class.trim().split(/\s+/));const k=st.makeSpan(D,M,y);for(const Y in b.attributes)Y!=="class"&&b.attributes.hasOwnProperty(Y)&&k.setAttribute(Y,b.attributes[Y]);return k},mathmlBuilder:(b,y)=>Ks(b.body,y)}),Wt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;return{type:"htmlmathml",mode:M.mode,html:si(y[0]),mathml:si(y[1])}},htmlBuilder:(b,y)=>{const M=Ji(b.html,y,!1);return st.makeFragment(M)},mathmlBuilder:(b,y)=>Ks(b.mathml,y)});const bc=function(b){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(b))return{number:+b,unit:"bp"};{const y=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b);if(!y)throw new a("Invalid size: '"+b+"' in \\includegraphics");const M={number:+(y[1]+y[2]),unit:y[3]};if(!Ye(M))throw new a("Invalid unit: '"+M.unit+"' in \\includegraphics.");return M}};Wt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(b,y,M)=>{let{parser:D}=b,k={number:0,unit:"em"},Y={number:.9,unit:"em"},ie={number:0,unit:"em"},de="";if(M[0]){const qe=zn(M[0],"raw").string.split(",");for(let et=0;et<qe.length;et++){const dt=qe[et].split("=");if(dt.length===2){const Bt=dt[1].trim();switch(dt[0].trim()){case"alt":de=Bt;break;case"width":k=bc(Bt);break;case"height":Y=bc(Bt);break;case"totalheight":ie=bc(Bt);break;default:throw new a("Invalid key: '"+dt[0]+"' in \\includegraphics.")}}}}const ve=zn(y[0],"url").url;return de===""&&(de=ve,de=de.replace(/^.*[\\/]/,""),de=de.substring(0,de.lastIndexOf("."))),D.settings.isTrusted({command:"\\includegraphics",url:ve})?{type:"includegraphics",mode:D.mode,alt:de,width:k,height:Y,totalheight:ie,src:ve}:D.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(b,y)=>{const M=ot(b.height,y);let D=0;b.totalheight.number>0&&(D=ot(b.totalheight,y)-M);let k=0;b.width.number>0&&(k=ot(b.width,y));const Y={height:Ce(M+D)};k>0&&(Y.width=Ce(k)),D>0&&(Y.verticalAlign=Ce(-D));const ie=new bt(b.src,b.alt,Y);return ie.height=M,ie.depth=D,ie},mathmlBuilder:(b,y)=>{const M=new kt.MathNode("mglyph",[]);M.setAttribute("alt",b.alt);const D=ot(b.height,y);let k=0;if(b.totalheight.number>0&&(k=ot(b.totalheight,y)-D,M.setAttribute("valign",Ce(-k))),M.setAttribute("height",Ce(D+k)),b.width.number>0){const Y=ot(b.width,y);M.setAttribute("width",Ce(Y))}return M.setAttribute("src",b.src),M}}),Wt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(b,y){let{parser:M,funcName:D}=b;const k=zn(y[0],"size");if(M.settings.strict){const Y=D[1]==="m",ie=k.value.unit==="mu";Y?(ie||M.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+D+" supports only mu units, "+("not "+k.value.unit+" units")),M.mode!=="math"&&M.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+D+" works only in math mode")):ie&&M.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+D+" doesn't support mu units")}return{type:"kern",mode:M.mode,dimension:k.value}},htmlBuilder(b,y){return st.makeGlue(b.dimension,y)},mathmlBuilder(b,y){const M=ot(b.dimension,y);return new kt.SpaceNode(M)}}),Wt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0];return{type:"lap",mode:M.mode,alignment:D.slice(5),body:k}},htmlBuilder:(b,y)=>{let M;b.alignment==="clap"?(M=st.makeSpan([],[Sn(b.body,y)]),M=st.makeSpan(["inner"],[M],y)):M=st.makeSpan(["inner"],[Sn(b.body,y)]);const D=st.makeSpan(["fix"],[]);let k=st.makeSpan([b.alignment],[M,D],y);const Y=st.makeSpan(["strut"]);return Y.style.height=Ce(k.height+k.depth),k.depth&&(Y.style.verticalAlign=Ce(-k.depth)),k.children.unshift(Y),k=st.makeSpan(["thinbox"],[k],y),st.makeSpan(["mord","vbox"],[k],y)},mathmlBuilder:(b,y)=>{const M=new kt.MathNode("mpadded",[Nn(b.body,y)]);if(b.alignment!=="rlap"){const D=b.alignment==="llap"?"-1":"-0.5";M.setAttribute("lspace",D+"width")}return M.setAttribute("width","0px"),M}}),Wt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(b,y){let{funcName:M,parser:D}=b;const k=D.mode;D.switchMode("math");const Y=M==="\\("?"\\)":"$",ie=D.parseExpression(!1,Y);return D.expect(Y),D.switchMode(k),{type:"styling",mode:D.mode,style:"text",body:ie}}}),Wt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(b,y){throw new a("Mismatched "+b.funcName)}});const cf=(b,y)=>{switch(y.style.size){case K.DISPLAY.size:return b.display;case K.TEXT.size:return b.text;case K.SCRIPT.size:return b.script;case K.SCRIPTSCRIPT.size:return b.scriptscript;default:return b.text}};Wt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(b,y)=>{let{parser:M}=b;return{type:"mathchoice",mode:M.mode,display:si(y[0]),text:si(y[1]),script:si(y[2]),scriptscript:si(y[3])}},htmlBuilder:(b,y)=>{const M=cf(b,y),D=Ji(M,y,!1);return st.makeFragment(D)},mathmlBuilder:(b,y)=>{const M=cf(b,y);return Ks(M,y)}});const Sc=(b,y,M,D,k,Y,ie)=>{b=st.makeSpan([],[b]);const de=M&&E.isCharacterBox(M);let ve,Oe;if(y){const dt=Sn(y,D.havingStyle(k.sup()),D);Oe={elem:dt,kern:Math.max(D.fontMetrics().bigOpSpacing1,D.fontMetrics().bigOpSpacing3-dt.depth)}}if(M){const dt=Sn(M,D.havingStyle(k.sub()),D);ve={elem:dt,kern:Math.max(D.fontMetrics().bigOpSpacing2,D.fontMetrics().bigOpSpacing4-dt.height)}}let qe;if(Oe&&ve){const dt=D.fontMetrics().bigOpSpacing5+ve.elem.height+ve.elem.depth+ve.kern+b.depth+ie;qe=st.makeVList({positionType:"bottom",positionData:dt,children:[{type:"kern",size:D.fontMetrics().bigOpSpacing5},{type:"elem",elem:ve.elem,marginLeft:Ce(-Y)},{type:"kern",size:ve.kern},{type:"elem",elem:b},{type:"kern",size:Oe.kern},{type:"elem",elem:Oe.elem,marginLeft:Ce(Y)},{type:"kern",size:D.fontMetrics().bigOpSpacing5}]},D)}else if(ve){const dt=b.height-ie;qe=st.makeVList({positionType:"top",positionData:dt,children:[{type:"kern",size:D.fontMetrics().bigOpSpacing5},{type:"elem",elem:ve.elem,marginLeft:Ce(-Y)},{type:"kern",size:ve.kern},{type:"elem",elem:b}]},D)}else if(Oe){const dt=b.depth+ie;qe=st.makeVList({positionType:"bottom",positionData:dt,children:[{type:"elem",elem:b},{type:"kern",size:Oe.kern},{type:"elem",elem:Oe.elem,marginLeft:Ce(Y)},{type:"kern",size:D.fontMetrics().bigOpSpacing5}]},D)}else return b;const et=[qe];if(ve&&Y!==0&&!de){const dt=st.makeSpan(["mspace"],[],D);dt.style.marginRight=Ce(Y),et.unshift(dt)}return st.makeSpan(["mop","op-limits"],et,D)},Va=["\\smallint"],No=(b,y)=>{let M,D,k=!1,Y;b.type==="supsub"?(M=b.sup,D=b.sub,Y=zn(b.base,"op"),k=!0):Y=zn(b,"op");const ie=y.style;let de=!1;ie.size===K.DISPLAY.size&&Y.symbol&&!E.contains(Va,Y.name)&&(de=!0);let ve;if(Y.symbol){const et=de?"Size2-Regular":"Size1-Regular";let dt="";if((Y.name==="\\oiint"||Y.name==="\\oiiint")&&(dt=Y.name.slice(1),Y.name=dt==="oiint"?"\\iint":"\\iiint"),ve=st.makeSymbol(Y.name,et,"math",y,["mop","op-symbol",de?"large-op":"small-op"]),dt.length>0){const Bt=ve.italic,Kt=st.staticSvg(dt+"Size"+(de?"2":"1"),y);ve=st.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ve,shift:0},{type:"elem",elem:Kt,shift:de?.08:0}]},y),Y.name="\\"+dt,ve.classes.unshift("mop"),ve.italic=Bt}}else if(Y.body){const et=Ji(Y.body,y,!0);et.length===1&&et[0]instanceof Ut?(ve=et[0],ve.classes[0]="mop"):ve=st.makeSpan(["mop"],et,y)}else{const et=[];for(let dt=1;dt<Y.name.length;dt++)et.push(st.mathsym(Y.name[dt],Y.mode,y));ve=st.makeSpan(["mop"],et,y)}let Oe=0,qe=0;return(ve instanceof Ut||Y.name==="\\oiint"||Y.name==="\\oiiint")&&!Y.suppressBaseShift&&(Oe=(ve.height-ve.depth)/2-y.fontMetrics().axisHeight,qe=ve.italic),k?Sc(ve,M,D,y,ie,qe,Oe):(Oe&&(ve.style.position="relative",ve.style.top=Ce(Oe)),ve)},Uo=(b,y)=>{let M;if(b.symbol)M=new $i("mo",[zi(b.name,b.mode)]),E.contains(Va,b.name)&&M.setAttribute("largeop","false");else if(b.body)M=new $i("mo",ta(b.body,y));else{M=new $i("mi",[new ea(b.name.slice(1))]);const D=new $i("mo",[zi("⁡","text")]);b.parentIsSupSub?M=new $i("mrow",[M,D]):M=Xa([M,D])}return M},da={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Wt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(b,y)=>{let{parser:M,funcName:D}=b,k=D;return k.length===1&&(k=da[k]),{type:"op",mode:M.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:k}},htmlBuilder:No,mathmlBuilder:Uo}),Wt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(b,y)=>{let{parser:M}=b;const D=y[0];return{type:"op",mode:M.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:si(D)}},htmlBuilder:No,mathmlBuilder:Uo});const ss={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Wt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(b){let{parser:y,funcName:M}=b;return{type:"op",mode:y.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:M}},htmlBuilder:No,mathmlBuilder:Uo}),Wt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(b){let{parser:y,funcName:M}=b;return{type:"op",mode:y.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:M}},htmlBuilder:No,mathmlBuilder:Uo}),Wt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(b){let{parser:y,funcName:M}=b,D=M;return D.length===1&&(D=ss[D]),{type:"op",mode:y.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:D}},htmlBuilder:No,mathmlBuilder:Uo});const ol=(b,y)=>{let M,D,k=!1,Y;b.type==="supsub"?(M=b.sup,D=b.sub,Y=zn(b.base,"operatorname"),k=!0):Y=zn(b,"operatorname");let ie;if(Y.body.length>0){const de=Y.body.map(Oe=>{const qe=Oe.text;return typeof qe=="string"?{type:"textord",mode:Oe.mode,text:qe}:Oe}),ve=Ji(de,y.withFont("mathrm"),!0);for(let Oe=0;Oe<ve.length;Oe++){const qe=ve[Oe];qe instanceof Ut&&(qe.text=qe.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ie=st.makeSpan(["mop"],ve,y)}else ie=st.makeSpan(["mop"],[],y);return k?Sc(ie,M,D,y,y.style,0,0):ie};Wt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(b,y)=>{let{parser:M,funcName:D}=b;const k=y[0];return{type:"operatorname",mode:M.mode,body:si(k),alwaysHandleSupSub:D==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ol,mathmlBuilder:(b,y)=>{let M=ta(b.body,y.withFont("mathrm")),D=!0;for(let ie=0;ie<M.length;ie++){const de=M[ie];if(!(de instanceof kt.SpaceNode))if(de instanceof kt.MathNode)switch(de.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const ve=de.children[0];de.children.length===1&&ve instanceof kt.TextNode?ve.text=ve.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):D=!1;break}default:D=!1}else D=!1}if(D){const ie=M.map(de=>de.toText()).join("");M=[new kt.TextNode(ie)]}const k=new kt.MathNode("mi",M);k.setAttribute("mathvariant","normal");const Y=new kt.MathNode("mo",[zi("⁡","text")]);return b.parentIsSupSub?new kt.MathNode("mrow",[k,Y]):kt.newDocumentFragment([k,Y])}}),ge("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),as({type:"ordgroup",htmlBuilder(b,y){return b.semisimple?st.makeFragment(Ji(b.body,y,!1)):st.makeSpan(["mord"],Ji(b.body,y,!0),y)},mathmlBuilder(b,y){return Ks(b.body,y,!0)}}),Wt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(b,y){let{parser:M}=b;const D=y[0];return{type:"overline",mode:M.mode,body:D}},htmlBuilder(b,y){const M=Sn(b.body,y.havingCrampedStyle()),D=st.makeLineSpan("overline-line",y),k=y.fontMetrics().defaultRuleThickness,Y=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:M},{type:"kern",size:3*k},{type:"elem",elem:D},{type:"kern",size:k}]},y);return st.makeSpan(["mord","overline"],[Y],y)},mathmlBuilder(b,y){const M=new kt.MathNode("mo",[new kt.TextNode("‾")]);M.setAttribute("stretchy","true");const D=new kt.MathNode("mover",[Nn(b.body,y),M]);return D.setAttribute("accent","true"),D}}),Wt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;const D=y[0];return{type:"phantom",mode:M.mode,body:si(D)}},htmlBuilder:(b,y)=>{const M=Ji(b.body,y.withPhantom(),!1);return st.makeFragment(M)},mathmlBuilder:(b,y)=>{const M=ta(b.body,y);return new kt.MathNode("mphantom",M)}}),Wt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;const D=y[0];return{type:"hphantom",mode:M.mode,body:D}},htmlBuilder:(b,y)=>{let M=st.makeSpan([],[Sn(b.body,y.withPhantom())]);if(M.height=0,M.depth=0,M.children)for(let D=0;D<M.children.length;D++)M.children[D].height=0,M.children[D].depth=0;return M=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:M}]},y),st.makeSpan(["mord"],[M],y)},mathmlBuilder:(b,y)=>{const M=ta(si(b.body),y),D=new kt.MathNode("mphantom",M),k=new kt.MathNode("mpadded",[D]);return k.setAttribute("height","0px"),k.setAttribute("depth","0px"),k}}),Wt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(b,y)=>{let{parser:M}=b;const D=y[0];return{type:"vphantom",mode:M.mode,body:D}},htmlBuilder:(b,y)=>{const M=st.makeSpan(["inner"],[Sn(b.body,y.withPhantom())]),D=st.makeSpan(["fix"],[]);return st.makeSpan(["mord","rlap"],[M,D],y)},mathmlBuilder:(b,y)=>{const M=ta(si(b.body),y),D=new kt.MathNode("mphantom",M),k=new kt.MathNode("mpadded",[D]);return k.setAttribute("width","0px"),k}}),Wt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(b,y){let{parser:M}=b;const D=zn(y[0],"size").value,k=y[1];return{type:"raisebox",mode:M.mode,dy:D,body:k}},htmlBuilder(b,y){const M=Sn(b.body,y),D=ot(b.dy,y);return st.makeVList({positionType:"shift",positionData:-D,children:[{type:"elem",elem:M}]},y)},mathmlBuilder(b,y){const M=new kt.MathNode("mpadded",[Nn(b.body,y)]),D=b.dy.number+b.dy.unit;return M.setAttribute("voffset",D),M}}),Wt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(b){let{parser:y}=b;return{type:"internal",mode:y.mode}}}),Wt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(b,y,M){let{parser:D}=b;const k=M[0],Y=zn(y[0],"size"),ie=zn(y[1],"size");return{type:"rule",mode:D.mode,shift:k&&zn(k,"size").value,width:Y.value,height:ie.value}},htmlBuilder(b,y){const M=st.makeSpan(["mord","rule"],[],y),D=ot(b.width,y),k=ot(b.height,y),Y=b.shift?ot(b.shift,y):0;return M.style.borderRightWidth=Ce(D),M.style.borderTopWidth=Ce(k),M.style.bottom=Ce(Y),M.width=D,M.height=k+Y,M.depth=-Y,M.maxFontSize=k*1.125*y.sizeMultiplier,M},mathmlBuilder(b,y){const M=ot(b.width,y),D=ot(b.height,y),k=b.shift?ot(b.shift,y):0,Y=y.color&&y.getColor()||"black",ie=new kt.MathNode("mspace");ie.setAttribute("mathbackground",Y),ie.setAttribute("width",Ce(M)),ie.setAttribute("height",Ce(D));const de=new kt.MathNode("mpadded",[ie]);return k>=0?de.setAttribute("height",Ce(k)):(de.setAttribute("height",Ce(k)),de.setAttribute("depth",Ce(-k))),de.setAttribute("voffset",Ce(k)),de}});function Js(b,y,M){const D=Ji(b,y,!1),k=y.sizeMultiplier/M.sizeMultiplier;for(let Y=0;Y<D.length;Y++){const ie=D[Y].classes.indexOf("sizing");ie<0?Array.prototype.push.apply(D[Y].classes,y.sizingClasses(M)):D[Y].classes[ie+1]==="reset-size"+y.size&&(D[Y].classes[ie+1]="reset-size"+M.size),D[Y].height*=k,D[Y].depth*=k}return st.makeFragment(D)}const Lo=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Wt({type:"sizing",names:Lo,props:{numArgs:0,allowedInText:!0},handler:(b,y)=>{let{breakOnTokenText:M,funcName:D,parser:k}=b;const Y=k.parseExpression(!1,M);return{type:"sizing",mode:k.mode,size:Lo.indexOf(D)+1,body:Y}},htmlBuilder:(b,y)=>{const M=y.havingSize(b.size);return Js(b.body,M,y)},mathmlBuilder:(b,y)=>{const M=y.havingSize(b.size),D=ta(b.body,M),k=new kt.MathNode("mstyle",D);return k.setAttribute("mathsize",Ce(M.sizeMultiplier)),k}}),Wt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(b,y,M)=>{let{parser:D}=b,k=!1,Y=!1;const ie=M[0]&&zn(M[0],"ordgroup");if(ie){let ve="";for(let Oe=0;Oe<ie.body.length;++Oe)if(ve=ie.body[Oe].text,ve==="t")k=!0;else if(ve==="b")Y=!0;else{k=!1,Y=!1;break}}else k=!0,Y=!0;const de=y[0];return{type:"smash",mode:D.mode,body:de,smashHeight:k,smashDepth:Y}},htmlBuilder:(b,y)=>{const M=st.makeSpan([],[Sn(b.body,y)]);if(!b.smashHeight&&!b.smashDepth)return M;if(b.smashHeight&&(M.height=0,M.children))for(let k=0;k<M.children.length;k++)M.children[k].height=0;if(b.smashDepth&&(M.depth=0,M.children))for(let k=0;k<M.children.length;k++)M.children[k].depth=0;const D=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:M}]},y);return st.makeSpan(["mord"],[D],y)},mathmlBuilder:(b,y)=>{const M=new kt.MathNode("mpadded",[Nn(b.body,y)]);return b.smashHeight&&M.setAttribute("height","0px"),b.smashDepth&&M.setAttribute("depth","0px"),M}}),Wt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(b,y,M){let{parser:D}=b;const k=M[0],Y=y[0];return{type:"sqrt",mode:D.mode,body:Y,index:k}},htmlBuilder(b,y){let M=Sn(b.body,y.havingCrampedStyle());M.height===0&&(M.height=y.fontMetrics().xHeight),M=st.wrapFragment(M,y);const k=y.fontMetrics().defaultRuleThickness;let Y=k;y.style.id<K.TEXT.id&&(Y=y.fontMetrics().xHeight);let ie=k+Y/4;const de=M.height+M.depth+ie+k,{span:ve,ruleWidth:Oe,advanceWidth:qe}=Gi.sqrtImage(de,y),et=ve.height-Oe;et>M.height+M.depth+ie&&(ie=(ie+et-M.height-M.depth)/2);const dt=ve.height-M.height-ie-Oe;M.style.paddingLeft=Ce(qe);const Bt=st.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:M,wrapperClasses:["svg-align"]},{type:"kern",size:-(M.height+dt)},{type:"elem",elem:ve},{type:"kern",size:Oe}]},y);if(b.index){const Kt=y.havingStyle(K.SCRIPTSCRIPT),tn=Sn(b.index,Kt,y),Gn=.6*(Bt.height-Bt.depth),Xn=st.makeVList({positionType:"shift",positionData:-Gn,children:[{type:"elem",elem:tn}]},y),Yn=st.makeSpan(["root"],[Xn]);return st.makeSpan(["mord","sqrt"],[Yn,Bt],y)}else return st.makeSpan(["mord","sqrt"],[Bt],y)},mathmlBuilder(b,y){const{body:M,index:D}=b;return D?new kt.MathNode("mroot",[Nn(M,y),Nn(D,y)]):new kt.MathNode("msqrt",[Nn(M,y)])}});const vh={display:K.DISPLAY,text:K.TEXT,script:K.SCRIPT,scriptscript:K.SCRIPTSCRIPT};Wt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b,y){let{breakOnTokenText:M,funcName:D,parser:k}=b;const Y=k.parseExpression(!0,M),ie=D.slice(1,D.length-5);return{type:"styling",mode:k.mode,style:ie,body:Y}},htmlBuilder(b,y){const M=vh[b.style],D=y.havingStyle(M).withFont("");return Js(b.body,D,y)},mathmlBuilder(b,y){const M=vh[b.style],D=y.havingStyle(M),k=ta(b.body,D),Y=new kt.MathNode("mstyle",k),de={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[b.style];return Y.setAttribute("scriptlevel",de[0]),Y.setAttribute("displaystyle",de[1]),Y}});const Md=function(b,y){const M=b.base;return M?M.type==="op"?M.limits&&(y.style.size===K.DISPLAY.size||M.alwaysHandleSupSub)?No:null:M.type==="operatorname"?M.alwaysHandleSupSub&&(y.style.size===K.DISPLAY.size||M.limits)?ol:null:M.type==="accent"?E.isCharacterBox(M.base)?Zs:null:M.type==="horizBrace"&&!b.sub===M.isOver?Hr:null:null};as({type:"supsub",htmlBuilder(b,y){const M=Md(b,y);if(M)return M(b,y);const{base:D,sup:k,sub:Y}=b,ie=Sn(D,y);let de,ve;const Oe=y.fontMetrics();let qe=0,et=0;const dt=D&&E.isCharacterBox(D);if(k){const ui=y.havingStyle(y.style.sup());de=Sn(k,ui,y),dt||(qe=ie.height-ui.fontMetrics().supDrop*ui.sizeMultiplier/y.sizeMultiplier)}if(Y){const ui=y.havingStyle(y.style.sub());ve=Sn(Y,ui,y),dt||(et=ie.depth+ui.fontMetrics().subDrop*ui.sizeMultiplier/y.sizeMultiplier)}let Bt;y.style===K.DISPLAY?Bt=Oe.sup1:y.style.cramped?Bt=Oe.sup3:Bt=Oe.sup2;const Kt=y.sizeMultiplier,tn=Ce(.5/Oe.ptPerEm/Kt);let Gn=null;if(ve){const ui=b.base&&b.base.type==="op"&&b.base.name&&(b.base.name==="\\oiint"||b.base.name==="\\oiiint");(ie instanceof Ut||ui)&&(Gn=Ce(-ie.italic))}let Xn;if(de&&ve){qe=Math.max(qe,Bt,de.depth+.25*Oe.xHeight),et=Math.max(et,Oe.sub2);const Bi=4*Oe.defaultRuleThickness;if(qe-de.depth-(ve.height-et)<Bi){et=Bi-(qe-de.depth)+ve.height;const gr=.8*Oe.xHeight-(qe-de.depth);gr>0&&(qe+=gr,et-=gr)}const pa=[{type:"elem",elem:ve,shift:et,marginRight:tn,marginLeft:Gn},{type:"elem",elem:de,shift:-qe,marginRight:tn}];Xn=st.makeVList({positionType:"individualShift",children:pa},y)}else if(ve){et=Math.max(et,Oe.sub1,ve.height-.8*Oe.xHeight);const ui=[{type:"elem",elem:ve,marginLeft:Gn,marginRight:tn}];Xn=st.makeVList({positionType:"shift",positionData:et,children:ui},y)}else if(de)qe=Math.max(qe,Bt,de.depth+.25*Oe.xHeight),Xn=st.makeVList({positionType:"shift",positionData:-qe,children:[{type:"elem",elem:de,marginRight:tn}]},y);else throw new Error("supsub must have either sup or sub.");const Yn=pr(ie,"right")||"mord";return st.makeSpan([Yn],[ie,st.makeSpan(["msupsub"],[Xn])],y)},mathmlBuilder(b,y){let M=!1,D,k;b.base&&b.base.type==="horizBrace"&&(k=!!b.sup,k===b.base.isOver&&(M=!0,D=b.base.isOver)),b.base&&(b.base.type==="op"||b.base.type==="operatorname")&&(b.base.parentIsSupSub=!0);const Y=[Nn(b.base,y)];b.sub&&Y.push(Nn(b.sub,y)),b.sup&&Y.push(Nn(b.sup,y));let ie;if(M)ie=D?"mover":"munder";else if(b.sub)if(b.sup){const de=b.base;de&&de.type==="op"&&de.limits&&y.style===K.DISPLAY||de&&de.type==="operatorname"&&de.alwaysHandleSupSub&&(y.style===K.DISPLAY||de.limits)?ie="munderover":ie="msubsup"}else{const de=b.base;de&&de.type==="op"&&de.limits&&(y.style===K.DISPLAY||de.alwaysHandleSupSub)||de&&de.type==="operatorname"&&de.alwaysHandleSupSub&&(de.limits||y.style===K.DISPLAY)?ie="munder":ie="msub"}else{const de=b.base;de&&de.type==="op"&&de.limits&&(y.style===K.DISPLAY||de.alwaysHandleSupSub)||de&&de.type==="operatorname"&&de.alwaysHandleSupSub&&(de.limits||y.style===K.DISPLAY)?ie="mover":ie="msup"}return new kt.MathNode(ie,Y)}}),as({type:"atom",htmlBuilder(b,y){return st.mathsym(b.text,b.mode,y,["m"+b.family])},mathmlBuilder(b,y){const M=new kt.MathNode("mo",[zi(b.text,b.mode)]);if(b.family==="bin"){const D=er(b,y);D==="bold-italic"&&M.setAttribute("mathvariant",D)}else b.family==="punct"?M.setAttribute("separator","true"):(b.family==="open"||b.family==="close")&&M.setAttribute("stretchy","false");return M}});const Ea={mi:"italic",mn:"normal",mtext:"normal"};as({type:"mathord",htmlBuilder(b,y){return st.makeOrd(b,y,"mathord")},mathmlBuilder(b,y){const M=new kt.MathNode("mi",[zi(b.text,b.mode,y)]),D=er(b,y)||"italic";return D!==Ea[M.type]&&M.setAttribute("mathvariant",D),M}}),as({type:"textord",htmlBuilder(b,y){return st.makeOrd(b,y,"textord")},mathmlBuilder(b,y){const M=zi(b.text,b.mode,y),D=er(b,y)||"normal";let k;return b.mode==="text"?k=new kt.MathNode("mtext",[M]):/[0-9]/.test(b.text)?k=new kt.MathNode("mn",[M]):b.text==="\\prime"?k=new kt.MathNode("mo",[M]):k=new kt.MathNode("mi",[M]),D!==Ea[k.type]&&k.setAttribute("mathvariant",D),k}});const ji={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ci={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};as({type:"spacing",htmlBuilder(b,y){if(ci.hasOwnProperty(b.text)){const M=ci[b.text].className||"";if(b.mode==="text"){const D=st.makeOrd(b,y,"textord");return D.classes.push(M),D}else return st.makeSpan(["mspace",M],[st.mathsym(b.text,b.mode,y)],y)}else{if(ji.hasOwnProperty(b.text))return st.makeSpan(["mspace",ji[b.text]],[],y);throw new a('Unknown type of space "'+b.text+'"')}},mathmlBuilder(b,y){let M;if(ci.hasOwnProperty(b.text))M=new kt.MathNode("mtext",[new kt.TextNode(" ")]);else{if(ji.hasOwnProperty(b.text))return new kt.MathNode("mspace");throw new a('Unknown type of space "'+b.text+'"')}return M}});const os=()=>{const b=new kt.MathNode("mtd",[]);return b.setAttribute("width","50%"),b};as({type:"tag",mathmlBuilder(b,y){const M=new kt.MathNode("mtable",[new kt.MathNode("mtr",[os(),new kt.MathNode("mtd",[Ks(b.body,y)]),os(),new kt.MathNode("mtd",[Ks(b.tag,y)])])]);return M.setAttribute("width","100%"),M}});const Ja={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},uf={"\\textbf":"textbf","\\textmd":"textmd"},Pl={"\\textit":"textit","\\textup":"textup"},Td=(b,y)=>{const M=b.font;if(M){if(Ja[M])return y.withTextFontFamily(Ja[M]);if(uf[M])return y.withTextFontWeight(uf[M]);if(M==="\\emph")return y.fontShape==="textit"?y.withTextFontShape("textup"):y.withTextFontShape("textit")}else return y;return y.withTextFontShape(Pl[M])};Wt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(b,y){let{parser:M,funcName:D}=b;const k=y[0];return{type:"text",mode:M.mode,body:si(k),font:D}},htmlBuilder(b,y){const M=Td(b,y),D=Ji(b.body,M,!0);return st.makeSpan(["mord","text"],D,M)},mathmlBuilder(b,y){const M=Td(b,y);return Ks(b.body,M)}}),Wt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(b,y){let{parser:M}=b;return{type:"underline",mode:M.mode,body:y[0]}},htmlBuilder(b,y){const M=Sn(b.body,y),D=st.makeLineSpan("underline-line",y),k=y.fontMetrics().defaultRuleThickness,Y=st.makeVList({positionType:"top",positionData:M.height,children:[{type:"kern",size:k},{type:"elem",elem:D},{type:"kern",size:3*k},{type:"elem",elem:M}]},y);return st.makeSpan(["mord","underline"],[Y],y)},mathmlBuilder(b,y){const M=new kt.MathNode("mo",[new kt.TextNode("‾")]);M.setAttribute("stretchy","true");const D=new kt.MathNode("munder",[Nn(b.body,y),M]);return D.setAttribute("accentunder","true"),D}}),Wt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(b,y){let{parser:M}=b;return{type:"vcenter",mode:M.mode,body:y[0]}},htmlBuilder(b,y){const M=Sn(b.body,y),D=y.fontMetrics().axisHeight,k=.5*(M.height-D-(M.depth+D));return st.makeVList({positionType:"shift",positionData:k,children:[{type:"elem",elem:M}]},y)},mathmlBuilder(b,y){return new kt.MathNode("mpadded",[Nn(b.body,y)],["vcenter"])}}),Wt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(b,y,M){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(b,y){const M=xh(b),D=[],k=y.havingStyle(y.style.text());for(let Y=0;Y<M.length;Y++){let ie=M[Y];ie==="~"&&(ie="\\textasciitilde"),D.push(st.makeSymbol(ie,"Typewriter-Regular",b.mode,k,["mord","texttt"]))}return st.makeSpan(["mord","text"].concat(k.sizingClasses(y)),st.tryCombineChars(D),k)},mathmlBuilder(b,y){const M=new kt.TextNode(xh(b)),D=new kt.MathNode("mtext",[M]);return D.setAttribute("mathvariant","monospace"),D}});const xh=b=>b.body.replace(/ /g,b.star?"␣":" ");var ls=Pa;const xi=`[ \r
	]`,_c="\\\\[a-zA-Z@]+",Ed="\\\\[^\uD800-\uDFFF]",Bl="("+_c+")"+xi+"*",cl=`\\\\(
|[ \r	]+
?)[ \r	]*`,Po="[̀-ͯ]",ul=new RegExp(Po+"+$"),wd="("+xi+"+)|"+(cl+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Po+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Po+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Bl)+("|"+Ed+")");class eu{constructor(y,M){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=y,this.settings=M,this.tokenRegex=new RegExp(wd,"g"),this.catcodes={"%":14,"~":13}}setCatcode(y,M){this.catcodes[y]=M}lex(){const y=this.input,M=this.tokenRegex.lastIndex;if(M===y.length)return new Fa("EOF",new Dr(this,M,M));const D=this.tokenRegex.exec(y);if(D===null||D.index!==M)throw new a("Unexpected character: '"+y[M]+"'",new Fa(y[M],new Dr(this,M,M+1)));const k=D[6]||D[3]||(D[2]?"\\ ":" ");if(this.catcodes[k]===14){const Y=y.indexOf(`
`,this.tokenRegex.lastIndex);return Y===-1?(this.tokenRegex.lastIndex=y.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Y+1,this.lex()}return new Fa(k,new Dr(this,M,this.tokenRegex.lastIndex))}}class Cs{constructor(y,M){y===void 0&&(y={}),M===void 0&&(M={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=M,this.builtins=y,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const y=this.undefStack.pop();for(const M in y)y.hasOwnProperty(M)&&(y[M]==null?delete this.current[M]:this.current[M]=y[M])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(y){return this.current.hasOwnProperty(y)||this.builtins.hasOwnProperty(y)}get(y){return this.current.hasOwnProperty(y)?this.current[y]:this.builtins[y]}set(y,M,D){if(D===void 0&&(D=!1),D){for(let k=0;k<this.undefStack.length;k++)delete this.undefStack[k][y];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][y]=M)}else{const k=this.undefStack[this.undefStack.length-1];k&&!k.hasOwnProperty(y)&&(k[y]=this.current[y])}M==null?delete this.current[y]:this.current[y]=M}}var Bo=Do;ge("\\noexpand",function(b){const y=b.popToken();return b.isExpandable(y.text)&&(y.noexpand=!0,y.treatAsRelax=!0),{tokens:[y],numArgs:0}}),ge("\\expandafter",function(b){const y=b.popToken();return b.expandOnce(!0),{tokens:[y],numArgs:0}}),ge("\\@firstoftwo",function(b){return{tokens:b.consumeArgs(2)[0],numArgs:0}}),ge("\\@secondoftwo",function(b){return{tokens:b.consumeArgs(2)[1],numArgs:0}}),ge("\\@ifnextchar",function(b){const y=b.consumeArgs(3);b.consumeSpaces();const M=b.future();return y[0].length===1&&y[0][0].text===M.text?{tokens:y[1],numArgs:0}:{tokens:y[2],numArgs:0}}),ge("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ge("\\TextOrMath",function(b){const y=b.consumeArgs(2);return b.mode==="text"?{tokens:y[0],numArgs:0}:{tokens:y[1],numArgs:0}});const mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ge("\\char",function(b){let y=b.popToken(),M,D="";if(y.text==="'")M=8,y=b.popToken();else if(y.text==='"')M=16,y=b.popToken();else if(y.text==="`")if(y=b.popToken(),y.text[0]==="\\")D=y.text.charCodeAt(1);else{if(y.text==="EOF")throw new a("\\char` missing argument");D=y.text.charCodeAt(0)}else M=10;if(M){if(D=mr[y.text],D==null||D>=M)throw new a("Invalid base-"+M+" digit "+y.text);let k;for(;(k=mr[b.future().text])!=null&&k<M;)D*=M,D+=k,b.popToken()}return"\\@char{"+D+"}"});const Mc=(b,y,M,D)=>{let k=b.consumeArg().tokens;if(k.length!==1)throw new a("\\newcommand's first argument must be a macro name");const Y=k[0].text,ie=b.isDefined(Y);if(ie&&!y)throw new a("\\newcommand{"+Y+"} attempting to redefine "+(Y+"; use \\renewcommand"));if(!ie&&!M)throw new a("\\renewcommand{"+Y+"} when command "+Y+" does not yet exist; use \\newcommand");let de=0;if(k=b.consumeArg().tokens,k.length===1&&k[0].text==="["){let ve="",Oe=b.expandNextToken();for(;Oe.text!=="]"&&Oe.text!=="EOF";)ve+=Oe.text,Oe=b.expandNextToken();if(!ve.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+ve);de=parseInt(ve),k=b.consumeArg().tokens}return ie&&D||b.macros.set(Y,{tokens:k,numArgs:de}),""};ge("\\newcommand",b=>Mc(b,!1,!0,!1)),ge("\\renewcommand",b=>Mc(b,!0,!1,!1)),ge("\\providecommand",b=>Mc(b,!0,!0,!0)),ge("\\message",b=>{const y=b.consumeArgs(1)[0];return console.log(y.reverse().map(M=>M.text).join("")),""}),ge("\\errmessage",b=>{const y=b.consumeArgs(1)[0];return console.error(y.reverse().map(M=>M.text).join("")),""}),ge("\\show",b=>{const y=b.popToken(),M=y.text;return console.log(y,b.macros.get(M),ls[M],En.math[M],En.text[M]),""}),ge("\\bgroup","{"),ge("\\egroup","}"),ge("~","\\nobreakspace"),ge("\\lq","`"),ge("\\rq","'"),ge("\\aa","\\r a"),ge("\\AA","\\r A"),ge("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ge("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ge("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ge("ℬ","\\mathscr{B}"),ge("ℰ","\\mathscr{E}"),ge("ℱ","\\mathscr{F}"),ge("ℋ","\\mathscr{H}"),ge("ℐ","\\mathscr{I}"),ge("ℒ","\\mathscr{L}"),ge("ℳ","\\mathscr{M}"),ge("ℛ","\\mathscr{R}"),ge("ℭ","\\mathfrak{C}"),ge("ℌ","\\mathfrak{H}"),ge("ℨ","\\mathfrak{Z}"),ge("\\Bbbk","\\Bbb{k}"),ge("·","\\cdotp"),ge("\\llap","\\mathllap{\\textrm{#1}}"),ge("\\rlap","\\mathrlap{\\textrm{#1}}"),ge("\\clap","\\mathclap{\\textrm{#1}}"),ge("\\mathstrut","\\vphantom{(}"),ge("\\underbar","\\underline{\\text{#1}}"),ge("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ge("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ge("\\ne","\\neq"),ge("≠","\\neq"),ge("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ge("∉","\\notin"),ge("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ge("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ge("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ge("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ge("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ge("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ge("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ge("⟂","\\perp"),ge("‼","\\mathclose{!\\mkern-0.8mu!}"),ge("∌","\\notni"),ge("⌜","\\ulcorner"),ge("⌝","\\urcorner"),ge("⌞","\\llcorner"),ge("⌟","\\lrcorner"),ge("©","\\copyright"),ge("®","\\textregistered"),ge("️","\\textregistered"),ge("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ge("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ge("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ge("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ge("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ge("⋮","\\vdots"),ge("\\varGamma","\\mathit{\\Gamma}"),ge("\\varDelta","\\mathit{\\Delta}"),ge("\\varTheta","\\mathit{\\Theta}"),ge("\\varLambda","\\mathit{\\Lambda}"),ge("\\varXi","\\mathit{\\Xi}"),ge("\\varPi","\\mathit{\\Pi}"),ge("\\varSigma","\\mathit{\\Sigma}"),ge("\\varUpsilon","\\mathit{\\Upsilon}"),ge("\\varPhi","\\mathit{\\Phi}"),ge("\\varPsi","\\mathit{\\Psi}"),ge("\\varOmega","\\mathit{\\Omega}"),ge("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ge("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ge("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ge("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ge("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ge("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ge("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ge("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const ff={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ge("\\dots",function(b){let y="\\dotso";const M=b.expandAfterFuture().text;return M in ff?y=ff[M]:(M.slice(0,4)==="\\not"||M in En.math&&E.contains(["bin","rel"],En.math[M].group))&&(y="\\dotsb"),y});const hf={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ge("\\dotso",function(b){return b.future().text in hf?"\\ldots\\,":"\\ldots"}),ge("\\dotsc",function(b){const y=b.future().text;return y in hf&&y!==","?"\\ldots\\,":"\\ldots"}),ge("\\cdots",function(b){return b.future().text in hf?"\\@cdots\\,":"\\@cdots"}),ge("\\dotsb","\\cdots"),ge("\\dotsm","\\cdots"),ge("\\dotsi","\\!\\cdots"),ge("\\dotsx","\\ldots\\,"),ge("\\DOTSI","\\relax"),ge("\\DOTSB","\\relax"),ge("\\DOTSX","\\relax"),ge("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ge("\\,","\\tmspace+{3mu}{.1667em}"),ge("\\thinspace","\\,"),ge("\\>","\\mskip{4mu}"),ge("\\:","\\tmspace+{4mu}{.2222em}"),ge("\\medspace","\\:"),ge("\\;","\\tmspace+{5mu}{.2777em}"),ge("\\thickspace","\\;"),ge("\\!","\\tmspace-{3mu}{.1667em}"),ge("\\negthinspace","\\!"),ge("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ge("\\negthickspace","\\tmspace-{5mu}{.277em}"),ge("\\enspace","\\kern.5em "),ge("\\enskip","\\hskip.5em\\relax"),ge("\\quad","\\hskip1em\\relax"),ge("\\qquad","\\hskip2em\\relax"),ge("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ge("\\tag@paren","\\tag@literal{({#1})}"),ge("\\tag@literal",b=>{if(b.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ge("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ge("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ge("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ge("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ge("\\newline","\\\\\\relax"),ge("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const Q0=Ce(ct["Main-Regular"][84][1]-.7*ct["Main-Regular"][65][1]);ge("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Q0+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ge("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Q0+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ge("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ge("\\@hspace","\\hskip #1\\relax"),ge("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ge("\\ordinarycolon",":"),ge("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ge("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ge("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ge("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ge("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ge("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ge("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ge("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ge("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ge("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ge("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ge("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ge("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ge("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ge("∷","\\dblcolon"),ge("∹","\\eqcolon"),ge("≔","\\coloneqq"),ge("≕","\\eqqcolon"),ge("⩴","\\Coloneqq"),ge("\\ratio","\\vcentcolon"),ge("\\coloncolon","\\dblcolon"),ge("\\colonequals","\\coloneqq"),ge("\\coloncolonequals","\\Coloneqq"),ge("\\equalscolon","\\eqqcolon"),ge("\\equalscoloncolon","\\Eqqcolon"),ge("\\colonminus","\\coloneq"),ge("\\coloncolonminus","\\Coloneq"),ge("\\minuscolon","\\eqcolon"),ge("\\minuscoloncolon","\\Eqcolon"),ge("\\coloncolonapprox","\\Colonapprox"),ge("\\coloncolonsim","\\Colonsim"),ge("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ge("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ge("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ge("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ge("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ge("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ge("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ge("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ge("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ge("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ge("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ge("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ge("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ge("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),ge("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),ge("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),ge("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),ge("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),ge("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),ge("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),ge("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),ge("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),ge("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),ge("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),ge("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),ge("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),ge("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),ge("\\imath","\\html@mathml{\\@imath}{ı}"),ge("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),ge("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),ge("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),ge("⟦","\\llbracket"),ge("⟧","\\rrbracket"),ge("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),ge("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),ge("⦃","\\lBrace"),ge("⦄","\\rBrace"),ge("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),ge("⦵","\\minuso"),ge("\\darr","\\downarrow"),ge("\\dArr","\\Downarrow"),ge("\\Darr","\\Downarrow"),ge("\\lang","\\langle"),ge("\\rang","\\rangle"),ge("\\uarr","\\uparrow"),ge("\\uArr","\\Uparrow"),ge("\\Uarr","\\Uparrow"),ge("\\N","\\mathbb{N}"),ge("\\R","\\mathbb{R}"),ge("\\Z","\\mathbb{Z}"),ge("\\alef","\\aleph"),ge("\\alefsym","\\aleph"),ge("\\Alpha","\\mathrm{A}"),ge("\\Beta","\\mathrm{B}"),ge("\\bull","\\bullet"),ge("\\Chi","\\mathrm{X}"),ge("\\clubs","\\clubsuit"),ge("\\cnums","\\mathbb{C}"),ge("\\Complex","\\mathbb{C}"),ge("\\Dagger","\\ddagger"),ge("\\diamonds","\\diamondsuit"),ge("\\empty","\\emptyset"),ge("\\Epsilon","\\mathrm{E}"),ge("\\Eta","\\mathrm{H}"),ge("\\exist","\\exists"),ge("\\harr","\\leftrightarrow"),ge("\\hArr","\\Leftrightarrow"),ge("\\Harr","\\Leftrightarrow"),ge("\\hearts","\\heartsuit"),ge("\\image","\\Im"),ge("\\infin","\\infty"),ge("\\Iota","\\mathrm{I}"),ge("\\isin","\\in"),ge("\\Kappa","\\mathrm{K}"),ge("\\larr","\\leftarrow"),ge("\\lArr","\\Leftarrow"),ge("\\Larr","\\Leftarrow"),ge("\\lrarr","\\leftrightarrow"),ge("\\lrArr","\\Leftrightarrow"),ge("\\Lrarr","\\Leftrightarrow"),ge("\\Mu","\\mathrm{M}"),ge("\\natnums","\\mathbb{N}"),ge("\\Nu","\\mathrm{N}"),ge("\\Omicron","\\mathrm{O}"),ge("\\plusmn","\\pm"),ge("\\rarr","\\rightarrow"),ge("\\rArr","\\Rightarrow"),ge("\\Rarr","\\Rightarrow"),ge("\\real","\\Re"),ge("\\reals","\\mathbb{R}"),ge("\\Reals","\\mathbb{R}"),ge("\\Rho","\\mathrm{P}"),ge("\\sdot","\\cdot"),ge("\\sect","\\S"),ge("\\spades","\\spadesuit"),ge("\\sub","\\subset"),ge("\\sube","\\subseteq"),ge("\\supe","\\supseteq"),ge("\\Tau","\\mathrm{T}"),ge("\\thetasym","\\vartheta"),ge("\\weierp","\\wp"),ge("\\Zeta","\\mathrm{Z}"),ge("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ge("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ge("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ge("\\bra","\\mathinner{\\langle{#1}|}"),ge("\\ket","\\mathinner{|{#1}\\rangle}"),ge("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ge("\\Bra","\\left\\langle#1\\right|"),ge("\\Ket","\\left|#1\\right\\rangle");const Ad=b=>y=>{const M=y.consumeArg().tokens,D=y.consumeArg().tokens,k=y.consumeArg().tokens,Y=y.consumeArg().tokens,ie=y.macros.get("|"),de=y.macros.get("\\|");y.macros.beginGroup();const ve=et=>dt=>{b&&(dt.macros.set("|",ie),k.length&&dt.macros.set("\\|",de));let Bt=et;return!et&&k.length&&dt.future().text==="|"&&(dt.popToken(),Bt=!0),{tokens:Bt?k:D,numArgs:0}};y.macros.set("|",ve(!1)),k.length&&y.macros.set("\\|",ve(!0));const Oe=y.consumeArg().tokens,qe=y.expandTokens([...Y,...Oe,...M]);return y.macros.endGroup(),{tokens:qe.reverse(),numArgs:0}};ge("\\bra@ket",Ad(!1)),ge("\\bra@set",Ad(!0)),ge("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ge("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ge("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ge("\\angln","{\\angl n}"),ge("\\blue","\\textcolor{##6495ed}{#1}"),ge("\\orange","\\textcolor{##ffa500}{#1}"),ge("\\pink","\\textcolor{##ff00af}{#1}"),ge("\\red","\\textcolor{##df0030}{#1}"),ge("\\green","\\textcolor{##28ae7b}{#1}"),ge("\\gray","\\textcolor{gray}{#1}"),ge("\\purple","\\textcolor{##9d38bd}{#1}"),ge("\\blueA","\\textcolor{##ccfaff}{#1}"),ge("\\blueB","\\textcolor{##80f6ff}{#1}"),ge("\\blueC","\\textcolor{##63d9ea}{#1}"),ge("\\blueD","\\textcolor{##11accd}{#1}"),ge("\\blueE","\\textcolor{##0c7f99}{#1}"),ge("\\tealA","\\textcolor{##94fff5}{#1}"),ge("\\tealB","\\textcolor{##26edd5}{#1}"),ge("\\tealC","\\textcolor{##01d1c1}{#1}"),ge("\\tealD","\\textcolor{##01a995}{#1}"),ge("\\tealE","\\textcolor{##208170}{#1}"),ge("\\greenA","\\textcolor{##b6ffb0}{#1}"),ge("\\greenB","\\textcolor{##8af281}{#1}"),ge("\\greenC","\\textcolor{##74cf70}{#1}"),ge("\\greenD","\\textcolor{##1fab54}{#1}"),ge("\\greenE","\\textcolor{##0d923f}{#1}"),ge("\\goldA","\\textcolor{##ffd0a9}{#1}"),ge("\\goldB","\\textcolor{##ffbb71}{#1}"),ge("\\goldC","\\textcolor{##ff9c39}{#1}"),ge("\\goldD","\\textcolor{##e07d10}{#1}"),ge("\\goldE","\\textcolor{##a75a05}{#1}"),ge("\\redA","\\textcolor{##fca9a9}{#1}"),ge("\\redB","\\textcolor{##ff8482}{#1}"),ge("\\redC","\\textcolor{##f9685d}{#1}"),ge("\\redD","\\textcolor{##e84d39}{#1}"),ge("\\redE","\\textcolor{##bc2612}{#1}"),ge("\\maroonA","\\textcolor{##ffbde0}{#1}"),ge("\\maroonB","\\textcolor{##ff92c6}{#1}"),ge("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ge("\\maroonD","\\textcolor{##ca337c}{#1}"),ge("\\maroonE","\\textcolor{##9e034e}{#1}"),ge("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ge("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ge("\\purpleC","\\textcolor{##aa87ff}{#1}"),ge("\\purpleD","\\textcolor{##7854ab}{#1}"),ge("\\purpleE","\\textcolor{##543b78}{#1}"),ge("\\mintA","\\textcolor{##f5f9e8}{#1}"),ge("\\mintB","\\textcolor{##edf2df}{#1}"),ge("\\mintC","\\textcolor{##e0e5cc}{#1}"),ge("\\grayA","\\textcolor{##f6f7f7}{#1}"),ge("\\grayB","\\textcolor{##f0f1f2}{#1}"),ge("\\grayC","\\textcolor{##e3e5e6}{#1}"),ge("\\grayD","\\textcolor{##d6d8da}{#1}"),ge("\\grayE","\\textcolor{##babec2}{#1}"),ge("\\grayF","\\textcolor{##888d93}{#1}"),ge("\\grayG","\\textcolor{##626569}{#1}"),ge("\\grayH","\\textcolor{##3b3e40}{#1}"),ge("\\grayI","\\textcolor{##21242c}{#1}"),ge("\\kaBlue","\\textcolor{##314453}{#1}"),ge("\\kaGreen","\\textcolor{##71B307}{#1}");const Ur={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Sh{constructor(y,M,D){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=M,this.expansionCount=0,this.feed(y),this.macros=new Cs(Bo,M.macros),this.mode=D,this.stack=[]}feed(y){this.lexer=new eu(y,this.settings)}switchMode(y){this.mode=y}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(y){this.stack.push(y)}pushTokens(y){this.stack.push(...y)}scanArgument(y){let M,D,k;if(y){if(this.consumeSpaces(),this.future().text!=="[")return null;M=this.popToken(),{tokens:k,end:D}=this.consumeArg(["]"])}else({tokens:k,start:M,end:D}=this.consumeArg());return this.pushToken(new Fa("EOF",D.loc)),this.pushTokens(k),M.range(D,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(y){const M=[],D=y&&y.length>0;D||this.consumeSpaces();const k=this.future();let Y,ie=0,de=0;do{if(Y=this.popToken(),M.push(Y),Y.text==="{")++ie;else if(Y.text==="}"){if(--ie,ie===-1)throw new a("Extra }",Y)}else if(Y.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(y&&D?y[de]:"}")+"'",Y);if(y&&D)if((ie===0||ie===1&&y[de]==="{")&&Y.text===y[de]){if(++de,de===y.length){M.splice(-de,de);break}}else de=0}while(ie!==0||D);return k.text==="{"&&M[M.length-1].text==="}"&&(M.pop(),M.shift()),M.reverse(),{tokens:M,start:k,end:Y}}consumeArgs(y,M){if(M){if(M.length!==y+1)throw new a("The length of delimiters doesn't match the number of args!");const k=M[0];for(let Y=0;Y<k.length;Y++){const ie=this.popToken();if(k[Y]!==ie.text)throw new a("Use of the macro doesn't match its definition",ie)}}const D=[];for(let k=0;k<y;k++)D.push(this.consumeArg(M&&M[k+1]).tokens);return D}countExpansion(y){if(this.expansionCount+=y,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(y){const M=this.popToken(),D=M.text,k=M.noexpand?null:this._getExpansion(D);if(k==null||y&&k.unexpandable){if(y&&k==null&&D[0]==="\\"&&!this.isDefined(D))throw new a("Undefined control sequence: "+D);return this.pushToken(M),!1}this.countExpansion(1);let Y=k.tokens;const ie=this.consumeArgs(k.numArgs,k.delimiters);if(k.numArgs){Y=Y.slice();for(let de=Y.length-1;de>=0;--de){let ve=Y[de];if(ve.text==="#"){if(de===0)throw new a("Incomplete placeholder at end of macro body",ve);if(ve=Y[--de],ve.text==="#")Y.splice(de+1,1);else if(/^[1-9]$/.test(ve.text))Y.splice(de,2,...ie[+ve.text-1]);else throw new a("Not a valid argument number",ve)}}}return this.pushTokens(Y),Y.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const y=this.stack.pop();return y.treatAsRelax&&(y.text="\\relax"),y}throw new Error}expandMacro(y){return this.macros.has(y)?this.expandTokens([new Fa(y)]):void 0}expandTokens(y){const M=[],D=this.stack.length;for(this.pushTokens(y);this.stack.length>D;)if(this.expandOnce(!0)===!1){const k=this.stack.pop();k.treatAsRelax&&(k.noexpand=!1,k.treatAsRelax=!1),M.push(k)}return this.countExpansion(M.length),M}expandMacroAsText(y){const M=this.expandMacro(y);return M&&M.map(D=>D.text).join("")}_getExpansion(y){const M=this.macros.get(y);if(M==null)return M;if(y.length===1){const k=this.lexer.catcodes[y];if(k!=null&&k!==13)return}const D=typeof M=="function"?M(this):M;if(typeof D=="string"){let k=0;if(D.indexOf("#")!==-1){const Oe=D.replace(/##/g,"");for(;Oe.indexOf("#"+(k+1))!==-1;)++k}const Y=new eu(D,this.settings),ie=[];let de=Y.lex();for(;de.text!=="EOF";)ie.push(de),de=Y.lex();return ie.reverse(),{tokens:ie,numArgs:k}}return D}isDefined(y){return this.macros.has(y)||ls.hasOwnProperty(y)||En.math.hasOwnProperty(y)||En.text.hasOwnProperty(y)||Ur.hasOwnProperty(y)}isExpandable(y){const M=this.macros.get(y);return M!=null?typeof M=="string"||typeof M=="function"||!M.unexpandable:ls.hasOwnProperty(y)&&!ls[y].primitive}}const Tc=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,fl=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Ec={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Un={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class hl{constructor(y,M){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Sh(y,M,this.mode),this.settings=M,this.leftrightDepth=0}expect(y,M){if(M===void 0&&(M=!0),this.fetch().text!==y)throw new a("Expected '"+y+"', got '"+this.fetch().text+"'",this.fetch());M&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(y){this.mode=y,this.gullet.switchMode(y)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const y=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),y}finally{this.gullet.endGroups()}}subparse(y){const M=this.nextToken;this.consume(),this.gullet.pushToken(new Fa("}")),this.gullet.pushTokens(y);const D=this.parseExpression(!1);return this.expect("}"),this.nextToken=M,D}parseExpression(y,M){const D=[];for(;;){this.mode==="math"&&this.consumeSpaces();const k=this.fetch();if(hl.endOfExpression.indexOf(k.text)!==-1||M&&k.text===M||y&&ls[k.text]&&ls[k.text].infix)break;const Y=this.parseAtom(M);if(Y){if(Y.type==="internal")continue}else break;D.push(Y)}return this.mode==="text"&&this.formLigatures(D),this.handleInfixNodes(D)}handleInfixNodes(y){let M=-1,D;for(let k=0;k<y.length;k++)if(y[k].type==="infix"){if(M!==-1)throw new a("only one infix operator per group",y[k].token);M=k,D=y[k].replaceWith}if(M!==-1&&D){let k,Y;const ie=y.slice(0,M),de=y.slice(M+1);ie.length===1&&ie[0].type==="ordgroup"?k=ie[0]:k={type:"ordgroup",mode:this.mode,body:ie},de.length===1&&de[0].type==="ordgroup"?Y=de[0]:Y={type:"ordgroup",mode:this.mode,body:de};let ve;return D==="\\\\abovefrac"?ve=this.callFunction(D,[k,y[M],Y],[]):ve=this.callFunction(D,[k,Y],[]),[ve]}else return y}handleSupSubscript(y){const M=this.fetch(),D=M.text;this.consume(),this.consumeSpaces();let k;do{var Y;k=this.parseGroup(y)}while(((Y=k)==null?void 0:Y.type)==="internal");if(!k)throw new a("Expected group after '"+D+"'",M);return k}formatUnsupportedCmd(y){const M=[];for(let Y=0;Y<y.length;Y++)M.push({type:"textord",mode:"text",text:y[Y]});const D={type:"text",mode:this.mode,body:M};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[D]}}parseAtom(y){const M=this.parseGroup("atom",y);if((M==null?void 0:M.type)==="internal"||this.mode==="text")return M;let D,k;for(;;){this.consumeSpaces();const Y=this.fetch();if(Y.text==="\\limits"||Y.text==="\\nolimits"){if(M&&M.type==="op"){const ie=Y.text==="\\limits";M.limits=ie,M.alwaysHandleSupSub=!0}else if(M&&M.type==="operatorname")M.alwaysHandleSupSub&&(M.limits=Y.text==="\\limits");else throw new a("Limit controls must follow a math operator",Y);this.consume()}else if(Y.text==="^"){if(D)throw new a("Double superscript",Y);D=this.handleSupSubscript("superscript")}else if(Y.text==="_"){if(k)throw new a("Double subscript",Y);k=this.handleSupSubscript("subscript")}else if(Y.text==="'"){if(D)throw new a("Double superscript",Y);const ie={type:"textord",mode:this.mode,text:"\\prime"},de=[ie];for(this.consume();this.fetch().text==="'";)de.push(ie),this.consume();this.fetch().text==="^"&&de.push(this.handleSupSubscript("superscript")),D={type:"ordgroup",mode:this.mode,body:de}}else if(fl[Y.text]){const ie=Tc.test(Y.text),de=[];for(de.push(new Fa(fl[Y.text])),this.consume();;){const Oe=this.fetch().text;if(!fl[Oe]||Tc.test(Oe)!==ie)break;de.unshift(new Fa(fl[Oe])),this.consume()}const ve=this.subparse(de);ie?k={type:"ordgroup",mode:"math",body:ve}:D={type:"ordgroup",mode:"math",body:ve}}else break}return D||k?{type:"supsub",mode:this.mode,base:M,sup:D,sub:k}:M}parseFunction(y,M){const D=this.fetch(),k=D.text,Y=ls[k];if(!Y)return null;if(this.consume(),M&&M!=="atom"&&!Y.allowedInArgument)throw new a("Got function '"+k+"' with no arguments"+(M?" as "+M:""),D);if(this.mode==="text"&&!Y.allowedInText)throw new a("Can't use function '"+k+"' in text mode",D);if(this.mode==="math"&&Y.allowedInMath===!1)throw new a("Can't use function '"+k+"' in math mode",D);const{args:ie,optArgs:de}=this.parseArguments(k,Y);return this.callFunction(k,ie,de,D,y)}callFunction(y,M,D,k,Y){const ie={funcName:y,parser:this,token:k,breakOnTokenText:Y},de=ls[y];if(de&&de.handler)return de.handler(ie,M,D);throw new a("No function handler for "+y)}parseArguments(y,M){const D=M.numArgs+M.numOptionalArgs;if(D===0)return{args:[],optArgs:[]};const k=[],Y=[];for(let ie=0;ie<D;ie++){let de=M.argTypes&&M.argTypes[ie];const ve=ie<M.numOptionalArgs;(M.primitive&&de==null||M.type==="sqrt"&&ie===1&&Y[0]==null)&&(de="primitive");const Oe=this.parseGroupOfType("argument to '"+y+"'",de,ve);if(ve)Y.push(Oe);else if(Oe!=null)k.push(Oe);else throw new a("Null argument, please report this as a bug")}return{args:k,optArgs:Y}}parseGroupOfType(y,M,D){switch(M){case"color":return this.parseColorGroup(D);case"size":return this.parseSizeGroup(D);case"url":return this.parseUrlGroup(D);case"math":case"text":return this.parseArgumentGroup(D,M);case"hbox":{const k=this.parseArgumentGroup(D,"text");return k!=null?{type:"styling",mode:k.mode,body:[k],style:"text"}:null}case"raw":{const k=this.parseStringGroup("raw",D);return k!=null?{type:"raw",mode:"text",string:k.text}:null}case"primitive":{if(D)throw new a("A primitive argument cannot be optional");const k=this.parseGroup(y);if(k==null)throw new a("Expected group as "+y,this.fetch());return k}case"original":case null:case void 0:return this.parseArgumentGroup(D);default:throw new a("Unknown group type as "+y,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(y,M){const D=this.gullet.scanArgument(M);if(D==null)return null;let k="",Y;for(;(Y=this.fetch()).text!=="EOF";)k+=Y.text,this.consume();return this.consume(),D.text=k,D}parseRegexGroup(y,M){const D=this.fetch();let k=D,Y="",ie;for(;(ie=this.fetch()).text!=="EOF"&&y.test(Y+ie.text);)k=ie,Y+=k.text,this.consume();if(Y==="")throw new a("Invalid "+M+": '"+D.text+"'",D);return D.range(k,Y)}parseColorGroup(y){const M=this.parseStringGroup("color",y);if(M==null)return null;const D=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(M.text);if(!D)throw new a("Invalid color: '"+M.text+"'",M);let k=D[0];return/^[0-9a-f]{6}$/i.test(k)&&(k="#"+k),{type:"color-token",mode:this.mode,color:k}}parseSizeGroup(y){let M,D=!1;if(this.gullet.consumeSpaces(),!y&&this.gullet.future().text!=="{"?M=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):M=this.parseStringGroup("size",y),!M)return null;!y&&M.text.length===0&&(M.text="0pt",D=!0);const k=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(M.text);if(!k)throw new a("Invalid size: '"+M.text+"'",M);const Y={number:+(k[1]+k[2]),unit:k[3]};if(!Ye(Y))throw new a("Invalid unit: '"+Y.unit+"'",M);return{type:"size",mode:this.mode,value:Y,isBlank:D}}parseUrlGroup(y){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const M=this.parseStringGroup("url",y);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),M==null)return null;const D=M.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:D}}parseArgumentGroup(y,M){const D=this.gullet.scanArgument(y);if(D==null)return null;const k=this.mode;M&&this.switchMode(M),this.gullet.beginGroup();const Y=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const ie={type:"ordgroup",mode:this.mode,loc:D.loc,body:Y};return M&&this.switchMode(k),ie}parseGroup(y,M){const D=this.fetch(),k=D.text;let Y;if(k==="{"||k==="\\begingroup"){this.consume();const ie=k==="{"?"}":"\\endgroup";this.gullet.beginGroup();const de=this.parseExpression(!1,ie),ve=this.fetch();this.expect(ie),this.gullet.endGroup(),Y={type:"ordgroup",mode:this.mode,loc:Dr.range(D,ve),body:de,semisimple:k==="\\begingroup"||void 0}}else if(Y=this.parseFunction(M,y)||this.parseSymbol(),Y==null&&k[0]==="\\"&&!Ur.hasOwnProperty(k)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+k,D);Y=this.formatUnsupportedCmd(k),this.consume()}return Y}formLigatures(y){let M=y.length-1;for(let D=0;D<M;++D){const k=y[D],Y=k.text;Y==="-"&&y[D+1].text==="-"&&(D+1<M&&y[D+2].text==="-"?(y.splice(D,3,{type:"textord",mode:"text",loc:Dr.range(k,y[D+2]),text:"---"}),M-=2):(y.splice(D,2,{type:"textord",mode:"text",loc:Dr.range(k,y[D+1]),text:"--"}),M-=1)),(Y==="'"||Y==="`")&&y[D+1].text===Y&&(y.splice(D,2,{type:"textord",mode:"text",loc:Dr.range(k,y[D+1]),text:Y+Y}),M-=1)}}parseSymbol(){const y=this.fetch();let M=y.text;if(/^\\verb[^a-zA-Z]/.test(M)){this.consume();let Y=M.slice(5);const ie=Y.charAt(0)==="*";if(ie&&(Y=Y.slice(1)),Y.length<2||Y.charAt(0)!==Y.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return Y=Y.slice(1,-1),{type:"verb",mode:"text",body:Y,star:ie}}Un.hasOwnProperty(M[0])&&!En[this.mode][M[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+M[0]+'" used in math mode',y),M=Un[M[0]]+M.slice(1));const D=ul.exec(M);D&&(M=M.substring(0,D.index),M==="i"?M="ı":M==="j"&&(M="ȷ"));let k;if(En[this.mode][M]){this.settings.strict&&this.mode==="math"&&Xt.indexOf(M)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+M[0]+'" used in math mode',y);const Y=En[this.mode][M].group,ie=Dr.range(y);let de;if(Hn.hasOwnProperty(Y)){const ve=Y;de={type:"atom",mode:this.mode,family:ve,loc:ie,text:M}}else de={type:Y,mode:this.mode,loc:ie,text:M};k=de}else if(M.charCodeAt(0)>=128)this.settings.strict&&(Te(M.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+M[0]+'" used in math mode',y):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+M[0]+'"'+(" ("+M.charCodeAt(0)+")"),y)),k={type:"textord",mode:"text",loc:Dr.range(y),text:M};else return null;if(this.consume(),D)for(let Y=0;Y<D[0].length;Y++){const ie=D[0][Y];if(!Ec[ie])throw new a("Unknown accent ' "+ie+"'",y);const de=Ec[ie][this.mode]||Ec[ie].text;if(!de)throw new a("Accent "+ie+" unsupported in "+this.mode+" mode",y);k={type:"accent",mode:this.mode,loc:Dr.range(y),label:de,isStretchy:!1,isShifty:!0,base:k}}return k}}hl.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var tu=function(b,y){if(!(typeof b=="string"||b instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const M=new hl(b,y);delete M.gullet.macros.current["\\df@tag"];let D=M.parse();if(delete M.gullet.macros.current["\\current@color"],delete M.gullet.macros.current["\\color"],M.gullet.macros.get("\\df@tag")){if(!y.displayMode)throw new a("\\tag works only in display equations");D=[{type:"tag",mode:"text",body:D,tag:M.subparse([new Fa("\\df@tag")])}]}return D};let J0=function(b,y,M){y.textContent="";const D=wc(b,M).toNode();y.appendChild(D)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),J0=function(){throw new a("KaTeX doesn't work in quirks mode.")});const df=function(b,y){return wc(b,y).toMarkup()},Ds=function(b,y){const M=new N(y);return tu(b,M)},dl=function(b,y,M){if(M.throwOnError||!(b instanceof a))throw b;const D=st.makeSpan(["katex-error"],[new Ut(y)]);return D.setAttribute("title",b.toString()),D.setAttribute("style","color:"+M.errorColor),D},wc=function(b,y){const M=new N(y);try{const D=tu(b,M);return qu(D,b,M)}catch(D){return dl(D,b,M)}};var $s={version:"0.16.22",render:J0,renderToString:df,ParseError:a,SETTINGS_SCHEMA:L,__parse:Ds,__renderToDomTree:wc,__renderToHTMLTree:function(b,y){const M=new N(y);try{const D=tu(b,M);return j0(D,b,M)}catch(D){return dl(D,b,M)}},__setFontMetrics:ut,__defineSymbol:F,__defineFunction:Wt,__defineMacro:ge,__domTree:{Span:mt,Anchor:Lt,SymbolNode:Ut,SvgNode:It,PathNode:Ht,LineNode:$t}},pf=$s;return i=i.default,i}()})}(cx)),cx.exports}var qV=eg.exports,rw;function XV(){return rw||(rw=1,function(n,e){(function(t,i){i(e,cd(),TL(),WV())})(qV,function(t,i,r,a){Object.defineProperty(t,"__esModule",{value:!0});function o(w,E){for(var L in E)Object.defineProperty(w,L,{enumerable:!0,get:E[L]})}o(t,{BlockMath:()=>T,InlineMath:()=>A}),i=f(i),r=l(r),a=l(a);function l(w){return w&&w.__esModule?w:{default:w}}function u(w){if(typeof WeakMap!="function")return null;var E=new WeakMap,L=new WeakMap;return(u=function(O){return O?L:E})(w)}function f(w,E){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var L=u(E);if(L&&L.has(w))return L.get(w);var O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in w)if(z!=="default"&&Object.prototype.hasOwnProperty.call(w,z)){var I=N?Object.getOwnPropertyDescriptor(w,z):null;I&&(I.get||I.set)?Object.defineProperty(O,z,I):O[z]=w[z]}return O.default=w,L&&L.set(w,O),O}const p=(w,{displayMode:E})=>{const L=({children:O,errorColor:N,math:z,renderError:I})=>{const H=z??O,{html:W,error:V}=(0,i.useMemo)(()=>{try{return{html:a.default.renderToString(H,{displayMode:E,errorColor:N,throwOnError:!!I}),error:void 0}}catch(U){if(U instanceof a.default.ParseError||U instanceof TypeError)return{error:U};throw U}},[H,N,I]);return V?I?I(V):i.default.createElement(w,{html:`${V.message}`}):i.default.createElement(w,{html:W})};return L.propTypes={children:r.default.string,errorColor:r.default.string,math:r.default.string,renderError:r.default.func},L},g={html:r.default.string.isRequired},v=({html:w})=>i.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:w}});v.propTypes=g;const S=({html:w})=>i.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:w}});S.propTypes=g;const T=p(v,{displayMode:!0}),A=p(S,{displayMode:!1})})}(eg,eg.exports)),eg.exports}var en=XV();const fM=se.createContext({});function hM(n){const e=se.useRef(null);return e.current===null&&(e.current=n()),e.current}const dM=typeof window<"u",gR=dM?se.useLayoutEffect:se.useEffect,n4=se.createContext(null);function pM(n,e){n.indexOf(e)===-1&&n.push(e)}function mM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const eh=(n,e,t)=>t>e?e:t<n?n:t;let gM=()=>{};const th={},yR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vR(n){return typeof n=="object"&&n!==null}const xR=n=>/^0[^.\s]+$/u.test(n);function yM(n){let e;return()=>(e===void 0&&(e=n()),e)}const sc=n=>n,YV=(n,e)=>t=>e(n(t)),Ty=(...n)=>n.reduce(YV),Ig=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class vM{constructor(){this.subscriptions=[]}add(e){return pM(this.subscriptions,e),()=>mM(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Uu=n=>n*1e3,Lu=n=>n/1e3;function bR(n,e){return e?n*(1e3/e):0}const SR=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,KV=1e-7,ZV=12;function QV(n,e,t,i,r){let a,o,l=0;do o=e+(t-e)/2,a=SR(o,i,r)-n,a>0?t=o:e=o;while(Math.abs(a)>KV&&++l<ZV);return o}function Ey(n,e,t,i){if(n===e&&t===i)return sc;const r=a=>QV(a,0,1,n,t);return a=>a===0||a===1?a:SR(r(a),e,i)}const _R=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,MR=n=>e=>1-n(1-e),TR=Ey(.33,1.53,.69,.99),xM=MR(TR),ER=_R(xM),wR=n=>(n*=2)<1?.5*xM(n):.5*(2-Math.pow(2,-10*(n-1))),bM=n=>1-Math.sin(Math.acos(n)),AR=MR(bM),CR=_R(bM),JV=Ey(.42,0,1,1),$V=Ey(0,0,.58,1),RR=Ey(.42,0,.58,1),eH=n=>Array.isArray(n)&&typeof n[0]!="number",DR=n=>Array.isArray(n)&&typeof n[0]=="number",tH={linear:sc,easeIn:JV,easeInOut:RR,easeOut:$V,circIn:bM,circInOut:CR,circOut:AR,backIn:xM,backInOut:ER,backOut:TR,anticipate:wR},nH=n=>typeof n=="string",aw=n=>{if(DR(n)){gM(n.length===4);const[e,t,i,r]=n;return Ey(e,t,i,r)}else if(nH(n))return tH[n];return n},e2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sw={value:null};function iH(n,e){let t=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function f(g){o.has(g)&&(p.schedule(g),n()),u++,g(l)}const p={schedule:(g,v=!1,S=!1)=>{const A=S&&r?t:i;return v&&o.add(g),A.has(g)||A.add(g),g},cancel:g=>{i.delete(g),o.delete(g)},process:g=>{if(l=g,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),e&&sw.value&&sw.value.frameloop[e].push(u),u=0,t.clear(),r=!1,a&&(a=!1,p.process(g))}};return p}const rH=40;function OR(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=e2.reduce((O,N)=>(O[N]=iH(a,e?N:void 0),O),{}),{setup:l,read:u,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:S,postRender:T}=o,A=()=>{const O=th.useManualTiming?r.timestamp:performance.now();t=!1,th.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(O-r.timestamp,rH),1)),r.timestamp=O,r.isProcessing=!0,l.process(r),u.process(r),f.process(r),p.process(r),g.process(r),v.process(r),S.process(r),T.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(A))},w=()=>{t=!0,i=!0,r.isProcessing||n(A)};return{schedule:e2.reduce((O,N)=>{const z=o[N];return O[N]=(I,H=!1,W=!1)=>(t||w(),z.schedule(I,H,W)),O},{}),cancel:O=>{for(let N=0;N<e2.length;N++)o[e2[N]].cancel(O)},state:r,steps:o}}const{schedule:Zr,cancel:rd,state:xs,steps:K3}=OR(typeof requestAnimationFrame<"u"?requestAnimationFrame:sc,!0);let ux;function aH(){ux=void 0}const Ko={now:()=>(ux===void 0&&Ko.set(xs.isProcessing||th.useManualTiming?xs.timestamp:performance.now()),ux),set:n=>{ux=n,queueMicrotask(aH)}},NR=n=>e=>typeof e=="string"&&e.startsWith(n),SM=NR("--"),sH=NR("var(--"),_M=n=>sH(n)?oH.test(n.split("/*")[0].trim()):!1,oH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Im={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},kg={...Im,transform:n=>eh(0,1,n)},t2={...Im,default:1},ug=n=>Math.round(n*1e5)/1e5,MM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lH(n){return n==null}const cH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TM=(n,e)=>t=>!!(typeof t=="string"&&cH.test(t)&&t.startsWith(n)||e&&!lH(t)&&Object.prototype.hasOwnProperty.call(t,e)),UR=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,o,l]=i.match(MM);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},uH=n=>eh(0,255,n),Z3={...Im,transform:n=>Math.round(uH(n))},y0={test:TM("rgb","red"),parse:UR("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Z3.transform(n)+", "+Z3.transform(e)+", "+Z3.transform(t)+", "+ug(kg.transform(i))+")"};function fH(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const W_={test:TM("#"),parse:fH,transform:y0.transform},wy=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Jh=wy("deg"),zu=wy("%"),Dn=wy("px"),hH=wy("vh"),dH=wy("vw"),ow={...zu,parse:n=>zu.parse(n)/100,transform:n=>zu.transform(n*100)},am={test:TM("hsl","hue"),parse:UR("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+zu.transform(ug(e))+", "+zu.transform(ug(t))+", "+ug(kg.transform(i))+")"},Oa={test:n=>y0.test(n)||W_.test(n)||am.test(n),parse:n=>y0.test(n)?y0.parse(n):am.test(n)?am.parse(n):W_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?y0.transform(n):am.transform(n),getAnimatableNone:n=>{const e=Oa.parse(n);return e.alpha=0,Oa.transform(e)}},pH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mH(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(MM))==null?void 0:e.length)||0)+(((t=n.match(pH))==null?void 0:t.length)||0)>0}const LR="number",zR="color",gH="var",yH="var(",lw="${}",vH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fg(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=e.replace(vH,u=>(Oa.test(u)?(i.color.push(a),r.push(zR),t.push(Oa.parse(u))):u.startsWith(yH)?(i.var.push(a),r.push(gH),t.push(u)):(i.number.push(a),r.push(LR),t.push(parseFloat(u))),++a,lw)).split(lw);return{values:t,split:l,indexes:i,types:r}}function PR(n){return Fg(n).values}function BR(n){const{split:e,types:t}=Fg(n),i=e.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],r[o]!==void 0){const l=t[o];l===LR?a+=ug(r[o]):l===zR?a+=Oa.transform(r[o]):a+=r[o]}return a}}const xH=n=>typeof n=="number"?0:Oa.test(n)?Oa.getAnimatableNone(n):n;function bH(n){const e=PR(n);return BR(n)(e.map(xH))}const ad={test:mH,parse:PR,createTransformer:BR,getAnimatableNone:bH};function Q3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function SH({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,o=0;if(!e)r=a=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;r=Q3(u,l,n+1/3),a=Q3(u,l,n),o=Q3(u,l,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function Px(n,e){return t=>t>0?e:n}const Yr=(n,e,t)=>n+(e-n)*t,J3=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},_H=[W_,y0,am],MH=n=>_H.find(e=>e.test(n));function cw(n){const e=MH(n);if(!e)return!1;let t=e.parse(n);return e===am&&(t=SH(t)),t}const uw=(n,e)=>{const t=cw(n),i=cw(e);if(!t||!i)return Px(n,e);const r={...t};return a=>(r.red=J3(t.red,i.red,a),r.green=J3(t.green,i.green,a),r.blue=J3(t.blue,i.blue,a),r.alpha=Yr(t.alpha,i.alpha,a),y0.transform(r))},q_=new Set(["none","hidden"]);function TH(n,e){return q_.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function EH(n,e){return t=>Yr(n,e,t)}function EM(n){return typeof n=="number"?EH:typeof n=="string"?_M(n)?Px:Oa.test(n)?uw:CH:Array.isArray(n)?IR:typeof n=="object"?Oa.test(n)?uw:wH:Px}function IR(n,e){const t=[...n],i=t.length,r=n.map((a,o)=>EM(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)t[o]=r[o](a);return t}}function wH(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=EM(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function AH(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][i[a]],l=n.values[o]??0;t[r]=l,i[a]++}return t}const CH=(n,e)=>{const t=ad.createTransformer(e),i=Fg(n),r=Fg(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?q_.has(n)&&!r.values.length||q_.has(e)&&!i.values.length?TH(n,e):Ty(IR(AH(i,r),r.values),t):Px(n,e)};function kR(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Yr(n,e,t):EM(n)(n,e)}const RH=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Zr.update(e,t),stop:()=>rd(e),now:()=>xs.isProcessing?xs.timestamp:Ko.now()}},FR=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Bx=2e4;function wM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Bx;)e+=t,i=n.next(e);return e>=Bx?1/0:e}function DH(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(wM(i),Bx);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Lu(r)}}const OH=5;function VR(n,e,t){const i=Math.max(e-OH,0);return bR(t-n(i),e-i)}const oa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$3=.001;function NH({duration:n=oa.duration,bounce:e=oa.bounce,velocity:t=oa.velocity,mass:i=oa.mass}){let r,a,o=1-e;o=eh(oa.minDamping,oa.maxDamping,o),n=eh(oa.minDuration,oa.maxDuration,Lu(n)),o<1?(r=f=>{const p=f*o,g=p*n,v=p-t,S=X_(f,o),T=Math.exp(-g);return $3-v/S*T},a=f=>{const g=f*o*n,v=g*t+t,S=Math.pow(o,2)*Math.pow(f,2)*n,T=Math.exp(-g),A=X_(Math.pow(f,2),o);return(-r(f)+$3>0?-1:1)*((v-S)*T)/A}):(r=f=>{const p=Math.exp(-f*n),g=(f-t)*n+1;return-$3+p*g},a=f=>{const p=Math.exp(-f*n),g=(t-f)*(n*n);return p*g});const l=5/n,u=LH(r,a,l);if(n=Uu(n),isNaN(u))return{stiffness:oa.stiffness,damping:oa.damping,duration:n};{const f=Math.pow(u,2)*i;return{stiffness:f,damping:o*2*Math.sqrt(i*f),duration:n}}}const UH=12;function LH(n,e,t){let i=t;for(let r=1;r<UH;r++)i=i-n(i)/e(i);return i}function X_(n,e){return n*Math.sqrt(1-e*e)}const zH=["duration","bounce"],PH=["stiffness","damping","mass"];function fw(n,e){return e.some(t=>n[t]!==void 0)}function BH(n){let e={velocity:oa.velocity,stiffness:oa.stiffness,damping:oa.damping,mass:oa.mass,isResolvedFromDuration:!1,...n};if(!fw(n,PH)&&fw(n,zH))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*eh(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:oa.mass,stiffness:r,damping:a}}else{const t=NH(n);e={...e,...t,mass:oa.mass},e.isResolvedFromDuration=!0}return e}function Ix(n=oa.visualDuration,e=oa.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:S}=BH({...t,velocity:-Lu(t.velocity||0)}),T=v||0,A=f/(2*Math.sqrt(u*p)),w=o-a,E=Lu(Math.sqrt(u/p)),L=Math.abs(w)<5;i||(i=L?oa.restSpeed.granular:oa.restSpeed.default),r||(r=L?oa.restDelta.granular:oa.restDelta.default);let O;if(A<1){const z=X_(E,A);O=I=>{const H=Math.exp(-A*E*I);return o-H*((T+A*E*w)/z*Math.sin(z*I)+w*Math.cos(z*I))}}else if(A===1)O=z=>o-Math.exp(-E*z)*(w+(T+E*w)*z);else{const z=E*Math.sqrt(A*A-1);O=I=>{const H=Math.exp(-A*E*I),W=Math.min(z*I,300);return o-H*((T+A*E*w)*Math.sinh(W)+z*w*Math.cosh(W))/z}}const N={calculatedDuration:S&&g||null,next:z=>{const I=O(z);if(S)l.done=z>=g;else{let H=z===0?T:0;A<1&&(H=z===0?Uu(T):VR(O,z,I));const W=Math.abs(H)<=i,V=Math.abs(o-I)<=r;l.done=W&&V}return l.value=l.done?o:I,l},toString:()=>{const z=Math.min(wM(N),Bx),I=FR(H=>N.next(z*H).value,z,30);return z+"ms "+I},toTransition:()=>{}};return N}Ix.applyToOptions=n=>{const e=DH(n,100,Ix);return n.ease=e.ease,n.duration=Uu(e.duration),n.type="keyframes",n};function Y_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:u,restDelta:f=.5,restSpeed:p}){const g=n[0],v={done:!1,value:g},S=W=>l!==void 0&&W<l||u!==void 0&&W>u,T=W=>l===void 0?u:u===void 0||Math.abs(l-W)<Math.abs(u-W)?l:u;let A=t*e;const w=g+A,E=o===void 0?w:o(w);E!==w&&(A=E-g);const L=W=>-A*Math.exp(-W/i),O=W=>E+L(W),N=W=>{const V=L(W),U=O(W);v.done=Math.abs(V)<=f,v.value=v.done?E:U};let z,I;const H=W=>{S(v.value)&&(z=W,I=Ix({keyframes:[v.value,T(v.value)],velocity:VR(O,W,v.value),damping:r,stiffness:a,restDelta:f,restSpeed:p}))};return H(0),{calculatedDuration:null,next:W=>{let V=!1;return!I&&z===void 0&&(V=!0,N(W),H(W)),z!==void 0&&W>=z?I.next(W-z):(!V&&N(W),v)}}}function IH(n,e,t){const i=[],r=t||th.mix||kR,a=n.length-1;for(let o=0;o<a;o++){let l=r(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||sc:e;l=Ty(u,l)}i.push(l)}return i}function kH(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(gM(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=IH(e,i,r),u=l.length,f=p=>{if(o&&p<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const v=Ig(n[g],n[g+1],p);return l[g](v)};return t?p=>f(eh(n[0],n[a-1],p)):f}function FH(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Ig(0,e,i);n.push(Yr(t,1,r))}}function VH(n){const e=[0];return FH(e,n.length-1),e}function HH(n,e){return n.map(t=>t*e)}function GH(n,e){return n.map(()=>e||RR).splice(0,n.length-1)}function fg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=eH(i)?i.map(aw):aw(i),a={done:!1,value:e[0]},o=HH(t&&t.length===e.length?t:VH(e),n),l=kH(o,e,{ease:Array.isArray(r)?r:GH(e,r)});return{calculatedDuration:n,next:u=>(a.value=l(u),a.done=u>=n,a)}}const jH=n=>n!==null;function AM(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(jH),l=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const WH={decay:Y_,inertia:Y_,tween:fg,keyframes:fg,spring:Ix};function HR(n){typeof n.type=="string"&&(n.type=WH[n.type])}class CM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const qH=n=>n/100;class RM extends CM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==Ko.now()&&this.tick(Ko.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HR(e);const{type:t=fg,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const u=t||fg;u!==fg&&typeof l[0]!="number"&&(this.mixKeyframes=Ty(qH,kR(l[0],l[1])),l=[0,100]);const f=u({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=wM(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:S,type:T,onUpdate:A,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let O=this.currentTime,N=i;if(g){const W=Math.min(this.currentTime,r)/l;let V=Math.floor(W),U=W%1;!U&&W>=1&&(U=1),U===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(v==="reverse"?(U=1-U,S&&(U-=S/l)):v==="mirror"&&(N=o)),O=eh(0,1,U)*l}const z=L?{done:!1,value:p[0]}:N.next(O);a&&(z.value=a(z.value));let{done:I}=z;!L&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return H&&T!==Y_&&(z.value=AM(p,this.options,w,this.speed)),A&&A(z.value),H&&this.finish(),z}then(e,t){return this.finished.then(e,t)}get duration(){return Lu(this.calculatedDuration)}get time(){return Lu(this.currentTime)}set time(e){var t;e=Uu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ko.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lu(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=RH,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function XH(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const v0=n=>n*180/Math.PI,K_=n=>{const e=v0(Math.atan2(n[1],n[0]));return Z_(e)},YH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:K_,rotateZ:K_,skewX:n=>v0(Math.atan(n[1])),skewY:n=>v0(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Z_=n=>(n=n%360,n<0&&(n+=360),n),hw=K_,dw=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),pw=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),KH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dw,scaleY:pw,scale:n=>(dw(n)+pw(n))/2,rotateX:n=>Z_(v0(Math.atan2(n[6],n[5]))),rotateY:n=>Z_(v0(Math.atan2(-n[2],n[0]))),rotateZ:hw,rotate:hw,skewX:n=>v0(Math.atan(n[4])),skewY:n=>v0(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Q_(n){return n.includes("scale")?1:0}function J_(n,e){if(!n||n==="none")return Q_(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=KH,r=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=YH,r=l}if(!r)return Q_(e);const a=i[e],o=r[1].split(",").map(QH);return typeof a=="function"?a(o):o[a]}const ZH=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return J_(t,e)};function QH(n){return parseFloat(n.trim())}const km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fm=new Set(km),mw=n=>n===Im||n===Dn,JH=new Set(["x","y","z"]),$H=km.filter(n=>!JH.has(n));function eG(n){const e=[];return $H.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const M0={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>J_(e,"x"),y:(n,{transform:e})=>J_(e,"y")};M0.translateX=M0.x;M0.translateY=M0.y;const T0=new Set;let $_=!1,e5=!1,t5=!1;function GR(){if(e5){const n=Array.from(T0).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=eG(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,o])=>{var l;(l=i.getValue(a))==null||l.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}e5=!1,$_=!1,T0.forEach(n=>n.complete(t5)),T0.clear()}function jR(){T0.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(e5=!0)})}function tG(){t5=!0,jR(),GR(),t5=!1}class DM{constructor(e,t,i,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(T0.add(this),$_||($_=!0,Zr.read(jR),Zr.resolveKeyframes(GR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const l=i.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}XH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),T0.delete(this)}cancel(){this.state==="scheduled"&&(T0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nG=n=>n.startsWith("--");function iG(n,e,t){nG(e)?n.style.setProperty(e,t):n.style[e]=t}const rG=yM(()=>window.ScrollTimeline!==void 0),aG={};function sG(n,e){const t=yM(n);return()=>aG[e]??t()}const WR=sG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tg([0,.65,.55,1]),circOut:tg([.55,0,1,.45]),backIn:tg([.31,.01,.66,-.59]),backOut:tg([.33,1.53,.69,.99])};function qR(n,e){if(n)return typeof n=="function"?WR()?FR(n,e):"ease-out":DR(n)?tg(n):Array.isArray(n)?n.map(t=>qR(t,e)||gw.easeOut):gw[n]}function oG(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:u}={},f=void 0){const p={[e]:t};u&&(p.offset=u);const g=qR(l,r);Array.isArray(g)&&(p.easing=g);const v={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(p,v)}function XR(n){return typeof n=="function"&&"applyToOptions"in n}function lG({type:n,...e}){return XR(n)&&WR()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cG extends CM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,gM(typeof e.type!="string");const f=lG(e);this.animation=oG(t,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=AM(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):iG(t,i,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Lu(Number(e))}get time(){return Lu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Uu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rG()?(this.animation.timeline=e,sc):t(this)}}const YR={anticipate:wR,backInOut:ER,circInOut:CR};function uG(n){return n in YR}function fG(n){typeof n.ease=="string"&&uG(n.ease)&&(n.ease=YR[n.ease])}const yw=10;class hG extends cG{constructor(e){fG(e),HR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new RM({...o,autoplay:!1}),u=Uu(this.finishedTime??this.time);t.setWithVelocity(l.sample(u-yw).value,l.sample(u).value,yw),l.stop()}}const vw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ad.test(n)||n==="0")&&!n.startsWith("url("));function dG(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function pG(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=vw(r,e),l=vw(a,e);return!o||!l?!1:dG(n)||(t==="spring"||XR(t))&&i}function OM(n){return vR(n)&&"offsetHeight"in n}const mG=new Set(["opacity","clipPath","filter","transform"]),gG=yM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yG(n){var f;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:o}=n;if(!OM((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return gG()&&t&&mG.has(t)&&(t!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}const vG=40;class xG extends CM{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:u,motionValue:f,element:p,...g}){var T;super(),this.stop=()=>{var A,w;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ko.now();const v={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:o,name:u,motionValue:f,element:p,...g},S=(p==null?void 0:p.KeyframeResolver)||DM;this.keyframeResolver=new S(l,(A,w,E)=>this.onKeyframesResolved(A,w,v,!E),u,f,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:u,isHandoff:f,onUpdate:p}=i;this.resolvedAt=Ko.now(),pG(e,a,o,l)||((th.instantAnimations||!u)&&(p==null||p(AM(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>vG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},S=!f&&yG(v)?new hG({...v,element:v.motionValue.owner.current}):new RM(v);S.finished.then(()=>this.notifyFinished()).catch(sc),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),tG()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const bG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SG(n){const e=bG.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function KR(n,e,t=1){const[i,r]=SG(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return yR(o)?parseFloat(o):o}return _M(r)?KR(r,e,t+1):r}function NM(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ZR=new Set(["width","height","top","left","right","bottom",...km]),_G={test:n=>n==="auto",parse:n=>n},QR=n=>e=>e.test(n),JR=[Im,Dn,zu,Jh,dH,hH,_G],xw=n=>JR.find(QR(n));function MG(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||xR(n):!0}const TG=new Set(["brightness","contrast","saturate","opacity"]);function EG(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(MM)||[];if(!i)return n;const r=t.replace(i,"");let a=TG.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const wG=/\b([a-z-]*)\(.*?\)/gu,n5={...ad,getAnimatableNone:n=>{const e=n.match(wG);return e?e.map(EG).join(" "):n}},bw={...Im,transform:Math.round},AG={rotate:Jh,rotateX:Jh,rotateY:Jh,rotateZ:Jh,scale:t2,scaleX:t2,scaleY:t2,scaleZ:t2,skew:Jh,skewX:Jh,skewY:Jh,distance:Dn,translateX:Dn,translateY:Dn,translateZ:Dn,x:Dn,y:Dn,z:Dn,perspective:Dn,transformPerspective:Dn,opacity:kg,originX:ow,originY:ow,originZ:Dn},UM={borderWidth:Dn,borderTopWidth:Dn,borderRightWidth:Dn,borderBottomWidth:Dn,borderLeftWidth:Dn,borderRadius:Dn,radius:Dn,borderTopLeftRadius:Dn,borderTopRightRadius:Dn,borderBottomRightRadius:Dn,borderBottomLeftRadius:Dn,width:Dn,maxWidth:Dn,height:Dn,maxHeight:Dn,top:Dn,right:Dn,bottom:Dn,left:Dn,padding:Dn,paddingTop:Dn,paddingRight:Dn,paddingBottom:Dn,paddingLeft:Dn,margin:Dn,marginTop:Dn,marginRight:Dn,marginBottom:Dn,marginLeft:Dn,backgroundPositionX:Dn,backgroundPositionY:Dn,...AG,zIndex:bw,fillOpacity:kg,strokeOpacity:kg,numOctaves:bw},CG={...UM,color:Oa,backgroundColor:Oa,outlineColor:Oa,fill:Oa,stroke:Oa,borderColor:Oa,borderTopColor:Oa,borderRightColor:Oa,borderBottomColor:Oa,borderLeftColor:Oa,filter:n5,WebkitFilter:n5},$R=n=>CG[n];function e9(n,e){let t=$R(n);return t!==n5&&(t=ad),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const RG=new Set(["auto","none","0"]);function DG(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!RG.has(a)&&Fg(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=e9(t,r)}class OG extends DM{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),_M(f))){const p=KR(f,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ZR.has(i)||e.length!==2)return;const[r,a]=e,o=xw(r),l=xw(a);if(o!==l)if(mw(o)&&mw(l))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else M0[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||MG(e[r]))&&i.push(r);i.length&&DG(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=M0[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=M0[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function NG(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const t9=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Sw=30,UG=n=>!isNaN(parseFloat(n));class LG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var o,l;const a=Ko.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ko.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new vM);const i=this.events[e].add(t);return e==="change"?()=>{i(),Zr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Sw);return bR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Em(n,e){return new LG(n,e)}const{schedule:LM}=OR(queueMicrotask,!1),kc={x:!1,y:!1};function n9(){return kc.x||kc.y}function zG(n){return n==="x"||n==="y"?kc[n]?null:(kc[n]=!0,()=>{kc[n]=!1}):kc.x||kc.y?null:(kc.x=kc.y=!0,()=>{kc.x=kc.y=!1})}function i9(n,e){const t=NG(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function _w(n){return!(n.pointerType==="touch"||n9())}function PG(n,e,t={}){const[i,r,a]=i9(n,t),o=l=>{if(!_w(l))return;const{target:u}=l,f=e(u,l);if(typeof f!="function"||!u)return;const p=g=>{_w(g)&&(f(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return i.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const r9=(n,e)=>e?n===e?!0:r9(n,e.parentElement):!1,zM=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,BG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IG(n){return BG.has(n.tagName)||n.tabIndex!==-1}const fx=new WeakSet;function Mw(n){return e=>{e.key==="Enter"&&n(e)}}function eS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kG=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Mw(()=>{if(fx.has(t))return;eS(t,"down");const r=Mw(()=>{eS(t,"up")}),a=()=>eS(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function Tw(n){return zM(n)&&!n9()}function FG(n,e,t={}){const[i,r,a]=i9(n,t),o=l=>{const u=l.currentTarget;if(!Tw(l))return;fx.add(u);const f=e(u,l),p=(S,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),fx.has(u)&&fx.delete(u),Tw(S)&&typeof f=="function"&&f(S,{success:T})},g=S=>{p(S,u===window||u===document||t.useGlobalTarget||r9(u,S.target))},v=S=>{p(S,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),OM(l)&&(l.addEventListener("focus",f=>kG(f,r)),!IG(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function a9(n){return vR(n)&&"ownerSVGElement"in n}function VG(n){return a9(n)&&n.tagName==="svg"}const Fs=n=>!!(n&&n.getVelocity),HG=[...JR,Oa,ad],GG=n=>HG.find(QR(n)),PM=se.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class jG extends se.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=OM(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WG({children:n,isPresent:e,anchorX:t}){const i=se.useId(),r=se.useRef(null),a=se.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=se.useContext(PM);return se.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:p,right:g}=a.current;if(e||!r.current||!l||!u)return;const v=t==="left"?`left: ${p}`:`right: ${g}`;r.current.dataset.motionPopId=i;const S=document.createElement("style");return o&&(S.nonce=o),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(S)&&document.head.removeChild(S)}},[e]),Z.jsx(jG,{isPresent:e,childRef:r,sizeRef:a,children:se.cloneElement(n,{ref:r})})}const qG=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const u=hM(XG),f=se.useId();let p=!0,g=se.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:r,onExitComplete:v=>{u.set(v,!0);for(const S of u.values())if(!S)return;i&&i()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[t,u,i]);return a&&p&&(g={...g}),se.useMemo(()=>{u.forEach((v,S)=>u.set(S,!1))},[t]),se.useEffect(()=>{!t&&!u.size&&i&&i()},[t]),o==="popLayout"&&(n=Z.jsx(WG,{isPresent:t,anchorX:l,children:n})),Z.jsx(n4.Provider,{value:g,children:n})};function XG(){return new Map}function s9(n=!0){const e=se.useContext(n4);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=se.useId();se.useEffect(()=>{if(n)return r(a)},[n]);const o=se.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,o]:[!0]}const n2=n=>n.key||"";function Ew(n){const e=[];return se.Children.forEach(n,t=>{se.isValidElement(t)&&e.push(t)}),e}const YG=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,f]=s9(o),p=se.useMemo(()=>Ew(n),[n]),g=o&&!u?[]:p.map(n2),v=se.useRef(!0),S=se.useRef(p),T=hM(()=>new Map),[A,w]=se.useState(p),[E,L]=se.useState(p);gR(()=>{v.current=!1,S.current=p;for(let z=0;z<E.length;z++){const I=n2(E[z]);g.includes(I)?T.delete(I):T.get(I)!==!0&&T.set(I,!1)}},[E,g.length,g.join("-")]);const O=[];if(p!==A){let z=[...p];for(let I=0;I<E.length;I++){const H=E[I],W=n2(H);g.includes(W)||(z.splice(I,0,H),O.push(H))}return a==="wait"&&O.length&&(z=O),L(Ew(z)),w(p),null}const{forceRender:N}=se.useContext(fM);return Z.jsx(Z.Fragment,{children:E.map(z=>{const I=n2(z),H=o&&!u?!1:p===E||g.includes(I),W=()=>{if(T.has(I))T.set(I,!0);else return;let V=!0;T.forEach(U=>{U||(V=!1)}),V&&(N==null||N(),L(S.current),o&&(f==null||f()),i&&i())};return Z.jsx(qG,{isPresent:H,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,onExitComplete:H?void 0:W,anchorX:l,children:z},I)})})},o9=se.createContext({strict:!1}),ww={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wm={};for(const n in ww)wm[n]={isEnabled:e=>ww[n].some(t=>!!e[t])};function KG(n){for(const e in n)wm[e]={...wm[e],...n[e]}}const ZG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ZG.has(n)}let l9=n=>!kx(n);function QG(n){typeof n=="function"&&(l9=e=>e.startsWith("on")?!kx(e):n(e))}try{QG(require("@emotion/is-prop-valid").default)}catch{}function JG(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(l9(r)||t===!0&&kx(r)||!e&&!kx(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function $G(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const i4=se.createContext({});function r4(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Vg(n){return typeof n=="string"||Array.isArray(n)}const BM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IM=["initial",...BM];function a4(n){return r4(n.animate)||IM.some(e=>Vg(n[e]))}function c9(n){return!!(a4(n)||n.variants)}function ej(n,e){if(a4(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Vg(t)?t:void 0,animate:Vg(i)?i:void 0}}return n.inherit!==!1?e:{}}function tj(n){const{initial:e,animate:t}=ej(n,se.useContext(i4));return se.useMemo(()=>({initial:e,animate:t}),[Aw(e),Aw(t)])}function Aw(n){return Array.isArray(n)?n.join(" "):n}const nj=Symbol.for("motionComponentSymbol");function sm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ij(n,e,t){return se.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):sm(t)&&(t.current=i))},[e])}const kM=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rj="framerAppearId",u9="data-"+kM(rj),f9=se.createContext({});function aj(n,e,t,i,r){var A,w;const{visualElement:a}=se.useContext(i4),o=se.useContext(o9),l=se.useContext(n4),u=se.useContext(PM).reducedMotion,f=se.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,g=se.useContext(f9);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&sj(f.current,t,r,g);const v=se.useRef(!1);se.useInsertionEffect(()=>{p&&v.current&&p.update(t,l)});const S=t[u9],T=se.useRef(!!S&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,S))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,S)));return gR(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),LM.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),se.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,S)}),T.current=!1))}),p}function sj(n,e,t,i){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:h9(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&sm(l),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:u,layoutRoot:f})}function h9(n){if(n)return n.options.allowProjection!==!1?n.projection:h9(n.parent)}function oj({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&KG(n);function a(l,u){let f;const p={...se.useContext(PM),...l,layoutId:lj(l)},{isStatic:g}=p,v=tj(l),S=i(l,g);if(!g&&dM){cj();const T=uj(p);f=T.MeasureLayout,v.visualElement=aj(r,S,p,e,T.ProjectionNode)}return Z.jsxs(i4.Provider,{value:v,children:[f&&v.visualElement?Z.jsx(f,{visualElement:v.visualElement,...p}):null,t(r,l,ij(S,v.visualElement,u),S,g,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=se.forwardRef(a);return o[nj]=r,o}function lj({layoutId:n}){const e=se.useContext(fM).id;return e&&n!==void 0?e+"-"+n:n}function cj(n,e){se.useContext(o9).strict}function uj(n){const{drag:e,layout:t}=wm;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Hg={};function fj(n){for(const e in n)Hg[e]=n[e],SM(e)&&(Hg[e].isCSSVariable=!0)}function d9(n,{layout:e,layoutId:t}){return Fm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Hg[n]||n==="opacity")}const hj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dj=km.length;function pj(n,e,t){let i="",r=!0;for(let a=0;a<dj;a++){const o=km[a],l=n[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||t){const f=t9(l,UM[o]);if(!u){r=!1;const p=hj[o]||o;i+=`${p}(${f}) `}t&&(e[o]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function FM(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let o=!1,l=!1;for(const u in e){const f=e[u];if(Fm.has(u)){o=!0;continue}else if(SM(u)){r[u]=f;continue}else{const p=t9(f,UM[u]);u.startsWith("origin")?(l=!0,a[u]=p):i[u]=p}}if(e.transform||(o||t?i.transform=pj(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${u} ${f} ${p}`}}const VM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p9(n,e,t){for(const i in e)!Fs(e[i])&&!d9(i,t)&&(n[i]=e[i])}function mj({transformTemplate:n},e){return se.useMemo(()=>{const t=VM();return FM(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gj(n,e){const t=n.style||{},i={};return p9(i,t,n),Object.assign(i,mj(n,e)),i}function yj(n,e){const t={},i=gj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const vj={offset:"stroke-dashoffset",array:"stroke-dasharray"},xj={offset:"strokeDashoffset",array:"strokeDasharray"};function bj(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?vj:xj;n[a.offset]=Dn.transform(-i);const o=Dn.transform(e),l=Dn.transform(t);n[a.array]=`${o} ${l}`}function m9(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},u,f,p){if(FM(n,l,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:v}=n;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),r!==void 0&&bj(g,r,a,o,!1)}const g9=()=>({...VM(),attrs:{}}),y9=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Sj(n,e,t,i){const r=se.useMemo(()=>{const a=g9();return m9(a,e,y9(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};p9(a,n.style,n),r.style={...a,...r.style}}return r}const _j=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HM(n){return typeof n!="string"||n.includes("-")?!1:!!(_j.indexOf(n)>-1||/[A-Z]/u.test(n))}function Mj(n=!1){return(t,i,r,{latestValues:a},o)=>{const u=(HM(t)?Sj:yj)(i,a,o,t),f=JG(i,typeof t=="string",n),p=t!==se.Fragment?{...f,...u,ref:r}:{},{children:g}=i,v=se.useMemo(()=>Fs(g)?g.get():g,[g]);return se.createElement(t,{...p,children:v})}}function Cw(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function GM(n,e,t,i){if(typeof e=="function"){const[r,a]=Cw(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=Cw(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function hx(n){return Fs(n)?n.get():n}function Tj({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:Ej(t,i,r,n),renderState:e()}}const v9=n=>(e,t)=>{const i=se.useContext(i4),r=se.useContext(n4),a=()=>Tj(n,e,i,r);return t?a():hM(a)};function Ej(n,e,t,i){const r={},a=i(n,{});for(const v in a)r[v]=hx(a[v]);let{initial:o,animate:l}=n;const u=a4(n),f=c9(n);e&&f&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||o===!1;const g=p?l:o;if(g&&typeof g!="boolean"&&!r4(g)){const v=Array.isArray(g)?g:[g];for(let S=0;S<v.length;S++){const T=GM(n,v[S]);if(T){const{transitionEnd:A,transition:w,...E}=T;for(const L in E){let O=E[L];if(Array.isArray(O)){const N=p?O.length-1:0;O=O[N]}O!==null&&(r[L]=O)}for(const L in A)r[L]=A[L]}}}return r}function jM(n,e,t){var a;const{style:i}=n,r={};for(const o in i)(Fs(i[o])||e.style&&Fs(e.style[o])||d9(o,n)||((a=t==null?void 0:t.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const wj={useVisualState:v9({scrapeMotionValuesFromProps:jM,createRenderState:VM})};function x9(n,e,t){const i=jM(n,e,t);for(const r in n)if(Fs(n[r])||Fs(e[r])){const a=km.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const Aj={useVisualState:v9({scrapeMotionValuesFromProps:x9,createRenderState:g9})};function Cj(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...HM(i)?Aj:wj,preloadedFeatures:n,useRender:Mj(r),createVisualElement:e,Component:i};return oj(o)}}function Gg(n,e,t){const i=n.getProps();return GM(i,e,t!==void 0?t:i.custom,n)}const i5=n=>Array.isArray(n);function Rj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Em(t))}function Dj(n){return i5(n)?n[n.length-1]||0:n}function Oj(n,e){const t=Gg(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const o in a){const l=Dj(a[o]);Rj(n,o,l)}}function Nj(n){return!!(Fs(n)&&n.add)}function r5(n,e){const t=n.getValue("willChange");if(Nj(t))return t.add(e);if(!t&&th.WillChange){const i=new th.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function b9(n){return n.props[u9]}const Uj=n=>n!==null;function Lj(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(Uj),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const zj={type:"spring",stiffness:500,damping:25,restSpeed:10},Pj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Bj={type:"keyframes",duration:.8},Ij={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kj=(n,{keyframes:e})=>e.length>2?Bj:Fm.has(n)?n.startsWith("scale")?Pj(e[1]):zj:Ij;function Fj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const WM=(n,e,t,i={},r,a)=>o=>{const l=NM(i,n)||{},u=l.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Uu(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:a?void 0:r};Fj(l)||Object.assign(p,kj(n,p)),p.duration&&(p.duration=Uu(p.duration)),p.repeatDelay&&(p.repeatDelay=Uu(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(th.instantAnimations||th.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!a&&e.get()!==void 0){const v=Lj(p.keyframes,l);if(v!==void 0){Zr.update(()=>{p.onUpdate(v),p.onComplete()});return}}return l.isSync?new RM(p):new xG(p)};function Vj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function S9(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const p in l){const g=n.getValue(p,n.latestValues[p]??null),v=l[p];if(v===void 0||f&&Vj(f,p))continue;const S={delay:t,...NM(a||{},p)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===T&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const E=b9(n);if(E){const L=window.MotionHandoffAnimation(E,p,Zr);L!==null&&(S.startTime=L,A=!0)}}r5(n,p),g.start(WM(p,g,v,n.shouldReduceMotion&&ZR.has(p)?{type:!1}:S,n,A));const w=g.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Zr.update(()=>{o&&Oj(n,o)})}),u}function a5(n,e,t={}){var u;const i=Gg(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(S9(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=r;return Hj(n,e,p+f,g,v,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[f,p]=l==="beforeChildren"?[a,o]:[o,a];return f().then(()=>p())}else return Promise.all([a(),o(t.delay)])}function Hj(n,e,t=0,i=0,r=1,a){const o=[],l=(n.variantChildren.size-1)*i,u=r===1?(f=0)=>f*i:(f=0)=>l-f*i;return Array.from(n.variantChildren).sort(Gj).forEach((f,p)=>{f.notify("AnimationStart",e),o.push(a5(f,e,{...a,delay:t+u(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function Gj(n,e){return n.sortNodePosition(e)}function jj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>a5(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=a5(n,e,t);else{const r=typeof e=="function"?Gg(n,e,t.custom):e;i=Promise.all(S9(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function _9(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Wj=IM.length;function M9(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?M9(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Wj;t++){const i=IM[t],r=n.props[i];(Vg(r)||r===!1)&&(e[i]=r)}return e}const qj=[...BM].reverse(),Xj=BM.length;function Yj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>jj(n,t,i)))}function Kj(n){let e=Yj(n),t=Rw(),i=!0;const r=u=>(f,p)=>{var v;const g=Gg(n,p,u==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:S,transitionEnd:T,...A}=g;f={...f,...A,...T}}return f};function a(u){e=u(n)}function o(u){const{props:f}=n,p=M9(n.parent)||{},g=[],v=new Set;let S={},T=1/0;for(let w=0;w<Xj;w++){const E=qj[w],L=t[E],O=f[E]!==void 0?f[E]:p[E],N=Vg(O),z=E===u?L.isActive:null;z===!1&&(T=w);let I=O===p[E]&&O!==f[E]&&N;if(I&&i&&n.manuallyAnimateOnMount&&(I=!1),L.protectedKeys={...S},!L.isActive&&z===null||!O&&!L.prevProp||r4(O)||typeof O=="boolean")continue;const H=Zj(L.prevProp,O);let W=H||E===u&&L.isActive&&!I&&N||w>T&&N,V=!1;const U=Array.isArray(O)?O:[O];let Q=U.reduce(r(E),{});z===!1&&(Q={});const{prevResolvedValues:ee={}}=L,te={...ee,...Q},oe=ae=>{W=!0,v.has(ae)&&(V=!0,v.delete(ae)),L.needsAnimating[ae]=!0;const le=n.getValue(ae);le&&(le.liveStyle=!1)};for(const ae in te){const le=Q[ae],fe=ee[ae];if(S.hasOwnProperty(ae))continue;let J=!1;i5(le)&&i5(fe)?J=!_9(le,fe):J=le!==fe,J?le!=null?oe(ae):v.add(ae):le!==void 0&&v.has(ae)?oe(ae):L.protectedKeys[ae]=!0}L.prevProp=O,L.prevResolvedValues=Q,L.isActive&&(S={...S,...Q}),i&&n.blockInitialAnimation&&(W=!1),W&&(!(I&&H)||V)&&g.push(...U.map(ae=>({animation:ae,options:{type:E}})))}if(v.size){const w={};if(typeof f.initial!="boolean"){const E=Gg(n,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(w.transition=E.transition)}v.forEach(E=>{const L=n.getBaseTarget(E),O=n.getValue(E);O&&(O.liveStyle=!0),w[E]=L??null}),g.push({animation:w})}let A=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(g):Promise.resolve()}function l(u,f){var g;if(t[u].isActive===f)return Promise.resolve();(g=n.variantChildren)==null||g.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(u,f)}),t[u].isActive=f;const p=o(u);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>t,reset:()=>{t=Rw(),i=!0}}}function Zj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!_9(e,n):!1}function Wd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rw(){return{animate:Wd(!0),whileInView:Wd(),whileHover:Wd(),whileTap:Wd(),whileDrag:Wd(),whileFocus:Wd(),exit:Wd()}}class ud{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qj extends ud{constructor(e){super(e),e.animationState||(e.animationState=Kj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();r4(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Jj=0;class $j extends ud{constructor(){super(...arguments),this.id=Jj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eW={animation:{Feature:Qj},exit:{Feature:$j}};function jg(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Ay(n){return{point:{x:n.pageX,y:n.pageY}}}const tW=n=>e=>zM(e)&&n(e,Ay(e));function hg(n,e,t,i){return jg(n,e,tW(t),i)}function T9({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function nW({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function iW(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const E9=1e-4,rW=1-E9,aW=1+E9,w9=.01,sW=0-w9,oW=0+w9;function vo(n){return n.max-n.min}function lW(n,e,t){return Math.abs(n-e)<=t}function Dw(n,e,t,i=.5){n.origin=i,n.originPoint=Yr(e.min,e.max,n.origin),n.scale=vo(t)/vo(e),n.translate=Yr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=rW&&n.scale<=aW||isNaN(n.scale))&&(n.scale=1),(n.translate>=sW&&n.translate<=oW||isNaN(n.translate))&&(n.translate=0)}function dg(n,e,t,i){Dw(n.x,e.x,t.x,i?i.originX:void 0),Dw(n.y,e.y,t.y,i?i.originY:void 0)}function Ow(n,e,t){n.min=t.min+e.min,n.max=n.min+vo(e)}function cW(n,e,t){Ow(n.x,e.x,t.x),Ow(n.y,e.y,t.y)}function Nw(n,e,t){n.min=e.min-t.min,n.max=n.min+vo(e)}function pg(n,e,t){Nw(n.x,e.x,t.x),Nw(n.y,e.y,t.y)}const Uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),om=()=>({x:Uw(),y:Uw()}),Lw=()=>({min:0,max:0}),ba=()=>({x:Lw(),y:Lw()});function $l(n){return[n("x"),n("y")]}function tS(n){return n===void 0||n===1}function s5({scale:n,scaleX:e,scaleY:t}){return!tS(n)||!tS(e)||!tS(t)}function u0(n){return s5(n)||A9(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function A9(n){return zw(n.x)||zw(n.y)}function zw(n){return n&&n!=="0%"}function Fx(n,e,t){const i=n-t,r=e*i;return t+r}function Pw(n,e,t,i,r){return r!==void 0&&(n=Fx(n,r,i)),Fx(n,t,i)+e}function o5(n,e=0,t=1,i,r){n.min=Pw(n.min,e,t,i,r),n.max=Pw(n.max,e,t,i,r)}function C9(n,{x:e,y:t}){o5(n.x,e.translate,e.scale,e.originPoint),o5(n.y,t.translate,t.scale,t.originPoint)}const Bw=.999999999999,Iw=1.0000000000001;function uW(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=t[l],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cm(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,C9(n,o)),i&&u0(a.latestValues)&&cm(n,a.latestValues))}e.x<Iw&&e.x>Bw&&(e.x=1),e.y<Iw&&e.y>Bw&&(e.y=1)}function lm(n,e){n.min=n.min+e,n.max=n.max+e}function kw(n,e,t,i,r=.5){const a=Yr(n.min,n.max,r);o5(n,e,t,a,i)}function cm(n,e){kw(n.x,e.x,e.scaleX,e.scale,e.originX),kw(n.y,e.y,e.scaleY,e.scale,e.originY)}function R9(n,e){return T9(iW(n.getBoundingClientRect(),e))}function fW(n,e,t){const i=R9(n,t),{scroll:r}=e;return r&&(lm(i.x,r.offset.x),lm(i.y,r.offset.y)),i}const D9=({current:n})=>n?n.ownerDocument.defaultView:null,Fw=(n,e)=>Math.abs(n-e);function hW(n,e){const t=Fw(n.x,e.x),i=Fw(n.y,e.y);return Math.sqrt(t**2+i**2)}class O9{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=iS(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=hW(g.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:T}=g,{timestamp:A}=xs;this.history.push({...T,timestamp:A});const{onStart:w,onMove:E}=this.handlers;v||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=nS(v,this.transformPagePoint),Zr.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=iS(g.type==="pointercancel"?this.lastMoveEventInfo:nS(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,w),T&&T(g,w)},!zM(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=Ay(e),l=nS(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=xs;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,iS(l,this.history)),this.removeListeners=Ty(hg(this.contextWindow,"pointermove",this.handlePointerMove),hg(this.contextWindow,"pointerup",this.handlePointerUp),hg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rd(this.updatePoint)}}function nS(n,e){return e?{point:e(n.point)}:n}function Vw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function iS({point:n},e){return{point:n,delta:Vw(n,N9(e)),offset:Vw(n,dW(e)),velocity:pW(e,.1)}}function dW(n){return n[0]}function N9(n){return n[n.length-1]}function pW(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=N9(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Uu(e)));)t--;if(!i)return{x:0,y:0};const a=Lu(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mW(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Yr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Yr(t,n,i.max):Math.min(n,t)),n}function Hw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function gW(n,{top:e,left:t,bottom:i,right:r}){return{x:Hw(n.x,t,r),y:Hw(n.y,e,i)}}function Gw(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function yW(n,e){return{x:Gw(n.x,e.x),y:Gw(n.y,e.y)}}function vW(n,e){let t=.5;const i=vo(n),r=vo(e);return r>i?t=Ig(e.min,e.max-i,n.min):i>r&&(t=Ig(n.min,n.max-r,e.min)),eh(0,1,t)}function xW(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const l5=.35;function bW(n=l5){return n===!1?n=0:n===!0&&(n=l5),{x:jw(n,"left","right"),y:jw(n,"top","bottom")}}function jw(n,e,t){return{min:Ww(n,e),max:Ww(n,t)}}function Ww(n,e){return typeof n=="number"?n:n[e]||0}const SW=new WeakMap;class _W{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ba(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ay(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:S,onDragStart:T}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zG(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$l(w=>{let E=this.getAxisMotionValue(w).get()||0;if(zu.test(E)){const{projection:L}=this.visualElement;if(L&&L.layout){const O=L.layout.layoutBox[w];O&&(E=vo(O)*(parseFloat(E)/100))}}this.originPoint[w]=E}),T&&Zr.postRender(()=>T(p,g)),r5(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(p,g)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:T,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=g;if(S&&this.currentDirection===null){this.currentDirection=MW(w),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,w),this.updateAxis("y",g.point,w),this.visualElement.render(),A&&A(p,g)},l=(p,g)=>this.stop(p,g),u=()=>$l(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new O9(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:D9(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Zr.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!i2(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=mW(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&sm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=gW(i.layoutBox,e):this.constraints=!1,this.elastic=bW(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$l(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=xW(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!sm(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=fW(i,r.root,this.visualElement.getTransformPagePoint());let o=yW(r.layout.layoutBox,a);if(t){const l=t(nW(o));this.hasMutatedConstraints=!!l,l&&(o=T9(l))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=$l(p=>{if(!i2(p,t,this.currentDirection))return;let g=u&&u[p]||{};o&&(g={min:0,max:0});const v=r?200:1e6,S=r?40:1e7,T={type:"inertia",velocity:i?e[p]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return r5(this.visualElement,e),i.start(WM(e,i,0,t,this.visualElement,!1))}stopAnimation(){$l(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$l(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){$l(t=>{const{drag:i}=this.getProps();if(!i2(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[t];a.set(e[t]-Yr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!sm(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};$l(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();r[o]=vW({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),$l(o=>{if(!i2(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];l.set(Yr(u,f,r[o]))})}addListeners(){if(!this.visualElement.current)return;SW.set(this.visualElement,this);const e=this.visualElement.current,t=hg(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();sm(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Zr.read(i);const o=jg(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&($l(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{o(),t(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=l5,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function i2(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function MW(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class TW extends ud{constructor(e){super(e),this.removeGroupControls=sc,this.removeListeners=sc,this.controls=new _W(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sc}unmount(){this.removeGroupControls(),this.removeListeners()}}const qw=n=>(e,t)=>{n&&Zr.postRender(()=>n(e,t))};class EW extends ud{constructor(){super(...arguments),this.removePointerDownListener=sc}onPointerDown(e){this.session=new O9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:qw(e),onStart:qw(t),onMove:i,onEnd:(a,o)=>{delete this.session,r&&Zr.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=hg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const P1={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Dn.test(n))n=parseFloat(n);else return n;const t=Xw(n,e.target.x),i=Xw(n,e.target.y);return`${t}% ${i}%`}},wW={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ad.parse(n);if(r.length>5)return i;const a=ad.createTransformer(n),o=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,u=t.y.scale*e.y;r[0+o]/=l,r[1+o]/=u;const f=Yr(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=f),typeof r[3+o]=="number"&&(r[3+o]/=f),a(r)}};class AW extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;fj(CW),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Zr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),LM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U9(n){const[e,t]=s9(),i=se.useContext(fM);return Z.jsx(AW,{...n,layoutGroup:i,switchLayoutGroup:se.useContext(f9),isPresent:e,safeToRemove:t})}const CW={borderRadius:{...P1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:P1,borderTopRightRadius:P1,borderBottomLeftRadius:P1,borderBottomRightRadius:P1,boxShadow:wW};function RW(n,e,t){const i=Fs(n)?n:Em(n);return i.start(WM("",i,e,t)),i.animation}const DW=(n,e)=>n.depth-e.depth;class OW{constructor(){this.children=[],this.isDirty=!1}add(e){pM(this.children,e),this.isDirty=!0}remove(e){mM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DW),this.isDirty=!1,this.children.forEach(e)}}function NW(n,e){const t=Ko.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(rd(i),n(a-e))};return Zr.setup(i,!0),()=>rd(i)}const L9=["TopLeft","TopRight","BottomLeft","BottomRight"],UW=L9.length,Yw=n=>typeof n=="string"?parseFloat(n):n,Kw=n=>typeof n=="number"||Dn.test(n);function LW(n,e,t,i,r,a){r?(n.opacity=Yr(0,t.opacity??1,zW(i)),n.opacityExit=Yr(e.opacity??1,0,PW(i))):a&&(n.opacity=Yr(e.opacity??1,t.opacity??1,i));for(let o=0;o<UW;o++){const l=`border${L9[o]}Radius`;let u=Zw(e,l),f=Zw(t,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Kw(u)===Kw(f)?(n[l]=Math.max(Yr(Yw(u),Yw(f),i),0),(zu.test(f)||zu.test(u))&&(n[l]+="%")):n[l]=f}(e.rotate||t.rotate)&&(n.rotate=Yr(e.rotate||0,t.rotate||0,i))}function Zw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const zW=z9(0,.5,AR),PW=z9(.5,.95,sc);function z9(n,e,t){return i=>i<n?0:i>e?1:t(Ig(n,e,i))}function Qw(n,e){n.min=e.min,n.max=e.max}function Ql(n,e){Qw(n.x,e.x),Qw(n.y,e.y)}function Jw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function $w(n,e,t,i,r){return n-=e,n=Fx(n,1/t,i),r!==void 0&&(n=Fx(n,1/r,i)),n}function BW(n,e=0,t=1,i=.5,r,a=n,o=n){if(zu.test(e)&&(e=parseFloat(e),e=Yr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Yr(a.min,a.max,i);n===a&&(l-=e),n.min=$w(n.min,e,t,l,r),n.max=$w(n.max,e,t,l,r)}function eA(n,e,[t,i,r],a,o){BW(n,e[t],e[i],e[r],e.scale,a,o)}const IW=["x","scaleX","originX"],kW=["y","scaleY","originY"];function tA(n,e,t,i){eA(n.x,e,IW,t?t.x:void 0,i?i.x:void 0),eA(n.y,e,kW,t?t.y:void 0,i?i.y:void 0)}function nA(n){return n.translate===0&&n.scale===1}function P9(n){return nA(n.x)&&nA(n.y)}function iA(n,e){return n.min===e.min&&n.max===e.max}function FW(n,e){return iA(n.x,e.x)&&iA(n.y,e.y)}function rA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function B9(n,e){return rA(n.x,e.x)&&rA(n.y,e.y)}function aA(n){return vo(n.x)/vo(n.y)}function sA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class VW{constructor(){this.members=[]}add(e){pM(this.members,e),e.scheduleRender()}remove(e){if(mM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HW(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:S,skewY:T}=t;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),S&&(i+=`skewX(${S}deg) `),T&&(i+=`skewY(${T}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const rS=["","X","Y","Z"],GW={visibility:"hidden"},jW=1e3;let WW=0;function aS(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function I9(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=b9(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Zr,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&I9(i)}function k9({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=WW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YW),this.nodes.forEach(JW),this.nodes.forEach($W),this.nodes.forEach(KW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new OW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vM),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=a9(o)&&!VG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),n){let p;const g=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=NW(g,250),dx.hasAnimatedSinceResize&&(dx.hasAnimatedSinceResize=!1,this.nodes.forEach(cA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||rq,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=f.getProps(),E=!this.targetLayout||!B9(this.targetLayout,S),L=!g&&v;if(this.options.layoutRoot||this.resumeFrom||L||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...NM(T,"layout"),onPlay:A,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(p,L)}else g||cA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lA);return}this.isUpdating||this.nodes.forEach(lA),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(QW),this.nodes.forEach(qW),this.nodes.forEach(XW),this.clearAllSnapshots();const l=Ko.now();xs.delta=eh(0,1e3/60,l-xs.timestamp),xs.timestamp=l,xs.isProcessing=!0,K3.update.process(xs),K3.preRender.process(xs),K3.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,LM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZW),this.sharedNodes.forEach(tq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vo(this.snapshot.measuredBox.x)&&!vo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ba(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!P9(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&this.instance&&(l||u0(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),aq(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return ba();const l=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(sq))){const{scroll:p}=this.root;p&&(lm(l.x,p.offset.x),lm(l.y,p.offset.y))}return l}removeElementScroll(o){var u;const l=ba();if(Ql(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Ql(l,o),lm(l.x,g.offset.x),lm(l.y,g.offset.y))}return l}applyTransform(o,l=!1){const u=ba();Ql(u,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&cm(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),u0(p.latestValues)&&cm(u,p.latestValues)}return u0(this.latestValues)&&cm(u,this.latestValues),u}removeTransform(o){const l=ba();Ql(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!u0(f.latestValues))continue;s5(f.latestValues)&&f.updateSnapshot();const p=ba(),g=f.measurePageBox();Ql(p,g),tA(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return u0(this.latestValues)&&tA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ba(),this.relativeTargetOrigin=ba(),pg(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ba(),this.targetWithTransforms=ba()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ql(this.target,this.layout.layoutBox),C9(this.target,this.targetDelta)):Ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ba(),this.relativeTargetOrigin=ba(),pg(this.relativeTargetOrigin,this.target,S.target),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||s5(this.parent.latestValues)||A9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ql(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;uW(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ba());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jw(this.prevProjectionDelta.x,this.projectionDelta.x),Jw(this.prevProjectionDelta.y,this.projectionDelta.y)),dg(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!sA(this.projectionDelta.x,this.prevProjectionDelta.x)||!sA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=om(),this.projectionDelta=om(),this.projectionDeltaWithTransform=om()}setAnimationOrigin(o,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},g=om();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=ba(),S=u?u.source:void 0,T=this.layout?this.layout.source:void 0,A=S!==T,w=this.getStack(),E=!w||w.members.length<=1,L=!!(A&&!E&&this.options.crossfade===!0&&!this.path.some(iq));this.animationProgress=0;let O;this.mixTargetDelta=N=>{const z=N/1e3;uA(g.x,o.x,z),uA(g.y,o.y,z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pg(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nq(this.relativeTarget,this.relativeTargetOrigin,v,z),O&&FW(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=ba()),Ql(O,this.relativeTarget)),A&&(this.animationValues=p,LW(p,f,this.latestValues,z,L,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,f;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(rd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zr.update(()=>{dx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Em(0)),this.currentAnimation=RW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=o;if(!(!l||!u||!f)){if(this!==o&&this.layout&&f&&F9(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||ba();const g=vo(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=vo(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}Ql(l,u),cm(l,p),dg(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VW),this.sharedNodes.get(o).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&aS("z",o,f,this.animationValues);for(let p=0;p<rS.length;p++)aS(`rotate${rS[p]}`,o,f,this.animationValues),aS(`skew${rS[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return GW;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=hx(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=hx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!u0(this.latestValues)&&(S.transform=u?u({},""):"none",this.hasProjected=!1),S}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=HW(this.projectionDeltaWithTransform,this.treeScale,p),u&&(l.transform=u(p,l.transform));const{x:g,y:v}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Hg){if(p[S]===void 0)continue;const{correct:T,applyTo:A,isCSSVariable:w}=Hg[S],E=l.transform==="none"?p[S]:T(p[S],f);if(A){const L=A.length;for(let O=0;O<L;O++)l[A[O]]=E}else w?this.options.visualElement.renderState.vars[S]=E:l[S]=E}return this.options.layoutId&&(l.pointerEvents=f===this?hx(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(oA),this.root.sharedNodes.clear()}}}function qW(n){n.updateLayout()}function XW(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,o=e.source!==n.layout.source;a==="size"?$l(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],S=vo(v);v.min=i[g].min,v.max=v.min+S}):F9(a,e.layoutBox,i)&&$l(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],S=vo(i[g]);v.max=v.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+S)});const l=om();dg(l,i,e.layoutBox);const u=om();o?dg(u,n.applyTransform(r,!0),e.measuredBox):dg(u,i,e.layoutBox);const f=!P9(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:S}=g;if(v&&S){const T=ba();pg(T,e.layoutBox,v.layoutBox);const A=ba();pg(A,i,S.layoutBox),B9(T,A)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=T,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function YW(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function KW(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ZW(n){n.clearSnapshot()}function oA(n){n.clearMeasurements()}function lA(n){n.isLayoutDirty=!1}function QW(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function cA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function JW(n){n.resolveTargetDelta()}function $W(n){n.calcProjection()}function eq(n){n.resetSkewAndRotation()}function tq(n){n.removeLeadSnapshot()}function uA(n,e,t){n.translate=Yr(e.translate,0,t),n.scale=Yr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function fA(n,e,t,i){n.min=Yr(e.min,t.min,i),n.max=Yr(e.max,t.max,i)}function nq(n,e,t,i){fA(n.x,e.x,t.x,i),fA(n.y,e.y,t.y,i)}function iq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rq={duration:.45,ease:[.4,0,.1,1]},hA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),dA=hA("applewebkit/")&&!hA("chrome/")?Math.round:sc;function pA(n){n.min=dA(n.min),n.max=dA(n.max)}function aq(n){pA(n.x),pA(n.y)}function F9(n,e,t){return n==="position"||n==="preserve-aspect"&&!lW(aA(e),aA(t),.2)}function sq(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const oq=k9({attachResizeListener:(n,e)=>jg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sS={current:void 0},V9=k9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!sS.current){const n=new oq({});n.mount(window),n.setOptions({layoutScroll:!0}),sS.current=n}return sS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),lq={pan:{Feature:EW},drag:{Feature:TW,ProjectionNode:V9,MeasureLayout:U9}};function mA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&Zr.postRender(()=>a(e,Ay(e)))}class cq extends ud{mount(){const{current:e}=this.node;e&&(this.unmount=PG(e,(t,i)=>(mA(this.node,i,"Start"),r=>mA(this.node,r,"End"))))}unmount(){}}class uq extends ud{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ty(jg(this.node.current,"focus",()=>this.onFocus()),jg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&Zr.postRender(()=>a(e,Ay(e)))}class fq extends ud{mount(){const{current:e}=this.node;e&&(this.unmount=FG(e,(t,i)=>(gA(this.node,i,"Start"),(r,{success:a})=>gA(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c5=new WeakMap,oS=new WeakMap,hq=n=>{const e=c5.get(n.target);e&&e(n)},dq=n=>{n.forEach(hq)};function pq({root:n,...e}){const t=n||document;oS.has(t)||oS.set(t,{});const i=oS.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(dq,{root:n,...e})),i[r]}function mq(n,e,t){const i=pq(e);return c5.set(n,t),i.observe(n),()=>{c5.delete(n),i.unobserve(n)}}const gq={some:0,all:1};class yq extends ud{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:gq[r]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(u)};return mq(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(vq(e,t))&&this.startObserver()}unmount(){}}function vq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const xq={inView:{Feature:yq},tap:{Feature:fq},focus:{Feature:uq},hover:{Feature:cq}},bq={layout:{ProjectionNode:V9,MeasureLayout:U9}},u5={current:null},H9={current:!1};function Sq(){if(H9.current=!0,!!dM)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>u5.current=n.matches;n.addListener(e),e()}else u5.current=!1}const _q=new WeakMap;function Mq(n,e,t){for(const i in e){const r=e[i],a=t[i];if(Fs(r))n.addValue(i,r);else if(Fs(a))n.addValue(i,Em(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,Em(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const yA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ko.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Zr.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=a4(t),this.isVariantNode=c9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in g){const S=g[v];u[v]!==void 0&&Fs(S)&&S.set(u[v],!1)}}mount(e){this.current=e,_q.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),H9.current||Sq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:u5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rd(this.notifyUpdate),rd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Fm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Zr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wm){const t=wm[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ba()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<yA.length;i++){const r=yA[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=e[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Mq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Em(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yR(i)||xR(i))?i=parseFloat(i):!GG(i)&&ad.test(t)&&(i=e9(e,t)),this.setBaseTarget(e,Fs(i)?i.get():i)),Fs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=GM(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Fs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new vM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class G9 extends Tq{constructor(){super(...arguments),this.KeyframeResolver=OG}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function j9(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}function Eq(n){return window.getComputedStyle(n)}class wq extends G9{constructor(){super(...arguments),this.type="html",this.renderInstance=j9}readValueFromInstance(e,t){var i;if(Fm.has(t))return(i=this.projection)!=null&&i.isProjecting?Q_(t):ZH(e,t);{const r=Eq(e),a=(SM(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return R9(e,t)}build(e,t,i){FM(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return jM(e,t,i)}}const W9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Aq(n,e,t,i){j9(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(W9.has(r)?r:kM(r),e.attrs[r])}class Cq extends G9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ba}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Fm.has(t)){const i=$R(t);return i&&i.default||0}return t=W9.has(t)?t:kM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return x9(e,t,i)}build(e,t,i){m9(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){Aq(e,t,i,r)}mount(e){this.isSVGTag=y9(e.tagName),super.mount(e)}}const Rq=(n,e)=>HM(n)?new Cq(e):new wq(e,{allowProjection:n!==se.Fragment}),Dq=Cj({...eW,...xq,...lq,...bq},Rq),mg=$G(Dq),Oq=()=>{const{theta:n,phi:e}=k0(r=>r.quantum),t=oM(),i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return Z.jsx(mg.div,{variants:i,initial:"hidden",animate:"visible",style:{width:"100%"},children:Z.jsx(VC,{sx:{pt:{xs:1,sm:2,md:3},pr:{xs:1,sm:1.5},pb:{xs:1,sm:2,md:3},pl:{xs:1,sm:1.5},ml:{xs:1,sm:1.5},mr:{xs:1,sm:1.5},borderRadius:3,bgcolor:"linear-gradient(180deg, #FFFFFF 0%, #F5F7FA 100%)",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #E0E7FF",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.02)",boxShadow:"0 6px 20px rgba(0,0,0,0.15)"},width:"auto",maxWidth:{xs:"90%",sm:"85%",md:"80%"},boxSizing:"border-box"},children:Z.jsxs(HC,{sx:{pl:{xs:1,sm:1.5},pr:{xs:1,sm:1.5}},children:[Z.jsxs(un,{display:"flex",alignItems:"center",mb:2,maxWidth:"100%",children:[Z.jsx(mR,{sx:{color:"#1976D2",mr:1,fontSize:{xs:24,sm:28}}}),Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#1976D2",sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Qubit Representations"})]}),Z.jsxs(rm,{container:!0,spacing:{xs:1,sm:2},sx:{mb:3},children:[Z.jsx(rm,{item:!0,xs:12,sm:4,children:Z.jsxs(un,{sx:{pt:{xs:1,sm:2},pr:{xs:1,sm:1.5},pb:{xs:1,sm:2},pl:{xs:1,sm:1.5},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},maxWidth:"100%"},children:[Z.jsx(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",mb:1,sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:"General Vector Form"}),Z.jsx(un,{sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",pr:{xs:1,sm:1.5},maxWidth:"100%"},children:Z.jsx(en.BlockMath,{math:"|\\psi\\rangle = \\alpha|0\\rangle + \\beta|1\\rangle"})}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:[Z.jsx(en.InlineMath,{math:"\\alpha, \\beta \\in \\mathbb{C}"}),Z.jsx("br",{}),Z.jsx(en.InlineMath,{math:"|\\alpha|^2 + |\\beta|^2 = 1"})]})]})}),Z.jsx(rm,{item:!0,xs:12,sm:4,children:Z.jsxs(un,{sx:{pt:{xs:1,sm:2},pr:{xs:1,sm:1.5},pb:{xs:1,sm:2},pl:{xs:1,sm:1.5},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},maxWidth:"100%"},children:[Z.jsx(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",mb:1,sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:"Column Vector"}),Z.jsx(un,{sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",pr:{xs:1,sm:1.5},maxWidth:"100%"},children:Z.jsx(en.BlockMath,{math:"|\\psi\\rangle = \\begin{bmatrix} \\alpha \\\\ \\beta \\end{bmatrix}"})})]})}),Z.jsx(rm,{item:!0,xs:12,sm:4,children:Z.jsxs(un,{sx:{pt:{xs:1,sm:2},pr:{xs:1,sm:1.5},pb:{xs:1,sm:2},pl:{xs:1,sm:1.5},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},maxWidth:"100%"},children:[Z.jsx(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",mb:1,sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:"Bloch Sphere Form"}),Z.jsx(un,{sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",pr:{xs:1,sm:1.5},maxWidth:"100%"},children:Z.jsx(en.BlockMath,{math:"|\\psi\\rangle = \\cos\\left(\\frac{\\theta}{2}\\right)|0\\rangle + e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)|1\\rangle"})}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{mt:.5,fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:["where ",Z.jsx(en.InlineMath,{math:"\\theta \\in [0, \\pi]"})," — latitude",Z.jsx("br",{}),Z.jsx(en.InlineMath,{math:"\\phi \\in [0, 2\\pi]"})," — longitude"]})]})})]}),Z.jsx(_m,{sx:{mb:3,borderColor:"#B0BEC5",opacity:.7}}),Z.jsxs(un,{children:[Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#1976D2",mb:2,sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Qubit State Details"}),n!==null&&e!==null?Z.jsxs(Mm,{spacing:1,children:[Z.jsxs(fn,{variant:"body1",color:"#263238",sx:{fontSize:{xs:"0.85rem",sm:"0.95rem",md:"1rem"}},children:["Selected ",Z.jsx(en.InlineMath,{math:"\\theta"})," (theta): ",n,"°"]}),Z.jsxs(fn,{variant:"body1",color:"#263238",sx:{fontSize:{xs:"0.85rem",sm:"0.95rem",md:"1rem"}},children:["Selected ",Z.jsx(en.InlineMath,{math:"\\phi"})," (phi): ",e,"°"]}),Z.jsx(un,{sx:{pt:{xs:1,sm:2},pr:{xs:1,sm:1.5},pb:{xs:1,sm:2},pl:{xs:1,sm:1.5},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",mt:2,maxWidth:"100%"},children:Z.jsxs(un,{sx:{whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word",pr:{xs:1,sm:1.5},fontSize:{xs:"0.65rem",sm:"0.875rem",md:"1rem"},overflow:"hidden",maxWidth:"100%"},children:[Z.jsx(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.65rem",sm:"0.85rem"},textAlign:"left",mt:.5},children:"Bloch form"}),Z.jsx(un,{sx:{display:{xs:"block",sm:"none"},textAlign:"left",overflowX:"auto",whiteSpace:"nowrap",minWidth:0},children:Z.jsx(en.BlockMath,{math:`|\\psi\\rangle = \\cos\\left(\\frac{${n}^\\circ}{2}\\right)|0\\rangle \\\\ + e^{i \\cdot ${e}^\\circ} \\sin\\left(\\frac{${n}^\\circ}{2}\\right)|1\\rangle`})}),Z.jsx(un,{sx:{display:{xs:"none",sm:"block"},textAlign:"left",overflowX:"auto",whiteSpace:"nowrap",minWidth:0},children:Z.jsx(en.BlockMath,{math:`|\\psi\\rangle = \\cos\\left(\\frac{${n}^\\circ}{2}\\right)|0\\rangle + e^{i \\cdot ${e}^\\circ} \\sin\\left(\\frac{${n}^\\circ}{2}\\right)|1\\rangle`})})]})}),Z.jsx(un,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:{xs:1,sm:2},pr:{xs:1,sm:1.5},pl:{xs:1,sm:1.5},maxWidth:"100%"},children:Z.jsx(My,{variant:"contained",size:"large",sx:{bgcolor:"#1976D2","&:hover":{bgcolor:"#1565C0"},px:{xs:2,sm:3},py:1,fontSize:{xs:"0.75rem",sm:"0.875rem"},textTransform:"none"},onClick:()=>t(IV()),children:"Next"})})]}):Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontStyle:"italic",fontSize:{xs:"0.75rem",sm:"0.85rem"}},children:["Please define ",Z.jsx(en.InlineMath,{math:"\\theta"})," and ",Z.jsx(en.InlineMath,{math:"\\phi"})," from the left panel."]})]})]})})})},Nq=I0(Z.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"})),vA={X:Z.jsx(en.BlockMath,{math:"\\sigma_x = \\begin{bmatrix} 0 & 1 \\\\ 1 & 0 \\end{bmatrix}"}),Y:Z.jsx(en.BlockMath,{math:"\\sigma_y = \\begin{bmatrix} 0 & -i \\\\ i & 0 \\end{bmatrix}"}),Z:Z.jsx(en.BlockMath,{math:"\\sigma_z = \\begin{bmatrix} 1 & 0 \\\\ 0 & -1 \\end{bmatrix}"})},Uq=()=>{const{observable:n,theta:e,phi:t,expectationValue:i}=k0(f=>f.quantum),[r,a]=se.useState(!1),o=()=>{a(f=>!f)},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},u={hidden:{opacity:0,height:0},visible:{opacity:1,height:"auto",transition:{duration:.3,ease:"easeInOut"}}};return Z.jsx(mg.div,{variants:l,initial:"hidden",animate:"visible",style:{width:"100%",maxWidth:"100%"},children:Z.jsx(VC,{sx:{pt:{xs:1,sm:2,md:3},pb:{xs:1,sm:2,md:3},pl:{xs:1,sm:1.5},pr:{xs:1,sm:1.5},ml:{xs:1,sm:1.5},mr:{xs:1,sm:1.5},borderRadius:3,bgcolor:"linear-gradient(180deg, #FFFFFF 0%, #F5F7FA 100%)",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"1px solid #E0E7FF",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.02)",boxShadow:"0 6px 20px rgba(0,0,0,0.15)"},width:"auto",maxWidth:{xs:"90%",sm:"85%",md:"80%"},boxSizing:"border-box"},children:Z.jsxs(HC,{sx:{pl:{xs:1,sm:1.5},pr:{xs:1,sm:1.5}},children:[Z.jsxs(un,{display:"flex",alignItems:"center",mb:2,maxWidth:"100%",children:[Z.jsx(mg.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},children:Z.jsx(Nq,{sx:{color:"#D81B60",mr:1,fontSize:{xs:24,sm:28}}})}),Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#D81B60",sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Quantum Observables"})]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},mb:3,overflowWrap:"break-word"},children:["An ",Z.jsx("strong",{children:"observable"})," is a measurable property of a quantum system, such as spin or energy. Observables are ",Z.jsx("strong",{children:"Hermitian"})," to ensure real measurement outcomes."]}),Z.jsx(rm,{container:!0,spacing:{xs:1,sm:2},mb:3,children:["Z","X","Y"].map(f=>Z.jsx(rm,{item:!0,xs:12,sm:4,children:Z.jsxs(un,{sx:{p:{xs:1,sm:2},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",transition:"box-shadow 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},maxWidth:"100%",boxSizing:"border-box"},children:[Z.jsxs(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",mb:1,sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:["Pauli-",f," (σ",Z.jsx("sub",{children:f.toLowerCase()}),")"]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.7rem",sm:"0.8rem"},mb:1,overflowWrap:"break-word"},children:[f==="Z"&&"Measures along |0⟩ / |1⟩ axis (standard basis)",f==="X"&&"Measures in |+⟩ / |−⟩ basis (superposition)",f==="Y"&&"Measures phase-flipped states (|i+⟩ / |i−⟩)"]}),Z.jsx(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:vA[f]})]})},f))}),Z.jsxs(un,{mb:3,children:[Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#D81B60",mb:2,sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Expectation Values"}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},mb:2,overflowWrap:"break-word"},children:["The expectation value ",Z.jsx(en.InlineMath,{math:"\\langle A \\rangle"})," of an observable ",Z.jsx(en.InlineMath,{math:"A"})," for a qubit state ",Z.jsx(en.InlineMath,{math:"|\\psi\\rangle = \\cos\\left(\\frac{\\theta}{2}\\right)|0\\rangle + e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)|1\\rangle"})," is the average outcome of measuring ",Z.jsx(en.InlineMath,{math:"A"}),". For Pauli operators:"]}),Z.jsxs(Mm,{spacing:1,children:[Z.jsx(un,{children:Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},overflowWrap:"break-word"},children:[Z.jsxs("strong",{children:["Pauli-Z (",Z.jsx(en.InlineMath,{math:"\\sigma_z"}),"):"]})," ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_z \\rangle = \\cos(\\theta)"})]})}),Z.jsx(un,{children:Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},overflowWrap:"break-word"},children:[Z.jsxs("strong",{children:["Pauli-X (",Z.jsx(en.InlineMath,{math:"\\sigma_x"}),"):"]})," ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_x \\rangle = \\sin(\\theta)\\cos(\\phi)"})]})}),Z.jsx(un,{children:Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},overflowWrap:"break-word"},children:[Z.jsxs("strong",{children:["Pauli-Y (",Z.jsx(en.InlineMath,{math:"\\sigma_y"}),"):"]})," ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_y \\rangle = \\sin(\\theta)\\sin(\\phi)"})]})})]})]}),Z.jsx(un,{mb:2,children:Z.jsx(My,{variant:"contained",sx:{bgcolor:"#D81B60",color:"#FFFFFF",borderRadius:2,px:{xs:2,sm:3},py:1,textTransform:"none",fontWeight:"medium",fontSize:{xs:"0.75rem",sm:"0.85rem"},"&:hover":{bgcolor:"#C2185B",transform:"scale(1.05)",transition:"transform 0.2s ease, background-color 0.2s ease"}},onClick:o,children:r?"Hide Derivation":"Show Derivation"})}),Z.jsx(YG,{children:r&&Z.jsx(mg.div,{variants:u,initial:"hidden",animate:"visible",exit:"hidden",style:{padding:{xs:"0 8px",sm:"0 16px"}},children:Z.jsxs(un,{mb:3,children:[Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#D81B60",mb:2,sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Expectation Value Derivation"}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.75rem",sm:"0.85rem"},mb:2,overflowWrap:"break-word"},children:["For a qubit state ",Z.jsx(en.InlineMath,{math:"|\\psi\\rangle = \\cos\\left(\\frac{\\theta}{2}\\right)|0\\rangle + e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)|1\\rangle"}),", the expectation value of an observable ",Z.jsx(en.InlineMath,{math:"A"})," is ",Z.jsx(en.InlineMath,{math:"\\langle A \\rangle = \\langle \\psi | A | \\psi \\rangle"}),", where ",Z.jsx(en.InlineMath,{math:"\\langle \\psi | = \\left[ \\cos\\left(\\frac{\\theta}{2}\\right), e^{-i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\right]"})," is the conjugate transpose. Derivations for each Pauli operator:"]}),Z.jsxs(Mm,{spacing:2,children:[Z.jsxs(un,{children:[Z.jsxs(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:["Pauli-Z (",Z.jsx(en.InlineMath,{math:"\\sigma_z"}),")"]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.7rem",sm:"0.8rem"},overflowWrap:"break-word"},children:["1. Apply ",Z.jsx(en.InlineMath,{math:"\\sigma_z = \\begin{bmatrix} 1 & 0 \\\\ 0 & -1 \\end{bmatrix}"})," to ",Z.jsx(en.InlineMath,{math:"|\\psi\\rangle"}),":",Z.jsx("br",{}),Z.jsx(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:Z.jsx(en.BlockMath,{math:"\\sigma_z |\\psi\\rangle = \\begin{bmatrix} \\cos\\left(\\frac{\\theta}{2}\\right) \\\\ -e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\end{bmatrix}"})}),"2. Compute ",Z.jsx(en.InlineMath,{math:"\\langle \\psi | \\sigma_z | \\psi \\rangle"}),":",Z.jsx("br",{}),Z.jsxs(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:[Z.jsx(en.BlockMath,{math:"\\langle \\psi | \\sigma_z | \\psi \\rangle = \\cos\\left(\\frac{\\theta}{2}\\right) \\cdot \\cos\\left(\\frac{\\theta}{2}\\right) + e^{-i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\cdot \\left(-e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)\\right)"}),Z.jsx(en.BlockMath,{math:"= \\cos^2\\left(\\frac{\\theta}{2}\\right) - \\sin^2\\left(\\frac{\\theta}{2}\\right)"}),Z.jsx(en.BlockMath,{math:"= 2\\cos^2\\left(\\frac{\\theta}{2}\\right) - 1 = \\cos(\\theta) \\quad (\\text{using } \\cos^2\\left(\\frac{\\theta}{2}\\right) = \\frac{1 + \\cos(\\theta)}{2})"})]}),Z.jsx("strong",{children:"Result"}),": ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_z \\rangle = \\cos(\\theta)"})]})]}),Z.jsxs(un,{children:[Z.jsxs(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:["Pauli-X (",Z.jsx(en.InlineMath,{math:"\\sigma_x"}),")"]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.7rem",sm:"0.8rem"},overflowWrap:"break-word"},children:["1. Apply ",Z.jsx(en.InlineMath,{math:"\\sigma_x = \\begin{bmatrix} 0 & 1 \\\\ 1 & 0 \\end{bmatrix}"})," to ",Z.jsx(en.InlineMath,{math:"|\\psi\\rangle"}),":",Z.jsx("br",{}),Z.jsx(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:Z.jsx(en.BlockMath,{math:"\\sigma_x |\\psi\\rangle = \\begin{bmatrix} e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\\\ \\cos\\left(\\frac{\\theta}{2}\\right) \\end{bmatrix}"})}),"2. Compute ",Z.jsx(en.InlineMath,{math:"\\langle \\psi | \\sigma_x | \\psi \\rangle"}),":",Z.jsx("br",{}),Z.jsxs(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:[Z.jsx(en.BlockMath,{math:"\\langle \\psi | \\sigma_x | \\psi \\rangle = \\cos\\left(\\frac{\\theta}{2}\\right) \\cdot e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) + e^{-i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\cdot \\cos\\left(\\frac{\\theta}{2}\\right)"}),Z.jsx(en.BlockMath,{math:"= 2\\cos\\left(\\frac{\\theta}{2}\\right)\\sin\\left(\\frac{\\theta}{2}\\right)e^{i\\phi}"}),Z.jsx(en.BlockMath,{math:"= \\sin(\\theta)e^{i\\phi} = \\sin(\\theta)(\\cos(\\phi) + i \\sin(\\phi))"})]}),"Since ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_x \\rangle"})," is real, take the real part: ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_x \\rangle = \\sin(\\theta)\\cos(\\phi)"}),Z.jsx("br",{}),Z.jsx("strong",{children:"Result"}),": ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_x \\rangle = \\sin(\\theta)\\cos(\\phi)"})]})]}),Z.jsxs(un,{children:[Z.jsxs(fn,{variant:"subtitle2",fontWeight:"bold",color:"#263238",sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"}},children:["Pauli-Y (",Z.jsx(en.InlineMath,{math:"\\sigma_y"}),")"]}),Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.7rem",sm:"0.8rem"},overflowWrap:"break-word"},children:["1. Apply ",Z.jsx(en.InlineMath,{math:"\\sigma_y = \\begin{bmatrix} 0 & -i \\\\ i & 0 \\end{bmatrix}"})," to ",Z.jsx(en.InlineMath,{math:"|\\psi\\rangle"}),":",Z.jsx("br",{}),Z.jsx(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:Z.jsx(en.BlockMath,{math:"\\sigma_y |\\psi\\rangle = \\begin{bmatrix} -i e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\\\ i \\cos\\left(\\frac{\\theta}{2}\\right) \\end{bmatrix}"})}),"2. Compute ",Z.jsx(en.InlineMath,{math:"\\langle \\psi | \\sigma_y | \\psi \\rangle"}),":",Z.jsx("br",{}),Z.jsxs(un,{sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:[Z.jsx(en.BlockMath,{math:"\\langle \\psi | \\sigma_y | \\psi \\rangle = \\cos\\left(\\frac{\\theta}{2}\\right) \\cdot \\left(-i e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)\\right) + e^{-i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right) \\cdot i \\cos\\left(\\frac{\\theta}{2}\\right)"}),Z.jsx(en.BlockMath,{math:"= i \\cos\\left(\\frac{\\theta}{2}\\right)\\sin\\left(\\frac{\\theta}{2}\\right)\\left[e^{-i\\phi} - e^{i\\phi}\\right]"}),Z.jsx(en.BlockMath,{math:"= i \\cos\\left(\\frac{\\theta}{2}\\right)\\sin\\left(\\frac{\\theta}{2}\\right)[-2i \\sin(\\phi)]"}),Z.jsx(en.BlockMath,{math:"= 2\\cos\\left(\\frac{\\theta}{2}\\right)\\sin\\left(\\frac{\\theta}{2}\\right)\\sin(\\phi) = \\sin(\\theta)\\sin(\\phi)"})]}),Z.jsx("strong",{children:"Result"}),": ",Z.jsx(en.InlineMath,{math:"\\langle \\sigma_y \\rangle = \\sin(\\theta)\\sin(\\phi)"})]})]})]})]})})}),Z.jsx(_m,{sx:{mb:2,borderColor:"#B0BEC5",opacity:.7}}),n?Z.jsxs(un,{mt:2,children:[Z.jsx(fn,{variant:"h5",fontWeight:"bold",color:"#1976D2",mb:2,sx:{fontSize:{xs:"1.1rem",sm:"1.4rem",md:"1.5rem"}},children:"Selected Observable"}),Z.jsxs(fn,{variant:"body1",fontWeight:"medium",color:"#263238",sx:{fontSize:{xs:"0.85rem",sm:"0.95rem",md:"1rem"},overflowWrap:"break-word"},children:["Pauli-",n," (",Z.jsx(en.InlineMath,{math:`sigma_${n.toLowerCase()}`}),")"]}),Z.jsx(un,{mt:1,sx:{overflowX:"auto",maxWidth:"100%",whiteSpace:"nowrap"},children:vA[n]}),e!==null&&t!==null&&i!==null&&Z.jsxs(un,{sx:{p:{xs:1,sm:2},bgcolor:"#F7F9FB",borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",mt:2,maxWidth:"100%",boxSizing:"border-box"},children:[Z.jsx(fn,{variant:"body1",color:"#455A64",sx:{fontSize:{xs:"0.85rem",sm:"0.95rem",md:"1rem"},overflowWrap:"break-word"},children:"Qubit State:"}),Z.jsxs(un,{sx:{fontSize:{xs:"0.65rem",sm:"0.875rem",md:"1rem"},overflow:"hidden",maxWidth:"100%"},children:[Z.jsx(un,{sx:{display:{xs:"block",sm:"none"},textAlign:"left",overflowX:"auto",whiteSpace:"nowrap",minWidth:0},children:Z.jsx(en.BlockMath,{math:`|\\psi\\rangle = \\cos\\left(\\frac{${e}^\\circ}{2}\\right)|0\\rangle \\\\ + e^{i \\cdot ${t}^\\circ} \\sin\\left(\\frac{${e}^\\circ}{2}\\right)|1\\rangle`})}),Z.jsx(un,{sx:{display:{xs:"none",sm:"block"},textAlign:"left",overflowX:"auto",whiteSpace:"nowrap",minWidth:0},children:Z.jsx(en.BlockMath,{math:`|\\psi\\rangle = \\cos\\left(\\frac{${e}^\\circ}{2}\\right)|0\\rangle + e^{i \\cdot ${t}^\\circ} \\sin\\left(\\frac{${e}^\\circ}{2}\\right)|1\\rangle`})})]}),Z.jsxs(fn,{variant:"body1",mt:1,color:"#455A64",sx:{fontSize:{xs:"0.85rem",sm:"0.95rem",md:"1rem"},overflowWrap:"break-word"},children:["Expectation Value ",Z.jsx(en.InlineMath,{math:`\\langle \\sigma_${n.toLowerCase()} \\rangle`}),": ",i.toFixed(3)]}),Z.jsx(un,{sx:{mt:2,p:{xs:1,sm:2},backgroundColor:"#E8F5E9",borderLeft:"5px solid #43A047",borderRadius:1,maxWidth:"100%",boxSizing:"border-box"},children:Z.jsxs(fn,{variant:"body2",color:"#455A64",sx:{fontSize:{xs:"0.65rem",sm:"0.8rem"},overflowWrap:"break-word"},children:["The expectation value ⟨σ",n.toLowerCase(),"⟩ = ",Z.jsx("span",{style:{fontWeight:"bold",color:"#43A047"},children:i.toFixed(3)})," reflects the qubit's average measurement outcome along the ",n," axis, showing its quantum state projection."]})})]})]}):Z.jsx(fn,{variant:"body2",color:"#455A64",sx:{fontStyle:"italic",fontSize:{xs:"0.75rem",sm:"0.85rem"},mt:2,overflowWrap:"break-word"},children:"No observable selected yet. Please select one from the left panel."})]})})})},Lq=()=>{const{step:n,theta:e,phi:t,observable:i}=k0(r=>r.quantum);return Z.jsxs(Z.Fragment,{children:[n==="step1"&&Z.jsx(Z.Fragment,{children:e!==null&&t!==null?Z.jsx(Oq,{}):Z.jsx(Z.Fragment,{})}),n==="step2"&&Z.jsx(Z.Fragment,{children:i?Z.jsx(Uq,{}):Z.jsx(Z.Fragment,{})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Cy="177",f0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},h0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},q9=0,f5=1,X9=2,zq=3,Y9=0,s4=1,gg=2,Fc=3,nh=0,bo=1,nc=2,Yf=0,E0=1,h5=2,d5=3,p5=4,K9=5,$h=100,Z9=101,Q9=102,J9=103,$9=104,eD=200,tD=201,nD=202,iD=203,Vx=204,Hx=205,rD=206,aD=207,sD=208,oD=209,lD=210,cD=211,uD=212,fD=213,hD=214,Gx=0,jx=1,Wx=2,L0=3,qx=4,Xx=5,Yx=6,Kx=7,Ry=0,dD=1,pD=2,Pu=0,mD=1,gD=2,yD=3,qM=4,vD=5,xD=6,bD=7,m5="attached",SD="detached",o4=300,ih=301,sd=302,Wg=303,qg=304,Vm=306,Xg=1e3,rc=1001,Yg=1002,Ss=1003,XM=1004,Pq=1004,um=1005,Bq=1005,Sa=1006,yg=1007,Iq=1007,Ru=1008,kq=1008,oc=1009,YM=1010,KM=1011,Am=1012,l4=1013,rh=1014,Zo=1015,Hm=1016,c4=1017,u4=1018,Cm=1020,ZM=35902,QM=1021,JM=1022,Vs=1023,Rm=1026,Dm=1027,f4=1028,Dy=1029,$M=1030,h4=1031,Fq=1032,d4=1033,vg=33776,xg=33777,bg=33778,Sg=33779,Zx=35840,Qx=35841,Jx=35842,$x=35843,eb=36196,tb=37492,nb=37496,ib=37808,rb=37809,ab=37810,sb=37811,ob=37812,lb=37813,cb=37814,ub=37815,fb=37816,hb=37817,db=37818,pb=37819,mb=37820,gb=37821,_g=36492,yb=36494,vb=36495,e6=36283,xb=36284,bb=36285,Sb=36286,_D=2200,MD=2201,TD=2202,Kg=2300,_b=2301,px=2302,x0=2400,b0=2401,Zg=2402,p4=2500,t6=2501,Vq=0,Hq=1,Gq=2,ED=3200,n6=3201,jq=3202,Wq=3203,fd=0,wD=1,jf="",ks="srgb",od="srgb-linear",Qg="linear",Ki="srgb",qq=0,d0=7680,Xq=7681,Yq=7682,Kq=7683,Zq=34055,Qq=34056,Jq=5386,$q=512,eX=513,tX=514,nX=515,iX=516,rX=517,aX=518,g5=519,AD=512,CD=513,RD=514,i6=515,DD=516,OD=517,ND=518,UD=519,Jg=35044,sX=35048,oX=35040,lX=35045,cX=35049,uX=35041,fX=35046,hX=35050,dX=35042,pX="100",y5="300 es",ac=2e3,$g=2001,mX={COMPUTE:"compute",RENDER:"render"},gX={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},yX={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Gu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const zs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let xA=1234567;const w0=Math.PI/180,Om=180/Math.PI;function Cl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(zs[n&255]+zs[n>>8&255]+zs[n>>16&255]+zs[n>>24&255]+"-"+zs[e&255]+zs[e>>8&255]+"-"+zs[e>>16&15|64]+zs[e>>24&255]+"-"+zs[t&63|128]+zs[t>>8&255]+"-"+zs[t>>16&255]+zs[t>>24&255]+zs[i&255]+zs[i>>8&255]+zs[i>>16&255]+zs[i>>24&255]).toLowerCase()}function Wn(n,e,t){return Math.max(e,Math.min(t,n))}function r6(n,e){return(n%e+e)%e}function vX(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function xX(n,e,t){return n!==e?(t-n)/(e-n):0}function Mg(n,e,t){return(1-t)*n+t*e}function bX(n,e,t,i){return Mg(n,e,1-Math.exp(-t*i))}function SX(n,e=1){return e-Math.abs(r6(n,e*2)-e)}function _X(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function MX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function TX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function EX(n,e){return n+Math.random()*(e-n)}function wX(n){return n*(.5-Math.random())}function AX(n){n!==void 0&&(xA=n);let e=xA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function CX(n){return n*w0}function RX(n){return n*Om}function DX(n){return(n&n-1)===0&&n!==0}function OX(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function NX(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function UX(n,e,t,i,r){const a=Math.cos,o=Math.sin,l=a(t/2),u=o(t/2),f=a((e+i)/2),p=o((e+i)/2),g=a((e-i)/2),v=o((e-i)/2),S=a((i-e)/2),T=o((i-e)/2);switch(r){case"XYX":n.set(l*p,u*g,u*v,l*f);break;case"YZY":n.set(u*v,l*p,u*g,l*f);break;case"ZXZ":n.set(u*g,u*v,l*p,l*f);break;case"XZX":n.set(l*p,u*T,u*S,l*f);break;case"YXY":n.set(u*S,l*p,u*T,l*f);break;case"ZYZ":n.set(u*T,u*S,l*p,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function yo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Jn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const LD={DEG2RAD:w0,RAD2DEG:Om,generateUUID:Cl,clamp:Wn,euclideanModulo:r6,mapLinear:vX,inverseLerp:xX,lerp:Mg,damp:bX,pingpong:SX,smoothstep:_X,smootherstep:MX,randInt:TX,randFloat:EX,randFloatSpread:wX,seededRandom:AX,degToRad:CX,radToDeg:RX,isPowerOfTwo:DX,ceilPowerOfTwo:OX,floorPowerOfTwo:NX,setQuaternionFromProperEuler:UX,normalize:Jn,denormalize:yo};class Ct{constructor(e=0,t=0){Ct.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hs{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,l){let u=i[r+0],f=i[r+1],p=i[r+2],g=i[r+3];const v=a[o+0],S=a[o+1],T=a[o+2],A=a[o+3];if(l===0){e[t+0]=u,e[t+1]=f,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=S,e[t+2]=T,e[t+3]=A;return}if(g!==A||u!==v||f!==S||p!==T){let w=1-l;const E=u*v+f*S+p*T+g*A,L=E>=0?1:-1,O=1-E*E;if(O>Number.EPSILON){const z=Math.sqrt(O),I=Math.atan2(z,E*L);w=Math.sin(w*I)/z,l=Math.sin(l*I)/z}const N=l*L;if(u=u*w+v*N,f=f*w+S*N,p=p*w+T*N,g=g*w+A*N,w===1-l){const z=1/Math.sqrt(u*u+f*f+p*p+g*g);u*=z,f*=z,p*=z,g*=z}}e[t]=u,e[t+1]=f,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,o){const l=i[r],u=i[r+1],f=i[r+2],p=i[r+3],g=a[o],v=a[o+1],S=a[o+2],T=a[o+3];return e[t]=l*T+p*g+u*S-f*v,e[t+1]=u*T+p*v+f*g-l*S,e[t+2]=f*T+p*S+l*v-u*g,e[t+3]=p*T-l*g-u*v-f*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,o=e._order,l=Math.cos,u=Math.sin,f=l(i/2),p=l(r/2),g=l(a/2),v=u(i/2),S=u(r/2),T=u(a/2);switch(o){case"XYZ":this._x=v*p*g+f*S*T,this._y=f*S*g-v*p*T,this._z=f*p*T+v*S*g,this._w=f*p*g-v*S*T;break;case"YXZ":this._x=v*p*g+f*S*T,this._y=f*S*g-v*p*T,this._z=f*p*T-v*S*g,this._w=f*p*g+v*S*T;break;case"ZXY":this._x=v*p*g-f*S*T,this._y=f*S*g+v*p*T,this._z=f*p*T+v*S*g,this._w=f*p*g-v*S*T;break;case"ZYX":this._x=v*p*g-f*S*T,this._y=f*S*g+v*p*T,this._z=f*p*T-v*S*g,this._w=f*p*g+v*S*T;break;case"YZX":this._x=v*p*g+f*S*T,this._y=f*S*g+v*p*T,this._z=f*p*T-v*S*g,this._w=f*p*g-v*S*T;break;case"XZY":this._x=v*p*g-f*S*T,this._y=f*S*g-v*p*T,this._z=f*p*T+v*S*g,this._w=f*p*g+v*S*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],l=t[5],u=t[9],f=t[2],p=t[6],g=t[10],v=i+l+g;if(v>0){const S=.5/Math.sqrt(v+1);this._w=.25/S,this._x=(p-u)*S,this._y=(a-f)*S,this._z=(o-r)*S}else if(i>l&&i>g){const S=2*Math.sqrt(1+i-l-g);this._w=(p-u)/S,this._x=.25*S,this._y=(r+o)/S,this._z=(a+f)/S}else if(l>g){const S=2*Math.sqrt(1+l-i-g);this._w=(a-f)/S,this._x=(r+o)/S,this._y=.25*S,this._z=(u+p)/S}else{const S=2*Math.sqrt(1+g-i-l);this._w=(o-r)/S,this._x=(a+f)/S,this._y=(u+p)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,l=t._x,u=t._y,f=t._z,p=t._w;return this._x=i*p+o*l+r*f-a*u,this._y=r*p+o*u+a*l-i*f,this._z=a*p+o*f+i*u-r*l,this._w=o*p-i*l-r*u-a*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let l=o*e._w+i*e._x+r*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const S=1-t;return this._w=S*o+t*this._w,this._x=S*i+t*this._x,this._y=S*r+t*this._y,this._z=S*a+t*this._z,this.normalize(),this}const f=Math.sqrt(u),p=Math.atan2(f,l),g=Math.sin((1-t)*p)/f,v=Math.sin(t*p)/f;return this._w=o*g+this._w*v,this._x=i*g+this._x*v,this._y=r*g+this._y*v,this._z=a*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class _e{constructor(e=0,t=0,i=0){_e.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(bA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bA.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,l=e.z,u=e.w,f=2*(o*r-l*i),p=2*(l*t-a*r),g=2*(a*i-o*t);return this.x=t+u*f+o*g-l*p,this.y=i+u*p+l*f-a*g,this.z=r+u*g+a*p-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this.z=Wn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this.z=Wn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,l=t.y,u=t.z;return this.x=r*u-a*l,this.y=a*o-i*u,this.z=i*l-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return lS.copy(this).projectOnVector(e),this.sub(lS)}reflect(e){return this.sub(lS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lS=new _e,bA=new Hs;class jn{constructor(e,t,i,r,a,o,l,u,f){jn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,l,u,f)}set(e,t,i,r,a,o,l,u,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=a,p[5]=u,p[6]=i,p[7]=o,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],l=i[3],u=i[6],f=i[1],p=i[4],g=i[7],v=i[2],S=i[5],T=i[8],A=r[0],w=r[3],E=r[6],L=r[1],O=r[4],N=r[7],z=r[2],I=r[5],H=r[8];return a[0]=o*A+l*L+u*z,a[3]=o*w+l*O+u*I,a[6]=o*E+l*N+u*H,a[1]=f*A+p*L+g*z,a[4]=f*w+p*O+g*I,a[7]=f*E+p*N+g*H,a[2]=v*A+S*L+T*z,a[5]=v*w+S*O+T*I,a[8]=v*E+S*N+T*H,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],p=e[8];return t*o*p-t*l*f-i*a*p+i*l*u+r*a*f-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=p*o-l*f,v=l*u-p*a,S=f*a-o*u,T=t*g+i*v+r*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/T;return e[0]=g*A,e[1]=(r*f-p*i)*A,e[2]=(l*i-r*o)*A,e[3]=v*A,e[4]=(p*t-r*u)*A,e[5]=(r*a-l*t)*A,e[6]=S*A,e[7]=(i*u-f*t)*A,e[8]=(o*t-i*a)*A,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,l){const u=Math.cos(a),f=Math.sin(a);return this.set(i*u,i*f,-i*(u*o+f*l)+o+e,-r*f,r*u,-r*(-f*o+u*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(cS.makeScale(e,t)),this}rotate(e){return this.premultiply(cS.makeRotation(-e)),this}translate(e,t){return this.premultiply(cS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cS=new jn;function zD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const LX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function fm(n,e){return new LX[n](e)}function ey(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function PD(){const n=ey("canvas");return n.style.display="block",n}const SA={};function ym(n){n in SA||(SA[n]=!0,console.warn(n))}function zX(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function PX(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function BX(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const _A=new jn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),MA=new jn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function IX(){const n={enabled:!0,workingColorSpace:od,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Ki&&(r.r=Kf(r.r),r.g=Kf(r.g),r.b=Kf(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Ki&&(r.r=vm(r.r),r.g=vm(r.g),r.b=vm(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===jf?Qg:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return ym("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return ym("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[od]:{primaries:e,whitePoint:i,transfer:Qg,toXYZ:_A,fromXYZ:MA,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ks},outputColorSpaceConfig:{drawingBufferColorSpace:ks}},[ks]:{primaries:e,whitePoint:i,transfer:Ki,toXYZ:_A,fromXYZ:MA,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ks}}}),n}const Mi=IX();function Kf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function vm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Lp;class BD{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Lp===void 0&&(Lp=ey("canvas")),Lp.width=e.width,Lp.height=e.height;const r=Lp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Lp}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ey("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=Kf(a[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Kf(t[i]/255)*255):t[i]=Kf(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let kX=0;class td{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kX++}),this.uuid=Cl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,l=r.length;o<l;o++)r[o].isDataTexture?a.push(uS(r[o].image)):a.push(uS(r[o]))}else a=uS(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function uS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?BD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let FX=0;const fS=new _e;class Qr extends Gu{constructor(e=Qr.DEFAULT_IMAGE,t=Qr.DEFAULT_MAPPING,i=rc,r=rc,a=Sa,o=Ru,l=Vs,u=oc,f=Qr.DEFAULT_ANISOTROPY,p=jf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:FX++}),this.uuid=Cl(),this.name="",this.source=new td(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(fS).x}get height(){return this.source.getSize(fS).y}get depth(){return this.source.getSize(fS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==o4)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xg:e.x=e.x-Math.floor(e.x);break;case rc:e.x=e.x<0?0:1;break;case Yg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Xg:e.y=e.y-Math.floor(e.y);break;case rc:e.y=e.y<0?0:1;break;case Yg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Qr.DEFAULT_IMAGE=null;Qr.DEFAULT_MAPPING=o4;Qr.DEFAULT_ANISOTROPY=1;class ii{constructor(e=0,t=0,i=0,r=1){ii.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const u=e.elements,f=u[0],p=u[4],g=u[8],v=u[1],S=u[5],T=u[9],A=u[2],w=u[6],E=u[10];if(Math.abs(p-v)<.01&&Math.abs(g-A)<.01&&Math.abs(T-w)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+A)<.1&&Math.abs(T+w)<.1&&Math.abs(f+S+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const O=(f+1)/2,N=(S+1)/2,z=(E+1)/2,I=(p+v)/4,H=(g+A)/4,W=(T+w)/4;return O>N&&O>z?O<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(O),r=I/i,a=H/i):N>z?N<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),i=I/r,a=W/r):z<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(z),i=H/a,r=W/a),this.set(i,r,a,t),this}let L=Math.sqrt((w-T)*(w-T)+(g-A)*(g-A)+(v-p)*(v-p));return Math.abs(L)<.001&&(L=1),this.x=(w-T)/L,this.y=(g-A)/L,this.z=(v-p)/L,this.w=Math.acos((f+S+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Wn(this.x,e.x,t.x),this.y=Wn(this.y,e.y,t.y),this.z=Wn(this.z,e.z,t.z),this.w=Wn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Wn(this.x,e,t),this.y=Wn(this.y,e,t),this.z=Wn(this.z,e,t),this.w=Wn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Wn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a6 extends Gu{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Sa,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new ii(0,0,e,t),this.scissorTest=!1,this.viewport=new ii(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new Qr(r);this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Sa,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new td(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fu extends a6{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class m4 extends Qr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ss,this.minFilter=Ss,this.wrapR=rc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class VX extends Fu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new m4(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class g4 extends Qr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Ss,this.minFilter=Ss,this.wrapR=rc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class HX extends Fu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new g4(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class _a{constructor(e=new _e(1/0,1/0,1/0),t=new _e(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(zc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(zc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=zc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,zc):zc.fromBufferAttribute(a,o),zc.applyMatrix4(e.matrixWorld),this.expandByPoint(zc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),r2.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),r2.copy(i.boundingBox)),r2.applyMatrix4(e.matrixWorld),this.union(r2)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,zc),zc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(B1),a2.subVectors(this.max,B1),zp.subVectors(e.a,B1),Pp.subVectors(e.b,B1),Bp.subVectors(e.c,B1),Wh.subVectors(Pp,zp),qh.subVectors(Bp,Pp),qd.subVectors(zp,Bp);let t=[0,-Wh.z,Wh.y,0,-qh.z,qh.y,0,-qd.z,qd.y,Wh.z,0,-Wh.x,qh.z,0,-qh.x,qd.z,0,-qd.x,-Wh.y,Wh.x,0,-qh.y,qh.x,0,-qd.y,qd.x,0];return!hS(t,zp,Pp,Bp,a2)||(t=[1,0,0,0,1,0,0,0,1],!hS(t,zp,Pp,Bp,a2))?!1:(s2.crossVectors(Wh,qh),t=[s2.x,s2.y,s2.z],hS(t,zp,Pp,Bp,a2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const zf=[new _e,new _e,new _e,new _e,new _e,new _e,new _e,new _e],zc=new _e,r2=new _a,zp=new _e,Pp=new _e,Bp=new _e,Wh=new _e,qh=new _e,qd=new _e,B1=new _e,a2=new _e,s2=new _e,Xd=new _e;function hS(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){Xd.fromArray(n,a);const l=r.x*Math.abs(Xd.x)+r.y*Math.abs(Xd.y)+r.z*Math.abs(Xd.z),u=e.dot(Xd),f=t.dot(Xd),p=i.dot(Xd);if(Math.max(-Math.max(u,f,p),Math.min(u,f,p))>l)return!1}return!0}const GX=new _a,I1=new _e,dS=new _e;class Ua{constructor(e=new _e,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):GX.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;I1.subVectors(e,this.center);const t=I1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(I1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(I1.copy(e.center).add(dS)),this.expandByPoint(I1.copy(e.center).sub(dS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Pf=new _e,pS=new _e,o2=new _e,Xh=new _e,mS=new _e,l2=new _e,gS=new _e;class F0{constructor(e=new _e,t=new _e(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Pf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Pf.copy(this.origin).addScaledVector(this.direction,t),Pf.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){pS.copy(e).add(t).multiplyScalar(.5),o2.copy(t).sub(e).normalize(),Xh.copy(this.origin).sub(pS);const a=e.distanceTo(t)*.5,o=-this.direction.dot(o2),l=Xh.dot(this.direction),u=-Xh.dot(o2),f=Xh.lengthSq(),p=Math.abs(1-o*o);let g,v,S,T;if(p>0)if(g=o*u-l,v=o*l-u,T=a*p,g>=0)if(v>=-T)if(v<=T){const A=1/p;g*=A,v*=A,S=g*(g+o*v+2*l)+v*(o*g+v+2*u)+f}else v=a,g=Math.max(0,-(o*v+l)),S=-g*g+v*(v+2*u)+f;else v=-a,g=Math.max(0,-(o*v+l)),S=-g*g+v*(v+2*u)+f;else v<=-T?(g=Math.max(0,-(-o*a+l)),v=g>0?-a:Math.min(Math.max(-a,-u),a),S=-g*g+v*(v+2*u)+f):v<=T?(g=0,v=Math.min(Math.max(-a,-u),a),S=v*(v+2*u)+f):(g=Math.max(0,-(o*a+l)),v=g>0?a:Math.min(Math.max(-a,-u),a),S=-g*g+v*(v+2*u)+f);else v=o>0?-a:a,g=Math.max(0,-(o*v+l)),S=-g*g+v*(v+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(pS).addScaledVector(o2,v),S}intersectSphere(e,t){Pf.subVectors(e.center,this.origin);const i=Pf.dot(this.direction),r=Pf.dot(Pf)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),l=i-o,u=i+o;return u<0?null:l<0?this.at(u,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,l,u;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return f>=0?(i=(e.min.x-v.x)*f,r=(e.max.x-v.x)*f):(i=(e.max.x-v.x)*f,r=(e.min.x-v.x)*f),p>=0?(a=(e.min.y-v.y)*p,o=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,o=(e.min.y-v.y)*p),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),g>=0?(l=(e.min.z-v.z)*g,u=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,u=(e.min.z-v.z)*g),i>u||l>r)||((l>i||i!==i)&&(i=l),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Pf)!==null}intersectTriangle(e,t,i,r,a){mS.subVectors(t,e),l2.subVectors(i,e),gS.crossVectors(mS,l2);let o=this.direction.dot(gS),l;if(o>0){if(r)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Xh.subVectors(this.origin,e);const u=l*this.direction.dot(l2.crossVectors(Xh,l2));if(u<0)return null;const f=l*this.direction.dot(mS.cross(Xh));if(f<0||u+f>o)return null;const p=-l*Xh.dot(gS);return p<0?null:this.at(p/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Tn{constructor(e,t,i,r,a,o,l,u,f,p,g,v,S,T,A,w){Tn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,l,u,f,p,g,v,S,T,A,w)}set(e,t,i,r,a,o,l,u,f,p,g,v,S,T,A,w){const E=this.elements;return E[0]=e,E[4]=t,E[8]=i,E[12]=r,E[1]=a,E[5]=o,E[9]=l,E[13]=u,E[2]=f,E[6]=p,E[10]=g,E[14]=v,E[3]=S,E[7]=T,E[11]=A,E[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Tn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ip.setFromMatrixColumn(e,0).length(),a=1/Ip.setFromMatrixColumn(e,1).length(),o=1/Ip.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),l=Math.sin(i),u=Math.cos(r),f=Math.sin(r),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=o*p,S=o*g,T=l*p,A=l*g;t[0]=u*p,t[4]=-u*g,t[8]=f,t[1]=S+T*f,t[5]=v-A*f,t[9]=-l*u,t[2]=A-v*f,t[6]=T+S*f,t[10]=o*u}else if(e.order==="YXZ"){const v=u*p,S=u*g,T=f*p,A=f*g;t[0]=v+A*l,t[4]=T*l-S,t[8]=o*f,t[1]=o*g,t[5]=o*p,t[9]=-l,t[2]=S*l-T,t[6]=A+v*l,t[10]=o*u}else if(e.order==="ZXY"){const v=u*p,S=u*g,T=f*p,A=f*g;t[0]=v-A*l,t[4]=-o*g,t[8]=T+S*l,t[1]=S+T*l,t[5]=o*p,t[9]=A-v*l,t[2]=-o*f,t[6]=l,t[10]=o*u}else if(e.order==="ZYX"){const v=o*p,S=o*g,T=l*p,A=l*g;t[0]=u*p,t[4]=T*f-S,t[8]=v*f+A,t[1]=u*g,t[5]=A*f+v,t[9]=S*f-T,t[2]=-f,t[6]=l*u,t[10]=o*u}else if(e.order==="YZX"){const v=o*u,S=o*f,T=l*u,A=l*f;t[0]=u*p,t[4]=A-v*g,t[8]=T*g+S,t[1]=g,t[5]=o*p,t[9]=-l*p,t[2]=-f*p,t[6]=S*g+T,t[10]=v-A*g}else if(e.order==="XZY"){const v=o*u,S=o*f,T=l*u,A=l*f;t[0]=u*p,t[4]=-g,t[8]=f*p,t[1]=v*g+A,t[5]=o*p,t[9]=S*g-T,t[2]=T*g-S,t[6]=l*p,t[10]=A*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jX,e,WX)}lookAt(e,t,i){const r=this.elements;return Ml.subVectors(e,t),Ml.lengthSq()===0&&(Ml.z=1),Ml.normalize(),Yh.crossVectors(i,Ml),Yh.lengthSq()===0&&(Math.abs(i.z)===1?Ml.x+=1e-4:Ml.z+=1e-4,Ml.normalize(),Yh.crossVectors(i,Ml)),Yh.normalize(),c2.crossVectors(Ml,Yh),r[0]=Yh.x,r[4]=c2.x,r[8]=Ml.x,r[1]=Yh.y,r[5]=c2.y,r[9]=Ml.y,r[2]=Yh.z,r[6]=c2.z,r[10]=Ml.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],l=i[4],u=i[8],f=i[12],p=i[1],g=i[5],v=i[9],S=i[13],T=i[2],A=i[6],w=i[10],E=i[14],L=i[3],O=i[7],N=i[11],z=i[15],I=r[0],H=r[4],W=r[8],V=r[12],U=r[1],Q=r[5],ee=r[9],te=r[13],oe=r[2],pe=r[6],j=r[10],ae=r[14],le=r[3],fe=r[7],J=r[11],K=r[15];return a[0]=o*I+l*U+u*oe+f*le,a[4]=o*H+l*Q+u*pe+f*fe,a[8]=o*W+l*ee+u*j+f*J,a[12]=o*V+l*te+u*ae+f*K,a[1]=p*I+g*U+v*oe+S*le,a[5]=p*H+g*Q+v*pe+S*fe,a[9]=p*W+g*ee+v*j+S*J,a[13]=p*V+g*te+v*ae+S*K,a[2]=T*I+A*U+w*oe+E*le,a[6]=T*H+A*Q+w*pe+E*fe,a[10]=T*W+A*ee+w*j+E*J,a[14]=T*V+A*te+w*ae+E*K,a[3]=L*I+O*U+N*oe+z*le,a[7]=L*H+O*Q+N*pe+z*fe,a[11]=L*W+O*ee+N*j+z*J,a[15]=L*V+O*te+N*ae+z*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],l=e[5],u=e[9],f=e[13],p=e[2],g=e[6],v=e[10],S=e[14],T=e[3],A=e[7],w=e[11],E=e[15];return T*(+a*u*g-r*f*g-a*l*v+i*f*v+r*l*S-i*u*S)+A*(+t*u*S-t*f*v+a*o*v-r*o*S+r*f*p-a*u*p)+w*(+t*f*g-t*l*S-a*o*g+i*o*S+a*l*p-i*f*p)+E*(-r*l*p-t*u*g+t*l*v+r*o*g-i*o*v+i*u*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],p=e[8],g=e[9],v=e[10],S=e[11],T=e[12],A=e[13],w=e[14],E=e[15],L=g*w*f-A*v*f+A*u*S-l*w*S-g*u*E+l*v*E,O=T*v*f-p*w*f-T*u*S+o*w*S+p*u*E-o*v*E,N=p*A*f-T*g*f+T*l*S-o*A*S-p*l*E+o*g*E,z=T*g*u-p*A*u-T*l*v+o*A*v+p*l*w-o*g*w,I=t*L+i*O+r*N+a*z;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/I;return e[0]=L*H,e[1]=(A*v*a-g*w*a-A*r*S+i*w*S+g*r*E-i*v*E)*H,e[2]=(l*w*a-A*u*a+A*r*f-i*w*f-l*r*E+i*u*E)*H,e[3]=(g*u*a-l*v*a-g*r*f+i*v*f+l*r*S-i*u*S)*H,e[4]=O*H,e[5]=(p*w*a-T*v*a+T*r*S-t*w*S-p*r*E+t*v*E)*H,e[6]=(T*u*a-o*w*a-T*r*f+t*w*f+o*r*E-t*u*E)*H,e[7]=(o*v*a-p*u*a+p*r*f-t*v*f-o*r*S+t*u*S)*H,e[8]=N*H,e[9]=(T*g*a-p*A*a-T*i*S+t*A*S+p*i*E-t*g*E)*H,e[10]=(o*A*a-T*l*a+T*i*f-t*A*f-o*i*E+t*l*E)*H,e[11]=(p*l*a-o*g*a-p*i*f+t*g*f+o*i*S-t*l*S)*H,e[12]=z*H,e[13]=(p*A*r-T*g*r+T*i*v-t*A*v-p*i*w+t*g*w)*H,e[14]=(T*l*r-o*A*r-T*i*u+t*A*u+o*i*w-t*l*w)*H,e[15]=(o*g*r-p*l*r+p*i*u-t*g*u-o*i*v+t*l*v)*H,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,l=e.y,u=e.z,f=a*o,p=a*l;return this.set(f*o+i,f*l-r*u,f*u+r*l,0,f*l+r*u,p*l+i,p*u-r*o,0,f*u-r*l,p*u+r*o,a*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,l=t._z,u=t._w,f=a+a,p=o+o,g=l+l,v=a*f,S=a*p,T=a*g,A=o*p,w=o*g,E=l*g,L=u*f,O=u*p,N=u*g,z=i.x,I=i.y,H=i.z;return r[0]=(1-(A+E))*z,r[1]=(S+N)*z,r[2]=(T-O)*z,r[3]=0,r[4]=(S-N)*I,r[5]=(1-(v+E))*I,r[6]=(w+L)*I,r[7]=0,r[8]=(T+O)*H,r[9]=(w-L)*H,r[10]=(1-(v+A))*H,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Ip.set(r[0],r[1],r[2]).length();const o=Ip.set(r[4],r[5],r[6]).length(),l=Ip.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Pc.copy(this);const f=1/a,p=1/o,g=1/l;return Pc.elements[0]*=f,Pc.elements[1]*=f,Pc.elements[2]*=f,Pc.elements[4]*=p,Pc.elements[5]*=p,Pc.elements[6]*=p,Pc.elements[8]*=g,Pc.elements[9]*=g,Pc.elements[10]*=g,t.setFromRotationMatrix(Pc),i.x=a,i.y=o,i.z=l,this}makePerspective(e,t,i,r,a,o,l=ac){const u=this.elements,f=2*a/(t-e),p=2*a/(i-r),g=(t+e)/(t-e),v=(i+r)/(i-r);let S,T;if(l===ac)S=-(o+a)/(o-a),T=-2*o*a/(o-a);else if(l===$g)S=-o/(o-a),T=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=f,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=p,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=S,u[14]=T,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,a,o,l=ac){const u=this.elements,f=1/(t-e),p=1/(i-r),g=1/(o-a),v=(t+e)*f,S=(i+r)*p;let T,A;if(l===ac)T=(o+a)*g,A=-2*g;else if(l===$g)T=a*g,A=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*p,u[9]=0,u[13]=-S,u[2]=0,u[6]=0,u[10]=A,u[14]=-T,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ip=new _e,Pc=new Tn,jX=new _e(0,0,0),WX=new _e(1,1,1),Yh=new _e,c2=new _e,Ml=new _e,TA=new Tn,EA=new Hs;class Ol{constructor(e=0,t=0,i=0,r=Ol.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],l=r[8],u=r[1],f=r[5],p=r[9],g=r[2],v=r[6],S=r[10];switch(t){case"XYZ":this._y=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,S),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,S),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,S),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Wn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,S),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(Wn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,S));break;case"XZY":this._z=Math.asin(-Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,S),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return TA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(TA,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return EA.setFromEuler(this),this.setFromQuaternion(EA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ol.DEFAULT_ORDER="XYZ";class Nm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qX=0;const wA=new _e,kp=new Hs,Bf=new Tn,u2=new _e,k1=new _e,XX=new _e,YX=new Hs,AA=new _e(1,0,0),CA=new _e(0,1,0),RA=new _e(0,0,1),DA={type:"added"},KX={type:"removed"},Fp={type:"childadded",child:null},yS={type:"childremoved",child:null};class Ci extends Gu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qX++}),this.uuid=Cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ci.DEFAULT_UP.clone();const e=new _e,t=new Ol,i=new Hs,r=new _e(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Tn},normalMatrix:{value:new jn}}),this.matrix=new Tn,this.matrixWorld=new Tn,this.matrixAutoUpdate=Ci.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Nm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kp.setFromAxisAngle(e,t),this.quaternion.multiply(kp),this}rotateOnWorldAxis(e,t){return kp.setFromAxisAngle(e,t),this.quaternion.premultiply(kp),this}rotateX(e){return this.rotateOnAxis(AA,e)}rotateY(e){return this.rotateOnAxis(CA,e)}rotateZ(e){return this.rotateOnAxis(RA,e)}translateOnAxis(e,t){return wA.copy(e).applyQuaternion(this.quaternion),this.position.add(wA.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(AA,e)}translateY(e){return this.translateOnAxis(CA,e)}translateZ(e){return this.translateOnAxis(RA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Bf.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?u2.copy(e):u2.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),k1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bf.lookAt(k1,u2,this.up):Bf.lookAt(u2,k1,this.up),this.quaternion.setFromRotationMatrix(Bf),r&&(Bf.extractRotation(r.matrixWorld),kp.setFromRotationMatrix(Bf),this.quaternion.premultiply(kp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(DA),Fp.child=e,this.dispatchEvent(Fp),Fp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(KX),yS.child=e,this.dispatchEvent(yS),yS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Bf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Bf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(DA),Fp.child=e,this.dispatchEvent(Fp),Fp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k1,e,XX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(k1,YX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,p=u.length;f<p;f++){const g=u[f];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];r.animations.push(a(e.animations,u))}}if(t){const l=o(e.geometries),u=o(e.materials),f=o(e.textures),p=o(e.images),g=o(e.shapes),v=o(e.skeletons),S=o(e.animations),T=o(e.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),S.length>0&&(i.animations=S),T.length>0&&(i.nodes=T)}return i.object=r,i;function o(l){const u=[];for(const f in l){const p=l[f];delete p.metadata,u.push(p)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ci.DEFAULT_UP=new _e(0,1,0);Ci.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Bc=new _e,If=new _e,vS=new _e,kf=new _e,Vp=new _e,Hp=new _e,OA=new _e,xS=new _e,bS=new _e,SS=new _e,_S=new ii,MS=new ii,TS=new ii;class Yo{constructor(e=new _e,t=new _e,i=new _e){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Bc.subVectors(e,t),r.cross(Bc);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){Bc.subVectors(r,t),If.subVectors(i,t),vS.subVectors(e,t);const o=Bc.dot(Bc),l=Bc.dot(If),u=Bc.dot(vS),f=If.dot(If),p=If.dot(vS),g=o*f-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,S=(f*u-l*p)*v,T=(o*p-l*u)*v;return a.set(1-S-T,T,S)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,kf)===null?!1:kf.x>=0&&kf.y>=0&&kf.x+kf.y<=1}static getInterpolation(e,t,i,r,a,o,l,u){return this.getBarycoord(e,t,i,r,kf)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,kf.x),u.addScaledVector(o,kf.y),u.addScaledVector(l,kf.z),u)}static getInterpolatedAttribute(e,t,i,r,a,o){return _S.setScalar(0),MS.setScalar(0),TS.setScalar(0),_S.fromBufferAttribute(e,t),MS.fromBufferAttribute(e,i),TS.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(_S,a.x),o.addScaledVector(MS,a.y),o.addScaledVector(TS,a.z),o}static isFrontFacing(e,t,i,r){return Bc.subVectors(i,t),If.subVectors(e,t),Bc.cross(If).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Bc.subVectors(this.c,this.b),If.subVectors(this.a,this.b),Bc.cross(If).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return Yo.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return Yo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,l;Vp.subVectors(r,i),Hp.subVectors(a,i),xS.subVectors(e,i);const u=Vp.dot(xS),f=Hp.dot(xS);if(u<=0&&f<=0)return t.copy(i);bS.subVectors(e,r);const p=Vp.dot(bS),g=Hp.dot(bS);if(p>=0&&g<=p)return t.copy(r);const v=u*g-p*f;if(v<=0&&u>=0&&p<=0)return o=u/(u-p),t.copy(i).addScaledVector(Vp,o);SS.subVectors(e,a);const S=Vp.dot(SS),T=Hp.dot(SS);if(T>=0&&S<=T)return t.copy(a);const A=S*f-u*T;if(A<=0&&f>=0&&T<=0)return l=f/(f-T),t.copy(i).addScaledVector(Hp,l);const w=p*T-S*g;if(w<=0&&g-p>=0&&S-T>=0)return OA.subVectors(a,r),l=(g-p)/(g-p+(S-T)),t.copy(r).addScaledVector(OA,l);const E=1/(w+A+v);return o=A*E,l=v*E,t.copy(i).addScaledVector(Vp,o).addScaledVector(Hp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ID={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kh={h:0,s:0,l:0},f2={h:0,s:0,l:0};function ES(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Qt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ks){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mi.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=Mi.workingColorSpace){return this.r=e,this.g=t,this.b=i,Mi.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=Mi.workingColorSpace){if(e=r6(e,1),t=Wn(t,0,1),i=Wn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=ES(o,a,e+1/3),this.g=ES(o,a,e),this.b=ES(o,a,e-1/3)}return Mi.colorSpaceToWorking(this,r),this}setStyle(e,t=ks){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],l=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ks){const i=ID[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kf(e.r),this.g=Kf(e.g),this.b=Kf(e.b),this}copyLinearToSRGB(e){return this.r=vm(e.r),this.g=vm(e.g),this.b=vm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ks){return Mi.workingToColorSpace(Ps.copy(this),e),Math.round(Wn(Ps.r*255,0,255))*65536+Math.round(Wn(Ps.g*255,0,255))*256+Math.round(Wn(Ps.b*255,0,255))}getHexString(e=ks){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mi.workingColorSpace){Mi.workingToColorSpace(Ps.copy(this),t);const i=Ps.r,r=Ps.g,a=Ps.b,o=Math.max(i,r,a),l=Math.min(i,r,a);let u,f;const p=(l+o)/2;if(l===o)u=0,f=0;else{const g=o-l;switch(f=p<=.5?g/(o+l):g/(2-o-l),o){case i:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-i)/g+2;break;case a:u=(i-r)/g+4;break}u/=6}return e.h=u,e.s=f,e.l=p,e}getRGB(e,t=Mi.workingColorSpace){return Mi.workingToColorSpace(Ps.copy(this),t),e.r=Ps.r,e.g=Ps.g,e.b=Ps.b,e}getStyle(e=ks){Mi.workingToColorSpace(Ps.copy(this),e);const t=Ps.r,i=Ps.g,r=Ps.b;return e!==ks?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Kh),this.setHSL(Kh.h+e,Kh.s+t,Kh.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Kh),e.getHSL(f2);const i=Mg(Kh.h,f2.h,t),r=Mg(Kh.s,f2.s,t),a=Mg(Kh.l,f2.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ps=new Qt;Qt.NAMES=ID;let ZX=0;class js extends Gu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ZX++}),this.uuid=Cl(),this.name="",this.type="Material",this.blending=E0,this.side=nh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Vx,this.blendDst=Hx,this.blendEquation=$h,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Qt(0,0,0),this.blendAlpha=0,this.depthFunc=L0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=g5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=d0,this.stencilZFail=d0,this.stencilZPass=d0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==E0&&(i.blending=this.blending),this.side!==nh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Vx&&(i.blendSrc=this.blendSrc),this.blendDst!==Hx&&(i.blendDst=this.blendDst),this.blendEquation!==$h&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==L0&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==g5&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==d0&&(i.stencilFail=this.stencilFail),this.stencilZFail!==d0&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==d0&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const l in a){const u=a[l];delete u.metadata,o.push(u)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sh extends js{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ol,this.combine=Ry,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wf=QX();function QX(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,a[u]=f|p}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:l}}function qo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Wn(n,-65504,65504),Wf.floatView[0]=n;const e=Wf.uint32View[0],t=e>>23&511;return Wf.baseTable[t]+((e&8388607)>>Wf.shiftTable[t])}function ng(n){const e=n>>10;return Wf.uint32View[0]=Wf.mantissaTable[Wf.offsetTable[e]+(n&1023)]+Wf.exponentTable[e],Wf.floatView[0]}class JX{static toHalfFloat(e){return qo(e)}static fromHalfFloat(e){return ng(e)}}const Da=new _e,h2=new Ct;let $X=0;class lr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:$X++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Jg,this.updateRanges=[],this.gpuType=Zo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)h2.fromBufferAttribute(this,t),h2.applyMatrix3(e),this.setXY(t,h2.x,h2.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Da.fromBufferAttribute(this,t),Da.applyMatrix3(e),this.setXYZ(t,Da.x,Da.y,Da.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Da.fromBufferAttribute(this,t),Da.applyMatrix4(e),this.setXYZ(t,Da.x,Da.y,Da.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Da.fromBufferAttribute(this,t),Da.applyNormalMatrix(e),this.setXYZ(t,Da.x,Da.y,Da.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Da.fromBufferAttribute(this,t),Da.transformDirection(e),this.setXYZ(t,Da.x,Da.y,Da.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Jn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jg&&(e.usage=this.usage),e}}class eY extends lr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class tY extends lr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class nY extends lr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class iY extends lr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class s6 extends lr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class rY extends lr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class o6 extends lr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class aY extends lr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=ng(this.array[e*this.itemSize]);return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=qo(t),this}getY(e){let t=ng(this.array[e*this.itemSize+1]);return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=qo(t),this}getZ(e){let t=ng(this.array[e*this.itemSize+2]);return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=qo(t),this}getW(e){let t=ng(this.array[e*this.itemSize+3]);return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=qo(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this.array[e+2]=qo(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this.array[e+2]=qo(r),this.array[e+3]=qo(a),this}}class rn extends lr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let sY=0;const Jl=new Tn,wS=new Ci,Gp=new _e,Tl=new _a,F1=new _a,ns=new _e;class $n extends Gu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sY++}),this.uuid=Cl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zD(e)?o6:s6)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new jn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jl.makeRotationFromQuaternion(e),this.applyMatrix4(Jl),this}rotateX(e){return Jl.makeRotationX(e),this.applyMatrix4(Jl),this}rotateY(e){return Jl.makeRotationY(e),this.applyMatrix4(Jl),this}rotateZ(e){return Jl.makeRotationZ(e),this.applyMatrix4(Jl),this}translate(e,t,i){return Jl.makeTranslation(e,t,i),this.applyMatrix4(Jl),this}scale(e,t,i){return Jl.makeScale(e,t,i),this.applyMatrix4(Jl),this}lookAt(e){return wS.lookAt(e),wS.updateMatrix(),this.applyMatrix4(wS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gp).negate(),this.translate(Gp.x,Gp.y,Gp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new rn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _a);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new _e(-1/0,-1/0,-1/0),new _e(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Tl.setFromBufferAttribute(a),this.morphTargetsRelative?(ns.addVectors(this.boundingBox.min,Tl.min),this.boundingBox.expandByPoint(ns),ns.addVectors(this.boundingBox.max,Tl.max),this.boundingBox.expandByPoint(ns)):(this.boundingBox.expandByPoint(Tl.min),this.boundingBox.expandByPoint(Tl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new _e,1/0);return}if(e){const i=this.boundingSphere.center;if(Tl.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const l=t[a];F1.setFromBufferAttribute(l),this.morphTargetsRelative?(ns.addVectors(Tl.min,F1.min),Tl.expandByPoint(ns),ns.addVectors(Tl.max,F1.max),Tl.expandByPoint(ns)):(Tl.expandByPoint(F1.min),Tl.expandByPoint(F1.max))}Tl.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)ns.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(ns));if(t)for(let a=0,o=t.length;a<o;a++){const l=t[a],u=this.morphTargetsRelative;for(let f=0,p=l.count;f<p;f++)ns.fromBufferAttribute(l,f),u&&(Gp.fromBufferAttribute(e,f),ns.add(Gp)),r=Math.max(r,i.distanceToSquared(ns))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lr(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],u=[];for(let W=0;W<i.count;W++)l[W]=new _e,u[W]=new _e;const f=new _e,p=new _e,g=new _e,v=new Ct,S=new Ct,T=new Ct,A=new _e,w=new _e;function E(W,V,U){f.fromBufferAttribute(i,W),p.fromBufferAttribute(i,V),g.fromBufferAttribute(i,U),v.fromBufferAttribute(a,W),S.fromBufferAttribute(a,V),T.fromBufferAttribute(a,U),p.sub(f),g.sub(f),S.sub(v),T.sub(v);const Q=1/(S.x*T.y-T.x*S.y);isFinite(Q)&&(A.copy(p).multiplyScalar(T.y).addScaledVector(g,-S.y).multiplyScalar(Q),w.copy(g).multiplyScalar(S.x).addScaledVector(p,-T.x).multiplyScalar(Q),l[W].add(A),l[V].add(A),l[U].add(A),u[W].add(w),u[V].add(w),u[U].add(w))}let L=this.groups;L.length===0&&(L=[{start:0,count:e.count}]);for(let W=0,V=L.length;W<V;++W){const U=L[W],Q=U.start,ee=U.count;for(let te=Q,oe=Q+ee;te<oe;te+=3)E(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const O=new _e,N=new _e,z=new _e,I=new _e;function H(W){z.fromBufferAttribute(r,W),I.copy(z);const V=l[W];O.copy(V),O.sub(z.multiplyScalar(z.dot(V))).normalize(),N.crossVectors(I,V);const Q=N.dot(u[W])<0?-1:1;o.setXYZW(W,O.x,O.y,O.z,Q)}for(let W=0,V=L.length;W<V;++W){const U=L[W],Q=U.start,ee=U.count;for(let te=Q,oe=Q+ee;te<oe;te+=3)H(e.getX(te+0)),H(e.getX(te+1)),H(e.getX(te+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new lr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,S=i.count;v<S;v++)i.setXYZ(v,0,0,0);const r=new _e,a=new _e,o=new _e,l=new _e,u=new _e,f=new _e,p=new _e,g=new _e;if(e)for(let v=0,S=e.count;v<S;v+=3){const T=e.getX(v+0),A=e.getX(v+1),w=e.getX(v+2);r.fromBufferAttribute(t,T),a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,w),p.subVectors(o,a),g.subVectors(r,a),p.cross(g),l.fromBufferAttribute(i,T),u.fromBufferAttribute(i,A),f.fromBufferAttribute(i,w),l.add(p),u.add(p),f.add(p),i.setXYZ(T,l.x,l.y,l.z),i.setXYZ(A,u.x,u.y,u.z),i.setXYZ(w,f.x,f.y,f.z)}else for(let v=0,S=t.count;v<S;v+=3)r.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),o.fromBufferAttribute(t,v+2),p.subVectors(o,a),g.subVectors(r,a),p.cross(g),i.setXYZ(v+0,p.x,p.y,p.z),i.setXYZ(v+1,p.x,p.y,p.z),i.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ns.fromBufferAttribute(e,t),ns.normalize(),e.setXYZ(t,ns.x,ns.y,ns.z)}toNonIndexed(){function e(l,u){const f=l.array,p=l.itemSize,g=l.normalized,v=new f.constructor(u.length*p);let S=0,T=0;for(let A=0,w=u.length;A<w;A++){l.isInterleavedBufferAttribute?S=u[A]*l.data.stride+l.offset:S=u[A]*p;for(let E=0;E<p;E++)v[T++]=f[S++]}return new lr(v,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new $n,i=this.index.array,r=this.attributes;for(const l in r){const u=r[l],f=e(u,i);t.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let p=0,g=f.length;p<g;p++){const v=f[p],S=e(v,i);u.push(S)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const f=o[l];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],p=[];for(let g=0,v=f.length;g<v;g++){const S=f[g];p.push(S.toJSON(e.data))}p.length>0&&(r[u]=p,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const a=e.morphAttributes;for(const f in a){const p=[],g=a[f];for(let v=0,S=g.length;v<S;v++)p.push(g[v].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,p=o.length;f<p;f++){const g=o[f];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const NA=new Tn,Yd=new F0,d2=new Ua,UA=new _e,p2=new _e,m2=new _e,g2=new _e,AS=new _e,y2=new _e,LA=new _e,v2=new _e;class Vr extends Ci{constructor(e=new $n,t=new sh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(a&&l){y2.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const p=l[u],g=a[u];p!==0&&(AS.fromBufferAttribute(g,e),o?y2.addScaledVector(AS,p):y2.addScaledVector(AS.sub(t),p))}t.add(y2)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),d2.copy(i.boundingSphere),d2.applyMatrix4(a),Yd.copy(e.ray).recast(e.near),!(d2.containsPoint(Yd.origin)===!1&&(Yd.intersectSphere(d2,UA)===null||Yd.origin.distanceToSquared(UA)>(e.far-e.near)**2))&&(NA.copy(a).invert(),Yd.copy(e.ray).applyMatrix4(NA),!(i.boundingBox!==null&&Yd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Yd)))}_computeIntersections(e,t,i){let r;const a=this.geometry,o=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,S=a.drawRange;if(l!==null)if(Array.isArray(o))for(let T=0,A=v.length;T<A;T++){const w=v[T],E=o[w.materialIndex],L=Math.max(w.start,S.start),O=Math.min(l.count,Math.min(w.start+w.count,S.start+S.count));for(let N=L,z=O;N<z;N+=3){const I=l.getX(N),H=l.getX(N+1),W=l.getX(N+2);r=x2(this,E,e,i,f,p,g,I,H,W),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const T=Math.max(0,S.start),A=Math.min(l.count,S.start+S.count);for(let w=T,E=A;w<E;w+=3){const L=l.getX(w),O=l.getX(w+1),N=l.getX(w+2);r=x2(this,o,e,i,f,p,g,L,O,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(o))for(let T=0,A=v.length;T<A;T++){const w=v[T],E=o[w.materialIndex],L=Math.max(w.start,S.start),O=Math.min(u.count,Math.min(w.start+w.count,S.start+S.count));for(let N=L,z=O;N<z;N+=3){const I=N,H=N+1,W=N+2;r=x2(this,E,e,i,f,p,g,I,H,W),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const T=Math.max(0,S.start),A=Math.min(u.count,S.start+S.count);for(let w=T,E=A;w<E;w+=3){const L=w,O=w+1,N=w+2;r=x2(this,o,e,i,f,p,g,L,O,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}}}function oY(n,e,t,i,r,a,o,l){let u;if(e.side===bo?u=i.intersectTriangle(o,a,r,!0,l):u=i.intersectTriangle(r,a,o,e.side===nh,l),u===null)return null;v2.copy(l),v2.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(v2);return f<t.near||f>t.far?null:{distance:f,point:v2.clone(),object:n}}function x2(n,e,t,i,r,a,o,l,u,f){n.getVertexPosition(l,p2),n.getVertexPosition(u,m2),n.getVertexPosition(f,g2);const p=oY(n,e,t,i,p2,m2,g2,LA);if(p){const g=new _e;Yo.getBarycoord(LA,p2,m2,g2,g),r&&(p.uv=Yo.getInterpolatedAttribute(r,l,u,f,g,new Ct)),a&&(p.uv1=Yo.getInterpolatedAttribute(a,l,u,f,g,new Ct)),o&&(p.normal=Yo.getInterpolatedAttribute(o,l,u,f,g,new _e),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:u,c:f,normal:new _e,materialIndex:0};Yo.getNormal(p2,m2,g2,v.normal),p.face=v,p.barycoord=g}return p}class V0 extends $n{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const l=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const u=[],f=[],p=[],g=[];let v=0,S=0;T("z","y","x",-1,-1,i,t,e,o,a,0),T("z","y","x",1,-1,i,t,-e,o,a,1),T("x","z","y",1,1,e,i,t,r,o,2),T("x","z","y",1,-1,e,i,-t,r,o,3),T("x","y","z",1,-1,e,t,i,r,a,4),T("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new rn(f,3)),this.setAttribute("normal",new rn(p,3)),this.setAttribute("uv",new rn(g,2));function T(A,w,E,L,O,N,z,I,H,W,V){const U=N/H,Q=z/W,ee=N/2,te=z/2,oe=I/2,pe=H+1,j=W+1;let ae=0,le=0;const fe=new _e;for(let J=0;J<j;J++){const K=J*Q-te;for(let xe=0;xe<pe;xe++){const Me=xe*U-ee;fe[A]=Me*L,fe[w]=K*O,fe[E]=oe,f.push(fe.x,fe.y,fe.z),fe[A]=0,fe[w]=0,fe[E]=I>0?1:-1,p.push(fe.x,fe.y,fe.z),g.push(xe/H),g.push(1-J/W),ae+=1}}for(let J=0;J<W;J++)for(let K=0;K<H;K++){const xe=v+K+pe*J,Me=v+K+pe*(J+1),he=v+(K+1)+pe*(J+1),Te=v+(K+1)+pe*J;u.push(xe,Me,Te),u.push(Me,he,Te),le+=6}l.addGroup(S,le,V),S+=le,v+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new V0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Um(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function mo(n){const e={};for(let t=0;t<n.length;t++){const i=Um(n[t]);for(const r in i)e[r]=i[r]}return e}function lY(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function kD(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mi.workingColorSpace}const ty={clone:Um,merge:mo};var cY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class lc extends js{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=cY,this.fragmentShader=uY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Um(e.uniforms),this.uniformsGroups=lY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class y4 extends Ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Tn,this.projectionMatrix=new Tn,this.projectionMatrixInverse=new Tn,this.coordinateSystem=ac}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Zh=new _e,zA=new Ct,PA=new Ct;class Xr extends y4{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Om*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(w0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Om*2*Math.atan(Math.tan(w0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Zh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Zh.x,Zh.y).multiplyScalar(-e/Zh.z),Zh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Zh.x,Zh.y).multiplyScalar(-e/Zh.z)}getViewSize(e,t){return this.getViewBounds(e,zA,PA),t.subVectors(PA,zA)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(w0*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;a+=o.offsetX*r/u,t-=o.offsetY*i/f,r*=o.width/u,i*=o.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jp=-90,Wp=1;class FD extends Ci{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Xr(jp,Wp,e,t);r.layers=this.layers,this.add(r);const a=new Xr(jp,Wp,e,t);a.layers=this.layers,this.add(a);const o=new Xr(jp,Wp,e,t);o.layers=this.layers,this.add(o);const l=new Xr(jp,Wp,e,t);l.layers=this.layers,this.add(l);const u=new Xr(jp,Wp,e,t);u.layers=this.layers,this.add(u);const f=new Xr(jp,Wp,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,o,l,u]=t;for(const f of t)this.remove(f);if(e===ac)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===$g)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,u,f,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),T=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,l),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(g,v,S),e.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class Oy extends Qr{constructor(e=[],t=ih,i,r,a,o,l,u,f,p){super(e,t,i,r,a,o,l,u,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VD extends Fu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Oy(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new V0(5,5,5),a=new lc({name:"CubemapFromEquirect",uniforms:Um(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:bo,blending:Yf});a.uniforms.tEquirect.value=t;const o=new Vr(r,a),l=t.minFilter;return t.minFilter===Ru&&(t.minFilter=Sa),new FD(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}class hm extends Ci{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fY={type:"move"};class mx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new _e,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new _e),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new _e,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new _e),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const A of e.hand.values()){const w=t.getJointPose(A,i),E=this._getHandJoint(f,A);w!==null&&(E.matrix.fromArray(w.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=w.radius),E.visible=w!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],v=p.position.distanceTo(g.position),S=.02,T=.005;f.inputState.pinching&&v>S+T?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=S-T&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(fY)))}return l!==null&&(l.visible=r!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new hm;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class v4{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Qt(e),this.density=t}clone(){return new v4(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class x4{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Qt(e),this.near=t,this.far=i}clone(){return new x4(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class l6 extends Ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ol,this.environmentIntensity=1,this.environmentRotation=new Ol,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class b4{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Jg,this.updateRanges=[],this.version=0,this.uuid=Cl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ho=new _e;class wl{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ho.fromBufferAttribute(this,t),ho.applyMatrix4(e),this.setXYZ(t,ho.x,ho.y,ho.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ho.fromBufferAttribute(this,t),ho.applyNormalMatrix(e),this.setXYZ(t,ho.x,ho.y,ho.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ho.fromBufferAttribute(this,t),ho.transformDirection(e),this.setXYZ(t,ho.x,ho.y,ho.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Jn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),i=Jn(i,this.array),r=Jn(r,this.array),a=Jn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new lr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new wl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class c6 extends js{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Qt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qp;const V1=new _e,Xp=new _e,Yp=new _e,Kp=new Ct,H1=new Ct,HD=new Tn,b2=new _e,G1=new _e,S2=new _e,BA=new Ct,CS=new Ct,IA=new Ct;class GD extends Ci{constructor(e=new c6){if(super(),this.isSprite=!0,this.type="Sprite",qp===void 0){qp=new $n;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new b4(t,5);qp.setIndex([0,1,2,0,2,3]),qp.setAttribute("position",new wl(i,3,0,!1)),qp.setAttribute("uv",new wl(i,2,3,!1))}this.geometry=qp,this.material=e,this.center=new Ct(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xp.setFromMatrixScale(this.matrixWorld),HD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xp.multiplyScalar(-Yp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;_2(b2.set(-.5,-.5,0),Yp,o,Xp,r,a),_2(G1.set(.5,-.5,0),Yp,o,Xp,r,a),_2(S2.set(.5,.5,0),Yp,o,Xp,r,a),BA.set(0,0),CS.set(1,0),IA.set(1,1);let l=e.ray.intersectTriangle(b2,G1,S2,!1,V1);if(l===null&&(_2(G1.set(-.5,.5,0),Yp,o,Xp,r,a),CS.set(0,1),l=e.ray.intersectTriangle(b2,S2,G1,!1,V1),l===null))return;const u=e.ray.origin.distanceTo(V1);u<e.near||u>e.far||t.push({distance:u,point:V1.clone(),uv:Yo.getInterpolation(V1,b2,G1,S2,BA,CS,IA,new Ct),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _2(n,e,t,i,r,a){Kp.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(H1.x=a*Kp.x-r*Kp.y,H1.y=r*Kp.x+a*Kp.y):H1.copy(Kp),n.copy(e),n.x+=H1.x,n.y+=H1.y,n.applyMatrix4(HD)}const M2=new _e,kA=new _e;class jD extends Ci{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){M2.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(M2);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){M2.setFromMatrixPosition(e.matrixWorld),kA.setFromMatrixPosition(this.matrixWorld);const i=M2.distanceTo(kA)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const FA=new _e,VA=new ii,HA=new ii,hY=new _e,GA=new Tn,T2=new _e,RS=new Ua,jA=new Tn,DS=new F0;class WD extends Vr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=m5,this.bindMatrix=new Tn,this.bindMatrixInverse=new Tn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _a),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,T2),this.boundingBox.expandByPoint(T2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ua),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,T2),this.boundingSphere.expandByPoint(T2)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),RS.copy(this.boundingSphere),RS.applyMatrix4(r),e.ray.intersectsSphere(RS)!==!1&&(jA.copy(r).invert(),DS.copy(e.ray).applyMatrix4(jA),!(this.boundingBox!==null&&DS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,DS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ii,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===m5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===SD?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;VA.fromBufferAttribute(r.attributes.skinIndex,e),HA.fromBufferAttribute(r.attributes.skinWeight,e),FA.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=HA.getComponent(a);if(o!==0){const l=VA.getComponent(a);GA.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(hY.copy(FA).applyMatrix4(GA),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class u6 extends Ci{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bu extends Qr{constructor(e=null,t=1,i=1,r,a,o,l,u,f=Ss,p=Ss,g,v){super(null,o,l,u,f,p,r,a,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const WA=new Tn,dY=new Tn;class S4{constructor(e=[],t=[]){this.uuid=Cl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Tn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Tn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const l=e[a]?e[a].matrixWorld:dY;WA.multiplyMatrices(l,t[a]),WA.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new S4(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Bu(t,e,e,Vs,Zo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new u6),this.bones.push(o),this.boneInverses.push(new Tn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const l=i[r];e.boneInverses.push(l.toArray())}return e}}class z0 extends lr{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zp=new Tn,qA=new Tn,E2=[],XA=new _a,pY=new Tn,j1=new Vr,W1=new Ua;class qD extends Vr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new z0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,pY)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new _a),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Zp),XA.copy(e.boundingBox).applyMatrix4(Zp),this.boundingBox.union(XA)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ua),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Zp),W1.copy(e.boundingSphere).applyMatrix4(Zp),this.boundingSphere.union(W1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let l=0;l<i.length;l++)i[l]=r[o+l]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(j1.geometry=this.geometry,j1.material=this.material,j1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),W1.copy(this.boundingSphere),W1.applyMatrix4(i),e.ray.intersectsSphere(W1)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Zp),qA.multiplyMatrices(i,Zp),j1.matrixWorld=qA,j1.raycast(e,E2);for(let o=0,l=E2.length;o<l;o++){const u=E2[o];u.instanceId=a,u.object=this,t.push(u)}E2.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new z0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Bu(new Float32Array(r*this.count),r,this.count,f4,Zo));const a=this.morphTexture.source.data.data;let o=0;for(let f=0;f<i.length;f++)o+=i[f];const l=this.geometry.morphTargetsRelative?1:1-o,u=r*e;a[u]=l,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const OS=new _e,mY=new _e,gY=new jn;class Gf{constructor(e=new _e(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=OS.subVectors(i,t).cross(mY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(OS),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||gY.getNormalMatrix(e),r=this.coplanarPoint(OS).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kd=new Ua,w2=new _e;class Gm{constructor(e=new Gf,t=new Gf,i=new Gf,r=new Gf,a=new Gf,o=new Gf){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(r),l[4].copy(a),l[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ac){const i=this.planes,r=e.elements,a=r[0],o=r[1],l=r[2],u=r[3],f=r[4],p=r[5],g=r[6],v=r[7],S=r[8],T=r[9],A=r[10],w=r[11],E=r[12],L=r[13],O=r[14],N=r[15];if(i[0].setComponents(u-a,v-f,w-S,N-E).normalize(),i[1].setComponents(u+a,v+f,w+S,N+E).normalize(),i[2].setComponents(u+o,v+p,w+T,N+L).normalize(),i[3].setComponents(u-o,v-p,w-T,N-L).normalize(),i[4].setComponents(u-l,v-g,w-A,N-O).normalize(),t===ac)i[5].setComponents(u+l,v+g,w+A,N+O).normalize();else if(t===$g)i[5].setComponents(l,g,A,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Kd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Kd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Kd)}intersectsSprite(e){return Kd.center.set(0,0,0),Kd.radius=.7071067811865476,Kd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kd)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(w2.x=r.normal.x>0?e.max.x:e.min.x,w2.y=r.normal.y>0?e.max.y:e.min.y,w2.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(w2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Su=new Tn,_u=new Gm;class _4{constructor(){this.coordinateSystem=ac}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(Su,this.coordinateSystem),_u.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(Su,this.coordinateSystem),_u.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(Su,this.coordinateSystem),_u.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(Su,this.coordinateSystem),_u.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),_u.setFromProjectionMatrix(Su,this.coordinateSystem),_u.containsPoint(e))return!0}return!1}clone(){return new _4}}function NS(n,e){return n-e}function yY(n,e){return n.z-e.z}function vY(n,e){return e.z-n.z}class xY{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=e,l.count=t,l.z=i,l.index=r}reset(){this.list.length=0,this.index=0}}const Wo=new Tn,bY=new Qt(1,1,1),YA=new Gm,SY=new _4,A2=new _a,Zd=new Ua,q1=new _e,KA=new _e,_Y=new _e,US=new xY,Bs=new Vr,C2=[];function MY(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Qd(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class XD extends Vr{constructor(e,t,i=t*2,r){super(new $n,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Bu(t,e,e,Vs,Zo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Bu(t,e,e,Dy,rh);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Bu(t,e,e,Vs,Zo);i.colorSpace=Mi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:l,itemSize:u,normalized:f}=o,p=new l.constructor(i*u),g=new lr(p,u,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new lr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _a);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Wo),this.getBoundingBoxAt(a,A2).applyMatrix4(Wo),e.union(A2)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Wo),this.getBoundingSphereAt(a,Zd).applyMatrix4(Wo),e.union(Zd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(NS),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Wo.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(bY.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(NS),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),l=this._geometryInfo[e];if(r&&o.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const p in i.attributes){const g=t.getAttribute(p),v=i.getAttribute(p);MY(g,v,u);const S=g.itemSize;for(let T=g.count,A=f;T<A;T++){const w=u+T;for(let E=0;E<S;E++)v.setComponent(w,E,0)}v.needsUpdate=!0,v.addUpdateRange(u*S,f*S)}if(r){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let v=0;v<o.count;v++)a.setX(p+v,u+o.getX(v));for(let v=o.count,S=g;v<S;v++)a.setX(p+v,u);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),a=this.geometry;for(let o=0,l=i.length;o<l;o++){const u=r[o],f=i[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=f,S=a.index,T=S.array,A=e-g;for(let w=p;w<p+v;w++)T[w]=T[w]+A;S.array.copyWithin(t,p,p+v),S.addUpdateRange(t,v),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,v=a.attributes;for(const S in v){const T=v[S],{array:A,itemSize:w}=T;A.copyWithin(e*w,p*w,(p+g)*w),T.addUpdateRange(e*w,g*w)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new _a,o=i.index,l=i.attributes.position;for(let u=r.start,f=r.start+r.count;u<f;u++){let p=u;o&&(p=o.getX(p)),a.expandByPoint(q1.fromBufferAttribute(l,p))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Ua;this.getBoundingBoxAt(e,A2),A2.getCenter(a.center);const o=i.index,l=i.attributes.position;let u=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;o&&(g=o.getX(g)),q1.fromBufferAttribute(l,g),u=Math.max(u,a.center.distanceToSquared(q1))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(NS);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Qd(this._multiDrawCounts,r),Qd(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Qd(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Qd(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Qd(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new $n,this._initializeGeometry(a));const o=this.geometry;a.index&&Qd(a.index.array,o.index.array);for(const l in a.attributes)Qd(a.attributes[l].array,o.attributes[l].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Bs.material=this.material,Bs.geometry.index=o.index,Bs.geometry.attributes=o.attributes,Bs.geometry.boundingBox===null&&(Bs.geometry.boundingBox=new _a),Bs.geometry.boundingSphere===null&&(Bs.geometry.boundingSphere=new Ua);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const f=i[l].geometryIndex,p=r[f];Bs.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Bs.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,Bs.geometry.boundingBox),this.getBoundingSphereAt(f,Bs.geometry.boundingSphere),Bs.raycast(e,C2);for(let g=0,v=C2.length;g<v;g++){const S=C2[g];S.object=this,S.batchId=l,t.push(S)}C2.length=0}Bs.material=null,Bs.geometry.index=null,Bs.geometry.attributes={},Bs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,S=this._indirectTexture,T=S.image.data,A=i.isArrayCamera?SY:YA;v&&!i.isArrayCamera&&(Wo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),YA.setFromProjectionMatrix(Wo,e.coordinateSystem));let w=0;if(this.sortObjects){Wo.copy(this.matrixWorld).invert(),q1.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Wo),KA.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Wo);for(let O=0,N=u.length;O<N;O++)if(u[O].visible&&u[O].active){const z=u[O].geometryIndex;this.getMatrixAt(O,Wo),this.getBoundingSphereAt(z,Zd).applyMatrix4(Wo);let I=!1;if(v&&(I=!A.intersectsSphere(Zd,i)),!I){const H=g[z],W=_Y.subVectors(Zd.center,q1).dot(KA);US.push(H.start,H.count,W,O)}}const E=US.list,L=this.customSort;L===null?E.sort(a.transparent?vY:yY):L.call(this,E,i);for(let O=0,N=E.length;O<N;O++){const z=E[O];f[w]=z.start*l,p[w]=z.count,T[w]=z.index,w++}US.reset()}else for(let E=0,L=u.length;E<L;E++)if(u[E].visible&&u[E].active){const O=u[E].geometryIndex;let N=!1;if(v&&(this.getMatrixAt(E,Wo),this.getBoundingSphereAt(O,Zd).applyMatrix4(Wo),N=!A.intersectsSphere(Zd,i)),!N){const z=g[O];f[w]=z.start*l,p[w]=z.count,T[w]=E,w++}}S.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class So extends js{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Qt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Mb=new _e,Tb=new _e,ZA=new Tn,X1=new F0,R2=new Ua,LS=new _e,QA=new _e;let ld=class extends Ci{constructor(e=new $n,t=new So){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)Mb.fromBufferAttribute(t,r-1),Tb.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Mb.distanceTo(Tb);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),R2.copy(i.boundingSphere),R2.applyMatrix4(r),R2.radius+=a,e.ray.intersectsSphere(R2)===!1)return;ZA.copy(r).invert(),X1.copy(e.ray).applyMatrix4(ZA);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,p=i.index,v=i.attributes.position;if(p!==null){const S=Math.max(0,o.start),T=Math.min(p.count,o.start+o.count);for(let A=S,w=T-1;A<w;A+=f){const E=p.getX(A),L=p.getX(A+1),O=D2(this,e,X1,u,E,L,A);O&&t.push(O)}if(this.isLineLoop){const A=p.getX(T-1),w=p.getX(S),E=D2(this,e,X1,u,A,w,T-1);E&&t.push(E)}}else{const S=Math.max(0,o.start),T=Math.min(v.count,o.start+o.count);for(let A=S,w=T-1;A<w;A+=f){const E=D2(this,e,X1,u,A,A+1,A);E&&t.push(E)}if(this.isLineLoop){const A=D2(this,e,X1,u,T-1,S,T-1);A&&t.push(A)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function D2(n,e,t,i,r,a,o){const l=n.geometry.attributes.position;if(Mb.fromBufferAttribute(l,r),Tb.fromBufferAttribute(l,a),t.distanceSqToSegment(Mb,Tb,LS,QA)>i)return;LS.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(LS);if(!(f<e.near||f>e.far))return{distance:f,point:QA.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const JA=new _e,$A=new _e;class ju extends ld{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)JA.fromBufferAttribute(t,r),$A.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+JA.distanceTo($A);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YD extends ld{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class f6 extends js{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Qt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const e7=new Tn,v5=new F0,O2=new Ua,N2=new _e;class KD extends Ci{constructor(e=new $n,t=new f6){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),O2.copy(i.boundingSphere),O2.applyMatrix4(r),O2.radius+=a,e.ray.intersectsSphere(O2)===!1)return;e7.copy(r).invert(),v5.copy(e.ray).applyMatrix4(e7);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=i.index,g=i.attributes.position;if(f!==null){const v=Math.max(0,o.start),S=Math.min(f.count,o.start+o.count);for(let T=v,A=S;T<A;T++){const w=f.getX(T);N2.fromBufferAttribute(g,w),t7(N2,w,u,r,e,t,this)}}else{const v=Math.max(0,o.start),S=Math.min(g.count,o.start+o.count);for(let T=v,A=S;T<A;T++)N2.fromBufferAttribute(g,T),t7(N2,T,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const l=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function t7(n,e,t,i,r,a,o){const l=v5.distanceSqToPoint(n);if(l<t){const u=new _e;v5.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class ZD extends Qr{constructor(e,t,i,r,a=Sa,o=Sa,l,u,f){super(e,t,i,r,a,o,l,u,f),this.isVideoTexture=!0,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class TY extends ZD{constructor(e,t,i,r,a,o,l,u){super({},e,t,i,r,a,o,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class EY extends Qr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ss,this.minFilter=Ss,this.generateMipmaps=!1,this.needsUpdate=!0}}class M4 extends Qr{constructor(e,t,i,r,a,o,l,u,f,p,g,v){super(null,o,l,u,f,p,r,a,g,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wY extends M4{constructor(e,t,i,r,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=rc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class AY extends M4{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,ih),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CY extends Qr{constructor(e,t,i,r,a,o,l,u,f){super(e,t,i,r,a,o,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class h6 extends Qr{constructor(e,t,i=rh,r,a,o,l=Ss,u=Ss,f,p=Rm,g=1){if(p!==Rm&&p!==Dm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,r,a,o,l,u,p,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new td(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class T4 extends $n{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],l=[],u=[],f=[],p=t/2,g=Math.PI/2*e,v=t,S=2*g+v,T=i*2+a,A=r+1,w=new _e,E=new _e;for(let L=0;L<=T;L++){let O=0,N=0,z=0,I=0;if(L<=i){const V=L/i,U=V*Math.PI/2;N=-p-e*Math.cos(U),z=e*Math.sin(U),I=-e*Math.cos(U),O=V*g}else if(L<=i+a){const V=(L-i)/a;N=-p+V*t,z=e,I=0,O=g+V*v}else{const V=(L-i-a)/i,U=V*Math.PI/2;N=p+e*Math.sin(U),z=e*Math.cos(U),I=e*Math.sin(U),O=g+v+V*g}const H=Math.max(0,Math.min(1,O/S));let W=0;L===0?W=.5/r:L===T&&(W=-.5/r);for(let V=0;V<=r;V++){const U=V/r,Q=U*Math.PI*2,ee=Math.sin(Q),te=Math.cos(Q);E.x=-z*te,E.y=N,E.z=z*ee,l.push(E.x,E.y,E.z),w.set(-z*te,I,z*ee),w.normalize(),u.push(w.x,w.y,w.z),f.push(U+W,H)}if(L>0){const V=(L-1)*A;for(let U=0;U<r;U++){const Q=V+U,ee=V+U+1,te=L*A+U,oe=L*A+U+1;o.push(Q,ee,te),o.push(ee,oe,te)}}}this.setIndex(o),this.setAttribute("position",new rn(l,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T4(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class E4 extends $n{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],o=[],l=[],u=[],f=new _e,p=new Ct;o.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const S=i+g/t*r;f.x=e*Math.cos(S),f.y=e*Math.sin(S),o.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(o[v]/e+1)/2,p.y=(o[v+1]/e+1)/2,u.push(p.x,p.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new rn(o,3)),this.setAttribute("normal",new rn(l,3)),this.setAttribute("uv",new rn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E4(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ny extends $n{constructor(e=1,t=1,i=1,r=32,a=1,o=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:u};const f=this;r=Math.floor(r),a=Math.floor(a);const p=[],g=[],v=[],S=[];let T=0;const A=[],w=i/2;let E=0;L(),o===!1&&(e>0&&O(!0),t>0&&O(!1)),this.setIndex(p),this.setAttribute("position",new rn(g,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(S,2));function L(){const N=new _e,z=new _e;let I=0;const H=(t-e)/i;for(let W=0;W<=a;W++){const V=[],U=W/a,Q=U*(t-e)+e;for(let ee=0;ee<=r;ee++){const te=ee/r,oe=te*u+l,pe=Math.sin(oe),j=Math.cos(oe);z.x=Q*pe,z.y=-U*i+w,z.z=Q*j,g.push(z.x,z.y,z.z),N.set(pe,H,j).normalize(),v.push(N.x,N.y,N.z),S.push(te,1-U),V.push(T++)}A.push(V)}for(let W=0;W<r;W++)for(let V=0;V<a;V++){const U=A[V][W],Q=A[V+1][W],ee=A[V+1][W+1],te=A[V][W+1];(e>0||V!==0)&&(p.push(U,Q,te),I+=3),(t>0||V!==a-1)&&(p.push(Q,ee,te),I+=3)}f.addGroup(E,I,0),E+=I}function O(N){const z=T,I=new Ct,H=new _e;let W=0;const V=N===!0?e:t,U=N===!0?1:-1;for(let ee=1;ee<=r;ee++)g.push(0,w*U,0),v.push(0,U,0),S.push(.5,.5),T++;const Q=T;for(let ee=0;ee<=r;ee++){const oe=ee/r*u+l,pe=Math.cos(oe),j=Math.sin(oe);H.x=V*j,H.y=w*U,H.z=V*pe,g.push(H.x,H.y,H.z),v.push(0,U,0),I.x=pe*.5+.5,I.y=j*.5*U+.5,S.push(I.x,I.y),T++}for(let ee=0;ee<r;ee++){const te=z+ee,oe=Q+ee;N===!0?p.push(oe,oe+1,te):p.push(oe+1,oe,te),W+=3}f.addGroup(E,W,N===!0?1:2),E+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ny(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uy extends Ny{constructor(e=1,t=1,i=32,r=1,a=!1,o=0,l=Math.PI*2){super(0,e,t,i,r,a,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Uy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hd extends $n{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],o=[];l(r),f(i),p(),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(a.slice(),3)),this.setAttribute("uv",new rn(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(L){const O=new _e,N=new _e,z=new _e;for(let I=0;I<t.length;I+=3)S(t[I+0],O),S(t[I+1],N),S(t[I+2],z),u(O,N,z,L)}function u(L,O,N,z){const I=z+1,H=[];for(let W=0;W<=I;W++){H[W]=[];const V=L.clone().lerp(N,W/I),U=O.clone().lerp(N,W/I),Q=I-W;for(let ee=0;ee<=Q;ee++)ee===0&&W===I?H[W][ee]=V:H[W][ee]=V.clone().lerp(U,ee/Q)}for(let W=0;W<I;W++)for(let V=0;V<2*(I-W)-1;V++){const U=Math.floor(V/2);V%2===0?(v(H[W][U+1]),v(H[W+1][U]),v(H[W][U])):(v(H[W][U+1]),v(H[W+1][U+1]),v(H[W+1][U]))}}function f(L){const O=new _e;for(let N=0;N<a.length;N+=3)O.x=a[N+0],O.y=a[N+1],O.z=a[N+2],O.normalize().multiplyScalar(L),a[N+0]=O.x,a[N+1]=O.y,a[N+2]=O.z}function p(){const L=new _e;for(let O=0;O<a.length;O+=3){L.x=a[O+0],L.y=a[O+1],L.z=a[O+2];const N=w(L)/2/Math.PI+.5,z=E(L)/Math.PI+.5;o.push(N,1-z)}T(),g()}function g(){for(let L=0;L<o.length;L+=6){const O=o[L+0],N=o[L+2],z=o[L+4],I=Math.max(O,N,z),H=Math.min(O,N,z);I>.9&&H<.1&&(O<.2&&(o[L+0]+=1),N<.2&&(o[L+2]+=1),z<.2&&(o[L+4]+=1))}}function v(L){a.push(L.x,L.y,L.z)}function S(L,O){const N=L*3;O.x=e[N+0],O.y=e[N+1],O.z=e[N+2]}function T(){const L=new _e,O=new _e,N=new _e,z=new _e,I=new Ct,H=new Ct,W=new Ct;for(let V=0,U=0;V<a.length;V+=9,U+=6){L.set(a[V+0],a[V+1],a[V+2]),O.set(a[V+3],a[V+4],a[V+5]),N.set(a[V+6],a[V+7],a[V+8]),I.set(o[U+0],o[U+1]),H.set(o[U+2],o[U+3]),W.set(o[U+4],o[U+5]),z.copy(L).add(O).add(N).divideScalar(3);const Q=w(z);A(I,U+0,L,Q),A(H,U+2,O,Q),A(W,U+4,N,Q)}}function A(L,O,N,z){z<0&&L.x===1&&(o[O]=L.x-1),N.x===0&&N.z===0&&(o[O]=z/2/Math.PI+.5)}function w(L){return Math.atan2(L.z,-L.x)}function E(L){return Math.atan2(-L.y,Math.sqrt(L.x*L.x+L.z*L.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.vertices,e.indices,e.radius,e.details)}}class w4 extends hd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new w4(e.radius,e.detail)}}const U2=new _e,L2=new _e,zS=new _e,z2=new Yo;class QD extends $n{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(w0*t),o=e.getIndex(),l=e.getAttribute("position"),u=o?o.count:l.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),v={},S=[];for(let T=0;T<u;T+=3){o?(f[0]=o.getX(T),f[1]=o.getX(T+1),f[2]=o.getX(T+2)):(f[0]=T,f[1]=T+1,f[2]=T+2);const{a:A,b:w,c:E}=z2;if(A.fromBufferAttribute(l,f[0]),w.fromBufferAttribute(l,f[1]),E.fromBufferAttribute(l,f[2]),z2.getNormal(zS),g[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[2]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let L=0;L<3;L++){const O=(L+1)%3,N=g[L],z=g[O],I=z2[p[L]],H=z2[p[O]],W=`${N}_${z}`,V=`${z}_${N}`;V in v&&v[V]?(zS.dot(v[V].normal)<=a&&(S.push(I.x,I.y,I.z),S.push(H.x,H.y,H.z)),v[V]=null):W in v||(v[W]={index0:f[L],index1:f[O],normal:zS.clone()})}}for(const T in v)if(v[T]){const{index0:A,index1:w}=v[T];U2.fromBufferAttribute(l,A),L2.fromBufferAttribute(l,w),S.push(U2.x,U2.y,U2.z),S.push(L2.x,L2.y,L2.z)}this.setAttribute("position",new rn(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let l=0,u=a-1,f;for(;l<=u;)if(r=Math.floor(l+(u-l)/2),f=i[r]-o,f<0)l=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(a-1);const p=i[r],v=i[r+1]-p,S=(o-p)/v;return(r+S)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),l=this.getPoint(a),u=t||(o.isVector2?new Ct:new _e);return u.copy(l).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new _e,r=[],a=[],o=[],l=new _e,u=new Tn;for(let S=0;S<=e;S++){const T=S/e;r[S]=this.getTangentAt(T,new _e)}a[0]=new _e,o[0]=new _e;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),v<=f&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],l),o[0].crossVectors(r[0],a[0]);for(let S=1;S<=e;S++){if(a[S]=a[S-1].clone(),o[S]=o[S-1].clone(),l.crossVectors(r[S-1],r[S]),l.length()>Number.EPSILON){l.normalize();const T=Math.acos(Wn(r[S-1].dot(r[S]),-1,1));a[S].applyMatrix4(u.makeRotationAxis(l,T))}o[S].crossVectors(r[S],a[S])}if(t===!0){let S=Math.acos(Wn(a[0].dot(a[e]),-1,1));S/=e,r[0].dot(l.crossVectors(a[0],a[e]))>0&&(S=-S);for(let T=1;T<=e;T++)a[T].applyMatrix4(u.makeRotationAxis(r[T],S*T)),o[T].crossVectors(r[T],a[T])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class A4 extends Xc{constructor(e=0,t=0,i=1,r=1,a=0,o=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=u}getPoint(e,t=new Ct){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,S=f-this.aY;u=v*p-S*g+this.aX,f=v*g+S*p+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class JD extends A4{constructor(e,t,i,r,a,o){super(e,t,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function d6(){let n=0,e=0,t=0,i=0;function r(a,o,l,u){n=a,e=l,t=-3*a+3*o-2*l-u,i=2*a-2*o+l+u}return{initCatmullRom:function(a,o,l,u,f){r(o,l,f*(l-a),f*(u-o))},initNonuniformCatmullRom:function(a,o,l,u,f,p,g){let v=(o-a)/f-(l-a)/(f+p)+(l-o)/p,S=(l-o)/p-(u-o)/(p+g)+(u-l)/g;v*=p,S*=p,r(o,l,v,S)},calc:function(a){const o=a*a,l=o*a;return n+e*a+t*o+i*l}}}const P2=new _e,PS=new d6,BS=new d6,IS=new d6;class $D extends Xc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new _e){const i=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,p;this.closed||l>0?f=r[(l-1)%a]:(P2.subVectors(r[0],r[1]).add(r[0]),f=P2);const g=r[l%a],v=r[(l+1)%a];if(this.closed||l+2<a?p=r[(l+2)%a]:(P2.subVectors(r[a-1],r[a-2]).add(r[a-1]),p=P2),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let T=Math.pow(f.distanceToSquared(g),S),A=Math.pow(g.distanceToSquared(v),S),w=Math.pow(v.distanceToSquared(p),S);A<1e-4&&(A=1),T<1e-4&&(T=A),w<1e-4&&(w=A),PS.initNonuniformCatmullRom(f.x,g.x,v.x,p.x,T,A,w),BS.initNonuniformCatmullRom(f.y,g.y,v.y,p.y,T,A,w),IS.initNonuniformCatmullRom(f.z,g.z,v.z,p.z,T,A,w)}else this.curveType==="catmullrom"&&(PS.initCatmullRom(f.x,g.x,v.x,p.x,this.tension),BS.initCatmullRom(f.y,g.y,v.y,p.y,this.tension),IS.initCatmullRom(f.z,g.z,v.z,p.z,this.tension));return i.set(PS.calc(u),BS.calc(u),IS.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new _e().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function n7(n,e,t,i,r){const a=(i-e)*.5,o=(r-t)*.5,l=n*n,u=n*l;return(2*t-2*i+a+o)*u+(-3*t+3*i-2*a-o)*l+a*n+t}function RY(n,e){const t=1-n;return t*t*e}function DY(n,e){return 2*(1-n)*n*e}function OY(n,e){return n*n*e}function Tg(n,e,t,i){return RY(n,e)+DY(n,t)+OY(n,i)}function NY(n,e){const t=1-n;return t*t*t*e}function UY(n,e){const t=1-n;return 3*t*t*n*e}function LY(n,e){return 3*(1-n)*n*n*e}function zY(n,e){return n*n*n*e}function Eg(n,e,t,i,r){return NY(n,e)+UY(n,t)+LY(n,i)+zY(n,r)}class p6 extends Xc{constructor(e=new Ct,t=new Ct,i=new Ct,r=new Ct){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ct){const i=t,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(Eg(e,r.x,a.x,o.x,l.x),Eg(e,r.y,a.y,o.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eO extends Xc{constructor(e=new _e,t=new _e,i=new _e,r=new _e){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new _e){const i=t,r=this.v0,a=this.v1,o=this.v2,l=this.v3;return i.set(Eg(e,r.x,a.x,o.x,l.x),Eg(e,r.y,a.y,o.y,l.y),Eg(e,r.z,a.z,o.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class m6 extends Xc{constructor(e=new Ct,t=new Ct){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ct){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ct){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tO extends Xc{constructor(e=new _e,t=new _e){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new _e){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g6 extends Xc{constructor(e=new Ct,t=new Ct,i=new Ct){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ct){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(Tg(e,r.x,a.x,o.x),Tg(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y6 extends Xc{constructor(e=new _e,t=new _e,i=new _e){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new _e){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(Tg(e,r.x,a.x,o.x),Tg(e,r.y,a.y,o.y),Tg(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v6 extends Xc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ct){const i=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),l=a-o,u=r[o===0?o:o-1],f=r[o],p=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(n7(l,u.x,f.x,p.x,g.x),n7(l,u.y,f.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ct().fromArray(r))}return this}}var Eb=Object.freeze({__proto__:null,ArcCurve:JD,CatmullRomCurve3:$D,CubicBezierCurve:p6,CubicBezierCurve3:eO,EllipseCurve:A4,LineCurve:m6,LineCurve3:tO,QuadraticBezierCurve:g6,QuadraticBezierCurve3:y6,SplineCurve:v6});class nO extends Xc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Eb[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,l=this.curves[a],u=l.getLength(),f=u===0?0:1-o/u;return l.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(l);for(let f=0;f<u.length;f++){const p=u[f];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Eb[r.type]().fromJSON(r))}return this}}class wb extends nO{constructor(e){super(),this.type="Path",this.currentPoint=new Ct,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new m6(this.currentPoint.clone(),new Ct(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new g6(this.currentPoint.clone(),new Ct(e,t),new Ct(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,o){const l=new p6(this.currentPoint.clone(),new Ct(e,t),new Ct(i,r),new Ct(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new v6(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,t+u,i,r,a,o),this}absarc(e,t,i,r,a,o){return this.absellipse(e,t,i,i,r,a,o),this}ellipse(e,t,i,r,a,o,l,u){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,i,r,a,o,l,u),this}absellipse(e,t,i,r,a,o,l,u){const f=new A4(e,t,i,r,a,o,l,u);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class A0 extends wb{constructor(e){super(e),this.uuid=Cl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new wb().fromJSON(r))}return this}}function PY(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=iO(n,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let l,u,f;if(i&&(a=VY(n,e,a,t)),n.length>80*t){l=1/0,u=1/0;let p=-1/0,g=-1/0;for(let v=t;v<r;v+=t){const S=n[v],T=n[v+1];S<l&&(l=S),T<u&&(u=T),S>p&&(p=S),T>g&&(g=T)}f=Math.max(p-l,g-u),f=f!==0?32767/f:0}return ny(a,o,t,l,u,f,0),o}function iO(n,e,t,i,r){let a;if(r===JY(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=i7(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=i7(o/i|0,n[o],n[o+1],a);return a&&Lm(a,a.next)&&(ry(a),a=a.next),a}function P0(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Lm(t,t.next)||Kr(t.prev,t,t.next)===0)){if(ry(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ny(n,e,t,i,r,a,o){if(!n)return;!o&&a&&qY(n,i,r,a);let l=n;for(;n.prev!==n.next;){const u=n.prev,f=n.next;if(a?IY(n,i,r,a):BY(n)){e.push(u.i,n.i,f.i),ry(n),n=f.next,l=f.next;continue}if(n=f,n===l){o?o===1?(n=kY(P0(n),e),ny(n,e,t,i,r,a,2)):o===2&&FY(n,e,t,i,r,a):ny(P0(n),e,t,i,r,a,1);break}}}function BY(n){const e=n.prev,t=n,i=n.next;if(Kr(e,t,i)>=0)return!1;const r=e.x,a=t.x,o=i.x,l=e.y,u=t.y,f=i.y,p=Math.min(r,a,o),g=Math.min(l,u,f),v=Math.max(r,a,o),S=Math.max(l,u,f);let T=i.next;for(;T!==e;){if(T.x>=p&&T.x<=v&&T.y>=g&&T.y<=S&&ig(r,l,a,u,o,f,T.x,T.y)&&Kr(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function IY(n,e,t,i){const r=n.prev,a=n,o=n.next;if(Kr(r,a,o)>=0)return!1;const l=r.x,u=a.x,f=o.x,p=r.y,g=a.y,v=o.y,S=Math.min(l,u,f),T=Math.min(p,g,v),A=Math.max(l,u,f),w=Math.max(p,g,v),E=x5(S,T,e,t,i),L=x5(A,w,e,t,i);let O=n.prevZ,N=n.nextZ;for(;O&&O.z>=E&&N&&N.z<=L;){if(O.x>=S&&O.x<=A&&O.y>=T&&O.y<=w&&O!==r&&O!==o&&ig(l,p,u,g,f,v,O.x,O.y)&&Kr(O.prev,O,O.next)>=0||(O=O.prevZ,N.x>=S&&N.x<=A&&N.y>=T&&N.y<=w&&N!==r&&N!==o&&ig(l,p,u,g,f,v,N.x,N.y)&&Kr(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;O&&O.z>=E;){if(O.x>=S&&O.x<=A&&O.y>=T&&O.y<=w&&O!==r&&O!==o&&ig(l,p,u,g,f,v,O.x,O.y)&&Kr(O.prev,O,O.next)>=0)return!1;O=O.prevZ}for(;N&&N.z<=L;){if(N.x>=S&&N.x<=A&&N.y>=T&&N.y<=w&&N!==r&&N!==o&&ig(l,p,u,g,f,v,N.x,N.y)&&Kr(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function kY(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Lm(i,r)&&aO(i,t,t.next,r)&&iy(i,r)&&iy(r,i)&&(e.push(i.i,t.i,r.i),ry(t),ry(t.next),t=n=r),t=t.next}while(t!==n);return P0(t)}function FY(n,e,t,i,r,a){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&KY(o,l)){let u=sO(o,l);o=P0(o,o.next),u=P0(u,u.next),ny(o,e,t,i,r,a,0),ny(u,e,t,i,r,a,0);return}l=l.next}o=o.next}while(o!==n)}function VY(n,e,t,i){const r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a]*i,u=a<o-1?e[a+1]*i:n.length,f=iO(n,l,u,i,!1);f===f.next&&(f.steiner=!0),r.push(YY(f))}r.sort(HY);for(let a=0;a<r.length;a++)t=GY(r[a],t);return t}function HY(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function GY(n,e){const t=jY(n,e);if(!t)return e;const i=sO(t,n);return P0(i,i.next),P0(t,t.next)}function jY(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,o;if(Lm(n,t))return t;do{if(Lm(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const l=o,u=o.x,f=o.y;let p=1/0;t=o;do{if(i>=t.x&&t.x>=u&&i!==t.x&&rO(r<f?i:a,r,u,f,r<f?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);iy(t,n)&&(g<p||g===p&&(t.x>o.x||t.x===o.x&&WY(o,t)))&&(o=t,p=g)}t=t.next}while(t!==l);return o}function WY(n,e){return Kr(n.prev,n,e.prev)<0&&Kr(e.next,n,n.next)<0}function qY(n,e,t,i){let r=n;do r.z===0&&(r.z=x5(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,XY(r)}function XY(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let o=i,l=0;for(let f=0;f<t&&(l++,o=o.nextZ,!!o);f++);let u=t;for(;l>0||u>0&&o;)l!==0&&(u===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,l--):(r=o,o=o.nextZ,u--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,t*=2}while(e>1);return n}function x5(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function YY(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function rO(n,e,t,i,r,a,o,l){return(r-o)*(e-l)>=(n-o)*(a-l)&&(n-o)*(i-l)>=(t-o)*(e-l)&&(t-o)*(a-l)>=(r-o)*(i-l)}function ig(n,e,t,i,r,a,o,l){return!(n===o&&e===l)&&rO(n,e,t,i,r,a,o,l)}function KY(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ZY(n,e)&&(iy(n,e)&&iy(e,n)&&QY(n,e)&&(Kr(n.prev,n,e.prev)||Kr(n,e.prev,e))||Lm(n,e)&&Kr(n.prev,n,n.next)>0&&Kr(e.prev,e,e.next)>0)}function Kr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Lm(n,e){return n.x===e.x&&n.y===e.y}function aO(n,e,t,i){const r=I2(Kr(n,e,t)),a=I2(Kr(n,e,i)),o=I2(Kr(t,i,n)),l=I2(Kr(t,i,e));return!!(r!==a&&o!==l||r===0&&B2(n,t,e)||a===0&&B2(n,i,e)||o===0&&B2(t,n,i)||l===0&&B2(t,e,i))}function B2(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function I2(n){return n>0?1:n<0?-1:0}function ZY(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&aO(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function iy(n,e){return Kr(n.prev,n,n.next)<0?Kr(n,e,n.next)>=0&&Kr(n,n.prev,e)>=0:Kr(n,e,n.prev)<0||Kr(n,n.next,e)<0}function QY(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function sO(n,e){const t=b5(n.i,n.x,n.y),i=b5(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function i7(n,e,t,i){const r=b5(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ry(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function b5(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function JY(n,e,t,i){let r=0;for(let a=e,o=t-i;a<t;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class $Y{static triangulate(e,t,i=2){return PY(e,t,i)}}class Wc{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Wc.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];r7(e),a7(i,e);let o=e.length;t.forEach(r7);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,a7(i,t[u]);const l=$Y.triangulate(i,r);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function r7(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function a7(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class C4 extends $n{constructor(e=new A0([new Ct(.5,.5),new Ct(-.5,.5),new Ct(-.5,-.5),new Ct(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];o(f)}this.setAttribute("position",new rn(r,3)),this.setAttribute("uv",new rn(a,2)),this.computeVertexNormals();function o(l){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,S=t.bevelThickness!==void 0?t.bevelThickness:.2,T=t.bevelSize!==void 0?t.bevelSize:S-.1,A=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,L=t.UVGenerator!==void 0?t.UVGenerator:eK;let O,N=!1,z,I,H,W;E&&(O=E.getSpacedPoints(p),N=!0,v=!1,z=E.computeFrenetFrames(p,!1),I=new _e,H=new _e,W=new _e),v||(w=0,S=0,T=0,A=0);const V=l.extractPoints(f);let U=V.shape;const Q=V.holes;if(!Wc.isClockWise(U)){U=U.reverse();for(let ce=0,rt=Q.length;ce<rt;ce++){const tt=Q[ce];Wc.isClockWise(tt)&&(Q[ce]=tt.reverse())}}function te(ce){const tt=10000000000000001e-36;let Ze=ce[0];for(let Le=1;Le<=ce.length;Le++){const ct=Le%ce.length,We=ce[ct],Ie=We.x-Ze.x,ut=We.y-Ze.y,ue=Ie*Ie+ut*ut,$=Math.max(Math.abs(We.x),Math.abs(We.y),Math.abs(Ze.x),Math.abs(Ze.y)),be=tt*$*$;if(ue<=be){ce.splice(ct,1),Le--;continue}Ze=We}}te(U),Q.forEach(te);const oe=Q.length,pe=U;for(let ce=0;ce<oe;ce++){const rt=Q[ce];U=U.concat(rt)}function j(ce,rt,tt){return rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(rt,tt)}const ae=U.length;function le(ce,rt,tt){let Ze,Le,ct;const We=ce.x-rt.x,Ie=ce.y-rt.y,ut=tt.x-ce.x,ue=tt.y-ce.y,$=We*We+Ie*Ie,be=We*ue-Ie*ut;if(Math.abs(be)>Number.EPSILON){const De=Math.sqrt($),Re=Math.sqrt(ut*ut+ue*ue),Ne=rt.x-Ie/De,at=rt.y+We/De,nt=tt.x-ue/Re,vt=tt.y+ut/Re,Rt=((nt-Ne)*ue-(vt-at)*ut)/(We*ue-Ie*ut);Ze=Ne+We*Rt-ce.x,Le=at+Ie*Rt-ce.y;const Ye=Ze*Ze+Le*Le;if(Ye<=2)return new Ct(Ze,Le);ct=Math.sqrt(Ye/2)}else{let De=!1;We>Number.EPSILON?ut>Number.EPSILON&&(De=!0):We<-Number.EPSILON?ut<-Number.EPSILON&&(De=!0):Math.sign(Ie)===Math.sign(ue)&&(De=!0),De?(Ze=-Ie,Le=We,ct=Math.sqrt($)):(Ze=We,Le=Ie,ct=Math.sqrt($/2))}return new Ct(Ze/ct,Le/ct)}const fe=[];for(let ce=0,rt=pe.length,tt=rt-1,Ze=ce+1;ce<rt;ce++,tt++,Ze++)tt===rt&&(tt=0),Ze===rt&&(Ze=0),fe[ce]=le(pe[ce],pe[tt],pe[Ze]);const J=[];let K,xe=fe.concat();for(let ce=0,rt=oe;ce<rt;ce++){const tt=Q[ce];K=[];for(let Ze=0,Le=tt.length,ct=Le-1,We=Ze+1;Ze<Le;Ze++,ct++,We++)ct===Le&&(ct=0),We===Le&&(We=0),K[Ze]=le(tt[Ze],tt[ct],tt[We]);J.push(K),xe=xe.concat(K)}let Me;if(w===0)Me=Wc.triangulateShape(pe,Q);else{const ce=[],rt=[];for(let tt=0;tt<w;tt++){const Ze=tt/w,Le=S*Math.cos(Ze*Math.PI/2),ct=T*Math.sin(Ze*Math.PI/2)+A;for(let We=0,Ie=pe.length;We<Ie;We++){const ut=j(pe[We],fe[We],ct);yt(ut.x,ut.y,-Le),Ze===0&&ce.push(ut)}for(let We=0,Ie=oe;We<Ie;We++){const ut=Q[We];K=J[We];const ue=[];for(let $=0,be=ut.length;$<be;$++){const De=j(ut[$],K[$],ct);yt(De.x,De.y,-Le),Ze===0&&ue.push(De)}Ze===0&&rt.push(ue)}}Me=Wc.triangulateShape(ce,rt)}const he=Me.length,Te=T+A;for(let ce=0;ce<ae;ce++){const rt=v?j(U[ce],xe[ce],Te):U[ce];N?(H.copy(z.normals[0]).multiplyScalar(rt.x),I.copy(z.binormals[0]).multiplyScalar(rt.y),W.copy(O[0]).add(H).add(I),yt(W.x,W.y,W.z)):yt(rt.x,rt.y,0)}for(let ce=1;ce<=p;ce++)for(let rt=0;rt<ae;rt++){const tt=v?j(U[rt],xe[rt],Te):U[rt];N?(H.copy(z.normals[ce]).multiplyScalar(tt.x),I.copy(z.binormals[ce]).multiplyScalar(tt.y),W.copy(O[ce]).add(H).add(I),yt(W.x,W.y,W.z)):yt(tt.x,tt.y,g/p*ce)}for(let ce=w-1;ce>=0;ce--){const rt=ce/w,tt=S*Math.cos(rt*Math.PI/2),Ze=T*Math.sin(rt*Math.PI/2)+A;for(let Le=0,ct=pe.length;Le<ct;Le++){const We=j(pe[Le],fe[Le],Ze);yt(We.x,We.y,g+tt)}for(let Le=0,ct=Q.length;Le<ct;Le++){const We=Q[Le];K=J[Le];for(let Ie=0,ut=We.length;Ie<ut;Ie++){const ue=j(We[Ie],K[Ie],Ze);N?yt(ue.x,ue.y+O[p-1].y,O[p-1].x+tt):yt(ue.x,ue.y,g+tt)}}}ze(),Be();function ze(){const ce=r.length/3;if(v){let rt=0,tt=ae*rt;for(let Ze=0;Ze<he;Ze++){const Le=Me[Ze];Qe(Le[2]+tt,Le[1]+tt,Le[0]+tt)}rt=p+w*2,tt=ae*rt;for(let Ze=0;Ze<he;Ze++){const Le=Me[Ze];Qe(Le[0]+tt,Le[1]+tt,Le[2]+tt)}}else{for(let rt=0;rt<he;rt++){const tt=Me[rt];Qe(tt[2],tt[1],tt[0])}for(let rt=0;rt<he;rt++){const tt=Me[rt];Qe(tt[0]+ae*p,tt[1]+ae*p,tt[2]+ae*p)}}i.addGroup(ce,r.length/3-ce,0)}function Be(){const ce=r.length/3;let rt=0;ke(pe,rt),rt+=pe.length;for(let tt=0,Ze=Q.length;tt<Ze;tt++){const Le=Q[tt];ke(Le,rt),rt+=Le.length}i.addGroup(ce,r.length/3-ce,1)}function ke(ce,rt){let tt=ce.length;for(;--tt>=0;){const Ze=tt;let Le=tt-1;Le<0&&(Le=ce.length-1);for(let ct=0,We=p+w*2;ct<We;ct++){const Ie=ae*ct,ut=ae*(ct+1),ue=rt+Ze+Ie,$=rt+Le+Ie,be=rt+Le+ut,De=rt+Ze+ut;Je(ue,$,be,De)}}}function yt(ce,rt,tt){u.push(ce),u.push(rt),u.push(tt)}function Qe(ce,rt,tt){Xe(ce),Xe(rt),Xe(tt);const Ze=r.length/3,Le=L.generateTopUV(i,r,Ze-3,Ze-2,Ze-1);Mt(Le[0]),Mt(Le[1]),Mt(Le[2])}function Je(ce,rt,tt,Ze){Xe(ce),Xe(rt),Xe(Ze),Xe(rt),Xe(tt),Xe(Ze);const Le=r.length/3,ct=L.generateSideWallUV(i,r,Le-6,Le-3,Le-2,Le-1);Mt(ct[0]),Mt(ct[1]),Mt(ct[3]),Mt(ct[1]),Mt(ct[2]),Mt(ct[3])}function Xe(ce){r.push(u[ce*3+0]),r.push(u[ce*3+1]),r.push(u[ce*3+2])}function Mt(ce){a.push(ce.x),a.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return tK(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=t[e.shapes[a]];i.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Eb[r.type]().fromJSON(r)),new C4(i,e.options)}}const eK={generateTopUV:function(n,e,t,i,r){const a=e[t*3],o=e[t*3+1],l=e[i*3],u=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new Ct(a,o),new Ct(l,u),new Ct(f,p)]},generateSideWallUV:function(n,e,t,i,r,a){const o=e[t*3],l=e[t*3+1],u=e[t*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[r*3],S=e[r*3+1],T=e[r*3+2],A=e[a*3],w=e[a*3+1],E=e[a*3+2];return Math.abs(l-p)<Math.abs(o-f)?[new Ct(o,1-u),new Ct(f,1-g),new Ct(v,1-T),new Ct(A,1-E)]:[new Ct(l,1-u),new Ct(p,1-g),new Ct(S,1-T),new Ct(w,1-E)]}};function tK(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class R4 extends hd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new R4(e.radius,e.detail)}}class D4 extends $n{constructor(e=[new Ct(0,-.5),new Ct(.5,0),new Ct(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Wn(r,0,Math.PI*2);const a=[],o=[],l=[],u=[],f=[],p=1/t,g=new _e,v=new Ct,S=new _e,T=new _e,A=new _e;let w=0,E=0;for(let L=0;L<=e.length-1;L++)switch(L){case 0:w=e[L+1].x-e[L].x,E=e[L+1].y-e[L].y,S.x=E*1,S.y=-w,S.z=E*0,A.copy(S),S.normalize(),u.push(S.x,S.y,S.z);break;case e.length-1:u.push(A.x,A.y,A.z);break;default:w=e[L+1].x-e[L].x,E=e[L+1].y-e[L].y,S.x=E*1,S.y=-w,S.z=E*0,T.copy(S),S.x+=A.x,S.y+=A.y,S.z+=A.z,S.normalize(),u.push(S.x,S.y,S.z),A.copy(T)}for(let L=0;L<=t;L++){const O=i+L*p*r,N=Math.sin(O),z=Math.cos(O);for(let I=0;I<=e.length-1;I++){g.x=e[I].x*N,g.y=e[I].y,g.z=e[I].x*z,o.push(g.x,g.y,g.z),v.x=L/t,v.y=I/(e.length-1),l.push(v.x,v.y);const H=u[3*I+0]*N,W=u[3*I+1],V=u[3*I+0]*z;f.push(H,W,V)}}for(let L=0;L<t;L++)for(let O=0;O<e.length-1;O++){const N=O+L*e.length,z=N,I=N+e.length,H=N+e.length+1,W=N+1;a.push(z,I,W),a.push(H,W,I)}this.setIndex(a),this.setAttribute("position",new rn(o,3)),this.setAttribute("uv",new rn(l,2)),this.setAttribute("normal",new rn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D4(e.points,e.segments,e.phiStart,e.phiLength)}}class Ly extends hd{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ly(e.radius,e.detail)}}class oh extends $n{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,l=Math.floor(i),u=Math.floor(r),f=l+1,p=u+1,g=e/l,v=t/u,S=[],T=[],A=[],w=[];for(let E=0;E<p;E++){const L=E*v-o;for(let O=0;O<f;O++){const N=O*g-a;T.push(N,-L,0),A.push(0,0,1),w.push(O/l),w.push(1-E/u)}}for(let E=0;E<u;E++)for(let L=0;L<l;L++){const O=L+f*E,N=L+f*(E+1),z=L+1+f*(E+1),I=L+1+f*E;S.push(O,N,I),S.push(N,z,I)}this.setIndex(S),this.setAttribute("position",new rn(T,3)),this.setAttribute("normal",new rn(A,3)),this.setAttribute("uv",new rn(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oh(e.width,e.height,e.widthSegments,e.heightSegments)}}class O4 extends $n{constructor(e=.5,t=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const l=[],u=[],f=[],p=[];let g=e;const v=(t-e)/r,S=new _e,T=new Ct;for(let A=0;A<=r;A++){for(let w=0;w<=i;w++){const E=a+w/i*o;S.x=g*Math.cos(E),S.y=g*Math.sin(E),u.push(S.x,S.y,S.z),f.push(0,0,1),T.x=(S.x/t+1)/2,T.y=(S.y/t+1)/2,p.push(T.x,T.y)}g+=v}for(let A=0;A<r;A++){const w=A*(i+1);for(let E=0;E<i;E++){const L=E+w,O=L,N=L+i+1,z=L+i+2,I=L+1;l.push(O,N,I),l.push(N,z,I)}}this.setIndex(l),this.setAttribute("position",new rn(u,3)),this.setAttribute("normal",new rn(f,3)),this.setAttribute("uv",new rn(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O4(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class N4 extends $n{constructor(e=new A0([new Ct(0,.5),new Ct(-.5,-.5),new Ct(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],o=[];let l=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(l,u,p),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new rn(r,3)),this.setAttribute("normal",new rn(a,3)),this.setAttribute("uv",new rn(o,2));function f(p){const g=r.length/3,v=p.extractPoints(t);let S=v.shape;const T=v.holes;Wc.isClockWise(S)===!1&&(S=S.reverse());for(let w=0,E=T.length;w<E;w++){const L=T[w];Wc.isClockWise(L)===!0&&(T[w]=L.reverse())}const A=Wc.triangulateShape(S,T);for(let w=0,E=T.length;w<E;w++){const L=T[w];S=S.concat(L)}for(let w=0,E=S.length;w<E;w++){const L=S[w];r.push(L.x,L.y,0),a.push(0,0,1),o.push(L.x,L.y)}for(let w=0,E=A.length;w<E;w++){const L=A[w],O=L[0]+g,N=L[1]+g,z=L[2]+g;i.push(O,N,z),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return nK(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];i.push(o)}return new N4(i,e.curveSegments)}}function nK(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class zy extends $n{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(o+l,Math.PI);let f=0;const p=[],g=new _e,v=new _e,S=[],T=[],A=[],w=[];for(let E=0;E<=i;E++){const L=[],O=E/i;let N=0;E===0&&o===0?N=.5/t:E===i&&u===Math.PI&&(N=-.5/t);for(let z=0;z<=t;z++){const I=z/t;g.x=-e*Math.cos(r+I*a)*Math.sin(o+O*l),g.y=e*Math.cos(o+O*l),g.z=e*Math.sin(r+I*a)*Math.sin(o+O*l),T.push(g.x,g.y,g.z),v.copy(g).normalize(),A.push(v.x,v.y,v.z),w.push(I+N,1-O),L.push(f++)}p.push(L)}for(let E=0;E<i;E++)for(let L=0;L<t;L++){const O=p[E][L+1],N=p[E][L],z=p[E+1][L],I=p[E+1][L+1];(E!==0||o>0)&&S.push(O,N,I),(E!==i-1||u<Math.PI)&&S.push(N,z,I)}this.setIndex(S),this.setAttribute("position",new rn(T,3)),this.setAttribute("normal",new rn(A,3)),this.setAttribute("uv",new rn(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class U4 extends hd{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new U4(e.radius,e.detail)}}class L4 extends $n{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],f=[],p=new _e,g=new _e,v=new _e;for(let S=0;S<=i;S++)for(let T=0;T<=r;T++){const A=T/r*a,w=S/i*Math.PI*2;g.x=(e+t*Math.cos(w))*Math.cos(A),g.y=(e+t*Math.cos(w))*Math.sin(A),g.z=t*Math.sin(w),l.push(g.x,g.y,g.z),p.x=e*Math.cos(A),p.y=e*Math.sin(A),v.subVectors(g,p).normalize(),u.push(v.x,v.y,v.z),f.push(T/r),f.push(S/i)}for(let S=1;S<=i;S++)for(let T=1;T<=r;T++){const A=(r+1)*S+T-1,w=(r+1)*(S-1)+T-1,E=(r+1)*(S-1)+T,L=(r+1)*S+T;o.push(A,w,L),o.push(w,E,L)}this.setIndex(o),this.setAttribute("position",new rn(l,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L4(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class z4 extends $n{constructor(e=1,t=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],f=[],p=[],g=new _e,v=new _e,S=new _e,T=new _e,A=new _e,w=new _e,E=new _e;for(let O=0;O<=i;++O){const N=O/i*a*Math.PI*2;L(N,a,o,e,S),L(N+.01,a,o,e,T),w.subVectors(T,S),E.addVectors(T,S),A.crossVectors(w,E),E.crossVectors(A,w),A.normalize(),E.normalize();for(let z=0;z<=r;++z){const I=z/r*Math.PI*2,H=-t*Math.cos(I),W=t*Math.sin(I);g.x=S.x+(H*E.x+W*A.x),g.y=S.y+(H*E.y+W*A.y),g.z=S.z+(H*E.z+W*A.z),u.push(g.x,g.y,g.z),v.subVectors(g,S).normalize(),f.push(v.x,v.y,v.z),p.push(O/i),p.push(z/r)}}for(let O=1;O<=i;O++)for(let N=1;N<=r;N++){const z=(r+1)*(O-1)+(N-1),I=(r+1)*O+(N-1),H=(r+1)*O+N,W=(r+1)*(O-1)+N;l.push(z,I,W),l.push(I,H,W)}this.setIndex(l),this.setAttribute("position",new rn(u,3)),this.setAttribute("normal",new rn(f,3)),this.setAttribute("uv",new rn(p,2));function L(O,N,z,I,H){const W=Math.cos(O),V=Math.sin(O),U=z/N*O,Q=Math.cos(U);H.x=I*(2+Q)*.5*W,H.y=I*(2+Q)*V*.5,H.z=I*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z4(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class P4 extends $n{constructor(e=new y6(new _e(-1,-1,0),new _e(-1,1,0),new _e(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new _e,u=new _e,f=new Ct;let p=new _e;const g=[],v=[],S=[],T=[];A(),this.setIndex(T),this.setAttribute("position",new rn(g,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(S,2));function A(){for(let O=0;O<t;O++)w(O);w(a===!1?t:0),L(),E()}function w(O){p=e.getPointAt(O/t,p);const N=o.normals[O],z=o.binormals[O];for(let I=0;I<=r;I++){const H=I/r*Math.PI*2,W=Math.sin(H),V=-Math.cos(H);u.x=V*N.x+W*z.x,u.y=V*N.y+W*z.y,u.z=V*N.z+W*z.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=p.x+i*u.x,l.y=p.y+i*u.y,l.z=p.z+i*u.z,g.push(l.x,l.y,l.z)}}function E(){for(let O=1;O<=t;O++)for(let N=1;N<=r;N++){const z=(r+1)*(O-1)+(N-1),I=(r+1)*O+(N-1),H=(r+1)*O+N,W=(r+1)*(O-1)+N;T.push(z,I,W),T.push(I,H,W)}}function L(){for(let O=0;O<=t;O++)for(let N=0;N<=r;N++)f.x=O/t,f.y=N/r,S.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new P4(new Eb[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class x6 extends $n{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new _e,a=new _e;if(e.index!==null){const o=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,p=u.length;f<p;++f){const g=u[f],v=g.start,S=g.count;for(let T=v,A=v+S;T<A;T+=3)for(let w=0;w<3;w++){const E=l.getX(T+w),L=l.getX(T+(w+1)%3);r.fromBufferAttribute(o,E),a.fromBufferAttribute(o,L),s7(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let l=0,u=o.count/3;l<u;l++)for(let f=0;f<3;f++){const p=3*l+f,g=3*l+(f+1)%3;r.fromBufferAttribute(o,p),a.fromBufferAttribute(o,g),s7(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new rn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function s7(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var o7=Object.freeze({__proto__:null,BoxGeometry:V0,CapsuleGeometry:T4,CircleGeometry:E4,ConeGeometry:Uy,CylinderGeometry:Ny,DodecahedronGeometry:w4,EdgesGeometry:QD,ExtrudeGeometry:C4,IcosahedronGeometry:R4,LatheGeometry:D4,OctahedronGeometry:Ly,PlaneGeometry:oh,PolyhedronGeometry:hd,RingGeometry:O4,ShapeGeometry:N4,SphereGeometry:zy,TetrahedronGeometry:U4,TorusGeometry:L4,TorusKnotGeometry:z4,TubeGeometry:P4,WireframeGeometry:x6});class oO extends js{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Qt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class lO extends lc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class b6 extends js{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Qt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ol,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cO extends b6{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ct(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Qt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Qt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Qt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uO extends js{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Qt(16777215),this.specular=new Qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ol,this.combine=Ry,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fO extends js{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hO extends js{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dO extends js{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ol,this.combine=Ry,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B4 extends js{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ED,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class I4 extends js{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class pO extends js{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mO extends So{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function S0(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function gO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function yO(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function S5(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const l=t[a]*e;for(let u=0;u!==e;++u)r[o++]=n[l+u]}return r}function S6(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[r++];while(a!==void 0)}function iK(n,e,t,i,r=30){const a=n.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],p=f.getValueSize(),g=[],v=[];for(let S=0;S<f.times.length;++S){const T=f.times[S]*r;if(!(T<t||T>=i)){g.push(f.times[S]);for(let A=0;A<p;++A)v.push(f.values[S*p+A])}}g.length!==0&&(f.times=S0(g,f.times.constructor),f.values=S0(v,f.values.constructor),o.push(f))}a.tracks=o;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function rK(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let o=0;o<r;++o){const l=t.tracks[o],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(E){return E.name===l.name&&E.ValueTypeName===u});if(f===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const S=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=S/3);const T=l.times.length-1;let A;if(a<=l.times[0]){const E=p,L=g-p;A=l.values.slice(E,L)}else if(a>=l.times[T]){const E=T*g+p,L=E+g-p;A=l.values.slice(E,L)}else{const E=l.createInterpolant(),L=p,O=g-p;E.evaluate(a),A=E.resultBuffer.slice(L,O)}u==="quaternion"&&new Hs().fromArray(A).normalize().conjugate().toArray(A);const w=f.times.length;for(let E=0;E<w;++E){const L=E*S+v;if(u==="quaternion")Hs.multiplyQuaternionsFlat(f.values,L,A,0,f.values,L);else{const O=S-v*2;for(let N=0;N<O;++N)f.values[L+N]-=A[N]}}}return n.blendMode=t6,n}class aK{static convertArray(e,t){return S0(e,t)}static isTypedArray(e){return gO(e)}static getKeyframeOrder(e){return yO(e)}static sortedArray(e,t,i){return S5(e,t,i)}static flattenJSON(e,t,i,r){S6(e,t,i,r)}static subclip(e,t,i,r,a=30){return iK(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return rK(e,t,i,r)}}class Py{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let l=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=a)){const l=t[1];e<l&&(i=2,a=l);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const l=i+o>>>1;e<t[l]?o=l:i=l+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vO extends Py{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:x0,endingEnd:x0}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,l=r[a],u=r[o];if(l===void 0)switch(this.getSettings_().endingStart){case b0:a=e,l=2*t-i;break;case Zg:a=r.length-2,l=t+r[a]-r[a+1];break;default:a=e,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case b0:o=e,u=2*i-t;break;case Zg:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const f=(i-t)*.5,p=this.valueSize;this._weightPrev=f/(t-l),this._weightNext=f/(u-i),this._offsetPrev=a*p,this._offsetNext=o*p}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,S=this._weightNext,T=(i-t)/(r-t),A=T*T,w=A*T,E=-v*w+2*v*A-v*T,L=(1+v)*w+(-1.5-2*v)*A+(-.5+v)*T+1,O=(-1-S)*w+(1.5+S)*A+.5*T,N=S*w-S*A;for(let z=0;z!==l;++z)a[z]=E*o[p+z]+L*o[f+z]+O*o[u+z]+N*o[g+z];return a}}class _6 extends Py{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,p=(i-t)/(r-t),g=1-p;for(let v=0;v!==l;++v)a[v]=o[f+v]*g+o[u+v]*p;return a}}class xO extends Py{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class fc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=S0(t,this.TimeBufferType),this.values=S0(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:S0(e.times,Array),values:S0(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new xO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kg:t=this.InterpolantFactoryMethodDiscrete;break;case _b:t=this.InterpolantFactoryMethodLinear;break;case px:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kg;case this.InterpolantFactoryMethodLinear:return _b;case this.InterpolantFactoryMethodSmooth:return px}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,o),e=!1;break}o=u}if(r!==void 0&&gO(r))for(let l=0,u=r.length;l!==u;++l){const f=r[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===px,a=e.length-1;let o=1;for(let l=1;l<a;++l){let u=!1;const f=e[l],p=e[l+1];if(f!==p&&(l!==1||f!==e[0]))if(r)u=!0;else{const g=l*i,v=g-i,S=g+i;for(let T=0;T!==i;++T){const A=t[g+T];if(A!==t[v+T]||A!==t[S+T]){u=!0;break}}}if(u){if(l!==o){e[o]=e[l];const g=l*i,v=o*i;for(let S=0;S!==i;++S)t[v+S]=t[g+S]}++o}}if(a>0){e[o]=e[a];for(let l=a*i,u=o*i,f=0;f!==i;++f)t[u+f]=t[l+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}fc.prototype.ValueTypeName="";fc.prototype.TimeBufferType=Float32Array;fc.prototype.ValueBufferType=Float32Array;fc.prototype.DefaultInterpolation=_b;class H0 extends fc{constructor(e,t,i){super(e,t,i)}}H0.prototype.ValueTypeName="bool";H0.prototype.ValueBufferType=Array;H0.prototype.DefaultInterpolation=Kg;H0.prototype.InterpolantFactoryMethodLinear=void 0;H0.prototype.InterpolantFactoryMethodSmooth=void 0;class M6 extends fc{constructor(e,t,i,r){super(e,t,i,r)}}M6.prototype.ValueTypeName="color";class ay extends fc{constructor(e,t,i,r){super(e,t,i,r)}}ay.prototype.ValueTypeName="number";class bO extends Py{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(i-t)/(r-t);let f=e*l;for(let p=f+l;f!==p;f+=4)Hs.slerpFlat(a,0,o,f-l,o,f,u);return a}}class By extends fc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new bO(this.times,this.values,this.getValueSize(),e)}}By.prototype.ValueTypeName="quaternion";By.prototype.InterpolantFactoryMethodSmooth=void 0;class G0 extends fc{constructor(e,t,i){super(e,t,i)}}G0.prototype.ValueTypeName="string";G0.prototype.ValueBufferType=Array;G0.prototype.DefaultInterpolation=Kg;G0.prototype.InterpolantFactoryMethodLinear=void 0;G0.prototype.InterpolantFactoryMethodSmooth=void 0;class sy extends fc{constructor(e,t,i,r){super(e,t,i,r)}}sy.prototype.ValueTypeName="vector";class oy{constructor(e="",t=-1,i=[],r=p4){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Cl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,l=i.length;o!==l;++o)t.push(oK(i[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(fc.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,o=[];for(let l=0;l<a;l++){let u=[],f=[];u.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const p=yO(u);u=S5(u,1,p),f=S5(f,1,p),!r&&u[0]===0&&(u.push(a),f.push(f[0])),o.push(new ay(".morphTargetInfluences["+t[l].name+"]",u,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const f=e[l],p=f.name.match(a);if(p&&p.length>1){const g=p[1];let v=r[g];v||(r[g]=v=[]),v.push(f)}}const o=[];for(const l in r)o.push(this.CreateFromMorphTargetSequence(l,r[l],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,S,T,A){if(S.length!==0){const w=[],E=[];S6(S,w,E,T),w.length!==0&&A.push(new g(v,w,E))}},r=[],a=e.name||"default",o=e.fps||30,l=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const v=f[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const S={};let T;for(T=0;T<v.length;T++)if(v[T].morphTargets)for(let A=0;A<v[T].morphTargets.length;A++)S[v[T].morphTargets[A]]=-1;for(const A in S){const w=[],E=[];for(let L=0;L!==v[T].morphTargets.length;++L){const O=v[T];w.push(O.time),E.push(O.morphTarget===A?1:0)}r.push(new ay(".morphTargetInfluence["+A+"]",w,E))}u=S.length*o}else{const S=".bones["+t[g].name+"]";i(sy,S+".position",v,"pos",r),i(By,S+".quaternion",v,"rot",r),i(sy,S+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ay;case"vector":case"vector2":case"vector3":case"vector4":return sy;case"color":return M6;case"quaternion":return By;case"bool":case"boolean":return H0;case"string":return G0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function oK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sK(n.type);if(n.times===void 0){const t=[],i=[];S6(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const qf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class T6{constructor(e,t,i){const r=this;let a=!1,o=0,l=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){l++,a===!1&&r.onStart!==void 0&&r.onStart(p,o,l),a=!0},this.itemEnd=function(p){o++,r.onProgress!==void 0&&r.onProgress(p,o,l),o===l&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return u?u(p):p},this.setURLModifier=function(p){return u=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=f.length;g<v;g+=2){const S=f[g],T=f[g+1];if(S.global&&(S.lastIndex=0),S.test(p))return T}return null}}}const SO=new T6;class Jo{constructor(e){this.manager=e!==void 0?e:SO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Jo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ff={};class lK extends Error{constructor(e,t){super(e),this.response=t}}class ah extends Jo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=qf.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Ff[e]!==void 0){Ff[e].push({onLoad:t,onProgress:i,onError:r});return}Ff[e]=[],Ff[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Ff[e],g=f.body.getReader(),v=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),S=v?parseInt(v):0,T=S!==0;let A=0;const w=new ReadableStream({start(E){L();function L(){g.read().then(({done:O,value:N})=>{if(O)E.close();else{A+=N.byteLength;const z=new ProgressEvent("progress",{lengthComputable:T,loaded:A,total:S});for(let I=0,H=p.length;I<H;I++){const W=p[I];W.onProgress&&W.onProgress(z)}E.enqueue(N),L()}},O=>{E.error(O)})}}});return new Response(w)}else throw new lK(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return f.json();default:if(l==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,S=new TextDecoder(v);return f.arrayBuffer().then(T=>S.decode(T))}}}).then(f=>{qf.add(e,f);const p=Ff[e];delete Ff[e];for(let g=0,v=p.length;g<v;g++){const S=p[g];S.onLoad&&S.onLoad(f)}}).catch(f=>{const p=Ff[e];if(p===void 0)throw this.manager.itemError(e),f;delete Ff[e];for(let g=0,v=p.length;g<v;g++){const S=p[g];S.onError&&S.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class cK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ah(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=oy.parse(e[i]);t.push(r)}return t}}class uK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=[],l=new M4,u=new ah(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function p(g){u.load(e[g],function(v){const S=a.parse(v,!0);o[g]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},f+=1,f===6&&(S.mipmapCount===1&&(l.minFilter=Sa),l.image=o,l.format=S.format,l.needsUpdate=!0,t&&t(l))},i,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else u.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const S=v.mipmaps.length/v.mipmapCount;for(let T=0;T<S;T++){o[T]={mipmaps:[]};for(let A=0;A<v.mipmapCount;A++)o[T].mipmaps.push(v.mipmaps[T*v.mipmapCount+A]),o[T].format=v.format,o[T].width=v.width,o[T].height=v.height}l.image=o}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Sa),l.format=v.format,l.needsUpdate=!0,t&&t(l)},i,r);return l}}class ly extends Jo{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=qf.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const l=ey("img");function u(){p(),qf.add(e,this),t&&t(this),a.manager.itemEnd(e)}function f(g){p(),r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",u,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class fK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=new Oy;a.colorSpace=ks;const o=new ly(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(f){o.load(e[f],function(p){a.images[f]=p,l++,l===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return a}}class hK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new Bu,l=new ah(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let f;try{f=a.parse(u)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:rc,o.wrapT=f.wrapT!==void 0?f.wrapT:rc,o.magFilter=f.magFilter!==void 0?f.magFilter:Sa,o.minFilter=f.minFilter!==void 0?f.minFilter:Sa,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(o.colorSpace=f.colorSpace),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Ru),f.mipmapCount===1&&(o.minFilter=Sa),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f)},i,r),o}}class dK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=new Qr,o=new ly(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class dd extends Ci{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Qt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class _O extends dd{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ci.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Qt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const kS=new Tn,l7=new _e,c7=new _e;class E6{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ct(512,512),this.mapType=oc,this.map=null,this.mapPass=null,this.matrix=new Tn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gm,this._frameExtents=new Ct(1,1),this._viewportCount=1,this._viewports=[new ii(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;l7.setFromMatrixPosition(e.matrixWorld),t.position.copy(l7),c7.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(c7),t.updateMatrixWorld(),kS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kS),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(kS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pK extends E6{constructor(){super(new Xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Om*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class MO extends dd{constructor(e,t,i=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ci.DEFAULT_UP),this.updateMatrix(),this.target=new Ci,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new pK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const u7=new Tn,Y1=new _e,FS=new _e;class mK extends E6{constructor(){super(new Xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ct(4,2),this._viewportCount=6,this._viewports=[new ii(2,1,1,1),new ii(0,1,1,1),new ii(3,1,1,1),new ii(1,1,1,1),new ii(3,0,1,1),new ii(1,0,1,1)],this._cubeDirections=[new _e(1,0,0),new _e(-1,0,0),new _e(0,0,1),new _e(0,0,-1),new _e(0,1,0),new _e(0,-1,0)],this._cubeUps=[new _e(0,1,0),new _e(0,1,0),new _e(0,1,0),new _e(0,1,0),new _e(0,0,1),new _e(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Y1.setFromMatrixPosition(e.matrixWorld),i.position.copy(Y1),FS.copy(i.position),FS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(FS),i.updateMatrixWorld(),r.makeTranslation(-Y1.x,-Y1.y,-Y1.z),u7.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u7)}}class TO extends dd{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Iu extends y4{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,l=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,o=a+f*this.view.width,l-=p*this.view.offsetY,u=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class gK extends E6{constructor(){super(new Iu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EO extends dd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ci.DEFAULT_UP),this.updateMatrix(),this.target=new Ci,this.shadow=new gK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wO extends dd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class AO extends dd{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class CO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new _e)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class RO extends dd{constructor(e=new CO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class k4 extends Jo{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,o=new ah(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Qt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new Qt().setHex(o.value);break;case"v2":r.uniforms[a].value=new Ct().fromArray(o.value);break;case"v3":r.uniforms[a].value=new _e().fromArray(o.value);break;case"v4":r.uniforms[a].value=new ii().fromArray(o.value);break;case"m3":r.uniforms[a].value=new jn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Tn().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ct().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ct().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return k4.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:oO,SpriteMaterial:c6,RawShaderMaterial:lO,ShaderMaterial:lc,PointsMaterial:f6,MeshPhysicalMaterial:cO,MeshStandardMaterial:b6,MeshPhongMaterial:uO,MeshToonMaterial:fO,MeshNormalMaterial:hO,MeshLambertMaterial:dO,MeshDepthMaterial:B4,MeshDistanceMaterial:I4,MeshBasicMaterial:sh,MeshMatcapMaterial:pO,LineDashedMaterial:mO,LineBasicMaterial:So,Material:js};return new t[e]}}class _5{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class F4 extends $n{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class DO extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ah(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(JSON.parse(l)))}catch(u){r?r(u):console.error(u),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(S,T){if(t[T]!==void 0)return t[T];const w=S.interleavedBuffers[T],E=a(S,w.buffer),L=fm(w.type,E),O=new b4(L,w.stride);return O.uuid=w.uuid,t[T]=O,O}function a(S,T){if(i[T]!==void 0)return i[T];const w=S.arrayBuffers[T],E=new Uint32Array(w).buffer;return i[T]=E,E}const o=e.isInstancedBufferGeometry?new F4:new $n,l=e.data.index;if(l!==void 0){const S=fm(l.type,l.array);o.setIndex(new lr(S,1))}const u=e.data.attributes;for(const S in u){const T=u[S];let A;if(T.isInterleavedBufferAttribute){const w=r(e.data,T.data);A=new wl(w,T.itemSize,T.offset,T.normalized)}else{const w=fm(T.type,T.array),E=T.isInstancedBufferAttribute?z0:lr;A=new E(w,T.itemSize,T.normalized)}T.name!==void 0&&(A.name=T.name),T.usage!==void 0&&A.setUsage(T.usage),o.setAttribute(S,A)}const f=e.data.morphAttributes;if(f)for(const S in f){const T=f[S],A=[];for(let w=0,E=T.length;w<E;w++){const L=T[w];let O;if(L.isInterleavedBufferAttribute){const N=r(e.data,L.data);O=new wl(N,L.itemSize,L.offset,L.normalized)}else{const N=fm(L.type,L.array);O=new lr(N,L.itemSize,L.normalized)}L.name!==void 0&&(O.name=L.name),A.push(O)}o.morphAttributes[S]=A}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let S=0,T=g.length;S!==T;++S){const A=g[S];o.addGroup(A.start,A.count,A.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(o.boundingSphere=new Ua().fromJSON(v)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=this.path===""?_5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new ah(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?_5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new ah(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),l=JSON.parse(o),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(l)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),l=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,u,l,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),t!==void 0){let g=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,l,o,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new A0().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=new S4().fromJSON(e[a],r);i[l.uuid]=l}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new DO;for(let a=0,o=e.length;a<o;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(u);break;default:u.type in o7?l=o7[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new k4;a.setTextures(t);for(let o=0,l=e.length;o<l;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=oy.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function o(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const f=u,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(p)}else return u.data?{data:fm(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new T6(t);a=new ly(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],v=g.url;if(Array.isArray(v)){const S=[];for(let T=0,A=v.length;T<A;T++){const w=v[T],E=l(w);E!==null&&(E instanceof HTMLImageElement?S.push(E):S.push(new Bu(E.data,E.width,E.height)))}r[g.uuid]=new td(S)}else{const S=l(g.url);r[g.uuid]=new td(S)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(o){if(typeof o=="string"){const l=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(u)}else return o.data?{data:fm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new ly(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const u=e[o],f=u.url;if(Array.isArray(f)){const p=[];for(let g=0,v=f.length;g<v;g++){const S=f[g],T=await a(S);T!==null&&(T instanceof HTMLImageElement?p.push(T):p.push(new Bu(T.data,T.width,T.height)))}i[u.uuid]=new td(p)}else{const p=await a(u.url);i[u.uuid]=new td(p)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=t[l.image],f=u.data;let p;Array.isArray(f)?(p=new Oy,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Bu:p=new Qr,f&&(p.needsUpdate=!0)),p.source=u,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=i(l.mapping,vK)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=i(l.wrap[0],f7),p.wrapT=i(l.wrap[1],f7)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=i(l.minFilter,h7)),l.magFilter!==void 0&&(p.magFilter=i(l.magFilter,h7)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,i,r,a){let o;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const S=[];for(let T=0,A=v.length;T<A;T++){const w=v[T];i[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),S.push(i[w])}return S}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function f(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let p,g;switch(e.type){case"Scene":o=new l6,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Qt(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new x4(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new v4(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Iu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new wO(e.color,e.intensity);break;case"DirectionalLight":o=new EO(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new TO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new AO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new MO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new _O(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new RO().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=u(e.material),o=new WD(p,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=u(e.material),o=new Vr(p,g);break;case"InstancedMesh":p=l(e.geometry),g=u(e.material);const v=e.count,S=e.instanceMatrix,T=e.instanceColor;o=new qD(p,g,v),o.instanceMatrix=new z0(new Float32Array(S.array),16),T!==void 0&&(o.instanceColor=new z0(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=u(e.material),o=new XD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=p,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(A=>{let w=null,E=null;return A.boundingBox!==void 0&&(w=new _a().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(E=new Ua().fromJSON(A.boundingSphere)),{...A,boundingBox:w,boundingSphere:E}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=f(e.matricesTexture.uuid),o._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Ua().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new _a().fromJSON(e.boundingBox));break;case"LOD":o=new jD;break;case"Line":o=new ld(l(e.geometry),u(e.material));break;case"LineLoop":o=new YD(l(e.geometry),u(e.material));break;case"LineSegments":o=new ju(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new KD(l(e.geometry),u(e.material));break;case"Sprite":o=new GD(u(e.material));break;case"Group":o=new hm;break;case"Bone":o=new u6;break;default:o=new Ci}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let S=0;S<v.length;S++)o.add(this.parseObject(v[S],t,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let S=0;S<v.length;S++){const T=v[S];o.animations.push(a[T])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let S=0;S<v.length;S++){const T=v[S],A=o.getObjectByProperty("uuid",T.object);A!==void 0&&o.addLevel(A,T.distance,T.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Ci}})}}const vK={UVMapping:o4,CubeReflectionMapping:ih,CubeRefractionMapping:sd,EquirectangularReflectionMapping:Wg,EquirectangularRefractionMapping:qg,CubeUVReflectionMapping:Vm},f7={RepeatWrapping:Xg,ClampToEdgeWrapping:rc,MirroredRepeatWrapping:Yg},h7={NearestFilter:Ss,NearestMipmapNearestFilter:XM,NearestMipmapLinearFilter:um,LinearFilter:Sa,LinearMipmapNearestFilter:yg,LinearMipmapLinearFilter:Ru},VS=new WeakMap;class xK extends Jo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=qf.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(f=>{if(VS.has(o)===!0)r&&r(VS.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return qf.add(e,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),VS.set(u,f),qf.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});qf.add(e,u),a.manager.itemStart(e)}}let k2;class w6{static getContext(){return k2===void 0&&(k2=new(window.AudioContext||window.webkitAudioContext)),k2}static setContext(e){k2=e}}class bK extends Jo{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ah(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const f=u.slice(0);w6.getContext().decodeAudioData(f,function(g){t(g)}).catch(l)}catch(f){l(f)}},i,r);function l(u){r?r(u):console.error(u),a.manager.itemError(e)}}}const d7=new Tn,p7=new Tn,Jd=new Tn;class SK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Jd.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(w0*t.fov*.5)/t.zoom;let l,u;p7.elements[12]=-r,d7.elements[12]=r,l=-o*t.aspect+a,u=o*t.aspect+a,Jd.elements[0]=2*t.near/(u-l),Jd.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Jd),l=-o*t.aspect-a,u=o*t.aspect-a,Jd.elements[0]=2*t.near/(u-l),Jd.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Jd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(p7),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(d7)}}class OO extends Xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class A6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=m7(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=m7();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function m7(){return performance.now()}const $d=new _e,HS=new Hs,_K=new _e,e0=new _e,t0=new _e;class MK extends Ci{constructor(){super(),this.type="AudioListener",this.context=w6.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new A6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose($d,HS,_K),e0.set(0,0,-1).applyQuaternion(HS),t0.set(0,1,0).applyQuaternion(HS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime($d.x,i),t.positionY.linearRampToValueAtTime($d.y,i),t.positionZ.linearRampToValueAtTime($d.z,i),t.forwardX.linearRampToValueAtTime(e0.x,i),t.forwardY.linearRampToValueAtTime(e0.y,i),t.forwardZ.linearRampToValueAtTime(e0.z,i),t.upX.linearRampToValueAtTime(t0.x,i),t.upY.linearRampToValueAtTime(t0.y,i),t.upZ.linearRampToValueAtTime(t0.z,i)}else t.setPosition($d.x,$d.y,$d.z),t.setOrientation(e0.x,e0.y,e0.z,t0.x,t0.y,t0.z)}}class NO extends Ci{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const n0=new _e,g7=new Hs,TK=new _e,i0=new _e;class EK extends NO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(n0,g7,TK),i0.set(0,0,1).applyQuaternion(g7);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(n0.x,i),t.positionY.linearRampToValueAtTime(n0.y,i),t.positionZ.linearRampToValueAtTime(n0.z,i),t.orientationX.linearRampToValueAtTime(i0.x,i),t.orientationY.linearRampToValueAtTime(i0.y,i),t.orientationZ.linearRampToValueAtTime(i0.z,i)}else t.setPosition(n0.x,n0.y,n0.z),t.setOrientation(i0.x,i0.y,i0.z)}}class wK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class UO{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==r;++l)i[a+l]=i[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(i,a,0,l,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){l.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,o=r;a!==o;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Hs.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const o=this._workIndex*a;Hs.multiplyQuaternionsFlat(e,o,e,t,e,i),Hs.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,a){const o=1-r;for(let l=0;l!==a;++l){const u=t+l;e[u]=e[u]*o+e[i+l]*r}}_lerpAdditive(e,t,i,r,a){for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]+e[i+o]*r}}}const C6="\\[\\]\\.:\\/",AK=new RegExp("["+C6+"]","g"),R6="[^"+C6+"]",CK="[^"+C6.replace("\\.","")+"]",RK=/((?:WC+[\/:])*)/.source.replace("WC",R6),DK=/(WCOD+)?/.source.replace("WCOD",CK),OK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",R6),NK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",R6),UK=new RegExp("^"+RK+DK+OK+NK+"$"),LK=["material","materials","bones","map"];class zK{constructor(e,t,i){const r=i||Ai.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ai{constructor(e,t,i){this.path=t,this.parsedPath=i||Ai.parseTrackName(t),this.node=Ai.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ai.Composite(e,t,i):new Ai(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(AK,"")}static parseTrackName(e){const t=UK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);LK.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===t||l.uuid===t)return l;const u=i(l.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Ai.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ai.Composite=zK;Ai.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ai.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ai.prototype.GetterByBindingType=[Ai.prototype._getValue_direct,Ai.prototype._getValue_array,Ai.prototype._getValue_arrayElement,Ai.prototype._getValue_toArray];Ai.prototype.SetterByBindingTypeAndVersioning=[[Ai.prototype._setValue_direct,Ai.prototype._setValue_direct_setNeedsUpdate,Ai.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ai.prototype._setValue_array,Ai.prototype._setValue_array_setNeedsUpdate,Ai.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ai.prototype._setValue_arrayElement,Ai.prototype._setValue_arrayElement_setNeedsUpdate,Ai.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ai.prototype._setValue_fromArray,Ai.prototype._setValue_fromArray_setNeedsUpdate,Ai.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class PK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let l,u=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],S=v.uuid;let T=t[S];if(T===void 0){T=u++,t[S]=T,e.push(v);for(let A=0,w=o;A!==w;++A)a[A].push(new Ai(v,i[A],r[A]))}else if(T<f){l=e[T];const A=--f,w=e[A];t[w.uuid]=T,e[T]=w,t[S]=A,e[A]=v;for(let E=0,L=o;E!==L;++E){const O=a[E],N=O[A];let z=O[T];O[T]=N,z===void 0&&(z=new Ai(v,i[E],r[E])),O[A]=z}}else e[T]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],f=u.uuid,p=t[f];if(p!==void 0&&p>=a){const g=a++,v=e[g];t[v.uuid]=p,e[p]=v,t[f]=g,e[g]=u;for(let S=0,T=r;S!==T;++S){const A=i[S],w=A[g],E=A[p];A[p]=w,A[g]=E}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let l=0,u=arguments.length;l!==u;++l){const f=arguments[l],p=f.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<a){const v=--a,S=e[v],T=--o,A=e[T];t[S.uuid]=g,e[g]=S,t[A.uuid]=v,e[v]=A,e.pop();for(let w=0,E=r;w!==E;++w){const L=i[w],O=L[v],N=L[T];L[g]=O,L[v]=N,L.pop()}}else{const v=--o,S=e[v];v>0&&(t[S.uuid]=g),e[g]=S,e.pop();for(let T=0,A=r;T!==A;++T){const w=i[T];w[g]=w[v],w.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,l=this._parsedPaths,u=this._objects,f=u.length,p=this.nCachedObjects_,g=new Array(f);r=a.length,i[e]=r,o.push(e),l.push(t),a.push(g);for(let v=p,S=u.length;v!==S;++v){const T=u[v];g[v]=new Ai(T,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],f=e[l];t[f]=i,o[i]=u,o.pop(),a[i]=a[l],a.pop(),r[i]=r[l],r.pop()}}}class LO{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,o=a.length,l=new Array(o),u={endingStart:x0,endingEnd:x0};for(let f=0;f!==o;++f){const p=a[f].createInterpolant(null);l[f]=p,p.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=MD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,l=r/a;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,f=l.sampleValues;return u[0]=a,u[1]=a+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case t6:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(o),f[p].accumulateAdditive(l);break;case p4:default:for(let p=0,g=u.length;p!==g;++p)u[p].evaluate(o),f[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===TD;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(i===_D){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=b0,r.endingEnd=b0):(e?r.endingStart=this.zeroSlopeAtStart?b0:x0:r.endingStart=Zg,t?r.endingEnd=this.zeroSlopeAtEnd?b0:x0:r.endingEnd=Zg)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,u[0]=t,l[1]=a+e,u[1]=i,this}}const BK=new Float32Array(1);class IK extends Gu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,l=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let p=f[u];p===void 0&&(p={},f[u]=p);for(let g=0;g!==a;++g){const v=r[g],S=v.name;let T=p[S];if(T!==void 0)++T.referenceCount,o[g]=T;else{if(T=o[g],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,u,S));continue}const A=t&&t._propertyBindings[g].binding.parsedPath;T=new UO(Ai.create(i,S,A),v.ValueTypeName,v.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,u,S),o[g]=T}l[g].resultBuffer=T.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,l=o[a],u=l.knownActions,f=u[u.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,u[p]=f,u.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,l=o[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete l[a],Object.keys(l).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new _6(new Float32Array(2),new Float32Array(2),1,BK),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?oy.findByName(r,e):e;const l=o!==null?o.uuid:e,u=this._actionsByClip[l];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=p4),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const p=new LO(this,o,t,i);return this._bindAction(p,f),this._addInactiveAction(p,l,a),p}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?oy.findByName(i,e):e,o=a?a.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,a,o);const l=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)l[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let l=0,u=o.length;l!==u;++l){const f=o[l];this._deactivateAction(f);const p=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,u=l[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class kK extends a6{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new g4(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class D6{constructor(e){this.value=e}clone(){return new D6(this.value.clone===void 0?this.value:this.value.clone())}}let FK=0;class VK extends Gu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:FK++}),this.name="",this.usage=Jg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Ab extends b4{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class HK{constructor(e,t,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const y7=new Tn;class zO{constructor(e,t,i=0,r=1/0){this.ray=new F0(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Nm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return y7.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(y7),this}intersectObject(e,t=!0,i=[]){return M5(e,this,i,t),i.sort(v7),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)M5(e[r],this,i,t);return i.sort(v7),i}}function v7(n,e){return n.distance-e.distance}function M5(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,l=a.length;o<l;o++)M5(a[o],e,t,!0)}}class T5{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Wn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Wn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class GK{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class O6{constructor(e,t,i,r){O6.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const x7=new Ct;class jK{constructor(e=new Ct(1/0,1/0),t=new Ct(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=x7.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,x7).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const b7=new _e,F2=new _e;class PO{constructor(e=new _e,t=new _e){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){b7.subVectors(e,this.start),F2.subVectors(this.end,this.start);const i=F2.dot(F2);let a=F2.dot(b7)/i;return t&&(a=Wn(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const S7=new _e;class WK extends Ci{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new $n,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,u=32;o<u;o++,l++){const f=o/u*Math.PI*2,p=l/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new rn(r,3));const a=new So({fog:!1,toneMapped:!1});this.cone=new ju(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),S7.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(S7),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qh=new _e,V2=new Tn,GS=new Tn;class qK extends ju{constructor(e){const t=BO(e),i=new $n,r=[],a=[],o=new Qt(0,0,1),l=new Qt(0,1,0);for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}i.setAttribute("position",new rn(r,3)),i.setAttribute("color",new rn(a,3));const u=new So({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");GS.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const l=t[a];l.parent&&l.parent.isBone&&(V2.multiplyMatrices(GS,l.matrixWorld),Qh.setFromMatrixPosition(V2),r.setXYZ(o,Qh.x,Qh.y,Qh.z),V2.multiplyMatrices(GS,l.parent.matrixWorld),Qh.setFromMatrixPosition(V2),r.setXYZ(o+1,Qh.x,Qh.y,Qh.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...BO(n.children[t]));return e}class XK extends Vr{constructor(e,t,i){const r=new zy(t,4,2),a=new sh({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const YK=new _e,_7=new Qt,M7=new Qt;class KK extends Ci{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ly(t);r.rotateY(Math.PI*.5),this.material=new sh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new lr(o,3)),this.add(new Vr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");_7.copy(this.light.color),M7.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?_7:M7;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(YK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZK extends ju{constructor(e=10,t=10,i=4473924,r=8947848){i=new Qt(i),r=new Qt(r);const a=t/2,o=e/t,l=e/2,u=[],f=[];for(let v=0,S=0,T=-l;v<=t;v++,T+=o){u.push(-l,0,T,l,0,T),u.push(T,0,-l,T,0,l);const A=v===a?i:r;A.toArray(f,S),S+=3,A.toArray(f,S),S+=3,A.toArray(f,S),S+=3,A.toArray(f,S),S+=3}const p=new $n;p.setAttribute("position",new rn(u,3)),p.setAttribute("color",new rn(f,3));const g=new So({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QK extends ju{constructor(e=10,t=16,i=8,r=64,a=4473924,o=8947848){a=new Qt(a),o=new Qt(o);const l=[],u=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),S=Math.sin(v)*e,T=Math.cos(v)*e;l.push(0,0,0),l.push(S,0,T);const A=g&1?a:o;u.push(A.r,A.g,A.b),u.push(A.r,A.g,A.b)}for(let g=0;g<i;g++){const v=g&1?a:o,S=e-e/i*g;for(let T=0;T<r;T++){let A=T/r*(Math.PI*2),w=Math.sin(A)*S,E=Math.cos(A)*S;l.push(w,0,E),u.push(v.r,v.g,v.b),A=(T+1)/r*(Math.PI*2),w=Math.sin(A)*S,E=Math.cos(A)*S,l.push(w,0,E),u.push(v.r,v.g,v.b)}}const f=new $n;f.setAttribute("position",new rn(l,3)),f.setAttribute("color",new rn(u,3));const p=new So({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const T7=new _e,H2=new _e,E7=new _e;class JK extends Ci{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new $n;r.setAttribute("position",new rn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new So({fog:!1,toneMapped:!1});this.lightPlane=new ld(r,a),this.add(this.lightPlane),r=new $n,r.setAttribute("position",new rn([0,0,0,0,0,1],3)),this.targetLine=new ld(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),T7.setFromMatrixPosition(this.light.matrixWorld),H2.setFromMatrixPosition(this.light.target.matrixWorld),E7.subVectors(H2,T7),this.lightPlane.lookAt(H2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(H2),this.targetLine.scale.z=E7.length()}}const G2=new _e,ra=new y4;class $K extends ju{constructor(e){const t=new $n,i=new So({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(T,A){u(T),u(A)}function u(T){r.push(0,0,0),a.push(0,0,0),o[T]===void 0&&(o[T]=[]),o[T].push(r.length/3-1)}t.setAttribute("position",new rn(r,3)),t.setAttribute("color",new rn(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Qt(16755200),p=new Qt(16711680),g=new Qt(43775),v=new Qt(16777215),S=new Qt(3355443);this.setColors(f,p,g,v,S)}setColors(e,t,i,r,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ra.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===ac?-1:0;xa("c",t,e,ra,0,0,a),xa("t",t,e,ra,0,0,1),xa("n1",t,e,ra,-1,-1,a),xa("n2",t,e,ra,i,-1,a),xa("n3",t,e,ra,-1,r,a),xa("n4",t,e,ra,i,r,a),xa("f1",t,e,ra,-1,-1,1),xa("f2",t,e,ra,i,-1,1),xa("f3",t,e,ra,-1,r,1),xa("f4",t,e,ra,i,r,1),xa("u1",t,e,ra,i*.7,r*1.1,a),xa("u2",t,e,ra,-1*.7,r*1.1,a),xa("u3",t,e,ra,0,r*2,a),xa("cf1",t,e,ra,-1,0,1),xa("cf2",t,e,ra,i,0,1),xa("cf3",t,e,ra,0,-1,1),xa("cf4",t,e,ra,0,r,1),xa("cn1",t,e,ra,-1,0,a),xa("cn2",t,e,ra,i,0,a),xa("cn3",t,e,ra,0,-1,a),xa("cn4",t,e,ra,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xa(n,e,t,i,r,a,o){G2.set(r,a,o).unproject(i);const l=e[n];if(l!==void 0){const u=t.getAttribute("position");for(let f=0,p=l.length;f<p;f++)u.setXYZ(l[f],G2.x,G2.y,G2.z)}}const j2=new _a;class eZ extends ju{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new $n;a.setIndex(new lr(i,1)),a.setAttribute("position",new lr(r,3)),super(a,new So({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&j2.setFromObject(this.object),j2.isEmpty())return;const e=j2.min,t=j2.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tZ extends ju{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new $n;a.setIndex(new lr(i,1)),a.setAttribute("position",new rn(r,3)),super(a,new So({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nZ extends ld{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new $n;o.setAttribute("position",new rn(a,3)),o.computeBoundingSphere(),super(o,new So({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new $n;u.setAttribute("position",new rn(l,3)),u.computeBoundingSphere(),this.add(new Vr(u,new sh({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const w7=new _e;let W2,jS;class iZ extends Ci{constructor(e=new _e(0,0,1),t=new _e(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",W2===void 0&&(W2=new $n,W2.setAttribute("position",new rn([0,0,0,0,1,0],3)),jS=new Uy(.5,1,5,1),jS.translate(0,-.5,0)),this.position.copy(t),this.line=new ld(W2,new So({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vr(jS,new sh({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{w7.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(w7,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class rZ extends ju{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new $n;r.setAttribute("position",new rn(t,3)),r.setAttribute("color",new rn(i,3));const a=new So({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new Qt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aZ{constructor(){this.type="ShapePath",this.color=new Qt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new wb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,o){return this.currentPath.bezierCurveTo(e,t,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const L=[];for(let O=0,N=E.length;O<N;O++){const z=E[O],I=new A0;I.curves=z.curves,L.push(I)}return L}function i(E,L){const O=L.length;let N=!1;for(let z=O-1,I=0;I<O;z=I++){let H=L[z],W=L[I],V=W.x-H.x,U=W.y-H.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(H=L[I],V=-V,W=L[z],U=-U),E.y<H.y||E.y>W.y)continue;if(E.y===H.y){if(E.x===H.x)return!0}else{const Q=U*(E.x-H.x)-V*(E.y-H.y);if(Q===0)return!0;if(Q<0)continue;N=!N}}else{if(E.y!==H.y)continue;if(W.x<=E.x&&E.x<=H.x||H.x<=E.x&&E.x<=W.x)return!0}}return N}const r=Wc.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,u;const f=[];if(a.length===1)return l=a[0],u=new A0,u.curves=l.curves,f.push(u),f;let p=!r(a[0].getPoints());p=e?!p:p;const g=[],v=[];let S=[],T=0,A;v[T]=void 0,S[T]=[];for(let E=0,L=a.length;E<L;E++)l=a[E],A=l.getPoints(),o=r(A),o=e?!o:o,o?(!p&&v[T]&&T++,v[T]={s:new A0,p:A},v[T].s.curves=l.curves,p&&T++,S[T]=[]):S[T].push({h:l,p:A[0]});if(!v[0])return t(a);if(v.length>1){let E=!1,L=0;for(let O=0,N=v.length;O<N;O++)g[O]=[];for(let O=0,N=v.length;O<N;O++){const z=S[O];for(let I=0;I<z.length;I++){const H=z[I];let W=!0;for(let V=0;V<v.length;V++)i(H.p,v[V].p)&&(O!==V&&L++,W?(W=!1,g[V].push(H)):E=!0);W&&g[O].push(H)}}L>0&&E===!1&&(S=g)}let w;for(let E=0,L=v.length;E<L;E++){u=v[E].s,f.push(u),w=S[E];for(let O=0,N=w.length;O<N;O++)u.holes.push(w[O].h)}return f}}class sZ extends Gu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function oZ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function lZ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function cZ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function E5(n,e,t,i){const r=uZ(i);switch(t){case QM:return n*e;case f4:return n*e/r.components*r.byteLength;case Dy:return n*e/r.components*r.byteLength;case $M:return n*e*2/r.components*r.byteLength;case h4:return n*e*2/r.components*r.byteLength;case JM:return n*e*3/r.components*r.byteLength;case Vs:return n*e*4/r.components*r.byteLength;case d4:return n*e*4/r.components*r.byteLength;case vg:case xg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case bg:case Sg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Qx:case $x:return Math.max(n,16)*Math.max(e,8)/4;case Zx:case Jx:return Math.max(n,8)*Math.max(e,8)/2;case eb:case tb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case nb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ib:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case rb:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case ab:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case sb:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case ob:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case lb:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case cb:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case ub:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case fb:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case hb:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case db:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case pb:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case mb:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case gb:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case _g:case yb:case vb:return Math.ceil(n/4)*Math.ceil(e/4)*16;case e6:case xb:return Math.ceil(n/4)*Math.ceil(e/4)*8;case bb:case Sb:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function uZ(n){switch(n){case oc:case YM:return{byteLength:1,components:1};case Am:case KM:case Hm:return{byteLength:2,components:1};case c4:case u4:return{byteLength:2,components:4};case rh:case l4:case Zo:return{byteLength:4,components:1};case ZM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class fZ{static contain(e,t){return oZ(e,t)}static cover(e,t){return lZ(e,t)}static fill(e){return cZ(e)}static getByteLength(e,t,i,r){return E5(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function IO(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function hZ(n){const e=new WeakMap;function t(l,u){const f=l.array,p=l.usage,g=f.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,f,p),l.onUploadCallback();let S;if(f instanceof Float32Array)S=n.FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?S=n.HALF_FLOAT:S=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)S=n.SHORT;else if(f instanceof Uint32Array)S=n.UNSIGNED_INT;else if(f instanceof Int32Array)S=n.INT;else if(f instanceof Int8Array)S=n.BYTE;else if(f instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:S,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,f){const p=u.array,g=u.updateRanges;if(n.bindBuffer(f,l),g.length===0)n.bufferSubData(f,0,p);else{g.sort((S,T)=>S.start-T.start);let v=0;for(let S=1;S<g.length;S++){const T=g[v],A=g[S];A.start<=T.start+T.count+1?T.count=Math.max(T.count,A.start+A.count-T.start):(++v,g[v]=A)}g.length=v+1;for(let S=0,T=g.length;S<T;S++){const A=g[S];n.bufferSubData(f,A.start*p.BYTES_PER_ELEMENT,p,A.start,A.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(n.deleteBuffer(u.buffer),e.delete(l))}function o(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,t(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,l,u),f.version=l.version}}return{get:r,remove:a,update:o}}var dZ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,pZ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,mZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,gZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yZ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,vZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,SZ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_Z=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,MZ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,TZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,EZ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,wZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,AZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,CZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,RZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,DZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,UZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,LZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,zZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,PZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,IZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,VZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,GZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",jZ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,WZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,XZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,KZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,QZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$Z=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,eQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,nQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,iQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,aQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,oQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,uQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,fQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hQ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,pQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,mQ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,gQ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yQ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vQ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,SQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_Q=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,MQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,EQ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,wQ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,AQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,CQ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,RQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,DQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,OQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,UQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,zQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,PQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,BQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,IQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,kQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,VQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,HQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,GQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,WQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,qQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,YQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,KQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ZQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,QQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,JQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$Q=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,eJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,tJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sJ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,oJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uJ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,fJ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hJ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dJ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mJ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yJ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vJ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xJ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,bJ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,SJ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_J=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,MJ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TJ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EJ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wJ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,AJ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CJ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RJ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DJ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,OJ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NJ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,UJ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,LJ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zJ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PJ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,BJ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IJ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,VJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HJ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,WJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qn={alphahash_fragment:dZ,alphahash_pars_fragment:pZ,alphamap_fragment:mZ,alphamap_pars_fragment:gZ,alphatest_fragment:yZ,alphatest_pars_fragment:vZ,aomap_fragment:xZ,aomap_pars_fragment:bZ,batching_pars_vertex:SZ,batching_vertex:_Z,begin_vertex:MZ,beginnormal_vertex:TZ,bsdfs:EZ,iridescence_fragment:wZ,bumpmap_pars_fragment:AZ,clipping_planes_fragment:CZ,clipping_planes_pars_fragment:RZ,clipping_planes_pars_vertex:DZ,clipping_planes_vertex:OZ,color_fragment:NZ,color_pars_fragment:UZ,color_pars_vertex:LZ,color_vertex:zZ,common:PZ,cube_uv_reflection_fragment:BZ,defaultnormal_vertex:IZ,displacementmap_pars_vertex:kZ,displacementmap_vertex:FZ,emissivemap_fragment:VZ,emissivemap_pars_fragment:HZ,colorspace_fragment:GZ,colorspace_pars_fragment:jZ,envmap_fragment:WZ,envmap_common_pars_fragment:qZ,envmap_pars_fragment:XZ,envmap_pars_vertex:YZ,envmap_physical_pars_fragment:aQ,envmap_vertex:KZ,fog_vertex:ZZ,fog_pars_vertex:QZ,fog_fragment:JZ,fog_pars_fragment:$Z,gradientmap_pars_fragment:eQ,lightmap_pars_fragment:tQ,lights_lambert_fragment:nQ,lights_lambert_pars_fragment:iQ,lights_pars_begin:rQ,lights_toon_fragment:sQ,lights_toon_pars_fragment:oQ,lights_phong_fragment:lQ,lights_phong_pars_fragment:cQ,lights_physical_fragment:uQ,lights_physical_pars_fragment:fQ,lights_fragment_begin:hQ,lights_fragment_maps:dQ,lights_fragment_end:pQ,logdepthbuf_fragment:mQ,logdepthbuf_pars_fragment:gQ,logdepthbuf_pars_vertex:yQ,logdepthbuf_vertex:vQ,map_fragment:xQ,map_pars_fragment:bQ,map_particle_fragment:SQ,map_particle_pars_fragment:_Q,metalnessmap_fragment:MQ,metalnessmap_pars_fragment:TQ,morphinstance_vertex:EQ,morphcolor_vertex:wQ,morphnormal_vertex:AQ,morphtarget_pars_vertex:CQ,morphtarget_vertex:RQ,normal_fragment_begin:DQ,normal_fragment_maps:OQ,normal_pars_fragment:NQ,normal_pars_vertex:UQ,normal_vertex:LQ,normalmap_pars_fragment:zQ,clearcoat_normal_fragment_begin:PQ,clearcoat_normal_fragment_maps:BQ,clearcoat_pars_fragment:IQ,iridescence_pars_fragment:kQ,opaque_fragment:FQ,packing:VQ,premultiplied_alpha_fragment:HQ,project_vertex:GQ,dithering_fragment:jQ,dithering_pars_fragment:WQ,roughnessmap_fragment:qQ,roughnessmap_pars_fragment:XQ,shadowmap_pars_fragment:YQ,shadowmap_pars_vertex:KQ,shadowmap_vertex:ZQ,shadowmask_pars_fragment:QQ,skinbase_vertex:JQ,skinning_pars_vertex:$Q,skinning_vertex:eJ,skinnormal_vertex:tJ,specularmap_fragment:nJ,specularmap_pars_fragment:iJ,tonemapping_fragment:rJ,tonemapping_pars_fragment:aJ,transmission_fragment:sJ,transmission_pars_fragment:oJ,uv_pars_fragment:lJ,uv_pars_vertex:cJ,uv_vertex:uJ,worldpos_vertex:fJ,background_vert:hJ,background_frag:dJ,backgroundCube_vert:pJ,backgroundCube_frag:mJ,cube_vert:gJ,cube_frag:yJ,depth_vert:vJ,depth_frag:xJ,distanceRGBA_vert:bJ,distanceRGBA_frag:SJ,equirect_vert:_J,equirect_frag:MJ,linedashed_vert:TJ,linedashed_frag:EJ,meshbasic_vert:wJ,meshbasic_frag:AJ,meshlambert_vert:CJ,meshlambert_frag:RJ,meshmatcap_vert:DJ,meshmatcap_frag:OJ,meshnormal_vert:NJ,meshnormal_frag:UJ,meshphong_vert:LJ,meshphong_frag:zJ,meshphysical_vert:PJ,meshphysical_frag:BJ,meshtoon_vert:IJ,meshtoon_frag:kJ,points_vert:FJ,points_frag:VJ,shadow_vert:HJ,shadow_frag:GJ,sprite_vert:jJ,sprite_frag:WJ},Yt={common:{diffuse:{value:new Qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jn}},envmap:{envMap:{value:null},envMapRotation:{value:new jn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jn},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0},uvTransform:{value:new jn}},sprite:{diffuse:{value:new Qt(16777215)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}}},Hc={basic:{uniforms:mo([Yt.common,Yt.specularmap,Yt.envmap,Yt.aomap,Yt.lightmap,Yt.fog]),vertexShader:Qn.meshbasic_vert,fragmentShader:Qn.meshbasic_frag},lambert:{uniforms:mo([Yt.common,Yt.specularmap,Yt.envmap,Yt.aomap,Yt.lightmap,Yt.emissivemap,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,Yt.fog,Yt.lights,{emissive:{value:new Qt(0)}}]),vertexShader:Qn.meshlambert_vert,fragmentShader:Qn.meshlambert_frag},phong:{uniforms:mo([Yt.common,Yt.specularmap,Yt.envmap,Yt.aomap,Yt.lightmap,Yt.emissivemap,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,Yt.fog,Yt.lights,{emissive:{value:new Qt(0)},specular:{value:new Qt(1118481)},shininess:{value:30}}]),vertexShader:Qn.meshphong_vert,fragmentShader:Qn.meshphong_frag},standard:{uniforms:mo([Yt.common,Yt.envmap,Yt.aomap,Yt.lightmap,Yt.emissivemap,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,Yt.roughnessmap,Yt.metalnessmap,Yt.fog,Yt.lights,{emissive:{value:new Qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qn.meshphysical_vert,fragmentShader:Qn.meshphysical_frag},toon:{uniforms:mo([Yt.common,Yt.aomap,Yt.lightmap,Yt.emissivemap,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,Yt.gradientmap,Yt.fog,Yt.lights,{emissive:{value:new Qt(0)}}]),vertexShader:Qn.meshtoon_vert,fragmentShader:Qn.meshtoon_frag},matcap:{uniforms:mo([Yt.common,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,Yt.fog,{matcap:{value:null}}]),vertexShader:Qn.meshmatcap_vert,fragmentShader:Qn.meshmatcap_frag},points:{uniforms:mo([Yt.points,Yt.fog]),vertexShader:Qn.points_vert,fragmentShader:Qn.points_frag},dashed:{uniforms:mo([Yt.common,Yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qn.linedashed_vert,fragmentShader:Qn.linedashed_frag},depth:{uniforms:mo([Yt.common,Yt.displacementmap]),vertexShader:Qn.depth_vert,fragmentShader:Qn.depth_frag},normal:{uniforms:mo([Yt.common,Yt.bumpmap,Yt.normalmap,Yt.displacementmap,{opacity:{value:1}}]),vertexShader:Qn.meshnormal_vert,fragmentShader:Qn.meshnormal_frag},sprite:{uniforms:mo([Yt.sprite,Yt.fog]),vertexShader:Qn.sprite_vert,fragmentShader:Qn.sprite_frag},background:{uniforms:{uvTransform:{value:new jn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qn.background_vert,fragmentShader:Qn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jn}},vertexShader:Qn.backgroundCube_vert,fragmentShader:Qn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qn.cube_vert,fragmentShader:Qn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qn.equirect_vert,fragmentShader:Qn.equirect_frag},distanceRGBA:{uniforms:mo([Yt.common,Yt.displacementmap,{referencePosition:{value:new _e},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qn.distanceRGBA_vert,fragmentShader:Qn.distanceRGBA_frag},shadow:{uniforms:mo([Yt.lights,Yt.fog,{color:{value:new Qt(0)},opacity:{value:1}}]),vertexShader:Qn.shadow_vert,fragmentShader:Qn.shadow_frag}};Hc.physical={uniforms:mo([Hc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jn},clearcoatNormalScale:{value:new Ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jn},sheen:{value:0},sheenColor:{value:new Qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jn},transmissionSamplerSize:{value:new Ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jn},attenuationDistance:{value:0},attenuationColor:{value:new Qt(0)},specularColor:{value:new Qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jn},anisotropyVector:{value:new Ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jn}}]),vertexShader:Qn.meshphysical_vert,fragmentShader:Qn.meshphysical_frag};const q2={r:0,b:0,g:0},r0=new Ol,qJ=new Tn;function XJ(n,e,t,i,r,a,o){const l=new Qt(0);let u=a===!0?0:1,f,p,g=null,v=0,S=null;function T(O){let N=O.isScene===!0?O.background:null;return N&&N.isTexture&&(N=(O.backgroundBlurriness>0?t:e).get(N)),N}function A(O){let N=!1;const z=T(O);z===null?E(l,u):z&&z.isColor&&(E(z,1),N=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?i.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(O,N){const z=T(N);z&&(z.isCubeTexture||z.mapping===Vm)?(p===void 0&&(p=new Vr(new V0(1,1,1),new lc({name:"BackgroundCubeMaterial",uniforms:Um(Hc.backgroundCube.uniforms),vertexShader:Hc.backgroundCube.vertexShader,fragmentShader:Hc.backgroundCube.fragmentShader,side:bo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(I,H,W){this.matrixWorld.copyPosition(W.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),r0.copy(N.backgroundRotation),r0.x*=-1,r0.y*=-1,r0.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(r0.y*=-1,r0.z*=-1),p.material.uniforms.envMap.value=z,p.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(qJ.makeRotationFromEuler(r0)),p.material.toneMapped=Mi.getTransfer(z.colorSpace)!==Ki,(g!==z||v!==z.version||S!==n.toneMapping)&&(p.material.needsUpdate=!0,g=z,v=z.version,S=n.toneMapping),p.layers.enableAll(),O.unshift(p,p.geometry,p.material,0,0,null)):z&&z.isTexture&&(f===void 0&&(f=new Vr(new oh(2,2),new lc({name:"BackgroundMaterial",uniforms:Um(Hc.background.uniforms),vertexShader:Hc.background.vertexShader,fragmentShader:Hc.background.fragmentShader,side:nh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=z,f.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,f.material.toneMapped=Mi.getTransfer(z.colorSpace)!==Ki,z.matrixAutoUpdate===!0&&z.updateMatrix(),f.material.uniforms.uvTransform.value.copy(z.matrix),(g!==z||v!==z.version||S!==n.toneMapping)&&(f.material.needsUpdate=!0,g=z,v=z.version,S=n.toneMapping),f.layers.enableAll(),O.unshift(f,f.geometry,f.material,0,0,null))}function E(O,N){O.getRGB(q2,kD(n)),i.buffers.color.setClear(q2.r,q2.g,q2.b,N,o)}function L(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(O,N=1){l.set(O),u=N,E(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(O){u=O,E(l,u)},render:A,addToRenderList:w,dispose:L}}function YJ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,o=!1;function l(U,Q,ee,te,oe){let pe=!1;const j=g(te,ee,Q);a!==j&&(a=j,f(a.object)),pe=S(U,te,ee,oe),pe&&T(U,te,ee,oe),oe!==null&&e.update(oe,n.ELEMENT_ARRAY_BUFFER),(pe||o)&&(o=!1,N(U,Q,ee,te),oe!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(oe).buffer))}function u(){return n.createVertexArray()}function f(U){return n.bindVertexArray(U)}function p(U){return n.deleteVertexArray(U)}function g(U,Q,ee){const te=ee.wireframe===!0;let oe=i[U.id];oe===void 0&&(oe={},i[U.id]=oe);let pe=oe[Q.id];pe===void 0&&(pe={},oe[Q.id]=pe);let j=pe[te];return j===void 0&&(j=v(u()),pe[te]=j),j}function v(U){const Q=[],ee=[],te=[];for(let oe=0;oe<t;oe++)Q[oe]=0,ee[oe]=0,te[oe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:ee,attributeDivisors:te,object:U,attributes:{},index:null}}function S(U,Q,ee,te){const oe=a.attributes,pe=Q.attributes;let j=0;const ae=ee.getAttributes();for(const le in ae)if(ae[le].location>=0){const J=oe[le];let K=pe[le];if(K===void 0&&(le==="instanceMatrix"&&U.instanceMatrix&&(K=U.instanceMatrix),le==="instanceColor"&&U.instanceColor&&(K=U.instanceColor)),J===void 0||J.attribute!==K||K&&J.data!==K.data)return!0;j++}return a.attributesNum!==j||a.index!==te}function T(U,Q,ee,te){const oe={},pe=Q.attributes;let j=0;const ae=ee.getAttributes();for(const le in ae)if(ae[le].location>=0){let J=pe[le];J===void 0&&(le==="instanceMatrix"&&U.instanceMatrix&&(J=U.instanceMatrix),le==="instanceColor"&&U.instanceColor&&(J=U.instanceColor));const K={};K.attribute=J,J&&J.data&&(K.data=J.data),oe[le]=K,j++}a.attributes=oe,a.attributesNum=j,a.index=te}function A(){const U=a.newAttributes;for(let Q=0,ee=U.length;Q<ee;Q++)U[Q]=0}function w(U){E(U,0)}function E(U,Q){const ee=a.newAttributes,te=a.enabledAttributes,oe=a.attributeDivisors;ee[U]=1,te[U]===0&&(n.enableVertexAttribArray(U),te[U]=1),oe[U]!==Q&&(n.vertexAttribDivisor(U,Q),oe[U]=Q)}function L(){const U=a.newAttributes,Q=a.enabledAttributes;for(let ee=0,te=Q.length;ee<te;ee++)Q[ee]!==U[ee]&&(n.disableVertexAttribArray(ee),Q[ee]=0)}function O(U,Q,ee,te,oe,pe,j){j===!0?n.vertexAttribIPointer(U,Q,ee,oe,pe):n.vertexAttribPointer(U,Q,ee,te,oe,pe)}function N(U,Q,ee,te){A();const oe=te.attributes,pe=ee.getAttributes(),j=Q.defaultAttributeValues;for(const ae in pe){const le=pe[ae];if(le.location>=0){let fe=oe[ae];if(fe===void 0&&(ae==="instanceMatrix"&&U.instanceMatrix&&(fe=U.instanceMatrix),ae==="instanceColor"&&U.instanceColor&&(fe=U.instanceColor)),fe!==void 0){const J=fe.normalized,K=fe.itemSize,xe=e.get(fe);if(xe===void 0)continue;const Me=xe.buffer,he=xe.type,Te=xe.bytesPerElement,ze=he===n.INT||he===n.UNSIGNED_INT||fe.gpuType===l4;if(fe.isInterleavedBufferAttribute){const Be=fe.data,ke=Be.stride,yt=fe.offset;if(Be.isInstancedInterleavedBuffer){for(let Qe=0;Qe<le.locationSize;Qe++)E(le.location+Qe,Be.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Be.meshPerAttribute*Be.count)}else for(let Qe=0;Qe<le.locationSize;Qe++)w(le.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,Me);for(let Qe=0;Qe<le.locationSize;Qe++)O(le.location+Qe,K/le.locationSize,he,J,ke*Te,(yt+K/le.locationSize*Qe)*Te,ze)}else{if(fe.isInstancedBufferAttribute){for(let Be=0;Be<le.locationSize;Be++)E(le.location+Be,fe.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let Be=0;Be<le.locationSize;Be++)w(le.location+Be);n.bindBuffer(n.ARRAY_BUFFER,Me);for(let Be=0;Be<le.locationSize;Be++)O(le.location+Be,K/le.locationSize,he,J,K*Te,K/le.locationSize*Be*Te,ze)}}else if(j!==void 0){const J=j[ae];if(J!==void 0)switch(J.length){case 2:n.vertexAttrib2fv(le.location,J);break;case 3:n.vertexAttrib3fv(le.location,J);break;case 4:n.vertexAttrib4fv(le.location,J);break;default:n.vertexAttrib1fv(le.location,J)}}}}L()}function z(){W();for(const U in i){const Q=i[U];for(const ee in Q){const te=Q[ee];for(const oe in te)p(te[oe].object),delete te[oe];delete Q[ee]}delete i[U]}}function I(U){if(i[U.id]===void 0)return;const Q=i[U.id];for(const ee in Q){const te=Q[ee];for(const oe in te)p(te[oe].object),delete te[oe];delete Q[ee]}delete i[U.id]}function H(U){for(const Q in i){const ee=i[Q];if(ee[U.id]===void 0)continue;const te=ee[U.id];for(const oe in te)p(te[oe].object),delete te[oe];delete ee[U.id]}}function W(){V(),o=!0,a!==r&&(a=r,f(a.object))}function V(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:W,resetDefaultState:V,dispose:z,releaseStatesOfGeometry:I,releaseStatesOfProgram:H,initAttributes:A,enableAttribute:w,disableUnusedAttributes:L}}function KJ(n,e,t){let i;function r(f){i=f}function a(f,p){n.drawArrays(i,f,p),t.update(p,i,1)}function o(f,p,g){g!==0&&(n.drawArraysInstanced(i,f,p,g),t.update(p,i,g))}function l(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,g);let S=0;for(let T=0;T<g;T++)S+=p[T];t.update(S,i,1)}function u(f,p,g,v){if(g===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let T=0;T<f.length;T++)o(f[T],p[T],v[T]);else{S.multiDrawArraysInstancedWEBGL(i,f,0,p,0,v,0,g);let T=0;for(let A=0;A<g;A++)T+=p[A]*v[A];t.update(T,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function ZJ(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const H=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(H){return!(H!==Vs&&i.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(H){const W=H===Hm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(H!==oc&&i.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&H!==Zo&&!W)}function u(H){if(H==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return H==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const p=u(f);p!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),S=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),L=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),O=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),z=T>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:S,maxVertexTextures:T,maxTextureSize:A,maxCubemapSize:w,maxAttributes:E,maxVertexUniforms:L,maxVaryings:O,maxFragmentUniforms:N,vertexTextures:z,maxSamples:I}}function QJ(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new Gf,l=new jn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const S=g.length!==0||v||i!==0||r;return r=v,i=g.length,S},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){t=p(g,v,0)},this.setState=function(g,v,S){const T=g.clippingPlanes,A=g.clipIntersection,w=g.clipShadows,E=n.get(g);if(!r||T===null||T.length===0||a&&!w)a?p(null):f();else{const L=a?0:i,O=L*4;let N=E.clippingState||null;u.value=N,N=p(T,v,O,S);for(let z=0;z!==O;++z)N[z]=t[z];E.clippingState=N,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=L}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,v,S,T){const A=g!==null?g.length:0;let w=null;if(A!==0){if(w=u.value,T!==!0||w===null){const E=S+A*4,L=v.matrixWorldInverse;l.getNormalMatrix(L),(w===null||w.length<E)&&(w=new Float32Array(E));for(let O=0,N=S;O!==A;++O,N+=4)o.copy(g[O]).applyMatrix4(L,l),o.normal.toArray(w,N),w[N+3]=o.constant}u.value=w,u.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,w}}function JJ(n){let e=new WeakMap;function t(o,l){return l===Wg?o.mapping=ih:l===qg&&(o.mapping=sd),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===Wg||l===qg)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=new VD(u.height);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const l=o.target;l.removeEventListener("dispose",r);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const dm=4,A7=[.125,.215,.35,.446,.526,.582],m0=20,WS=new Iu,C7=new Qt;let qS=null,XS=0,YS=0,KS=!1;const p0=(1+Math.sqrt(5))/2,Qp=1/p0,R7=[new _e(-p0,Qp,0),new _e(p0,Qp,0),new _e(-Qp,0,p0),new _e(Qp,0,p0),new _e(0,p0,-Qp),new _e(0,p0,Qp),new _e(-1,1,-1),new _e(1,1,-1),new _e(-1,1,1),new _e(1,1,1)],$J=new _e;class w5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:o=256,position:l=$J}=a;qS=this._renderer.getRenderTarget(),XS=this._renderer.getActiveCubeFace(),YS=this._renderer.getActiveMipmapLevel(),KS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,l),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=N7(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=O7(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qS,XS,YS),this._renderer.xr.enabled=KS,e.scissorTest=!1,X2(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ih||e.mapping===sd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qS=this._renderer.getRenderTarget(),XS=this._renderer.getActiveCubeFace(),YS=this._renderer.getActiveMipmapLevel(),KS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Sa,minFilter:Sa,generateMipmaps:!1,type:Hm,format:Vs,colorSpace:od,depthBuffer:!1},r=D7(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=D7(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=e$(a)),this._blurMaterial=t$(a,e,t)}return r}_compileMaterial(e){const t=new Vr(this._lodPlanes[0],e);this._renderer.compile(t,WS)}_sceneToCubeUV(e,t,i,r,a){const u=new Xr(90,1,t,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,S=g.toneMapping;g.getClearColor(C7),g.toneMapping=Pu,g.autoClear=!1;const T=new sh({name:"PMREM.Background",side:bo,depthWrite:!1,depthTest:!1}),A=new Vr(new V0,T);let w=!1;const E=e.background;E?E.isColor&&(T.color.copy(E),e.background=null,w=!0):(T.color.copy(C7),w=!0);for(let L=0;L<6;L++){const O=L%3;O===0?(u.up.set(0,f[L],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+p[L],a.y,a.z)):O===1?(u.up.set(0,0,f[L]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+p[L],a.z)):(u.up.set(0,f[L],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+p[L]));const N=this._cubeSize;X2(r,O*N,L>2?N:0,N,N),g.setRenderTarget(r),w&&g.render(A,u),g.render(e,u)}A.geometry.dispose(),A.material.dispose(),g.toneMapping=S,g.autoClear=v,e.background=E}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===ih||e.mapping===sd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=N7()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=O7());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Vr(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;X2(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,WS)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=R7[(r-a-1)%R7.length];this._blur(e,a-1,a,o,l)}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,l){const u=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Vr(this._lodPlanes[r],f),v=f.uniforms,S=this._sizeLods[i]-1,T=isFinite(a)?Math.PI/(2*S):2*Math.PI/(2*m0-1),A=a/T,w=isFinite(a)?1+Math.floor(p*A):m0;w>m0&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${m0}`);const E=[];let L=0;for(let H=0;H<m0;++H){const W=H/A,V=Math.exp(-W*W/2);E.push(V),H===0?L+=V:H<w&&(L+=2*V)}for(let H=0;H<E.length;H++)E[H]=E[H]/L;v.envMap.value=e.texture,v.samples.value=w,v.weights.value=E,v.latitudinal.value=o==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:O}=this;v.dTheta.value=T,v.mipInt.value=O-i;const N=this._sizeLods[r],z=3*N*(r>O-dm?r-O+dm:0),I=4*(this._cubeSize-N);X2(t,z,I,3*N,2*N),u.setRenderTarget(t),u.render(g,WS)}}function e$(n){const e=[],t=[],i=[];let r=n;const a=n-dm+1+A7.length;for(let o=0;o<a;o++){const l=Math.pow(2,r);t.push(l);let u=1/l;o>n-dm?u=A7[o-n+dm-1]:o===0&&(u=0),i.push(u);const f=1/(l-2),p=-f,g=1+f,v=[p,p,g,p,g,g,p,p,g,g,p,g],S=6,T=6,A=3,w=2,E=1,L=new Float32Array(A*T*S),O=new Float32Array(w*T*S),N=new Float32Array(E*T*S);for(let I=0;I<S;I++){const H=I%3*2/3-1,W=I>2?0:-1,V=[H,W,0,H+2/3,W,0,H+2/3,W+1,0,H,W,0,H+2/3,W+1,0,H,W+1,0];L.set(V,A*T*I),O.set(v,w*T*I);const U=[I,I,I,I,I,I];N.set(U,E*T*I)}const z=new $n;z.setAttribute("position",new lr(L,A)),z.setAttribute("uv",new lr(O,w)),z.setAttribute("faceIndex",new lr(N,E)),e.push(z),r>dm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function D7(n,e,t){const i=new Fu(n,e,t);return i.texture.mapping=Vm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function X2(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function t$(n,e,t){const i=new Float32Array(m0),r=new _e(0,1,0);return new lc({name:"SphericalGaussianBlur",defines:{n:m0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:N6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Yf,depthTest:!1,depthWrite:!1})}function O7(){return new lc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:N6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Yf,depthTest:!1,depthWrite:!1})}function N7(){return new lc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:N6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Yf,depthTest:!1,depthWrite:!1})}function N6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function n$(n){let e=new WeakMap,t=null;function i(l){if(l&&l.isTexture){const u=l.mapping,f=u===Wg||u===qg,p=u===ih||u===sd;if(f||p){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return t===null&&(t=new w5(n)),g=f?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const S=l.image;return f&&S&&S.height>0||p&&S&&r(S)?(t===null&&(t=new w5(n)),g=f?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function r(l){let u=0;const f=6;for(let p=0;p<f;p++)l[p]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function i$(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&ym("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function r$(n,e,t,i){const r={},a=new WeakMap;function o(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const T in v.attributes)e.remove(v.attributes[T]);v.removeEventListener("dispose",o),delete r[v.id];const S=a.get(v);S&&(e.remove(S),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",o),r[v.id]=!0,t.memory.geometries++),v}function u(g){const v=g.attributes;for(const S in v)e.update(v[S],n.ARRAY_BUFFER)}function f(g){const v=[],S=g.index,T=g.attributes.position;let A=0;if(S!==null){const L=S.array;A=S.version;for(let O=0,N=L.length;O<N;O+=3){const z=L[O+0],I=L[O+1],H=L[O+2];v.push(z,I,I,H,H,z)}}else if(T!==void 0){const L=T.array;A=T.version;for(let O=0,N=L.length/3-1;O<N;O+=3){const z=O+0,I=O+1,H=O+2;v.push(z,I,I,H,H,z)}}else return;const w=new(zD(v)?o6:s6)(v,1);w.version=A;const E=a.get(g);E&&e.remove(E),a.set(g,w)}function p(g){const v=a.get(g);if(v){const S=g.index;S!==null&&v.version<S.version&&f(g)}else f(g);return a.get(g)}return{get:l,update:u,getWireframeAttribute:p}}function a$(n,e,t){let i;function r(v){i=v}let a,o;function l(v){a=v.type,o=v.bytesPerElement}function u(v,S){n.drawElements(i,S,a,v*o),t.update(S,i,1)}function f(v,S,T){T!==0&&(n.drawElementsInstanced(i,S,a,v*o,T),t.update(S,i,T))}function p(v,S,T){if(T===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,S,0,a,v,0,T);let w=0;for(let E=0;E<T;E++)w+=S[E];t.update(w,i,1)}function g(v,S,T,A){if(T===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let E=0;E<v.length;E++)f(v[E]/o,S[E],A[E]);else{w.multiDrawElementsInstancedWEBGL(i,S,0,a,v,0,A,0,T);let E=0;for(let L=0;L<T;L++)E+=S[L]*A[L];t.update(E,i,1)}}this.setMode=r,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function s$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,l){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=l*(a/3);break;case n.LINES:t.lines+=l*(a/2);break;case n.LINE_STRIP:t.lines+=l*(a-1);break;case n.LINE_LOOP:t.lines+=l*a;break;case n.POINTS:t.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function o$(n,e,t){const i=new WeakMap,r=new ii;function a(o,l,u){const f=o.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=i.get(l);if(v===void 0||v.count!==g){let U=function(){W.dispose(),i.delete(l),l.removeEventListener("dispose",U)};var S=U;v!==void 0&&v.texture.dispose();const T=l.morphAttributes.position!==void 0,A=l.morphAttributes.normal!==void 0,w=l.morphAttributes.color!==void 0,E=l.morphAttributes.position||[],L=l.morphAttributes.normal||[],O=l.morphAttributes.color||[];let N=0;T===!0&&(N=1),A===!0&&(N=2),w===!0&&(N=3);let z=l.attributes.position.count*N,I=1;z>e.maxTextureSize&&(I=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const H=new Float32Array(z*I*4*g),W=new m4(H,z,I,g);W.type=Zo,W.needsUpdate=!0;const V=N*4;for(let Q=0;Q<g;Q++){const ee=E[Q],te=L[Q],oe=O[Q],pe=z*I*4*Q;for(let j=0;j<ee.count;j++){const ae=j*V;T===!0&&(r.fromBufferAttribute(ee,j),H[pe+ae+0]=r.x,H[pe+ae+1]=r.y,H[pe+ae+2]=r.z,H[pe+ae+3]=0),A===!0&&(r.fromBufferAttribute(te,j),H[pe+ae+4]=r.x,H[pe+ae+5]=r.y,H[pe+ae+6]=r.z,H[pe+ae+7]=0),w===!0&&(r.fromBufferAttribute(oe,j),H[pe+ae+8]=r.x,H[pe+ae+9]=r.y,H[pe+ae+10]=r.z,H[pe+ae+11]=oe.itemSize===4?r.w:1)}}v={count:g,texture:W,size:new Ct(z,I)},i.set(l,v),l.addEventListener("dispose",U)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let T=0;for(let w=0;w<f.length;w++)T+=f[w];const A=l.morphTargetsRelative?1:1-T;u.getUniforms().setValue(n,"morphTargetBaseInfluence",A),u.getUniforms().setValue(n,"morphTargetInfluences",f)}u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:a}}function l$(n,e,t,i){let r=new WeakMap;function a(u){const f=i.render.frame,p=u.geometry,g=e.get(u,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),r.get(u)!==f&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,f))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==f&&(v.update(),r.set(v,f))}return g}function o(){r=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:o}}const kO=new Qr,U7=new h6(1,1),FO=new m4,VO=new g4,HO=new Oy,L7=[],z7=[],P7=new Float32Array(16),B7=new Float32Array(9),I7=new Float32Array(4);function jm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=L7[r];if(a===void 0&&(a=new Float32Array(r),L7[r]=a),e!==0){i.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=t,n[o].toArray(a,l)}return a}function ja(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Wa(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function V4(n,e){let t=z7[e];t===void 0&&(t=new Int32Array(e),z7[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function c$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function u$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ja(t,e))return;n.uniform2fv(this.addr,e),Wa(t,e)}}function f$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ja(t,e))return;n.uniform3fv(this.addr,e),Wa(t,e)}}function h$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ja(t,e))return;n.uniform4fv(this.addr,e),Wa(t,e)}}function d$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ja(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Wa(t,e)}else{if(ja(t,i))return;I7.set(i),n.uniformMatrix2fv(this.addr,!1,I7),Wa(t,i)}}function p$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ja(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Wa(t,e)}else{if(ja(t,i))return;B7.set(i),n.uniformMatrix3fv(this.addr,!1,B7),Wa(t,i)}}function m$(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ja(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Wa(t,e)}else{if(ja(t,i))return;P7.set(i),n.uniformMatrix4fv(this.addr,!1,P7),Wa(t,i)}}function g$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function y$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ja(t,e))return;n.uniform2iv(this.addr,e),Wa(t,e)}}function v$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ja(t,e))return;n.uniform3iv(this.addr,e),Wa(t,e)}}function x$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ja(t,e))return;n.uniform4iv(this.addr,e),Wa(t,e)}}function b$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function S$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ja(t,e))return;n.uniform2uiv(this.addr,e),Wa(t,e)}}function _$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ja(t,e))return;n.uniform3uiv(this.addr,e),Wa(t,e)}}function M$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ja(t,e))return;n.uniform4uiv(this.addr,e),Wa(t,e)}}function T$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(U7.compareFunction=i6,a=U7):a=kO,t.setTexture2D(e||a,r)}function E$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||VO,r)}function w$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||HO,r)}function A$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||FO,r)}function C$(n){switch(n){case 5126:return c$;case 35664:return u$;case 35665:return f$;case 35666:return h$;case 35674:return d$;case 35675:return p$;case 35676:return m$;case 5124:case 35670:return g$;case 35667:case 35671:return y$;case 35668:case 35672:return v$;case 35669:case 35673:return x$;case 5125:return b$;case 36294:return S$;case 36295:return _$;case 36296:return M$;case 35678:case 36198:case 36298:case 36306:case 35682:return T$;case 35679:case 36299:case 36307:return E$;case 35680:case 36300:case 36308:case 36293:return w$;case 36289:case 36303:case 36311:case 36292:return A$}}function R$(n,e){n.uniform1fv(this.addr,e)}function D$(n,e){const t=jm(e,this.size,2);n.uniform2fv(this.addr,t)}function O$(n,e){const t=jm(e,this.size,3);n.uniform3fv(this.addr,t)}function N$(n,e){const t=jm(e,this.size,4);n.uniform4fv(this.addr,t)}function U$(n,e){const t=jm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function L$(n,e){const t=jm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function z$(n,e){const t=jm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function P$(n,e){n.uniform1iv(this.addr,e)}function B$(n,e){n.uniform2iv(this.addr,e)}function I$(n,e){n.uniform3iv(this.addr,e)}function k$(n,e){n.uniform4iv(this.addr,e)}function F$(n,e){n.uniform1uiv(this.addr,e)}function V$(n,e){n.uniform2uiv(this.addr,e)}function H$(n,e){n.uniform3uiv(this.addr,e)}function G$(n,e){n.uniform4uiv(this.addr,e)}function j$(n,e,t){const i=this.cache,r=e.length,a=V4(t,r);ja(i,a)||(n.uniform1iv(this.addr,a),Wa(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||kO,a[o])}function W$(n,e,t){const i=this.cache,r=e.length,a=V4(t,r);ja(i,a)||(n.uniform1iv(this.addr,a),Wa(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||VO,a[o])}function q$(n,e,t){const i=this.cache,r=e.length,a=V4(t,r);ja(i,a)||(n.uniform1iv(this.addr,a),Wa(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||HO,a[o])}function X$(n,e,t){const i=this.cache,r=e.length,a=V4(t,r);ja(i,a)||(n.uniform1iv(this.addr,a),Wa(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||FO,a[o])}function Y$(n){switch(n){case 5126:return R$;case 35664:return D$;case 35665:return O$;case 35666:return N$;case 35674:return U$;case 35675:return L$;case 35676:return z$;case 5124:case 35670:return P$;case 35667:case 35671:return B$;case 35668:case 35672:return I$;case 35669:case 35673:return k$;case 5125:return F$;case 36294:return V$;case 36295:return H$;case 36296:return G$;case 35678:case 36198:case 36298:case 36306:case 35682:return j$;case 35679:case 36299:case 36307:return W$;case 35680:case 36300:case 36308:case 36293:return q$;case 36289:case 36303:case 36311:case 36292:return X$}}class K${constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=C$(t.type)}}class Z${constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Y$(t.type)}}class Q${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const l=r[a];l.setValue(e,t[l.id],i)}}}const ZS=/(\w+)(\])?(\[|\.)?/g;function k7(n,e){n.seq.push(e),n.map[e.id]=e}function J$(n,e,t){const i=n.name,r=i.length;for(ZS.lastIndex=0;;){const a=ZS.exec(i),o=ZS.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&o+2===r){k7(t,f===void 0?new K$(l,n,e):new Z$(l,n,e));break}else{let g=t.map[l];g===void 0&&(g=new Q$(l),k7(t,g)),t=g}}}class gx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),o=e.getUniformLocation(t,a.name);J$(a,o,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const l=t[a],u=i[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function F7(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const $$=37297;let eee=0;function tee(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const l=o+1;i.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return i.join(`
`)}const V7=new jn;function nee(n){Mi._getMatrix(V7,Mi.workingColorSpace,n);const e=`mat3( ${V7.elements.map(t=>t.toFixed(4))} )`;switch(Mi.getTransfer(n)){case Qg:return[e,"LinearTransferOETF"];case Ki:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function H7(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+tee(n.getShaderSource(e),o)}else return r}function iee(n,e){const t=nee(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function ree(n,e){let t;switch(e){case mD:t="Linear";break;case gD:t="Reinhard";break;case yD:t="Cineon";break;case qM:t="ACESFilmic";break;case xD:t="AgX";break;case bD:t="Neutral";break;case vD:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Y2=new _e;function aee(){Mi.getLuminanceCoefficients(Y2);const n=Y2.x.toFixed(4),e=Y2.y.toFixed(4),t=Y2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function see(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rg).join(`
`)}function oee(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function lee(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let l=1;a.type===n.FLOAT_MAT2&&(l=2),a.type===n.FLOAT_MAT3&&(l=3),a.type===n.FLOAT_MAT4&&(l=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:l}}return t}function rg(n){return n!==""}function G7(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function j7(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cee=/^[ \t]*#include +<([\w\d./]+)>/gm;function A5(n){return n.replace(cee,fee)}const uee=new Map;function fee(n,e){let t=Qn[e];if(t===void 0){const i=uee.get(e);if(i!==void 0)t=Qn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return A5(t)}const hee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function W7(n){return n.replace(hee,dee)}function dee(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function q7(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function pee(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===s4?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===gg?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fc&&(e="SHADOWMAP_TYPE_VSM"),e}function mee(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ih:case sd:e="ENVMAP_TYPE_CUBE";break;case Vm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gee(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case sd:e="ENVMAP_MODE_REFRACTION";break}return e}function yee(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ry:e="ENVMAP_BLENDING_MULTIPLY";break;case dD:e="ENVMAP_BLENDING_MIX";break;case pD:e="ENVMAP_BLENDING_ADD";break}return e}function vee(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function xee(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,l=t.fragmentShader;const u=pee(t),f=mee(t),p=gee(t),g=yee(t),v=vee(t),S=see(t),T=oee(a),A=r.createProgram();let w,E,L=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(rg).join(`
`),w.length>0&&(w+=`
`),E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T].filter(rg).join(`
`),E.length>0&&(E+=`
`)):(w=[q7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rg).join(`
`),E=[q7(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,T,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Pu?"#define TONE_MAPPING":"",t.toneMapping!==Pu?Qn.tonemapping_pars_fragment:"",t.toneMapping!==Pu?ree("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Qn.colorspace_pars_fragment,iee("linearToOutputTexel",t.outputColorSpace),aee(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rg).join(`
`)),o=A5(o),o=G7(o,t),o=j7(o,t),l=A5(l),l=G7(l,t),l=j7(l,t),o=W7(o),l=W7(l),t.isRawShaderMaterial!==!0&&(L=`#version 300 es
`,w=[S,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,E=["#define varying in",t.glslVersion===y5?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===y5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const O=L+w+o,N=L+E+l,z=F7(r,r.VERTEX_SHADER,O),I=F7(r,r.FRAGMENT_SHADER,N);r.attachShader(A,z),r.attachShader(A,I),t.index0AttributeName!==void 0?r.bindAttribLocation(A,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function H(Q){if(n.debug.checkShaderErrors){const ee=r.getProgramInfoLog(A).trim(),te=r.getShaderInfoLog(z).trim(),oe=r.getShaderInfoLog(I).trim();let pe=!0,j=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if(pe=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,A,z,I);else{const ae=H7(r,z,"vertex"),le=H7(r,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+Q.name+`
Material Type: `+Q.type+`

Program Info Log: `+ee+`
`+ae+`
`+le)}else ee!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ee):(te===""||oe==="")&&(j=!1);j&&(Q.diagnostics={runnable:pe,programLog:ee,vertexShader:{log:te,prefix:w},fragmentShader:{log:oe,prefix:E}})}r.deleteShader(z),r.deleteShader(I),W=new gx(r,A),V=lee(r,A)}let W;this.getUniforms=function(){return W===void 0&&H(this),W};let V;this.getAttributes=function(){return V===void 0&&H(this),V};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(A,$$)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eee++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=z,this.fragmentShader=I,this}let bee=0;class See{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new _ee(e),t.set(e,i)),i}}class _ee{constructor(e){this.id=bee++,this.code=e,this.usedTimes=0}}function Mee(n,e,t,i,r,a,o){const l=new Nm,u=new See,f=new Set,p=[],g=r.logarithmicDepthBuffer,v=r.vertexTextures;let S=r.precision;const T={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(V){return f.add(V),V===0?"uv":`uv${V}`}function w(V,U,Q,ee,te){const oe=ee.fog,pe=te.geometry,j=V.isMeshStandardMaterial?ee.environment:null,ae=(V.isMeshStandardMaterial?t:e).get(V.envMap||j),le=ae&&ae.mapping===Vm?ae.image.height:null,fe=T[V.type];V.precision!==null&&(S=r.getMaxPrecision(V.precision),S!==V.precision&&console.warn("THREE.WebGLProgram.getParameters:",V.precision,"not supported, using",S,"instead."));const J=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,K=J!==void 0?J.length:0;let xe=0;pe.morphAttributes.position!==void 0&&(xe=1),pe.morphAttributes.normal!==void 0&&(xe=2),pe.morphAttributes.color!==void 0&&(xe=3);let Me,he,Te,ze;if(fe){const $t=Hc[fe];Me=$t.vertexShader,he=$t.fragmentShader}else Me=V.vertexShader,he=V.fragmentShader,u.update(V),Te=u.getVertexShaderID(V),ze=u.getFragmentShaderID(V);const Be=n.getRenderTarget(),ke=n.state.buffers.depth.getReversed(),yt=te.isInstancedMesh===!0,Qe=te.isBatchedMesh===!0,Je=!!V.map,Xe=!!V.matcap,Mt=!!ae,ce=!!V.aoMap,rt=!!V.lightMap,tt=!!V.bumpMap,Ze=!!V.normalMap,Le=!!V.displacementMap,ct=!!V.emissiveMap,We=!!V.metalnessMap,Ie=!!V.roughnessMap,ut=V.anisotropy>0,ue=V.clearcoat>0,$=V.dispersion>0,be=V.iridescence>0,De=V.sheen>0,Re=V.transmission>0,Ne=ut&&!!V.anisotropyMap,at=ue&&!!V.clearcoatMap,nt=ue&&!!V.clearcoatNormalMap,vt=ue&&!!V.clearcoatRoughnessMap,Rt=be&&!!V.iridescenceMap,Ye=be&&!!V.iridescenceThicknessMap,ot=De&&!!V.sheenColorMap,Ce=De&&!!V.sheenRoughnessMap,Ee=!!V.specularMap,Fe=!!V.specularColorMap,wt=!!V.specularIntensityMap,Ae=Re&&!!V.transmissionMap,xt=Re&&!!V.thicknessMap,mt=!!V.gradientMap,Lt=!!V.alphaMap,bt=V.alphaTest>0,ft=!!V.alphaHash,Ut=!!V.extensions;let It=Pu;V.toneMapped&&(Be===null||Be.isXRRenderTarget===!0)&&(It=n.toneMapping);const Ht={shaderID:fe,shaderType:V.type,shaderName:V.name,vertexShader:Me,fragmentShader:he,defines:V.defines,customVertexShaderID:Te,customFragmentShaderID:ze,isRawShaderMaterial:V.isRawShaderMaterial===!0,glslVersion:V.glslVersion,precision:S,batching:Qe,batchingColor:Qe&&te._colorsTexture!==null,instancing:yt,instancingColor:yt&&te.instanceColor!==null,instancingMorph:yt&&te.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Be===null?n.outputColorSpace:Be.isXRRenderTarget===!0?Be.texture.colorSpace:od,alphaToCoverage:!!V.alphaToCoverage,map:Je,matcap:Xe,envMap:Mt,envMapMode:Mt&&ae.mapping,envMapCubeUVHeight:le,aoMap:ce,lightMap:rt,bumpMap:tt,normalMap:Ze,displacementMap:v&&Le,emissiveMap:ct,normalMapObjectSpace:Ze&&V.normalMapType===wD,normalMapTangentSpace:Ze&&V.normalMapType===fd,metalnessMap:We,roughnessMap:Ie,anisotropy:ut,anisotropyMap:Ne,clearcoat:ue,clearcoatMap:at,clearcoatNormalMap:nt,clearcoatRoughnessMap:vt,dispersion:$,iridescence:be,iridescenceMap:Rt,iridescenceThicknessMap:Ye,sheen:De,sheenColorMap:ot,sheenRoughnessMap:Ce,specularMap:Ee,specularColorMap:Fe,specularIntensityMap:wt,transmission:Re,transmissionMap:Ae,thicknessMap:xt,gradientMap:mt,opaque:V.transparent===!1&&V.blending===E0&&V.alphaToCoverage===!1,alphaMap:Lt,alphaTest:bt,alphaHash:ft,combine:V.combine,mapUv:Je&&A(V.map.channel),aoMapUv:ce&&A(V.aoMap.channel),lightMapUv:rt&&A(V.lightMap.channel),bumpMapUv:tt&&A(V.bumpMap.channel),normalMapUv:Ze&&A(V.normalMap.channel),displacementMapUv:Le&&A(V.displacementMap.channel),emissiveMapUv:ct&&A(V.emissiveMap.channel),metalnessMapUv:We&&A(V.metalnessMap.channel),roughnessMapUv:Ie&&A(V.roughnessMap.channel),anisotropyMapUv:Ne&&A(V.anisotropyMap.channel),clearcoatMapUv:at&&A(V.clearcoatMap.channel),clearcoatNormalMapUv:nt&&A(V.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:vt&&A(V.clearcoatRoughnessMap.channel),iridescenceMapUv:Rt&&A(V.iridescenceMap.channel),iridescenceThicknessMapUv:Ye&&A(V.iridescenceThicknessMap.channel),sheenColorMapUv:ot&&A(V.sheenColorMap.channel),sheenRoughnessMapUv:Ce&&A(V.sheenRoughnessMap.channel),specularMapUv:Ee&&A(V.specularMap.channel),specularColorMapUv:Fe&&A(V.specularColorMap.channel),specularIntensityMapUv:wt&&A(V.specularIntensityMap.channel),transmissionMapUv:Ae&&A(V.transmissionMap.channel),thicknessMapUv:xt&&A(V.thicknessMap.channel),alphaMapUv:Lt&&A(V.alphaMap.channel),vertexTangents:!!pe.attributes.tangent&&(Ze||ut),vertexColors:V.vertexColors,vertexAlphas:V.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!pe.attributes.uv&&(Je||Lt),fog:!!oe,useFog:V.fog===!0,fogExp2:!!oe&&oe.isFogExp2,flatShading:V.flatShading===!0,sizeAttenuation:V.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:ke,skinning:te.isSkinnedMesh===!0,morphTargets:pe.morphAttributes.position!==void 0,morphNormals:pe.morphAttributes.normal!==void 0,morphColors:pe.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:xe,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:V.dithering,shadowMapEnabled:n.shadowMap.enabled&&Q.length>0,shadowMapType:n.shadowMap.type,toneMapping:It,decodeVideoTexture:Je&&V.map.isVideoTexture===!0&&Mi.getTransfer(V.map.colorSpace)===Ki,decodeVideoTextureEmissive:ct&&V.emissiveMap.isVideoTexture===!0&&Mi.getTransfer(V.emissiveMap.colorSpace)===Ki,premultipliedAlpha:V.premultipliedAlpha,doubleSided:V.side===nc,flipSided:V.side===bo,useDepthPacking:V.depthPacking>=0,depthPacking:V.depthPacking||0,index0AttributeName:V.index0AttributeName,extensionClipCullDistance:Ut&&V.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ut&&V.extensions.multiDraw===!0||Qe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:V.customProgramCacheKey()};return Ht.vertexUv1s=f.has(1),Ht.vertexUv2s=f.has(2),Ht.vertexUv3s=f.has(3),f.clear(),Ht}function E(V){const U=[];if(V.shaderID?U.push(V.shaderID):(U.push(V.customVertexShaderID),U.push(V.customFragmentShaderID)),V.defines!==void 0)for(const Q in V.defines)U.push(Q),U.push(V.defines[Q]);return V.isRawShaderMaterial===!1&&(L(U,V),O(U,V),U.push(n.outputColorSpace)),U.push(V.customProgramCacheKey),U.join()}function L(V,U){V.push(U.precision),V.push(U.outputColorSpace),V.push(U.envMapMode),V.push(U.envMapCubeUVHeight),V.push(U.mapUv),V.push(U.alphaMapUv),V.push(U.lightMapUv),V.push(U.aoMapUv),V.push(U.bumpMapUv),V.push(U.normalMapUv),V.push(U.displacementMapUv),V.push(U.emissiveMapUv),V.push(U.metalnessMapUv),V.push(U.roughnessMapUv),V.push(U.anisotropyMapUv),V.push(U.clearcoatMapUv),V.push(U.clearcoatNormalMapUv),V.push(U.clearcoatRoughnessMapUv),V.push(U.iridescenceMapUv),V.push(U.iridescenceThicknessMapUv),V.push(U.sheenColorMapUv),V.push(U.sheenRoughnessMapUv),V.push(U.specularMapUv),V.push(U.specularColorMapUv),V.push(U.specularIntensityMapUv),V.push(U.transmissionMapUv),V.push(U.thicknessMapUv),V.push(U.combine),V.push(U.fogExp2),V.push(U.sizeAttenuation),V.push(U.morphTargetsCount),V.push(U.morphAttributeCount),V.push(U.numDirLights),V.push(U.numPointLights),V.push(U.numSpotLights),V.push(U.numSpotLightMaps),V.push(U.numHemiLights),V.push(U.numRectAreaLights),V.push(U.numDirLightShadows),V.push(U.numPointLightShadows),V.push(U.numSpotLightShadows),V.push(U.numSpotLightShadowsWithMaps),V.push(U.numLightProbes),V.push(U.shadowMapType),V.push(U.toneMapping),V.push(U.numClippingPlanes),V.push(U.numClipIntersection),V.push(U.depthPacking)}function O(V,U){l.disableAll(),U.supportsVertexTextures&&l.enable(0),U.instancing&&l.enable(1),U.instancingColor&&l.enable(2),U.instancingMorph&&l.enable(3),U.matcap&&l.enable(4),U.envMap&&l.enable(5),U.normalMapObjectSpace&&l.enable(6),U.normalMapTangentSpace&&l.enable(7),U.clearcoat&&l.enable(8),U.iridescence&&l.enable(9),U.alphaTest&&l.enable(10),U.vertexColors&&l.enable(11),U.vertexAlphas&&l.enable(12),U.vertexUv1s&&l.enable(13),U.vertexUv2s&&l.enable(14),U.vertexUv3s&&l.enable(15),U.vertexTangents&&l.enable(16),U.anisotropy&&l.enable(17),U.alphaHash&&l.enable(18),U.batching&&l.enable(19),U.dispersion&&l.enable(20),U.batchingColor&&l.enable(21),V.push(l.mask),l.disableAll(),U.fog&&l.enable(0),U.useFog&&l.enable(1),U.flatShading&&l.enable(2),U.logarithmicDepthBuffer&&l.enable(3),U.reverseDepthBuffer&&l.enable(4),U.skinning&&l.enable(5),U.morphTargets&&l.enable(6),U.morphNormals&&l.enable(7),U.morphColors&&l.enable(8),U.premultipliedAlpha&&l.enable(9),U.shadowMapEnabled&&l.enable(10),U.doubleSided&&l.enable(11),U.flipSided&&l.enable(12),U.useDepthPacking&&l.enable(13),U.dithering&&l.enable(14),U.transmission&&l.enable(15),U.sheen&&l.enable(16),U.opaque&&l.enable(17),U.pointsUvs&&l.enable(18),U.decodeVideoTexture&&l.enable(19),U.decodeVideoTextureEmissive&&l.enable(20),U.alphaToCoverage&&l.enable(21),V.push(l.mask)}function N(V){const U=T[V.type];let Q;if(U){const ee=Hc[U];Q=ty.clone(ee.uniforms)}else Q=V.uniforms;return Q}function z(V,U){let Q;for(let ee=0,te=p.length;ee<te;ee++){const oe=p[ee];if(oe.cacheKey===U){Q=oe,++Q.usedTimes;break}}return Q===void 0&&(Q=new xee(n,U,V,a),p.push(Q)),Q}function I(V){if(--V.usedTimes===0){const U=p.indexOf(V);p[U]=p[p.length-1],p.pop(),V.destroy()}}function H(V){u.remove(V)}function W(){u.dispose()}return{getParameters:w,getProgramCacheKey:E,getUniforms:N,acquireProgram:z,releaseProgram:I,releaseShaderCache:H,programs:p,dispose:W}}function Tee(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function r(o,l,u){n.get(o)[l]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function Eee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function X7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Y7(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function o(g,v,S,T,A,w){let E=n[e];return E===void 0?(E={id:g.id,object:g,geometry:v,material:S,groupOrder:T,renderOrder:g.renderOrder,z:A,group:w},n[e]=E):(E.id=g.id,E.object=g,E.geometry=v,E.material=S,E.groupOrder=T,E.renderOrder=g.renderOrder,E.z=A,E.group=w),e++,E}function l(g,v,S,T,A,w){const E=o(g,v,S,T,A,w);S.transmission>0?i.push(E):S.transparent===!0?r.push(E):t.push(E)}function u(g,v,S,T,A,w){const E=o(g,v,S,T,A,w);S.transmission>0?i.unshift(E):S.transparent===!0?r.unshift(E):t.unshift(E)}function f(g,v){t.length>1&&t.sort(g||Eee),i.length>1&&i.sort(v||X7),r.length>1&&r.sort(v||X7)}function p(){for(let g=e,v=n.length;g<v;g++){const S=n[g];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:l,unshift:u,finish:p,sort:f}}function wee(){let n=new WeakMap;function e(i,r){const a=n.get(i);let o;return a===void 0?(o=new Y7,n.set(i,[o])):r>=a.length?(o=new Y7,a.push(o)):o=a[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Aee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new _e,color:new Qt};break;case"SpotLight":t={position:new _e,direction:new _e,color:new Qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new _e,color:new Qt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new _e,skyColor:new Qt,groundColor:new Qt};break;case"RectAreaLight":t={color:new Qt,position:new _e,halfWidth:new _e,halfHeight:new _e};break}return n[e.id]=t,t}}}function Cee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Ree=0;function Dee(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Oee(n){const e=new Aee,t=Cee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new _e);const r=new _e,a=new Tn,o=new Tn;function l(f){let p=0,g=0,v=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let S=0,T=0,A=0,w=0,E=0,L=0,O=0,N=0,z=0,I=0,H=0;f.sort(Dee);for(let V=0,U=f.length;V<U;V++){const Q=f[V],ee=Q.color,te=Q.intensity,oe=Q.distance,pe=Q.shadow&&Q.shadow.map?Q.shadow.map.texture:null;if(Q.isAmbientLight)p+=ee.r*te,g+=ee.g*te,v+=ee.b*te;else if(Q.isLightProbe){for(let j=0;j<9;j++)i.probe[j].addScaledVector(Q.sh.coefficients[j],te);H++}else if(Q.isDirectionalLight){const j=e.get(Q);if(j.color.copy(Q.color).multiplyScalar(Q.intensity),Q.castShadow){const ae=Q.shadow,le=t.get(Q);le.shadowIntensity=ae.intensity,le.shadowBias=ae.bias,le.shadowNormalBias=ae.normalBias,le.shadowRadius=ae.radius,le.shadowMapSize=ae.mapSize,i.directionalShadow[S]=le,i.directionalShadowMap[S]=pe,i.directionalShadowMatrix[S]=Q.shadow.matrix,L++}i.directional[S]=j,S++}else if(Q.isSpotLight){const j=e.get(Q);j.position.setFromMatrixPosition(Q.matrixWorld),j.color.copy(ee).multiplyScalar(te),j.distance=oe,j.coneCos=Math.cos(Q.angle),j.penumbraCos=Math.cos(Q.angle*(1-Q.penumbra)),j.decay=Q.decay,i.spot[A]=j;const ae=Q.shadow;if(Q.map&&(i.spotLightMap[z]=Q.map,z++,ae.updateMatrices(Q),Q.castShadow&&I++),i.spotLightMatrix[A]=ae.matrix,Q.castShadow){const le=t.get(Q);le.shadowIntensity=ae.intensity,le.shadowBias=ae.bias,le.shadowNormalBias=ae.normalBias,le.shadowRadius=ae.radius,le.shadowMapSize=ae.mapSize,i.spotShadow[A]=le,i.spotShadowMap[A]=pe,N++}A++}else if(Q.isRectAreaLight){const j=e.get(Q);j.color.copy(ee).multiplyScalar(te),j.halfWidth.set(Q.width*.5,0,0),j.halfHeight.set(0,Q.height*.5,0),i.rectArea[w]=j,w++}else if(Q.isPointLight){const j=e.get(Q);if(j.color.copy(Q.color).multiplyScalar(Q.intensity),j.distance=Q.distance,j.decay=Q.decay,Q.castShadow){const ae=Q.shadow,le=t.get(Q);le.shadowIntensity=ae.intensity,le.shadowBias=ae.bias,le.shadowNormalBias=ae.normalBias,le.shadowRadius=ae.radius,le.shadowMapSize=ae.mapSize,le.shadowCameraNear=ae.camera.near,le.shadowCameraFar=ae.camera.far,i.pointShadow[T]=le,i.pointShadowMap[T]=pe,i.pointShadowMatrix[T]=Q.shadow.matrix,O++}i.point[T]=j,T++}else if(Q.isHemisphereLight){const j=e.get(Q);j.skyColor.copy(Q.color).multiplyScalar(te),j.groundColor.copy(Q.groundColor).multiplyScalar(te),i.hemi[E]=j,E++}}w>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Yt.LTC_FLOAT_1,i.rectAreaLTC2=Yt.LTC_FLOAT_2):(i.rectAreaLTC1=Yt.LTC_HALF_1,i.rectAreaLTC2=Yt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const W=i.hash;(W.directionalLength!==S||W.pointLength!==T||W.spotLength!==A||W.rectAreaLength!==w||W.hemiLength!==E||W.numDirectionalShadows!==L||W.numPointShadows!==O||W.numSpotShadows!==N||W.numSpotMaps!==z||W.numLightProbes!==H)&&(i.directional.length=S,i.spot.length=A,i.rectArea.length=w,i.point.length=T,i.hemi.length=E,i.directionalShadow.length=L,i.directionalShadowMap.length=L,i.pointShadow.length=O,i.pointShadowMap.length=O,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=L,i.pointShadowMatrix.length=O,i.spotLightMatrix.length=N+z-I,i.spotLightMap.length=z,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=H,W.directionalLength=S,W.pointLength=T,W.spotLength=A,W.rectAreaLength=w,W.hemiLength=E,W.numDirectionalShadows=L,W.numPointShadows=O,W.numSpotShadows=N,W.numSpotMaps=z,W.numLightProbes=H,i.version=Ree++)}function u(f,p){let g=0,v=0,S=0,T=0,A=0;const w=p.matrixWorldInverse;for(let E=0,L=f.length;E<L;E++){const O=f[E];if(O.isDirectionalLight){const N=i.directional[g];N.direction.setFromMatrixPosition(O.matrixWorld),r.setFromMatrixPosition(O.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),g++}else if(O.isSpotLight){const N=i.spot[S];N.position.setFromMatrixPosition(O.matrixWorld),N.position.applyMatrix4(w),N.direction.setFromMatrixPosition(O.matrixWorld),r.setFromMatrixPosition(O.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),S++}else if(O.isRectAreaLight){const N=i.rectArea[T];N.position.setFromMatrixPosition(O.matrixWorld),N.position.applyMatrix4(w),o.identity(),a.copy(O.matrixWorld),a.premultiply(w),o.extractRotation(a),N.halfWidth.set(O.width*.5,0,0),N.halfHeight.set(0,O.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),T++}else if(O.isPointLight){const N=i.point[v];N.position.setFromMatrixPosition(O.matrixWorld),N.position.applyMatrix4(w),v++}else if(O.isHemisphereLight){const N=i.hemi[A];N.direction.setFromMatrixPosition(O.matrixWorld),N.direction.transformDirection(w),A++}}}return{setup:l,setupView:u,state:i}}function K7(n){const e=new Oee(n),t=[],i=[];function r(p){f.camera=p,t.length=0,i.length=0}function a(p){t.push(p)}function o(p){i.push(p)}function l(){e.setup(t)}function u(p){e.setupView(t,p)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function Nee(n){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let l;return o===void 0?(l=new K7(n),e.set(r,[l])):a>=o.length?(l=new K7(n),o.push(l)):l=o[a],l}function i(){e=new WeakMap}return{get:t,dispose:i}}const Uee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zee(n,e,t){let i=new Gm;const r=new Ct,a=new Ct,o=new ii,l=new B4({depthPacking:n6}),u=new I4,f={},p=t.maxTextureSize,g={[nh]:bo,[bo]:nh,[nc]:nc},v=new lc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ct},radius:{value:4}},vertexShader:Uee,fragmentShader:Lee}),S=v.clone();S.defines.HORIZONTAL_PASS=1;const T=new $n;T.setAttribute("position",new lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Vr(T,v),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s4;let E=this.type;this.render=function(I,H,W){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||I.length===0)return;const V=n.getRenderTarget(),U=n.getActiveCubeFace(),Q=n.getActiveMipmapLevel(),ee=n.state;ee.setBlending(Yf),ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);const te=E!==Fc&&this.type===Fc,oe=E===Fc&&this.type!==Fc;for(let pe=0,j=I.length;pe<j;pe++){const ae=I[pe],le=ae.shadow;if(le===void 0){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(le.autoUpdate===!1&&le.needsUpdate===!1)continue;r.copy(le.mapSize);const fe=le.getFrameExtents();if(r.multiply(fe),a.copy(le.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(a.x=Math.floor(p/fe.x),r.x=a.x*fe.x,le.mapSize.x=a.x),r.y>p&&(a.y=Math.floor(p/fe.y),r.y=a.y*fe.y,le.mapSize.y=a.y)),le.map===null||te===!0||oe===!0){const K=this.type!==Fc?{minFilter:Ss,magFilter:Ss}:{};le.map!==null&&le.map.dispose(),le.map=new Fu(r.x,r.y,K),le.map.texture.name=ae.name+".shadowMap",le.camera.updateProjectionMatrix()}n.setRenderTarget(le.map),n.clear();const J=le.getViewportCount();for(let K=0;K<J;K++){const xe=le.getViewport(K);o.set(a.x*xe.x,a.y*xe.y,a.x*xe.z,a.y*xe.w),ee.viewport(o),le.updateMatrices(ae,K),i=le.getFrustum(),N(H,W,le.camera,ae,this.type)}le.isPointLightShadow!==!0&&this.type===Fc&&L(le,W),le.needsUpdate=!1}E=this.type,w.needsUpdate=!1,n.setRenderTarget(V,U,Q)};function L(I,H){const W=e.update(A);v.defines.VSM_SAMPLES!==I.blurSamples&&(v.defines.VSM_SAMPLES=I.blurSamples,S.defines.VSM_SAMPLES=I.blurSamples,v.needsUpdate=!0,S.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Fu(r.x,r.y)),v.uniforms.shadow_pass.value=I.map.texture,v.uniforms.resolution.value=I.mapSize,v.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(H,null,W,v,A,null),S.uniforms.shadow_pass.value=I.mapPass.texture,S.uniforms.resolution.value=I.mapSize,S.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(H,null,W,S,A,null)}function O(I,H,W,V){let U=null;const Q=W.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(Q!==void 0)U=Q;else if(U=W.isPointLight===!0?u:l,n.localClippingEnabled&&H.clipShadows===!0&&Array.isArray(H.clippingPlanes)&&H.clippingPlanes.length!==0||H.displacementMap&&H.displacementScale!==0||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0||H.alphaToCoverage===!0){const ee=U.uuid,te=H.uuid;let oe=f[ee];oe===void 0&&(oe={},f[ee]=oe);let pe=oe[te];pe===void 0&&(pe=U.clone(),oe[te]=pe,H.addEventListener("dispose",z)),U=pe}if(U.visible=H.visible,U.wireframe=H.wireframe,V===Fc?U.side=H.shadowSide!==null?H.shadowSide:H.side:U.side=H.shadowSide!==null?H.shadowSide:g[H.side],U.alphaMap=H.alphaMap,U.alphaTest=H.alphaToCoverage===!0?.5:H.alphaTest,U.map=H.map,U.clipShadows=H.clipShadows,U.clippingPlanes=H.clippingPlanes,U.clipIntersection=H.clipIntersection,U.displacementMap=H.displacementMap,U.displacementScale=H.displacementScale,U.displacementBias=H.displacementBias,U.wireframeLinewidth=H.wireframeLinewidth,U.linewidth=H.linewidth,W.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const ee=n.properties.get(U);ee.light=W}return U}function N(I,H,W,V,U){if(I.visible===!1)return;if(I.layers.test(H.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&U===Fc)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(W.matrixWorldInverse,I.matrixWorld);const te=e.update(I),oe=I.material;if(Array.isArray(oe)){const pe=te.groups;for(let j=0,ae=pe.length;j<ae;j++){const le=pe[j],fe=oe[le.materialIndex];if(fe&&fe.visible){const J=O(I,fe,V,U);I.onBeforeShadow(n,I,H,W,te,J,le),n.renderBufferDirect(W,null,te,J,I,le),I.onAfterShadow(n,I,H,W,te,J,le)}}}else if(oe.visible){const pe=O(I,oe,V,U);I.onBeforeShadow(n,I,H,W,te,pe,null),n.renderBufferDirect(W,null,te,pe,I,null),I.onAfterShadow(n,I,H,W,te,pe,null)}}const ee=I.children;for(let te=0,oe=ee.length;te<oe;te++)N(ee[te],H,W,V,U)}function z(I){I.target.removeEventListener("dispose",z);for(const W in f){const V=f[W],U=I.target.uuid;U in V&&(V[U].dispose(),delete V[U])}}}const Pee={[Gx]:jx,[Wx]:Yx,[qx]:Kx,[L0]:Xx,[jx]:Gx,[Yx]:Wx,[Kx]:qx,[Xx]:L0};function Bee(n,e){function t(){let Ae=!1;const xt=new ii;let mt=null;const Lt=new ii(0,0,0,0);return{setMask:function(bt){mt!==bt&&!Ae&&(n.colorMask(bt,bt,bt,bt),mt=bt)},setLocked:function(bt){Ae=bt},setClear:function(bt,ft,Ut,It,Ht){Ht===!0&&(bt*=It,ft*=It,Ut*=It),xt.set(bt,ft,Ut,It),Lt.equals(xt)===!1&&(n.clearColor(bt,ft,Ut,It),Lt.copy(xt))},reset:function(){Ae=!1,mt=null,Lt.set(-1,0,0,0)}}}function i(){let Ae=!1,xt=!1,mt=null,Lt=null,bt=null;return{setReversed:function(ft){if(xt!==ft){const Ut=e.get("EXT_clip_control");ft?Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.ZERO_TO_ONE_EXT):Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.NEGATIVE_ONE_TO_ONE_EXT),xt=ft;const It=bt;bt=null,this.setClear(It)}},getReversed:function(){return xt},setTest:function(ft){ft?Be(n.DEPTH_TEST):ke(n.DEPTH_TEST)},setMask:function(ft){mt!==ft&&!Ae&&(n.depthMask(ft),mt=ft)},setFunc:function(ft){if(xt&&(ft=Pee[ft]),Lt!==ft){switch(ft){case Gx:n.depthFunc(n.NEVER);break;case jx:n.depthFunc(n.ALWAYS);break;case Wx:n.depthFunc(n.LESS);break;case L0:n.depthFunc(n.LEQUAL);break;case qx:n.depthFunc(n.EQUAL);break;case Xx:n.depthFunc(n.GEQUAL);break;case Yx:n.depthFunc(n.GREATER);break;case Kx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Lt=ft}},setLocked:function(ft){Ae=ft},setClear:function(ft){bt!==ft&&(xt&&(ft=1-ft),n.clearDepth(ft),bt=ft)},reset:function(){Ae=!1,mt=null,Lt=null,bt=null,xt=!1}}}function r(){let Ae=!1,xt=null,mt=null,Lt=null,bt=null,ft=null,Ut=null,It=null,Ht=null;return{setTest:function($t){Ae||($t?Be(n.STENCIL_TEST):ke(n.STENCIL_TEST))},setMask:function($t){xt!==$t&&!Ae&&(n.stencilMask($t),xt=$t)},setFunc:function($t,ei,Pn){(mt!==$t||Lt!==ei||bt!==Pn)&&(n.stencilFunc($t,ei,Pn),mt=$t,Lt=ei,bt=Pn)},setOp:function($t,ei,Pn){(ft!==$t||Ut!==ei||It!==Pn)&&(n.stencilOp($t,ei,Pn),ft=$t,Ut=ei,It=Pn)},setLocked:function($t){Ae=$t},setClear:function($t){Ht!==$t&&(n.clearStencil($t),Ht=$t)},reset:function(){Ae=!1,xt=null,mt=null,Lt=null,bt=null,ft=null,Ut=null,It=null,Ht=null}}}const a=new t,o=new i,l=new r,u=new WeakMap,f=new WeakMap;let p={},g={},v=new WeakMap,S=[],T=null,A=!1,w=null,E=null,L=null,O=null,N=null,z=null,I=null,H=new Qt(0,0,0),W=0,V=!1,U=null,Q=null,ee=null,te=null,oe=null;const pe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let j=!1,ae=0;const le=n.getParameter(n.VERSION);le.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(le)[1]),j=ae>=1):le.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(le)[1]),j=ae>=2);let fe=null,J={};const K=n.getParameter(n.SCISSOR_BOX),xe=n.getParameter(n.VIEWPORT),Me=new ii().fromArray(K),he=new ii().fromArray(xe);function Te(Ae,xt,mt,Lt){const bt=new Uint8Array(4),ft=n.createTexture();n.bindTexture(Ae,ft),n.texParameteri(Ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<mt;Ut++)Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,Lt,0,n.RGBA,n.UNSIGNED_BYTE,bt):n.texImage2D(xt+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,bt);return ft}const ze={};ze[n.TEXTURE_2D]=Te(n.TEXTURE_2D,n.TEXTURE_2D,1),ze[n.TEXTURE_CUBE_MAP]=Te(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ze[n.TEXTURE_2D_ARRAY]=Te(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ze[n.TEXTURE_3D]=Te(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Be(n.DEPTH_TEST),o.setFunc(L0),tt(!1),Ze(f5),Be(n.CULL_FACE),ce(Yf);function Be(Ae){p[Ae]!==!0&&(n.enable(Ae),p[Ae]=!0)}function ke(Ae){p[Ae]!==!1&&(n.disable(Ae),p[Ae]=!1)}function yt(Ae,xt){return g[Ae]!==xt?(n.bindFramebuffer(Ae,xt),g[Ae]=xt,Ae===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=xt),Ae===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=xt),!0):!1}function Qe(Ae,xt){let mt=S,Lt=!1;if(Ae){mt=v.get(xt),mt===void 0&&(mt=[],v.set(xt,mt));const bt=Ae.textures;if(mt.length!==bt.length||mt[0]!==n.COLOR_ATTACHMENT0){for(let ft=0,Ut=bt.length;ft<Ut;ft++)mt[ft]=n.COLOR_ATTACHMENT0+ft;mt.length=bt.length,Lt=!0}}else mt[0]!==n.BACK&&(mt[0]=n.BACK,Lt=!0);Lt&&n.drawBuffers(mt)}function Je(Ae){return T!==Ae?(n.useProgram(Ae),T=Ae,!0):!1}const Xe={[$h]:n.FUNC_ADD,[Z9]:n.FUNC_SUBTRACT,[Q9]:n.FUNC_REVERSE_SUBTRACT};Xe[J9]=n.MIN,Xe[$9]=n.MAX;const Mt={[eD]:n.ZERO,[tD]:n.ONE,[nD]:n.SRC_COLOR,[Vx]:n.SRC_ALPHA,[lD]:n.SRC_ALPHA_SATURATE,[sD]:n.DST_COLOR,[rD]:n.DST_ALPHA,[iD]:n.ONE_MINUS_SRC_COLOR,[Hx]:n.ONE_MINUS_SRC_ALPHA,[oD]:n.ONE_MINUS_DST_COLOR,[aD]:n.ONE_MINUS_DST_ALPHA,[cD]:n.CONSTANT_COLOR,[uD]:n.ONE_MINUS_CONSTANT_COLOR,[fD]:n.CONSTANT_ALPHA,[hD]:n.ONE_MINUS_CONSTANT_ALPHA};function ce(Ae,xt,mt,Lt,bt,ft,Ut,It,Ht,$t){if(Ae===Yf){A===!0&&(ke(n.BLEND),A=!1);return}if(A===!1&&(Be(n.BLEND),A=!0),Ae!==K9){if(Ae!==w||$t!==V){if((E!==$h||N!==$h)&&(n.blendEquation(n.FUNC_ADD),E=$h,N=$h),$t)switch(Ae){case E0:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case h5:n.blendFunc(n.ONE,n.ONE);break;case d5:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case p5:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case E0:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case h5:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case d5:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case p5:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}L=null,O=null,z=null,I=null,H.set(0,0,0),W=0,w=Ae,V=$t}return}bt=bt||xt,ft=ft||mt,Ut=Ut||Lt,(xt!==E||bt!==N)&&(n.blendEquationSeparate(Xe[xt],Xe[bt]),E=xt,N=bt),(mt!==L||Lt!==O||ft!==z||Ut!==I)&&(n.blendFuncSeparate(Mt[mt],Mt[Lt],Mt[ft],Mt[Ut]),L=mt,O=Lt,z=ft,I=Ut),(It.equals(H)===!1||Ht!==W)&&(n.blendColor(It.r,It.g,It.b,Ht),H.copy(It),W=Ht),w=Ae,V=!1}function rt(Ae,xt){Ae.side===nc?ke(n.CULL_FACE):Be(n.CULL_FACE);let mt=Ae.side===bo;xt&&(mt=!mt),tt(mt),Ae.blending===E0&&Ae.transparent===!1?ce(Yf):ce(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),o.setFunc(Ae.depthFunc),o.setTest(Ae.depthTest),o.setMask(Ae.depthWrite),a.setMask(Ae.colorWrite);const Lt=Ae.stencilWrite;l.setTest(Lt),Lt&&(l.setMask(Ae.stencilWriteMask),l.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),l.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),ct(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?Be(n.SAMPLE_ALPHA_TO_COVERAGE):ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function tt(Ae){U!==Ae&&(Ae?n.frontFace(n.CW):n.frontFace(n.CCW),U=Ae)}function Ze(Ae){Ae!==q9?(Be(n.CULL_FACE),Ae!==Q&&(Ae===f5?n.cullFace(n.BACK):Ae===X9?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ke(n.CULL_FACE),Q=Ae}function Le(Ae){Ae!==ee&&(j&&n.lineWidth(Ae),ee=Ae)}function ct(Ae,xt,mt){Ae?(Be(n.POLYGON_OFFSET_FILL),(te!==xt||oe!==mt)&&(n.polygonOffset(xt,mt),te=xt,oe=mt)):ke(n.POLYGON_OFFSET_FILL)}function We(Ae){Ae?Be(n.SCISSOR_TEST):ke(n.SCISSOR_TEST)}function Ie(Ae){Ae===void 0&&(Ae=n.TEXTURE0+pe-1),fe!==Ae&&(n.activeTexture(Ae),fe=Ae)}function ut(Ae,xt,mt){mt===void 0&&(fe===null?mt=n.TEXTURE0+pe-1:mt=fe);let Lt=J[mt];Lt===void 0&&(Lt={type:void 0,texture:void 0},J[mt]=Lt),(Lt.type!==Ae||Lt.texture!==xt)&&(fe!==mt&&(n.activeTexture(mt),fe=mt),n.bindTexture(Ae,xt||ze[Ae]),Lt.type=Ae,Lt.texture=xt)}function ue(){const Ae=J[fe];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function $(){try{n.compressedTexImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function be(){try{n.compressedTexImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function De(){try{n.texSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Re(){try{n.texSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ne(){try{n.compressedTexSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function at(){try{n.compressedTexSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function nt(){try{n.texStorage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function vt(){try{n.texStorage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Rt(){try{n.texImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ye(){try{n.texImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ot(Ae){Me.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),Me.copy(Ae))}function Ce(Ae){he.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),he.copy(Ae))}function Ee(Ae,xt){let mt=f.get(xt);mt===void 0&&(mt=new WeakMap,f.set(xt,mt));let Lt=mt.get(Ae);Lt===void 0&&(Lt=n.getUniformBlockIndex(xt,Ae.name),mt.set(Ae,Lt))}function Fe(Ae,xt){const Lt=f.get(xt).get(Ae);u.get(xt)!==Lt&&(n.uniformBlockBinding(xt,Lt,Ae.__bindingPointIndex),u.set(xt,Lt))}function wt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},fe=null,J={},g={},v=new WeakMap,S=[],T=null,A=!1,w=null,E=null,L=null,O=null,N=null,z=null,I=null,H=new Qt(0,0,0),W=0,V=!1,U=null,Q=null,ee=null,te=null,oe=null,Me.set(0,0,n.canvas.width,n.canvas.height),he.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:Be,disable:ke,bindFramebuffer:yt,drawBuffers:Qe,useProgram:Je,setBlending:ce,setMaterial:rt,setFlipSided:tt,setCullFace:Ze,setLineWidth:Le,setPolygonOffset:ct,setScissorTest:We,activeTexture:Ie,bindTexture:ut,unbindTexture:ue,compressedTexImage2D:$,compressedTexImage3D:be,texImage2D:Rt,texImage3D:Ye,updateUBOMapping:Ee,uniformBlockBinding:Fe,texStorage2D:nt,texStorage3D:vt,texSubImage2D:De,texSubImage3D:Re,compressedTexSubImage2D:Ne,compressedTexSubImage3D:at,scissor:ot,viewport:Ce,reset:wt}}function Iee(n,e,t,i,r,a,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new Ct,p=new WeakMap;let g;const v=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function T(ue,$){return S?new OffscreenCanvas(ue,$):ey("canvas")}function A(ue,$,be){let De=1;const Re=ut(ue);if((Re.width>be||Re.height>be)&&(De=be/Math.max(Re.width,Re.height)),De<1)if(typeof HTMLImageElement<"u"&&ue instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ue instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ue instanceof ImageBitmap||typeof VideoFrame<"u"&&ue instanceof VideoFrame){const Ne=Math.floor(De*Re.width),at=Math.floor(De*Re.height);g===void 0&&(g=T(Ne,at));const nt=$?T(Ne,at):g;return nt.width=Ne,nt.height=at,nt.getContext("2d").drawImage(ue,0,0,Ne,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+Ne+"x"+at+")."),nt}else return"data"in ue&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),ue;return ue}function w(ue){return ue.generateMipmaps}function E(ue){n.generateMipmap(ue)}function L(ue){return ue.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ue.isWebGL3DRenderTarget?n.TEXTURE_3D:ue.isWebGLArrayRenderTarget||ue.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function O(ue,$,be,De,Re=!1){if(ue!==null){if(n[ue]!==void 0)return n[ue];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ue+"'")}let Ne=$;if($===n.RED&&(be===n.FLOAT&&(Ne=n.R32F),be===n.HALF_FLOAT&&(Ne=n.R16F),be===n.UNSIGNED_BYTE&&(Ne=n.R8)),$===n.RED_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.R8UI),be===n.UNSIGNED_SHORT&&(Ne=n.R16UI),be===n.UNSIGNED_INT&&(Ne=n.R32UI),be===n.BYTE&&(Ne=n.R8I),be===n.SHORT&&(Ne=n.R16I),be===n.INT&&(Ne=n.R32I)),$===n.RG&&(be===n.FLOAT&&(Ne=n.RG32F),be===n.HALF_FLOAT&&(Ne=n.RG16F),be===n.UNSIGNED_BYTE&&(Ne=n.RG8)),$===n.RG_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RG8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RG16UI),be===n.UNSIGNED_INT&&(Ne=n.RG32UI),be===n.BYTE&&(Ne=n.RG8I),be===n.SHORT&&(Ne=n.RG16I),be===n.INT&&(Ne=n.RG32I)),$===n.RGB_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RGB8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RGB16UI),be===n.UNSIGNED_INT&&(Ne=n.RGB32UI),be===n.BYTE&&(Ne=n.RGB8I),be===n.SHORT&&(Ne=n.RGB16I),be===n.INT&&(Ne=n.RGB32I)),$===n.RGBA_INTEGER&&(be===n.UNSIGNED_BYTE&&(Ne=n.RGBA8UI),be===n.UNSIGNED_SHORT&&(Ne=n.RGBA16UI),be===n.UNSIGNED_INT&&(Ne=n.RGBA32UI),be===n.BYTE&&(Ne=n.RGBA8I),be===n.SHORT&&(Ne=n.RGBA16I),be===n.INT&&(Ne=n.RGBA32I)),$===n.RGB&&be===n.UNSIGNED_INT_5_9_9_9_REV&&(Ne=n.RGB9_E5),$===n.RGBA){const at=Re?Qg:Mi.getTransfer(De);be===n.FLOAT&&(Ne=n.RGBA32F),be===n.HALF_FLOAT&&(Ne=n.RGBA16F),be===n.UNSIGNED_BYTE&&(Ne=at===Ki?n.SRGB8_ALPHA8:n.RGBA8),be===n.UNSIGNED_SHORT_4_4_4_4&&(Ne=n.RGBA4),be===n.UNSIGNED_SHORT_5_5_5_1&&(Ne=n.RGB5_A1)}return(Ne===n.R16F||Ne===n.R32F||Ne===n.RG16F||Ne===n.RG32F||Ne===n.RGBA16F||Ne===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ne}function N(ue,$){let be;return ue?$===null||$===rh||$===Cm?be=n.DEPTH24_STENCIL8:$===Zo?be=n.DEPTH32F_STENCIL8:$===Am&&(be=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===rh||$===Cm?be=n.DEPTH_COMPONENT24:$===Zo?be=n.DEPTH_COMPONENT32F:$===Am&&(be=n.DEPTH_COMPONENT16),be}function z(ue,$){return w(ue)===!0||ue.isFramebufferTexture&&ue.minFilter!==Ss&&ue.minFilter!==Sa?Math.log2(Math.max($.width,$.height))+1:ue.mipmaps!==void 0&&ue.mipmaps.length>0?ue.mipmaps.length:ue.isCompressedTexture&&Array.isArray(ue.image)?$.mipmaps.length:1}function I(ue){const $=ue.target;$.removeEventListener("dispose",I),W($),$.isVideoTexture&&p.delete($)}function H(ue){const $=ue.target;$.removeEventListener("dispose",H),U($)}function W(ue){const $=i.get(ue);if($.__webglInit===void 0)return;const be=ue.source,De=v.get(be);if(De){const Re=De[$.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&V(ue),Object.keys(De).length===0&&v.delete(be)}i.remove(ue)}function V(ue){const $=i.get(ue);n.deleteTexture($.__webglTexture);const be=ue.source,De=v.get(be);delete De[$.__cacheKey],o.memory.textures--}function U(ue){const $=i.get(ue);if(ue.depthTexture&&(ue.depthTexture.dispose(),i.remove(ue.depthTexture)),ue.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray($.__webglFramebuffer[De]))for(let Re=0;Re<$.__webglFramebuffer[De].length;Re++)n.deleteFramebuffer($.__webglFramebuffer[De][Re]);else n.deleteFramebuffer($.__webglFramebuffer[De]);$.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer[De])}else{if(Array.isArray($.__webglFramebuffer))for(let De=0;De<$.__webglFramebuffer.length;De++)n.deleteFramebuffer($.__webglFramebuffer[De]);else n.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&n.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let De=0;De<$.__webglColorRenderbuffer.length;De++)$.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer($.__webglColorRenderbuffer[De]);$.__webglDepthRenderbuffer&&n.deleteRenderbuffer($.__webglDepthRenderbuffer)}const be=ue.textures;for(let De=0,Re=be.length;De<Re;De++){const Ne=i.get(be[De]);Ne.__webglTexture&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),i.remove(be[De])}i.remove(ue)}let Q=0;function ee(){Q=0}function te(){const ue=Q;return ue>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ue+" texture units while this GPU supports only "+r.maxTextures),Q+=1,ue}function oe(ue){const $=[];return $.push(ue.wrapS),$.push(ue.wrapT),$.push(ue.wrapR||0),$.push(ue.magFilter),$.push(ue.minFilter),$.push(ue.anisotropy),$.push(ue.internalFormat),$.push(ue.format),$.push(ue.type),$.push(ue.generateMipmaps),$.push(ue.premultiplyAlpha),$.push(ue.flipY),$.push(ue.unpackAlignment),$.push(ue.colorSpace),$.join()}function pe(ue,$){const be=i.get(ue);if(ue.isVideoTexture&&We(ue),ue.isRenderTargetTexture===!1&&ue.version>0&&be.__version!==ue.version){const De=ue.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ze(be,ue,$);return}}t.bindTexture(n.TEXTURE_2D,be.__webglTexture,n.TEXTURE0+$)}function j(ue,$){const be=i.get(ue);if(ue.version>0&&be.__version!==ue.version){ze(be,ue,$);return}t.bindTexture(n.TEXTURE_2D_ARRAY,be.__webglTexture,n.TEXTURE0+$)}function ae(ue,$){const be=i.get(ue);if(ue.version>0&&be.__version!==ue.version){ze(be,ue,$);return}t.bindTexture(n.TEXTURE_3D,be.__webglTexture,n.TEXTURE0+$)}function le(ue,$){const be=i.get(ue);if(ue.version>0&&be.__version!==ue.version){Be(be,ue,$);return}t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture,n.TEXTURE0+$)}const fe={[Xg]:n.REPEAT,[rc]:n.CLAMP_TO_EDGE,[Yg]:n.MIRRORED_REPEAT},J={[Ss]:n.NEAREST,[XM]:n.NEAREST_MIPMAP_NEAREST,[um]:n.NEAREST_MIPMAP_LINEAR,[Sa]:n.LINEAR,[yg]:n.LINEAR_MIPMAP_NEAREST,[Ru]:n.LINEAR_MIPMAP_LINEAR},K={[AD]:n.NEVER,[UD]:n.ALWAYS,[CD]:n.LESS,[i6]:n.LEQUAL,[RD]:n.EQUAL,[ND]:n.GEQUAL,[DD]:n.GREATER,[OD]:n.NOTEQUAL};function xe(ue,$){if($.type===Zo&&e.has("OES_texture_float_linear")===!1&&($.magFilter===Sa||$.magFilter===yg||$.magFilter===um||$.magFilter===Ru||$.minFilter===Sa||$.minFilter===yg||$.minFilter===um||$.minFilter===Ru)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ue,n.TEXTURE_WRAP_S,fe[$.wrapS]),n.texParameteri(ue,n.TEXTURE_WRAP_T,fe[$.wrapT]),(ue===n.TEXTURE_3D||ue===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ue,n.TEXTURE_WRAP_R,fe[$.wrapR]),n.texParameteri(ue,n.TEXTURE_MAG_FILTER,J[$.magFilter]),n.texParameteri(ue,n.TEXTURE_MIN_FILTER,J[$.minFilter]),$.compareFunction&&(n.texParameteri(ue,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ue,n.TEXTURE_COMPARE_FUNC,K[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Ss||$.minFilter!==um&&$.minFilter!==Ru||$.type===Zo&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||i.get($).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ue,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,r.getMaxAnisotropy())),i.get($).__currentAnisotropy=$.anisotropy}}}function Me(ue,$){let be=!1;ue.__webglInit===void 0&&(ue.__webglInit=!0,$.addEventListener("dispose",I));const De=$.source;let Re=v.get(De);Re===void 0&&(Re={},v.set(De,Re));const Ne=oe($);if(Ne!==ue.__cacheKey){Re[Ne]===void 0&&(Re[Ne]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Re[Ne].usedTimes++;const at=Re[ue.__cacheKey];at!==void 0&&(Re[ue.__cacheKey].usedTimes--,at.usedTimes===0&&V($)),ue.__cacheKey=Ne,ue.__webglTexture=Re[Ne].texture}return be}function he(ue,$,be){return Math.floor(Math.floor(ue/be)/$)}function Te(ue,$,be,De){const Ne=ue.updateRanges;if(Ne.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,$.width,$.height,be,De,$.data);else{Ne.sort((Ye,ot)=>Ye.start-ot.start);let at=0;for(let Ye=1;Ye<Ne.length;Ye++){const ot=Ne[at],Ce=Ne[Ye],Ee=ot.start+ot.count,Fe=he(Ce.start,$.width,4),wt=he(ot.start,$.width,4);Ce.start<=Ee+1&&Fe===wt&&he(Ce.start+Ce.count-1,$.width,4)===Fe?ot.count=Math.max(ot.count,Ce.start+Ce.count-ot.start):(++at,Ne[at]=Ce)}Ne.length=at+1;const nt=n.getParameter(n.UNPACK_ROW_LENGTH),vt=n.getParameter(n.UNPACK_SKIP_PIXELS),Rt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,$.width);for(let Ye=0,ot=Ne.length;Ye<ot;Ye++){const Ce=Ne[Ye],Ee=Math.floor(Ce.start/4),Fe=Math.ceil(Ce.count/4),wt=Ee%$.width,Ae=Math.floor(Ee/$.width),xt=Fe,mt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,wt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ae),t.texSubImage2D(n.TEXTURE_2D,0,wt,Ae,xt,mt,be,De,$.data)}ue.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,nt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Rt)}}function ze(ue,$,be){let De=n.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(De=n.TEXTURE_2D_ARRAY),$.isData3DTexture&&(De=n.TEXTURE_3D);const Re=Me(ue,$),Ne=$.source;t.bindTexture(De,ue.__webglTexture,n.TEXTURE0+be);const at=i.get(Ne);if(Ne.version!==at.__version||Re===!0){t.activeTexture(n.TEXTURE0+be);const nt=Mi.getPrimaries(Mi.workingColorSpace),vt=$.colorSpace===jf?null:Mi.getPrimaries($.colorSpace),Rt=$.colorSpace===jf||nt===vt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);let Ye=A($.image,!1,r.maxTextureSize);Ye=Ie($,Ye);const ot=a.convert($.format,$.colorSpace),Ce=a.convert($.type);let Ee=O($.internalFormat,ot,Ce,$.colorSpace,$.isVideoTexture);xe(De,$);let Fe;const wt=$.mipmaps,Ae=$.isVideoTexture!==!0,xt=at.__version===void 0||Re===!0,mt=Ne.dataReady,Lt=z($,Ye);if($.isDepthTexture)Ee=N($.format===Dm,$.type),xt&&(Ae?t.texStorage2D(n.TEXTURE_2D,1,Ee,Ye.width,Ye.height):t.texImage2D(n.TEXTURE_2D,0,Ee,Ye.width,Ye.height,0,ot,Ce,null));else if($.isDataTexture)if(wt.length>0){Ae&&xt&&t.texStorage2D(n.TEXTURE_2D,Lt,Ee,wt[0].width,wt[0].height);for(let bt=0,ft=wt.length;bt<ft;bt++)Fe=wt[bt],Ae?mt&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,Fe.width,Fe.height,ot,Ce,Fe.data):t.texImage2D(n.TEXTURE_2D,bt,Ee,Fe.width,Fe.height,0,ot,Ce,Fe.data);$.generateMipmaps=!1}else Ae?(xt&&t.texStorage2D(n.TEXTURE_2D,Lt,Ee,Ye.width,Ye.height),mt&&Te($,Ye,ot,Ce)):t.texImage2D(n.TEXTURE_2D,0,Ee,Ye.width,Ye.height,0,ot,Ce,Ye.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Ae&&xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Lt,Ee,wt[0].width,wt[0].height,Ye.depth);for(let bt=0,ft=wt.length;bt<ft;bt++)if(Fe=wt[bt],$.format!==Vs)if(ot!==null)if(Ae){if(mt)if($.layerUpdates.size>0){const Ut=E5(Fe.width,Fe.height,$.format,$.type);for(const It of $.layerUpdates){const Ht=Fe.data.subarray(It*Ut/Fe.data.BYTES_PER_ELEMENT,(It+1)*Ut/Fe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,It,Fe.width,Fe.height,1,ot,Ht)}$.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,0,Fe.width,Fe.height,Ye.depth,ot,Fe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,bt,Ee,Fe.width,Fe.height,Ye.depth,0,Fe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ae?mt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,0,Fe.width,Fe.height,Ye.depth,ot,Ce,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,bt,Ee,Fe.width,Fe.height,Ye.depth,0,ot,Ce,Fe.data)}else{Ae&&xt&&t.texStorage2D(n.TEXTURE_2D,Lt,Ee,wt[0].width,wt[0].height);for(let bt=0,ft=wt.length;bt<ft;bt++)Fe=wt[bt],$.format!==Vs?ot!==null?Ae?mt&&t.compressedTexSubImage2D(n.TEXTURE_2D,bt,0,0,Fe.width,Fe.height,ot,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,bt,Ee,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?mt&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,Fe.width,Fe.height,ot,Ce,Fe.data):t.texImage2D(n.TEXTURE_2D,bt,Ee,Fe.width,Fe.height,0,ot,Ce,Fe.data)}else if($.isDataArrayTexture)if(Ae){if(xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Lt,Ee,Ye.width,Ye.height,Ye.depth),mt)if($.layerUpdates.size>0){const bt=E5(Ye.width,Ye.height,$.format,$.type);for(const ft of $.layerUpdates){const Ut=Ye.data.subarray(ft*bt/Ye.data.BYTES_PER_ELEMENT,(ft+1)*bt/Ye.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ft,Ye.width,Ye.height,1,ot,Ce,Ut)}$.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ye.width,Ye.height,Ye.depth,ot,Ce,Ye.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ee,Ye.width,Ye.height,Ye.depth,0,ot,Ce,Ye.data);else if($.isData3DTexture)Ae?(xt&&t.texStorage3D(n.TEXTURE_3D,Lt,Ee,Ye.width,Ye.height,Ye.depth),mt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ye.width,Ye.height,Ye.depth,ot,Ce,Ye.data)):t.texImage3D(n.TEXTURE_3D,0,Ee,Ye.width,Ye.height,Ye.depth,0,ot,Ce,Ye.data);else if($.isFramebufferTexture){if(xt)if(Ae)t.texStorage2D(n.TEXTURE_2D,Lt,Ee,Ye.width,Ye.height);else{let bt=Ye.width,ft=Ye.height;for(let Ut=0;Ut<Lt;Ut++)t.texImage2D(n.TEXTURE_2D,Ut,Ee,bt,ft,0,ot,Ce,null),bt>>=1,ft>>=1}}else if(wt.length>0){if(Ae&&xt){const bt=ut(wt[0]);t.texStorage2D(n.TEXTURE_2D,Lt,Ee,bt.width,bt.height)}for(let bt=0,ft=wt.length;bt<ft;bt++)Fe=wt[bt],Ae?mt&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,ot,Ce,Fe):t.texImage2D(n.TEXTURE_2D,bt,Ee,ot,Ce,Fe);$.generateMipmaps=!1}else if(Ae){if(xt){const bt=ut(Ye);t.texStorage2D(n.TEXTURE_2D,Lt,Ee,bt.width,bt.height)}mt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ot,Ce,Ye)}else t.texImage2D(n.TEXTURE_2D,0,Ee,ot,Ce,Ye);w($)&&E(De),at.__version=Ne.version,$.onUpdate&&$.onUpdate($)}ue.__version=$.version}function Be(ue,$,be){if($.image.length!==6)return;const De=Me(ue,$),Re=$.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ue.__webglTexture,n.TEXTURE0+be);const Ne=i.get(Re);if(Re.version!==Ne.__version||De===!0){t.activeTexture(n.TEXTURE0+be);const at=Mi.getPrimaries(Mi.workingColorSpace),nt=$.colorSpace===jf?null:Mi.getPrimaries($.colorSpace),vt=$.colorSpace===jf||at===nt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const Rt=$.isCompressedTexture||$.image[0].isCompressedTexture,Ye=$.image[0]&&$.image[0].isDataTexture,ot=[];for(let ft=0;ft<6;ft++)!Rt&&!Ye?ot[ft]=A($.image[ft],!0,r.maxCubemapSize):ot[ft]=Ye?$.image[ft].image:$.image[ft],ot[ft]=Ie($,ot[ft]);const Ce=ot[0],Ee=a.convert($.format,$.colorSpace),Fe=a.convert($.type),wt=O($.internalFormat,Ee,Fe,$.colorSpace),Ae=$.isVideoTexture!==!0,xt=Ne.__version===void 0||De===!0,mt=Re.dataReady;let Lt=z($,Ce);xe(n.TEXTURE_CUBE_MAP,$);let bt;if(Rt){Ae&&xt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Lt,wt,Ce.width,Ce.height);for(let ft=0;ft<6;ft++){bt=ot[ft].mipmaps;for(let Ut=0;Ut<bt.length;Ut++){const It=bt[Ut];$.format!==Vs?Ee!==null?Ae?mt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut,0,0,It.width,It.height,Ee,It.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut,wt,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut,0,0,It.width,It.height,Ee,Fe,It.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut,wt,It.width,It.height,0,Ee,Fe,It.data)}}}else{if(bt=$.mipmaps,Ae&&xt){bt.length>0&&Lt++;const ft=ut(ot[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Lt,wt,ft.width,ft.height)}for(let ft=0;ft<6;ft++)if(Ye){Ae?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,ot[ft].width,ot[ft].height,Ee,Fe,ot[ft].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,wt,ot[ft].width,ot[ft].height,0,Ee,Fe,ot[ft].data);for(let Ut=0;Ut<bt.length;Ut++){const Ht=bt[Ut].image[ft].image;Ae?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut+1,0,0,Ht.width,Ht.height,Ee,Fe,Ht.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut+1,wt,Ht.width,Ht.height,0,Ee,Fe,Ht.data)}}else{Ae?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,Ee,Fe,ot[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,wt,Ee,Fe,ot[ft]);for(let Ut=0;Ut<bt.length;Ut++){const It=bt[Ut];Ae?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut+1,0,0,Ee,Fe,It.image[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Ut+1,wt,Ee,Fe,It.image[ft])}}}w($)&&E(n.TEXTURE_CUBE_MAP),Ne.__version=Re.version,$.onUpdate&&$.onUpdate($)}ue.__version=$.version}function ke(ue,$,be,De,Re,Ne){const at=a.convert(be.format,be.colorSpace),nt=a.convert(be.type),vt=O(be.internalFormat,at,nt,be.colorSpace),Rt=i.get($),Ye=i.get(be);if(Ye.__renderTarget=$,!Rt.__hasExternalTextures){const ot=Math.max(1,$.width>>Ne),Ce=Math.max(1,$.height>>Ne);Re===n.TEXTURE_3D||Re===n.TEXTURE_2D_ARRAY?t.texImage3D(Re,Ne,vt,ot,Ce,$.depth,0,at,nt,null):t.texImage2D(Re,Ne,vt,ot,Ce,0,at,nt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ue),ct($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,De,Re,Ye.__webglTexture,0,Le($)):(Re===n.TEXTURE_2D||Re>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,De,Re,Ye.__webglTexture,Ne),t.bindFramebuffer(n.FRAMEBUFFER,null)}function yt(ue,$,be){if(n.bindRenderbuffer(n.RENDERBUFFER,ue),$.depthBuffer){const De=$.depthTexture,Re=De&&De.isDepthTexture?De.type:null,Ne=N($.stencilBuffer,Re),at=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nt=Le($);ct($)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,nt,Ne,$.width,$.height):be?n.renderbufferStorageMultisample(n.RENDERBUFFER,nt,Ne,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,Ne,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,at,n.RENDERBUFFER,ue)}else{const De=$.textures;for(let Re=0;Re<De.length;Re++){const Ne=De[Re],at=a.convert(Ne.format,Ne.colorSpace),nt=a.convert(Ne.type),vt=O(Ne.internalFormat,at,nt,Ne.colorSpace),Rt=Le($);be&&ct($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Rt,vt,$.width,$.height):ct($)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Rt,vt,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,vt,$.width,$.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Qe(ue,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ue),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const De=i.get($.depthTexture);De.__renderTarget=$,(!De.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),pe($.depthTexture,0);const Re=De.__webglTexture,Ne=Le($);if($.depthTexture.format===Rm)ct($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,Ne):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else if($.depthTexture.format===Dm)ct($)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,Ne):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0);else throw new Error("Unknown depthTexture format")}function Je(ue){const $=i.get(ue),be=ue.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==ue.depthTexture){const De=ue.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),De){const Re=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,De.removeEventListener("dispose",Re)};De.addEventListener("dispose",Re),$.__depthDisposeCallback=Re}$.__boundDepthTexture=De}if(ue.depthTexture&&!$.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");const De=ue.texture.mipmaps;De&&De.length>0?Qe($.__webglFramebuffer[0],ue):Qe($.__webglFramebuffer,ue)}else if(be){$.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[De]),$.__webglDepthbuffer[De]===void 0)$.__webglDepthbuffer[De]=n.createRenderbuffer(),yt($.__webglDepthbuffer[De],ue,!1);else{const Re=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=$.__webglDepthbuffer[De];n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Re,n.RENDERBUFFER,Ne)}}else{const De=ue.texture.mipmaps;if(De&&De.length>0?t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=n.createRenderbuffer(),yt($.__webglDepthbuffer,ue,!1);else{const Re=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=$.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,Re,n.RENDERBUFFER,Ne)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Xe(ue,$,be){const De=i.get(ue);$!==void 0&&ke(De.__webglFramebuffer,ue,ue.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),be!==void 0&&Je(ue)}function Mt(ue){const $=ue.texture,be=i.get(ue),De=i.get($);ue.addEventListener("dispose",H);const Re=ue.textures,Ne=ue.isWebGLCubeRenderTarget===!0,at=Re.length>1;if(at||(De.__webglTexture===void 0&&(De.__webglTexture=n.createTexture()),De.__version=$.version,o.memory.textures++),Ne){be.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer[nt]=[];for(let vt=0;vt<$.mipmaps.length;vt++)be.__webglFramebuffer[nt][vt]=n.createFramebuffer()}else be.__webglFramebuffer[nt]=n.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){be.__webglFramebuffer=[];for(let nt=0;nt<$.mipmaps.length;nt++)be.__webglFramebuffer[nt]=n.createFramebuffer()}else be.__webglFramebuffer=n.createFramebuffer();if(at)for(let nt=0,vt=Re.length;nt<vt;nt++){const Rt=i.get(Re[nt]);Rt.__webglTexture===void 0&&(Rt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ue.samples>0&&ct(ue)===!1){be.__webglMultisampledFramebuffer=n.createFramebuffer(),be.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let nt=0;nt<Re.length;nt++){const vt=Re[nt];be.__webglColorRenderbuffer[nt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,be.__webglColorRenderbuffer[nt]);const Rt=a.convert(vt.format,vt.colorSpace),Ye=a.convert(vt.type),ot=O(vt.internalFormat,Rt,Ye,vt.colorSpace,ue.isXRRenderTarget===!0),Ce=Le(ue);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ce,ot,ue.width,ue.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+nt,n.RENDERBUFFER,be.__webglColorRenderbuffer[nt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ue.depthBuffer&&(be.__webglDepthRenderbuffer=n.createRenderbuffer(),yt(be.__webglDepthRenderbuffer,ue,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ne){t.bindTexture(n.TEXTURE_CUBE_MAP,De.__webglTexture),xe(n.TEXTURE_CUBE_MAP,$);for(let nt=0;nt<6;nt++)if($.mipmaps&&$.mipmaps.length>0)for(let vt=0;vt<$.mipmaps.length;vt++)ke(be.__webglFramebuffer[nt][vt],ue,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nt,vt);else ke(be.__webglFramebuffer[nt],ue,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);w($)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(at){for(let nt=0,vt=Re.length;nt<vt;nt++){const Rt=Re[nt],Ye=i.get(Rt);t.bindTexture(n.TEXTURE_2D,Ye.__webglTexture),xe(n.TEXTURE_2D,Rt),ke(be.__webglFramebuffer,ue,Rt,n.COLOR_ATTACHMENT0+nt,n.TEXTURE_2D,0),w(Rt)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let nt=n.TEXTURE_2D;if((ue.isWebGL3DRenderTarget||ue.isWebGLArrayRenderTarget)&&(nt=ue.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(nt,De.__webglTexture),xe(nt,$),$.mipmaps&&$.mipmaps.length>0)for(let vt=0;vt<$.mipmaps.length;vt++)ke(be.__webglFramebuffer[vt],ue,$,n.COLOR_ATTACHMENT0,nt,vt);else ke(be.__webglFramebuffer,ue,$,n.COLOR_ATTACHMENT0,nt,0);w($)&&E(nt),t.unbindTexture()}ue.depthBuffer&&Je(ue)}function ce(ue){const $=ue.textures;for(let be=0,De=$.length;be<De;be++){const Re=$[be];if(w(Re)){const Ne=L(ue),at=i.get(Re).__webglTexture;t.bindTexture(Ne,at),E(Ne),t.unbindTexture()}}}const rt=[],tt=[];function Ze(ue){if(ue.samples>0){if(ct(ue)===!1){const $=ue.textures,be=ue.width,De=ue.height;let Re=n.COLOR_BUFFER_BIT;const Ne=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,at=i.get(ue),nt=$.length>1;if(nt)for(let Rt=0;Rt<$.length;Rt++)t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const vt=ue.texture.mipmaps;vt&&vt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let Rt=0;Rt<$.length;Rt++){if(ue.resolveDepthBuffer&&(ue.depthBuffer&&(Re|=n.DEPTH_BUFFER_BIT),ue.stencilBuffer&&ue.resolveStencilBuffer&&(Re|=n.STENCIL_BUFFER_BIT)),nt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,at.__webglColorRenderbuffer[Rt]);const Ye=i.get($[Rt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ye,0)}n.blitFramebuffer(0,0,be,De,0,0,be,De,Re,n.NEAREST),u===!0&&(rt.length=0,tt.length=0,rt.push(n.COLOR_ATTACHMENT0+Rt),ue.depthBuffer&&ue.resolveDepthBuffer===!1&&(rt.push(Ne),tt.push(Ne),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,tt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,rt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),nt)for(let Rt=0;Rt<$.length;Rt++){t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.RENDERBUFFER,at.__webglColorRenderbuffer[Rt]);const Ye=i.get($[Rt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.TEXTURE_2D,Ye,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(ue.depthBuffer&&ue.resolveDepthBuffer===!1&&u){const $=ue.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[$])}}}function Le(ue){return Math.min(r.maxSamples,ue.samples)}function ct(ue){const $=i.get(ue);return ue.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function We(ue){const $=o.render.frame;p.get(ue)!==$&&(p.set(ue,$),ue.update())}function Ie(ue,$){const be=ue.colorSpace,De=ue.format,Re=ue.type;return ue.isCompressedTexture===!0||ue.isVideoTexture===!0||be!==od&&be!==jf&&(Mi.getTransfer(be)===Ki?(De!==Vs||Re!==oc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),$}function ut(ue){return typeof HTMLImageElement<"u"&&ue instanceof HTMLImageElement?(f.width=ue.naturalWidth||ue.width,f.height=ue.naturalHeight||ue.height):typeof VideoFrame<"u"&&ue instanceof VideoFrame?(f.width=ue.displayWidth,f.height=ue.displayHeight):(f.width=ue.width,f.height=ue.height),f}this.allocateTextureUnit=te,this.resetTextureUnits=ee,this.setTexture2D=pe,this.setTexture2DArray=j,this.setTexture3D=ae,this.setTextureCube=le,this.rebindTextures=Xe,this.setupRenderTarget=Mt,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=Ze,this.setupDepthRenderbuffer=Je,this.setupFrameBufferTexture=ke,this.useMultisampledRTT=ct}function GO(n,e){function t(i,r=jf){let a;const o=Mi.getTransfer(r);if(i===oc)return n.UNSIGNED_BYTE;if(i===c4)return n.UNSIGNED_SHORT_4_4_4_4;if(i===u4)return n.UNSIGNED_SHORT_5_5_5_1;if(i===ZM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===YM)return n.BYTE;if(i===KM)return n.SHORT;if(i===Am)return n.UNSIGNED_SHORT;if(i===l4)return n.INT;if(i===rh)return n.UNSIGNED_INT;if(i===Zo)return n.FLOAT;if(i===Hm)return n.HALF_FLOAT;if(i===QM)return n.ALPHA;if(i===JM)return n.RGB;if(i===Vs)return n.RGBA;if(i===Rm)return n.DEPTH_COMPONENT;if(i===Dm)return n.DEPTH_STENCIL;if(i===f4)return n.RED;if(i===Dy)return n.RED_INTEGER;if(i===$M)return n.RG;if(i===h4)return n.RG_INTEGER;if(i===d4)return n.RGBA_INTEGER;if(i===vg||i===xg||i===bg||i===Sg)if(o===Ki)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===vg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===xg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===bg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===vg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===xg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===bg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Sg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Zx||i===Qx||i===Jx||i===$x)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Zx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Qx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Jx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===$x)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===eb||i===tb||i===nb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===eb||i===tb)return o===Ki?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===nb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===ib||i===rb||i===ab||i===sb||i===ob||i===lb||i===cb||i===ub||i===fb||i===hb||i===db||i===pb||i===mb||i===gb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===ib)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===rb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===ab)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===sb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===ob)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===lb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===cb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===ub)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===fb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===hb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===db)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===pb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===mb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===gb)return o===Ki?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===_g||i===yb||i===vb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===_g)return o===Ki?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===yb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===vb)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===e6||i===xb||i===bb||i===Sb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===_g)return a.COMPRESSED_RED_RGTC1_EXT;if(i===xb)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===bb)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Sb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Cm?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const kee=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Fee=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Vee{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Qr,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new lc({vertexShader:kee,fragmentShader:Fee,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Vr(new oh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Hee extends Gu{constructor(e,t){super();const i=this;let r=null,a=1,o=null,l="local-floor",u=1,f=null,p=null,g=null,v=null,S=null,T=null;const A=new Vee,w=t.getContextAttributes();let E=null,L=null;const O=[],N=[],z=new Ct;let I=null;const H=new Xr;H.viewport=new ii;const W=new Xr;W.viewport=new ii;const V=[H,W],U=new OO;let Q=null,ee=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(he){let Te=O[he];return Te===void 0&&(Te=new mx,O[he]=Te),Te.getTargetRaySpace()},this.getControllerGrip=function(he){let Te=O[he];return Te===void 0&&(Te=new mx,O[he]=Te),Te.getGripSpace()},this.getHand=function(he){let Te=O[he];return Te===void 0&&(Te=new mx,O[he]=Te),Te.getHandSpace()};function te(he){const Te=N.indexOf(he.inputSource);if(Te===-1)return;const ze=O[Te];ze!==void 0&&(ze.update(he.inputSource,he.frame,f||o),ze.dispatchEvent({type:he.type,data:he.inputSource}))}function oe(){r.removeEventListener("select",te),r.removeEventListener("selectstart",te),r.removeEventListener("selectend",te),r.removeEventListener("squeeze",te),r.removeEventListener("squeezestart",te),r.removeEventListener("squeezeend",te),r.removeEventListener("end",oe),r.removeEventListener("inputsourceschange",pe);for(let he=0;he<O.length;he++){const Te=N[he];Te!==null&&(N[he]=null,O[he].disconnect(Te))}Q=null,ee=null,A.reset(),e.setRenderTarget(E),S=null,v=null,g=null,r=null,L=null,Me.stop(),i.isPresenting=!1,e.setPixelRatio(I),e.setSize(z.width,z.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(he){a=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(he){l=he,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(he){f=he},this.getBaseLayer=function(){return v!==null?v:S},this.getBinding=function(){return g},this.getFrame=function(){return T},this.getSession=function(){return r},this.setSession=async function(he){if(r=he,r!==null){if(E=e.getRenderTarget(),r.addEventListener("select",te),r.addEventListener("selectstart",te),r.addEventListener("selectend",te),r.addEventListener("squeeze",te),r.addEventListener("squeezestart",te),r.addEventListener("squeezeend",te),r.addEventListener("end",oe),r.addEventListener("inputsourceschange",pe),w.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(z),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ze=null,Be=null,ke=null;w.depth&&(ke=w.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ze=w.stencil?Dm:Rm,Be=w.stencil?Cm:rh);const yt={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:a};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(yt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),L=new Fu(v.textureWidth,v.textureHeight,{format:Vs,type:oc,depthTexture:new h6(v.textureWidth,v.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,ze),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ze={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:a};S=new XRWebGLLayer(r,t,ze),r.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),L=new Fu(S.framebufferWidth,S.framebufferHeight,{format:Vs,type:oc,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:S.ignoreDepthValues===!1,resolveStencilBuffer:S.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(u),f=null,o=await r.requestReferenceSpace(l),Me.setContext(r),Me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function pe(he){for(let Te=0;Te<he.removed.length;Te++){const ze=he.removed[Te],Be=N.indexOf(ze);Be>=0&&(N[Be]=null,O[Be].disconnect(ze))}for(let Te=0;Te<he.added.length;Te++){const ze=he.added[Te];let Be=N.indexOf(ze);if(Be===-1){for(let yt=0;yt<O.length;yt++)if(yt>=N.length){N.push(ze),Be=yt;break}else if(N[yt]===null){N[yt]=ze,Be=yt;break}if(Be===-1)break}const ke=O[Be];ke&&ke.connect(ze)}}const j=new _e,ae=new _e;function le(he,Te,ze){j.setFromMatrixPosition(Te.matrixWorld),ae.setFromMatrixPosition(ze.matrixWorld);const Be=j.distanceTo(ae),ke=Te.projectionMatrix.elements,yt=ze.projectionMatrix.elements,Qe=ke[14]/(ke[10]-1),Je=ke[14]/(ke[10]+1),Xe=(ke[9]+1)/ke[5],Mt=(ke[9]-1)/ke[5],ce=(ke[8]-1)/ke[0],rt=(yt[8]+1)/yt[0],tt=Qe*ce,Ze=Qe*rt,Le=Be/(-ce+rt),ct=Le*-ce;if(Te.matrixWorld.decompose(he.position,he.quaternion,he.scale),he.translateX(ct),he.translateZ(Le),he.matrixWorld.compose(he.position,he.quaternion,he.scale),he.matrixWorldInverse.copy(he.matrixWorld).invert(),ke[10]===-1)he.projectionMatrix.copy(Te.projectionMatrix),he.projectionMatrixInverse.copy(Te.projectionMatrixInverse);else{const We=Qe+Le,Ie=Je+Le,ut=tt-ct,ue=Ze+(Be-ct),$=Xe*Je/Ie*We,be=Mt*Je/Ie*We;he.projectionMatrix.makePerspective(ut,ue,$,be,We,Ie),he.projectionMatrixInverse.copy(he.projectionMatrix).invert()}}function fe(he,Te){Te===null?he.matrixWorld.copy(he.matrix):he.matrixWorld.multiplyMatrices(Te.matrixWorld,he.matrix),he.matrixWorldInverse.copy(he.matrixWorld).invert()}this.updateCamera=function(he){if(r===null)return;let Te=he.near,ze=he.far;A.texture!==null&&(A.depthNear>0&&(Te=A.depthNear),A.depthFar>0&&(ze=A.depthFar)),U.near=W.near=H.near=Te,U.far=W.far=H.far=ze,(Q!==U.near||ee!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),Q=U.near,ee=U.far),H.layers.mask=he.layers.mask|2,W.layers.mask=he.layers.mask|4,U.layers.mask=H.layers.mask|W.layers.mask;const Be=he.parent,ke=U.cameras;fe(U,Be);for(let yt=0;yt<ke.length;yt++)fe(ke[yt],Be);ke.length===2?le(U,H,W):U.projectionMatrix.copy(H.projectionMatrix),J(he,U,Be)};function J(he,Te,ze){ze===null?he.matrix.copy(Te.matrixWorld):(he.matrix.copy(ze.matrixWorld),he.matrix.invert(),he.matrix.multiply(Te.matrixWorld)),he.matrix.decompose(he.position,he.quaternion,he.scale),he.updateMatrixWorld(!0),he.projectionMatrix.copy(Te.projectionMatrix),he.projectionMatrixInverse.copy(Te.projectionMatrixInverse),he.isPerspectiveCamera&&(he.fov=Om*2*Math.atan(1/he.projectionMatrix.elements[5]),he.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(v===null&&S===null))return u},this.setFoveation=function(he){u=he,v!==null&&(v.fixedFoveation=he),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=he)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(U)};let K=null;function xe(he,Te){if(p=Te.getViewerPose(f||o),T=Te,p!==null){const ze=p.views;S!==null&&(e.setRenderTargetFramebuffer(L,S.framebuffer),e.setRenderTarget(L));let Be=!1;ze.length!==U.cameras.length&&(U.cameras.length=0,Be=!0);for(let Qe=0;Qe<ze.length;Qe++){const Je=ze[Qe];let Xe=null;if(S!==null)Xe=S.getViewport(Je);else{const ce=g.getViewSubImage(v,Je);Xe=ce.viewport,Qe===0&&(e.setRenderTargetTextures(L,ce.colorTexture,ce.depthStencilTexture),e.setRenderTarget(L))}let Mt=V[Qe];Mt===void 0&&(Mt=new Xr,Mt.layers.enable(Qe),Mt.viewport=new ii,V[Qe]=Mt),Mt.matrix.fromArray(Je.transform.matrix),Mt.matrix.decompose(Mt.position,Mt.quaternion,Mt.scale),Mt.projectionMatrix.fromArray(Je.projectionMatrix),Mt.projectionMatrixInverse.copy(Mt.projectionMatrix).invert(),Mt.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),Qe===0&&(U.matrix.copy(Mt.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),Be===!0&&U.cameras.push(Mt)}const ke=r.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const Qe=g.getDepthInformation(ze[0]);Qe&&Qe.isValid&&Qe.texture&&A.init(e,Qe,r.renderState)}}for(let ze=0;ze<O.length;ze++){const Be=N[ze],ke=O[ze];Be!==null&&ke!==void 0&&ke.update(Be,Te,f||o)}K&&K(he,Te),Te.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Te}),T=null}const Me=new IO;Me.setAnimationLoop(xe),this.setAnimationLoop=function(he){K=he},this.dispose=function(){}}}const a0=new Ol,Gee=new Tn;function jee(n,e){function t(w,E){w.matrixAutoUpdate===!0&&w.updateMatrix(),E.value.copy(w.matrix)}function i(w,E){E.color.getRGB(w.fogColor.value,kD(n)),E.isFog?(w.fogNear.value=E.near,w.fogFar.value=E.far):E.isFogExp2&&(w.fogDensity.value=E.density)}function r(w,E,L,O,N){E.isMeshBasicMaterial||E.isMeshLambertMaterial?a(w,E):E.isMeshToonMaterial?(a(w,E),g(w,E)):E.isMeshPhongMaterial?(a(w,E),p(w,E)):E.isMeshStandardMaterial?(a(w,E),v(w,E),E.isMeshPhysicalMaterial&&S(w,E,N)):E.isMeshMatcapMaterial?(a(w,E),T(w,E)):E.isMeshDepthMaterial?a(w,E):E.isMeshDistanceMaterial?(a(w,E),A(w,E)):E.isMeshNormalMaterial?a(w,E):E.isLineBasicMaterial?(o(w,E),E.isLineDashedMaterial&&l(w,E)):E.isPointsMaterial?u(w,E,L,O):E.isSpriteMaterial?f(w,E):E.isShadowMaterial?(w.color.value.copy(E.color),w.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function a(w,E){w.opacity.value=E.opacity,E.color&&w.diffuse.value.copy(E.color),E.emissive&&w.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(w.map.value=E.map,t(E.map,w.mapTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.bumpMap&&(w.bumpMap.value=E.bumpMap,t(E.bumpMap,w.bumpMapTransform),w.bumpScale.value=E.bumpScale,E.side===bo&&(w.bumpScale.value*=-1)),E.normalMap&&(w.normalMap.value=E.normalMap,t(E.normalMap,w.normalMapTransform),w.normalScale.value.copy(E.normalScale),E.side===bo&&w.normalScale.value.negate()),E.displacementMap&&(w.displacementMap.value=E.displacementMap,t(E.displacementMap,w.displacementMapTransform),w.displacementScale.value=E.displacementScale,w.displacementBias.value=E.displacementBias),E.emissiveMap&&(w.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,w.emissiveMapTransform)),E.specularMap&&(w.specularMap.value=E.specularMap,t(E.specularMap,w.specularMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest);const L=e.get(E),O=L.envMap,N=L.envMapRotation;O&&(w.envMap.value=O,a0.copy(N),a0.x*=-1,a0.y*=-1,a0.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(a0.y*=-1,a0.z*=-1),w.envMapRotation.value.setFromMatrix4(Gee.makeRotationFromEuler(a0)),w.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=E.reflectivity,w.ior.value=E.ior,w.refractionRatio.value=E.refractionRatio),E.lightMap&&(w.lightMap.value=E.lightMap,w.lightMapIntensity.value=E.lightMapIntensity,t(E.lightMap,w.lightMapTransform)),E.aoMap&&(w.aoMap.value=E.aoMap,w.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,w.aoMapTransform))}function o(w,E){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,E.map&&(w.map.value=E.map,t(E.map,w.mapTransform))}function l(w,E){w.dashSize.value=E.dashSize,w.totalSize.value=E.dashSize+E.gapSize,w.scale.value=E.scale}function u(w,E,L,O){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,w.size.value=E.size*L,w.scale.value=O*.5,E.map&&(w.map.value=E.map,t(E.map,w.uvTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest)}function f(w,E){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,w.rotation.value=E.rotation,E.map&&(w.map.value=E.map,t(E.map,w.mapTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest)}function p(w,E){w.specular.value.copy(E.specular),w.shininess.value=Math.max(E.shininess,1e-4)}function g(w,E){E.gradientMap&&(w.gradientMap.value=E.gradientMap)}function v(w,E){w.metalness.value=E.metalness,E.metalnessMap&&(w.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,w.metalnessMapTransform)),w.roughness.value=E.roughness,E.roughnessMap&&(w.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,w.roughnessMapTransform)),E.envMap&&(w.envMapIntensity.value=E.envMapIntensity)}function S(w,E,L){w.ior.value=E.ior,E.sheen>0&&(w.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),w.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(w.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,w.sheenColorMapTransform)),E.sheenRoughnessMap&&(w.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,w.sheenRoughnessMapTransform))),E.clearcoat>0&&(w.clearcoat.value=E.clearcoat,w.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(w.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,w.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(w.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===bo&&w.clearcoatNormalScale.value.negate())),E.dispersion>0&&(w.dispersion.value=E.dispersion),E.iridescence>0&&(w.iridescence.value=E.iridescence,w.iridescenceIOR.value=E.iridescenceIOR,w.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(w.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,w.iridescenceMapTransform)),E.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),E.transmission>0&&(w.transmission.value=E.transmission,w.transmissionSamplerMap.value=L.texture,w.transmissionSamplerSize.value.set(L.width,L.height),E.transmissionMap&&(w.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,w.transmissionMapTransform)),w.thickness.value=E.thickness,E.thicknessMap&&(w.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=E.attenuationDistance,w.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(w.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(w.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=E.specularIntensity,w.specularColor.value.copy(E.specularColor),E.specularColorMap&&(w.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,w.specularColorMapTransform)),E.specularIntensityMap&&(w.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,w.specularIntensityMapTransform))}function T(w,E){E.matcap&&(w.matcap.value=E.matcap)}function A(w,E){const L=e.get(E).light;w.referencePosition.value.setFromMatrixPosition(L.matrixWorld),w.nearDistance.value=L.shadow.camera.near,w.farDistance.value=L.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Wee(n,e,t,i){let r={},a={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(L,O){const N=O.program;i.uniformBlockBinding(L,N)}function f(L,O){let N=r[L.id];N===void 0&&(T(L),N=p(L),r[L.id]=N,L.addEventListener("dispose",w));const z=O.program;i.updateUBOMapping(L,z);const I=e.render.frame;a[L.id]!==I&&(v(L),a[L.id]=I)}function p(L){const O=g();L.__bindingPointIndex=O;const N=n.createBuffer(),z=L.__size,I=L.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,z,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,O,N),N}function g(){for(let L=0;L<l;L++)if(o.indexOf(L)===-1)return o.push(L),L;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(L){const O=r[L.id],N=L.uniforms,z=L.__cache;n.bindBuffer(n.UNIFORM_BUFFER,O);for(let I=0,H=N.length;I<H;I++){const W=Array.isArray(N[I])?N[I]:[N[I]];for(let V=0,U=W.length;V<U;V++){const Q=W[V];if(S(Q,I,V,z)===!0){const ee=Q.__offset,te=Array.isArray(Q.value)?Q.value:[Q.value];let oe=0;for(let pe=0;pe<te.length;pe++){const j=te[pe],ae=A(j);typeof j=="number"||typeof j=="boolean"?(Q.__data[0]=j,n.bufferSubData(n.UNIFORM_BUFFER,ee+oe,Q.__data)):j.isMatrix3?(Q.__data[0]=j.elements[0],Q.__data[1]=j.elements[1],Q.__data[2]=j.elements[2],Q.__data[3]=0,Q.__data[4]=j.elements[3],Q.__data[5]=j.elements[4],Q.__data[6]=j.elements[5],Q.__data[7]=0,Q.__data[8]=j.elements[6],Q.__data[9]=j.elements[7],Q.__data[10]=j.elements[8],Q.__data[11]=0):(j.toArray(Q.__data,oe),oe+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ee,Q.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function S(L,O,N,z){const I=L.value,H=O+"_"+N;if(z[H]===void 0)return typeof I=="number"||typeof I=="boolean"?z[H]=I:z[H]=I.clone(),!0;{const W=z[H];if(typeof I=="number"||typeof I=="boolean"){if(W!==I)return z[H]=I,!0}else if(W.equals(I)===!1)return W.copy(I),!0}return!1}function T(L){const O=L.uniforms;let N=0;const z=16;for(let H=0,W=O.length;H<W;H++){const V=Array.isArray(O[H])?O[H]:[O[H]];for(let U=0,Q=V.length;U<Q;U++){const ee=V[U],te=Array.isArray(ee.value)?ee.value:[ee.value];for(let oe=0,pe=te.length;oe<pe;oe++){const j=te[oe],ae=A(j),le=N%z,fe=le%ae.boundary,J=le+fe;N+=fe,J!==0&&z-J<ae.storage&&(N+=z-J),ee.__data=new Float32Array(ae.storage/Float32Array.BYTES_PER_ELEMENT),ee.__offset=N,N+=ae.storage}}}const I=N%z;return I>0&&(N+=z-I),L.__size=N,L.__cache={},this}function A(L){const O={boundary:0,storage:0};return typeof L=="number"||typeof L=="boolean"?(O.boundary=4,O.storage=4):L.isVector2?(O.boundary=8,O.storage=8):L.isVector3||L.isColor?(O.boundary=16,O.storage=12):L.isVector4?(O.boundary=16,O.storage=16):L.isMatrix3?(O.boundary=48,O.storage=48):L.isMatrix4?(O.boundary=64,O.storage=64):L.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",L),O}function w(L){const O=L.target;O.removeEventListener("dispose",w);const N=o.indexOf(O.__bindingPointIndex);o.splice(N,1),n.deleteBuffer(r[O.id]),delete r[O.id],delete a[O.id]}function E(){for(const L in r)n.deleteBuffer(r[L]);o=[],r={},a={}}return{bind:u,update:f,dispose:E}}class jO{constructor(e={}){const{canvas:t=PD(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let S;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");S=i.getContextAttributes().alpha}else S=o;const T=new Uint32Array(4),A=new Int32Array(4);let w=null,E=null;const L=[],O=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Pu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let z=!1;this._outputColorSpace=ks;let I=0,H=0,W=null,V=-1,U=null;const Q=new ii,ee=new ii;let te=null;const oe=new Qt(0);let pe=0,j=t.width,ae=t.height,le=1,fe=null,J=null;const K=new ii(0,0,j,ae),xe=new ii(0,0,j,ae);let Me=!1;const he=new Gm;let Te=!1,ze=!1;const Be=new Tn,ke=new Tn,yt=new _e,Qe=new ii,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Xe=!1;function Mt(){return W===null?le:1}let ce=i;function rt(G,Ve){return t.getContext(G,Ve)}try{const G={alpha:!0,depth:r,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Cy}`),t.addEventListener("webglcontextlost",Lt,!1),t.addEventListener("webglcontextrestored",bt,!1),t.addEventListener("webglcontextcreationerror",ft,!1),ce===null){const Ve="webgl2";if(ce=rt(Ve,G),ce===null)throw rt(Ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let tt,Ze,Le,ct,We,Ie,ut,ue,$,be,De,Re,Ne,at,nt,vt,Rt,Ye,ot,Ce,Ee,Fe,wt,Ae;function xt(){tt=new i$(ce),tt.init(),Fe=new GO(ce,tt),Ze=new ZJ(ce,tt,e,Fe),Le=new Bee(ce,tt),Ze.reverseDepthBuffer&&v&&Le.buffers.depth.setReversed(!0),ct=new s$(ce),We=new Tee,Ie=new Iee(ce,tt,Le,We,Ze,Fe,ct),ut=new JJ(N),ue=new n$(N),$=new hZ(ce),wt=new YJ(ce,$),be=new r$(ce,$,ct,wt),De=new l$(ce,be,$,ct),ot=new o$(ce,Ze,Ie),vt=new QJ(We),Re=new Mee(N,ut,ue,tt,Ze,wt,vt),Ne=new jee(N,We),at=new wee,nt=new Nee(tt),Ye=new XJ(N,ut,ue,Le,De,S,u),Rt=new zee(N,De,Ze),Ae=new Wee(ce,ct,Ze,Le),Ce=new KJ(ce,tt,ct),Ee=new a$(ce,tt,ct),ct.programs=Re.programs,N.capabilities=Ze,N.extensions=tt,N.properties=We,N.renderLists=at,N.shadowMap=Rt,N.state=Le,N.info=ct}xt();const mt=new Hee(N,ce);this.xr=mt,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const G=tt.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=tt.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(G){G!==void 0&&(le=G,this.setSize(j,ae,!1))},this.getSize=function(G){return G.set(j,ae)},this.setSize=function(G,Ve,me=!0){if(mt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=G,ae=Ve,t.width=Math.floor(G*le),t.height=Math.floor(Ve*le),me===!0&&(t.style.width=G+"px",t.style.height=Ve+"px"),this.setViewport(0,0,G,Ve)},this.getDrawingBufferSize=function(G){return G.set(j*le,ae*le).floor()},this.setDrawingBufferSize=function(G,Ve,me){j=G,ae=Ve,le=me,t.width=Math.floor(G*me),t.height=Math.floor(Ve*me),this.setViewport(0,0,G,Ve)},this.getCurrentViewport=function(G){return G.copy(Q)},this.getViewport=function(G){return G.copy(K)},this.setViewport=function(G,Ve,me,He){G.isVector4?K.set(G.x,G.y,G.z,G.w):K.set(G,Ve,me,He),Le.viewport(Q.copy(K).multiplyScalar(le).round())},this.getScissor=function(G){return G.copy(xe)},this.setScissor=function(G,Ve,me,He){G.isVector4?xe.set(G.x,G.y,G.z,G.w):xe.set(G,Ve,me,He),Le.scissor(ee.copy(xe).multiplyScalar(le).round())},this.getScissorTest=function(){return Me},this.setScissorTest=function(G){Le.setScissorTest(Me=G)},this.setOpaqueSort=function(G){fe=G},this.setTransparentSort=function(G){J=G},this.getClearColor=function(G){return G.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor(...arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha(...arguments)},this.clear=function(G=!0,Ve=!0,me=!0){let He=0;if(G){let Ke=!1;if(W!==null){const Pt=W.texture.format;Ke=Pt===d4||Pt===h4||Pt===Dy}if(Ke){const Pt=W.texture.type,Ft=Pt===oc||Pt===rh||Pt===Am||Pt===Cm||Pt===c4||Pt===u4,Et=Ye.getClearColor(),Xt=Ye.getClearAlpha(),cn=Et.r,sn=Et.g,nn=Et.b;Ft?(T[0]=cn,T[1]=sn,T[2]=nn,T[3]=Xt,ce.clearBufferuiv(ce.COLOR,0,T)):(A[0]=cn,A[1]=sn,A[2]=nn,A[3]=Xt,ce.clearBufferiv(ce.COLOR,0,A))}else He|=ce.COLOR_BUFFER_BIT}Ve&&(He|=ce.DEPTH_BUFFER_BIT),me&&(He|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(He)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Lt,!1),t.removeEventListener("webglcontextrestored",bt,!1),t.removeEventListener("webglcontextcreationerror",ft,!1),Ye.dispose(),at.dispose(),nt.dispose(),We.dispose(),ut.dispose(),ue.dispose(),De.dispose(),wt.dispose(),Ae.dispose(),Re.dispose(),mt.dispose(),mt.removeEventListener("sessionstart",Hn),mt.removeEventListener("sessionend",mi),Ri.stop()};function Lt(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),z=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),z=!1;const G=ct.autoReset,Ve=Rt.enabled,me=Rt.autoUpdate,He=Rt.needsUpdate,Ke=Rt.type;xt(),ct.autoReset=G,Rt.enabled=Ve,Rt.autoUpdate=me,Rt.needsUpdate=He,Rt.type=Ke}function ft(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function Ut(G){const Ve=G.target;Ve.removeEventListener("dispose",Ut),It(Ve)}function It(G){Ht(G),We.remove(G)}function Ht(G){const Ve=We.get(G).programs;Ve!==void 0&&(Ve.forEach(function(me){Re.releaseProgram(me)}),G.isShaderMaterial&&Re.releaseShaderCache(G))}this.renderBufferDirect=function(G,Ve,me,He,Ke,Pt){Ve===null&&(Ve=Je);const Ft=Ke.isMesh&&Ke.matrixWorld.determinant()<0,Et=Qi(G,Ve,me,He,Ke);Le.setMaterial(He,Ft);let Xt=me.index,cn=1;if(He.wireframe===!0){if(Xt=be.getWireframeAttribute(me),Xt===void 0)return;cn=2}const sn=me.drawRange,nn=me.attributes.position;let wn=sn.start*cn,bn=(sn.start+sn.count)*cn;Pt!==null&&(wn=Math.max(wn,Pt.start*cn),bn=Math.min(bn,(Pt.start+Pt.count)*cn)),Xt!==null?(wn=Math.max(wn,0),bn=Math.min(bn,Xt.count)):nn!=null&&(wn=Math.max(wn,0),bn=Math.min(bn,nn.count));const Ti=bn-wn;if(Ti<0||Ti===1/0)return;wt.setup(Ke,He,Et,me,Xt);let Bn,qn=Ce;if(Xt!==null&&(Bn=$.get(Xt),qn=Ee,qn.setIndex(Bn)),Ke.isMesh)He.wireframe===!0?(Le.setLineWidth(He.wireframeLinewidth*Mt()),qn.setMode(ce.LINES)):qn.setMode(ce.TRIANGLES);else if(Ke.isLine){let ln=He.linewidth;ln===void 0&&(ln=1),Le.setLineWidth(ln*Mt()),Ke.isLineSegments?qn.setMode(ce.LINES):Ke.isLineLoop?qn.setMode(ce.LINE_LOOP):qn.setMode(ce.LINE_STRIP)}else Ke.isPoints?qn.setMode(ce.POINTS):Ke.isSprite&&qn.setMode(ce.TRIANGLES);if(Ke.isBatchedMesh)if(Ke._multiDrawInstances!==null)ym("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),qn.renderMultiDrawInstances(Ke._multiDrawStarts,Ke._multiDrawCounts,Ke._multiDrawCount,Ke._multiDrawInstances);else if(tt.get("WEBGL_multi_draw"))qn.renderMultiDraw(Ke._multiDrawStarts,Ke._multiDrawCounts,Ke._multiDrawCount);else{const ln=Ke._multiDrawStarts,Li=Ke._multiDrawCounts,On=Ke._multiDrawCount,li=Xt?$.get(Xt).bytesPerElement:1,La=We.get(He).currentProgram.getUniforms();for(let gi=0;gi<On;gi++)La.setValue(ce,"_gl_DrawID",gi),qn.render(ln[gi]/li,Li[gi])}else if(Ke.isInstancedMesh)qn.renderInstances(wn,Ti,Ke.count);else if(me.isInstancedBufferGeometry){const ln=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,Li=Math.min(me.instanceCount,ln);qn.renderInstances(wn,Ti,Li)}else qn.render(wn,Ti)};function $t(G,Ve,me){G.transparent===!0&&G.side===nc&&G.forceSinglePass===!1?(G.side=bo,G.needsUpdate=!0,we(G,Ve,me),G.side=nh,G.needsUpdate=!0,we(G,Ve,me),G.side=nc):we(G,Ve,me)}this.compile=function(G,Ve,me=null){me===null&&(me=G),E=nt.get(me),E.init(Ve),O.push(E),me.traverseVisible(function(Ke){Ke.isLight&&Ke.layers.test(Ve.layers)&&(E.pushLight(Ke),Ke.castShadow&&E.pushShadow(Ke))}),G!==me&&G.traverseVisible(function(Ke){Ke.isLight&&Ke.layers.test(Ve.layers)&&(E.pushLight(Ke),Ke.castShadow&&E.pushShadow(Ke))}),E.setupLights();const He=new Set;return G.traverse(function(Ke){if(!(Ke.isMesh||Ke.isPoints||Ke.isLine||Ke.isSprite))return;const Pt=Ke.material;if(Pt)if(Array.isArray(Pt))for(let Ft=0;Ft<Pt.length;Ft++){const Et=Pt[Ft];$t(Et,me,Ke),He.add(Et)}else $t(Pt,me,Ke),He.add(Pt)}),E=O.pop(),He},this.compileAsync=function(G,Ve,me=null){const He=this.compile(G,Ve,me);return new Promise(Ke=>{function Pt(){if(He.forEach(function(Ft){We.get(Ft).currentProgram.isReady()&&He.delete(Ft)}),He.size===0){Ke(G);return}setTimeout(Pt,10)}tt.get("KHR_parallel_shader_compile")!==null?Pt():setTimeout(Pt,10)})};let ei=null;function Pn(G){ei&&ei(G)}function Hn(){Ri.stop()}function mi(){Ri.start()}const Ri=new IO;Ri.setAnimationLoop(Pn),typeof self<"u"&&Ri.setContext(self),this.setAnimationLoop=function(G){ei=G,mt.setAnimationLoop(G),G===null?Ri.stop():Ri.start()},mt.addEventListener("sessionstart",Hn),mt.addEventListener("sessionend",mi),this.render=function(G,Ve){if(Ve!==void 0&&Ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),Ve.parent===null&&Ve.matrixWorldAutoUpdate===!0&&Ve.updateMatrixWorld(),mt.enabled===!0&&mt.isPresenting===!0&&(mt.cameraAutoUpdate===!0&&mt.updateCamera(Ve),Ve=mt.getCamera()),G.isScene===!0&&G.onBeforeRender(N,G,Ve,W),E=nt.get(G,O.length),E.init(Ve),O.push(E),ke.multiplyMatrices(Ve.projectionMatrix,Ve.matrixWorldInverse),he.setFromProjectionMatrix(ke),ze=this.localClippingEnabled,Te=vt.init(this.clippingPlanes,ze),w=at.get(G,L.length),w.init(),L.push(w),mt.enabled===!0&&mt.isPresenting===!0){const Pt=N.xr.getDepthSensingMesh();Pt!==null&&En(Pt,Ve,-1/0,N.sortObjects)}En(G,Ve,0,N.sortObjects),w.finish(),N.sortObjects===!0&&w.sort(fe,J),Xe=mt.enabled===!1||mt.isPresenting===!1||mt.hasDepthSensing()===!1,Xe&&Ye.addToRenderList(w,G),this.info.render.frame++,Te===!0&&vt.beginShadows();const me=E.state.shadowsArray;Rt.render(me,G,Ve),Te===!0&&vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const He=w.opaque,Ke=w.transmissive;if(E.setupLights(),Ve.isArrayCamera){const Pt=Ve.cameras;if(Ke.length>0)for(let Ft=0,Et=Pt.length;Ft<Et;Ft++){const Xt=Pt[Ft];X(He,Ke,G,Xt)}Xe&&Ye.render(G);for(let Ft=0,Et=Pt.length;Ft<Et;Ft++){const Xt=Pt[Ft];F(w,G,Xt,Xt.viewport)}}else Ke.length>0&&X(He,Ke,G,Ve),Xe&&Ye.render(G),F(w,G,Ve);W!==null&&H===0&&(Ie.updateMultisampleRenderTarget(W),Ie.updateRenderTargetMipmap(W)),G.isScene===!0&&G.onAfterRender(N,G,Ve),wt.resetDefaultState(),V=-1,U=null,O.pop(),O.length>0?(E=O[O.length-1],Te===!0&&vt.setGlobalState(N.clippingPlanes,E.state.camera)):E=null,L.pop(),L.length>0?w=L[L.length-1]:w=null};function En(G,Ve,me,He){if(G.visible===!1)return;if(G.layers.test(Ve.layers)){if(G.isGroup)me=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(Ve);else if(G.isLight)E.pushLight(G),G.castShadow&&E.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||he.intersectsSprite(G)){He&&Qe.setFromMatrixPosition(G.matrixWorld).applyMatrix4(ke);const Ft=De.update(G),Et=G.material;Et.visible&&w.push(G,Ft,Et,me,Qe.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||he.intersectsObject(G))){const Ft=De.update(G),Et=G.material;if(He&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Qe.copy(G.boundingSphere.center)):(Ft.boundingSphere===null&&Ft.computeBoundingSphere(),Qe.copy(Ft.boundingSphere.center)),Qe.applyMatrix4(G.matrixWorld).applyMatrix4(ke)),Array.isArray(Et)){const Xt=Ft.groups;for(let cn=0,sn=Xt.length;cn<sn;cn++){const nn=Xt[cn],wn=Et[nn.materialIndex];wn&&wn.visible&&w.push(G,Ft,wn,me,Qe.z,nn)}}else Et.visible&&w.push(G,Ft,Et,me,Qe.z,null)}}const Pt=G.children;for(let Ft=0,Et=Pt.length;Ft<Et;Ft++)En(Pt[Ft],Ve,me,He)}function F(G,Ve,me,He){const Ke=G.opaque,Pt=G.transmissive,Ft=G.transparent;E.setupLightsView(me),Te===!0&&vt.setGlobalState(N.clippingPlanes,me),He&&Le.viewport(Q.copy(He)),Ke.length>0&&Tt(Ke,Ve,me),Pt.length>0&&Tt(Pt,Ve,me),Ft.length>0&&Tt(Ft,Ve,me),Le.buffers.depth.setTest(!0),Le.buffers.depth.setMask(!0),Le.buffers.color.setMask(!0),Le.setPolygonOffset(!1)}function X(G,Ve,me,He){if((me.isScene===!0?me.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[He.id]===void 0&&(E.state.transmissionRenderTarget[He.id]=new Fu(1,1,{generateMipmaps:!0,type:tt.has("EXT_color_buffer_half_float")||tt.has("EXT_color_buffer_float")?Hm:oc,minFilter:Ru,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mi.workingColorSpace}));const Pt=E.state.transmissionRenderTarget[He.id],Ft=He.viewport||Q;Pt.setSize(Ft.z*N.transmissionResolutionScale,Ft.w*N.transmissionResolutionScale);const Et=N.getRenderTarget();N.setRenderTarget(Pt),N.getClearColor(oe),pe=N.getClearAlpha(),pe<1&&N.setClearColor(16777215,.5),N.clear(),Xe&&Ye.render(me);const Xt=N.toneMapping;N.toneMapping=Pu;const cn=He.viewport;if(He.viewport!==void 0&&(He.viewport=void 0),E.setupLightsView(He),Te===!0&&vt.setGlobalState(N.clippingPlanes,He),Tt(G,me,He),Ie.updateMultisampleRenderTarget(Pt),Ie.updateRenderTargetMipmap(Pt),tt.has("WEBGL_multisampled_render_to_texture")===!1){let sn=!1;for(let nn=0,wn=Ve.length;nn<wn;nn++){const bn=Ve[nn],Ti=bn.object,Bn=bn.geometry,qn=bn.material,ln=bn.group;if(qn.side===nc&&Ti.layers.test(He.layers)){const Li=qn.side;qn.side=bo,qn.needsUpdate=!0,re(Ti,me,He,Bn,qn,ln),qn.side=Li,qn.needsUpdate=!0,sn=!0}}sn===!0&&(Ie.updateMultisampleRenderTarget(Pt),Ie.updateRenderTargetMipmap(Pt))}N.setRenderTarget(Et),N.setClearColor(oe,pe),cn!==void 0&&(He.viewport=cn),N.toneMapping=Xt}function Tt(G,Ve,me){const He=Ve.isScene===!0?Ve.overrideMaterial:null;for(let Ke=0,Pt=G.length;Ke<Pt;Ke++){const Ft=G[Ke],Et=Ft.object,Xt=Ft.geometry,cn=Ft.group;let sn=Ft.material;sn.allowOverride===!0&&He!==null&&(sn=He),Et.layers.test(me.layers)&&re(Et,Ve,me,Xt,sn,cn)}}function re(G,Ve,me,He,Ke,Pt){G.onBeforeRender(N,Ve,me,He,Ke,Pt),G.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),Ke.onBeforeRender(N,Ve,me,He,G,Pt),Ke.transparent===!0&&Ke.side===nc&&Ke.forceSinglePass===!1?(Ke.side=bo,Ke.needsUpdate=!0,N.renderBufferDirect(me,Ve,He,Ke,G,Pt),Ke.side=nh,Ke.needsUpdate=!0,N.renderBufferDirect(me,Ve,He,Ke,G,Pt),Ke.side=nc):N.renderBufferDirect(me,Ve,He,Ke,G,Pt),G.onAfterRender(N,Ve,me,He,Ke,Pt)}function we(G,Ve,me){Ve.isScene!==!0&&(Ve=Je);const He=We.get(G),Ke=E.state.lights,Pt=E.state.shadowsArray,Ft=Ke.state.version,Et=Re.getParameters(G,Ke.state,Pt,Ve,me),Xt=Re.getProgramCacheKey(Et);let cn=He.programs;He.environment=G.isMeshStandardMaterial?Ve.environment:null,He.fog=Ve.fog,He.envMap=(G.isMeshStandardMaterial?ue:ut).get(G.envMap||He.environment),He.envMapRotation=He.environment!==null&&G.envMap===null?Ve.environmentRotation:G.envMapRotation,cn===void 0&&(G.addEventListener("dispose",Ut),cn=new Map,He.programs=cn);let sn=cn.get(Xt);if(sn!==void 0){if(He.currentProgram===sn&&He.lightsStateVersion===Ft)return jt(G,Et),sn}else Et.uniforms=Re.getUniforms(G),G.onBeforeCompile(Et,N),sn=Re.acquireProgram(Et,Xt),cn.set(Xt,sn),He.uniforms=Et.uniforms;const nn=He.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(nn.clippingPlanes=vt.uniform),jt(G,Et),He.needsLights=qt(G),He.lightsStateVersion=Ft,He.needsLights&&(nn.ambientLightColor.value=Ke.state.ambient,nn.lightProbe.value=Ke.state.probe,nn.directionalLights.value=Ke.state.directional,nn.directionalLightShadows.value=Ke.state.directionalShadow,nn.spotLights.value=Ke.state.spot,nn.spotLightShadows.value=Ke.state.spotShadow,nn.rectAreaLights.value=Ke.state.rectArea,nn.ltc_1.value=Ke.state.rectAreaLTC1,nn.ltc_2.value=Ke.state.rectAreaLTC2,nn.pointLights.value=Ke.state.point,nn.pointLightShadows.value=Ke.state.pointShadow,nn.hemisphereLights.value=Ke.state.hemi,nn.directionalShadowMap.value=Ke.state.directionalShadowMap,nn.directionalShadowMatrix.value=Ke.state.directionalShadowMatrix,nn.spotShadowMap.value=Ke.state.spotShadowMap,nn.spotLightMatrix.value=Ke.state.spotLightMatrix,nn.spotLightMap.value=Ke.state.spotLightMap,nn.pointShadowMap.value=Ke.state.pointShadowMap,nn.pointShadowMatrix.value=Ke.state.pointShadowMatrix),He.currentProgram=sn,He.uniformsList=null,sn}function ti(G){if(G.uniformsList===null){const Ve=G.currentProgram.getUniforms();G.uniformsList=gx.seqWithValue(Ve.seq,G.uniforms)}return G.uniformsList}function jt(G,Ve){const me=We.get(G);me.outputColorSpace=Ve.outputColorSpace,me.batching=Ve.batching,me.batchingColor=Ve.batchingColor,me.instancing=Ve.instancing,me.instancingColor=Ve.instancingColor,me.instancingMorph=Ve.instancingMorph,me.skinning=Ve.skinning,me.morphTargets=Ve.morphTargets,me.morphNormals=Ve.morphNormals,me.morphColors=Ve.morphColors,me.morphTargetsCount=Ve.morphTargetsCount,me.numClippingPlanes=Ve.numClippingPlanes,me.numIntersection=Ve.numClipIntersection,me.vertexAlphas=Ve.vertexAlphas,me.vertexTangents=Ve.vertexTangents,me.toneMapping=Ve.toneMapping}function Qi(G,Ve,me,He,Ke){Ve.isScene!==!0&&(Ve=Je),Ie.resetTextureUnits();const Pt=Ve.fog,Ft=He.isMeshStandardMaterial?Ve.environment:null,Et=W===null?N.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:od,Xt=(He.isMeshStandardMaterial?ue:ut).get(He.envMap||Ft),cn=He.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,sn=!!me.attributes.tangent&&(!!He.normalMap||He.anisotropy>0),nn=!!me.morphAttributes.position,wn=!!me.morphAttributes.normal,bn=!!me.morphAttributes.color;let Ti=Pu;He.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(Ti=N.toneMapping);const Bn=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,qn=Bn!==void 0?Bn.length:0,ln=We.get(He),Li=E.state.lights;if(Te===!0&&(ze===!0||G!==U)){const Ar=G===U&&He.id===V;vt.setState(He,G,Ar)}let On=!1;He.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==Li.state.version||ln.outputColorSpace!==Et||Ke.isBatchedMesh&&ln.batching===!1||!Ke.isBatchedMesh&&ln.batching===!0||Ke.isBatchedMesh&&ln.batchingColor===!0&&Ke.colorTexture===null||Ke.isBatchedMesh&&ln.batchingColor===!1&&Ke.colorTexture!==null||Ke.isInstancedMesh&&ln.instancing===!1||!Ke.isInstancedMesh&&ln.instancing===!0||Ke.isSkinnedMesh&&ln.skinning===!1||!Ke.isSkinnedMesh&&ln.skinning===!0||Ke.isInstancedMesh&&ln.instancingColor===!0&&Ke.instanceColor===null||Ke.isInstancedMesh&&ln.instancingColor===!1&&Ke.instanceColor!==null||Ke.isInstancedMesh&&ln.instancingMorph===!0&&Ke.morphTexture===null||Ke.isInstancedMesh&&ln.instancingMorph===!1&&Ke.morphTexture!==null||ln.envMap!==Xt||He.fog===!0&&ln.fog!==Pt||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==vt.numPlanes||ln.numIntersection!==vt.numIntersection)||ln.vertexAlphas!==cn||ln.vertexTangents!==sn||ln.morphTargets!==nn||ln.morphNormals!==wn||ln.morphColors!==bn||ln.toneMapping!==Ti||ln.morphTargetsCount!==qn)&&(On=!0):(On=!0,ln.__version=He.version);let li=ln.currentProgram;On===!0&&(li=we(He,Ve,Ke));let La=!1,gi=!1,wr=!1;const yi=li.getUniforms(),Mr=ln.uniforms;if(Le.useProgram(li.program)&&(La=!0,gi=!0,wr=!0),He.id!==V&&(V=He.id,gi=!0),La||U!==G){Le.buffers.depth.getReversed()?(Be.copy(G.projectionMatrix),PX(Be),BX(Be),yi.setValue(ce,"projectionMatrix",Be)):yi.setValue(ce,"projectionMatrix",G.projectionMatrix),yi.setValue(ce,"viewMatrix",G.matrixWorldInverse);const hr=yi.map.cameraPosition;hr!==void 0&&hr.setValue(ce,yt.setFromMatrixPosition(G.matrixWorld)),Ze.logarithmicDepthBuffer&&yi.setValue(ce,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(He.isMeshPhongMaterial||He.isMeshToonMaterial||He.isMeshLambertMaterial||He.isMeshBasicMaterial||He.isMeshStandardMaterial||He.isShaderMaterial)&&yi.setValue(ce,"isOrthographic",G.isOrthographicCamera===!0),U!==G&&(U=G,gi=!0,wr=!0)}if(Ke.isSkinnedMesh){yi.setOptional(ce,Ke,"bindMatrix"),yi.setOptional(ce,Ke,"bindMatrixInverse");const Ar=Ke.skeleton;Ar&&(Ar.boneTexture===null&&Ar.computeBoneTexture(),yi.setValue(ce,"boneTexture",Ar.boneTexture,Ie))}Ke.isBatchedMesh&&(yi.setOptional(ce,Ke,"batchingTexture"),yi.setValue(ce,"batchingTexture",Ke._matricesTexture,Ie),yi.setOptional(ce,Ke,"batchingIdTexture"),yi.setValue(ce,"batchingIdTexture",Ke._indirectTexture,Ie),yi.setOptional(ce,Ke,"batchingColorTexture"),Ke._colorsTexture!==null&&yi.setValue(ce,"batchingColorTexture",Ke._colorsTexture,Ie));const Fi=me.morphAttributes;if((Fi.position!==void 0||Fi.normal!==void 0||Fi.color!==void 0)&&ot.update(Ke,me,li),(gi||ln.receiveShadow!==Ke.receiveShadow)&&(ln.receiveShadow=Ke.receiveShadow,yi.setValue(ce,"receiveShadow",Ke.receiveShadow)),He.isMeshGouraudMaterial&&He.envMap!==null&&(Mr.envMap.value=Xt,Mr.flipEnvMap.value=Xt.isCubeTexture&&Xt.isRenderTargetTexture===!1?-1:1),He.isMeshStandardMaterial&&He.envMap===null&&Ve.environment!==null&&(Mr.envMapIntensity.value=Ve.environmentIntensity),gi&&(yi.setValue(ce,"toneMappingExposure",N.toneMappingExposure),ln.needsLights&&la(Mr,wr),Pt&&He.fog===!0&&Ne.refreshFogUniforms(Mr,Pt),Ne.refreshMaterialUniforms(Mr,He,le,ae,E.state.transmissionRenderTarget[G.id]),gx.upload(ce,ti(ln),Mr,Ie)),He.isShaderMaterial&&He.uniformsNeedUpdate===!0&&(gx.upload(ce,ti(ln),Mr,Ie),He.uniformsNeedUpdate=!1),He.isSpriteMaterial&&yi.setValue(ce,"center",Ke.center),yi.setValue(ce,"modelViewMatrix",Ke.modelViewMatrix),yi.setValue(ce,"normalMatrix",Ke.normalMatrix),yi.setValue(ce,"modelMatrix",Ke.matrixWorld),He.isShaderMaterial||He.isRawShaderMaterial){const Ar=He.uniformsGroups;for(let hr=0,dr=Ar.length;hr<dr;hr++){const za=Ar[hr];Ae.update(za,li),Ae.bind(za,li)}}return li}function la(G,Ve){G.ambientLightColor.needsUpdate=Ve,G.lightProbe.needsUpdate=Ve,G.directionalLights.needsUpdate=Ve,G.directionalLightShadows.needsUpdate=Ve,G.pointLights.needsUpdate=Ve,G.pointLightShadows.needsUpdate=Ve,G.spotLights.needsUpdate=Ve,G.spotLightShadows.needsUpdate=Ve,G.rectAreaLights.needsUpdate=Ve,G.hemisphereLights.needsUpdate=Ve}function qt(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return W},this.setRenderTargetTextures=function(G,Ve,me){const He=We.get(G);He.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,He.__autoAllocateDepthBuffer===!1&&(He.__useRenderToTexture=!1),We.get(G.texture).__webglTexture=Ve,We.get(G.depthTexture).__webglTexture=He.__autoAllocateDepthBuffer?void 0:me,He.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,Ve){const me=We.get(G);me.__webglFramebuffer=Ve,me.__useDefaultFramebuffer=Ve===void 0};const wi=ce.createFramebuffer();this.setRenderTarget=function(G,Ve=0,me=0){W=G,I=Ve,H=me;let He=!0,Ke=null,Pt=!1,Ft=!1;if(G){const Xt=We.get(G);if(Xt.__useDefaultFramebuffer!==void 0)Le.bindFramebuffer(ce.FRAMEBUFFER,null),He=!1;else if(Xt.__webglFramebuffer===void 0)Ie.setupRenderTarget(G);else if(Xt.__hasExternalTextures)Ie.rebindTextures(G,We.get(G.texture).__webglTexture,We.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const nn=G.depthTexture;if(Xt.__boundDepthTexture!==nn){if(nn!==null&&We.has(nn)&&(G.width!==nn.image.width||G.height!==nn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ie.setupDepthRenderbuffer(G)}}const cn=G.texture;(cn.isData3DTexture||cn.isDataArrayTexture||cn.isCompressedArrayTexture)&&(Ft=!0);const sn=We.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(sn[Ve])?Ke=sn[Ve][me]:Ke=sn[Ve],Pt=!0):G.samples>0&&Ie.useMultisampledRTT(G)===!1?Ke=We.get(G).__webglMultisampledFramebuffer:Array.isArray(sn)?Ke=sn[me]:Ke=sn,Q.copy(G.viewport),ee.copy(G.scissor),te=G.scissorTest}else Q.copy(K).multiplyScalar(le).floor(),ee.copy(xe).multiplyScalar(le).floor(),te=Me;if(me!==0&&(Ke=wi),Le.bindFramebuffer(ce.FRAMEBUFFER,Ke)&&He&&Le.drawBuffers(G,Ke),Le.viewport(Q),Le.scissor(ee),Le.setScissorTest(te),Pt){const Xt=We.get(G.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,Xt.__webglTexture,me)}else if(Ft){const Xt=We.get(G.texture),cn=Ve;ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Xt.__webglTexture,me,cn)}else if(G!==null&&me!==0){const Xt=We.get(G.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Xt.__webglTexture,me)}V=-1},this.readRenderTargetPixels=function(G,Ve,me,He,Ke,Pt,Ft,Et=0){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xt=We.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Ft!==void 0&&(Xt=Xt[Ft]),Xt){Le.bindFramebuffer(ce.FRAMEBUFFER,Xt);try{const cn=G.textures[Et],sn=cn.format,nn=cn.type;if(!Ze.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ze.textureTypeReadable(nn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ve>=0&&Ve<=G.width-He&&me>=0&&me<=G.height-Ke&&(G.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+Et),ce.readPixels(Ve,me,He,Ke,Fe.convert(sn),Fe.convert(nn),Pt))}finally{const cn=W!==null?We.get(W).__webglFramebuffer:null;Le.bindFramebuffer(ce.FRAMEBUFFER,cn)}}},this.readRenderTargetPixelsAsync=async function(G,Ve,me,He,Ke,Pt,Ft,Et=0){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Xt=We.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&Ft!==void 0&&(Xt=Xt[Ft]),Xt)if(Ve>=0&&Ve<=G.width-He&&me>=0&&me<=G.height-Ke){Le.bindFramebuffer(ce.FRAMEBUFFER,Xt);const cn=G.textures[Et],sn=cn.format,nn=cn.type;if(!Ze.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ze.textureTypeReadable(nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const wn=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,wn),ce.bufferData(ce.PIXEL_PACK_BUFFER,Pt.byteLength,ce.STREAM_READ),G.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+Et),ce.readPixels(Ve,me,He,Ke,Fe.convert(sn),Fe.convert(nn),0);const bn=W!==null?We.get(W).__webglFramebuffer:null;Le.bindFramebuffer(ce.FRAMEBUFFER,bn);const Ti=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await zX(ce,Ti,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,wn),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,Pt),ce.deleteBuffer(wn),ce.deleteSync(Ti),Pt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,Ve=null,me=0){const He=Math.pow(2,-me),Ke=Math.floor(G.image.width*He),Pt=Math.floor(G.image.height*He),Ft=Ve!==null?Ve.x:0,Et=Ve!==null?Ve.y:0;Ie.setTexture2D(G,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,me,0,0,Ft,Et,Ke,Pt),Le.unbindTexture()};const zr=ce.createFramebuffer(),ca=ce.createFramebuffer();this.copyTextureToTexture=function(G,Ve,me=null,He=null,Ke=0,Pt=null){Pt===null&&(Ke!==0?(ym("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Pt=Ke,Ke=0):Pt=0);let Ft,Et,Xt,cn,sn,nn,wn,bn,Ti;const Bn=G.isCompressedTexture?G.mipmaps[Pt]:G.image;if(me!==null)Ft=me.max.x-me.min.x,Et=me.max.y-me.min.y,Xt=me.isBox3?me.max.z-me.min.z:1,cn=me.min.x,sn=me.min.y,nn=me.isBox3?me.min.z:0;else{const Fi=Math.pow(2,-Ke);Ft=Math.floor(Bn.width*Fi),Et=Math.floor(Bn.height*Fi),G.isDataArrayTexture?Xt=Bn.depth:G.isData3DTexture?Xt=Math.floor(Bn.depth*Fi):Xt=1,cn=0,sn=0,nn=0}He!==null?(wn=He.x,bn=He.y,Ti=He.z):(wn=0,bn=0,Ti=0);const qn=Fe.convert(Ve.format),ln=Fe.convert(Ve.type);let Li;Ve.isData3DTexture?(Ie.setTexture3D(Ve,0),Li=ce.TEXTURE_3D):Ve.isDataArrayTexture||Ve.isCompressedArrayTexture?(Ie.setTexture2DArray(Ve,0),Li=ce.TEXTURE_2D_ARRAY):(Ie.setTexture2D(Ve,0),Li=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,Ve.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,Ve.unpackAlignment);const On=ce.getParameter(ce.UNPACK_ROW_LENGTH),li=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),La=ce.getParameter(ce.UNPACK_SKIP_PIXELS),gi=ce.getParameter(ce.UNPACK_SKIP_ROWS),wr=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,Bn.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,Bn.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,cn),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,sn),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,nn);const yi=G.isDataArrayTexture||G.isData3DTexture,Mr=Ve.isDataArrayTexture||Ve.isData3DTexture;if(G.isDepthTexture){const Fi=We.get(G),Ar=We.get(Ve),hr=We.get(Fi.__renderTarget),dr=We.get(Ar.__renderTarget);Le.bindFramebuffer(ce.READ_FRAMEBUFFER,hr.__webglFramebuffer),Le.bindFramebuffer(ce.DRAW_FRAMEBUFFER,dr.__webglFramebuffer);for(let za=0;za<Xt;za++)yi&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,We.get(G).__webglTexture,Ke,nn+za),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,We.get(Ve).__webglTexture,Pt,Ti+za)),ce.blitFramebuffer(cn,sn,Ft,Et,wn,bn,Ft,Et,ce.DEPTH_BUFFER_BIT,ce.NEAREST);Le.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Le.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(Ke!==0||G.isRenderTargetTexture||We.has(G)){const Fi=We.get(G),Ar=We.get(Ve);Le.bindFramebuffer(ce.READ_FRAMEBUFFER,zr),Le.bindFramebuffer(ce.DRAW_FRAMEBUFFER,ca);for(let hr=0;hr<Xt;hr++)yi?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Fi.__webglTexture,Ke,nn+hr):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Fi.__webglTexture,Ke),Mr?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,Ar.__webglTexture,Pt,Ti+hr):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,Ar.__webglTexture,Pt),Ke!==0?ce.blitFramebuffer(cn,sn,Ft,Et,wn,bn,Ft,Et,ce.COLOR_BUFFER_BIT,ce.NEAREST):Mr?ce.copyTexSubImage3D(Li,Pt,wn,bn,Ti+hr,cn,sn,Ft,Et):ce.copyTexSubImage2D(Li,Pt,wn,bn,cn,sn,Ft,Et);Le.bindFramebuffer(ce.READ_FRAMEBUFFER,null),Le.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else Mr?G.isDataTexture||G.isData3DTexture?ce.texSubImage3D(Li,Pt,wn,bn,Ti,Ft,Et,Xt,qn,ln,Bn.data):Ve.isCompressedArrayTexture?ce.compressedTexSubImage3D(Li,Pt,wn,bn,Ti,Ft,Et,Xt,qn,Bn.data):ce.texSubImage3D(Li,Pt,wn,bn,Ti,Ft,Et,Xt,qn,ln,Bn):G.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,Pt,wn,bn,Ft,Et,qn,ln,Bn.data):G.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,Pt,wn,bn,Bn.width,Bn.height,qn,Bn.data):ce.texSubImage2D(ce.TEXTURE_2D,Pt,wn,bn,Ft,Et,qn,ln,Bn);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,On),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,li),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,La),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,gi),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,wr),Pt===0&&Ve.generateMipmaps&&ce.generateMipmap(Li),Le.unbindTexture()},this.copyTextureToTexture3D=function(G,Ve,me=null,He=null,Ke=0){return ym('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(G,Ve,me,He,Ke)},this.initRenderTarget=function(G){We.get(G).__webglFramebuffer===void 0&&Ie.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?Ie.setTextureCube(G,0):G.isData3DTexture?Ie.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?Ie.setTexture2DArray(G,0):Ie.setTexture2D(G,0),Le.unbindTexture()},this.resetState=function(){I=0,H=0,W=null,Le.reset(),wt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Mi._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mi._getUnpackColorSpace()}}const qee=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:qM,AddEquation:$h,AddOperation:pD,AdditiveAnimationBlendMode:t6,AdditiveBlending:h5,AgXToneMapping:xD,AlphaFormat:QM,AlwaysCompare:UD,AlwaysDepth:jx,AlwaysStencilFunc:g5,AmbientLight:wO,AnimationAction:LO,AnimationClip:oy,AnimationLoader:cK,AnimationMixer:IK,AnimationObjectGroup:PK,AnimationUtils:aK,ArcCurve:JD,ArrayCamera:OO,ArrowHelper:iZ,AttachedBindMode:m5,Audio:NO,AudioAnalyser:wK,AudioContext:w6,AudioListener:MK,AudioLoader:bK,AxesHelper:rZ,BackSide:bo,BasicDepthPacking:ED,BasicShadowMap:Y9,BatchedMesh:XD,Bone:u6,BooleanKeyframeTrack:H0,Box2:jK,Box3:_a,Box3Helper:tZ,BoxGeometry:V0,BoxHelper:eZ,BufferAttribute:lr,BufferGeometry:$n,BufferGeometryLoader:DO,ByteType:YM,Cache:qf,Camera:y4,CameraHelper:$K,CanvasTexture:CY,CapsuleGeometry:T4,CatmullRomCurve3:$D,CineonToneMapping:yD,CircleGeometry:E4,ClampToEdgeWrapping:rc,Clock:A6,Color:Qt,ColorKeyframeTrack:M6,ColorManagement:Mi,CompressedArrayTexture:wY,CompressedCubeTexture:AY,CompressedTexture:M4,CompressedTextureLoader:uK,ConeGeometry:Uy,ConstantAlphaFactor:fD,ConstantColorFactor:cD,Controls:sZ,CubeCamera:FD,CubeReflectionMapping:ih,CubeRefractionMapping:sd,CubeTexture:Oy,CubeTextureLoader:fK,CubeUVReflectionMapping:Vm,CubicBezierCurve:p6,CubicBezierCurve3:eO,CubicInterpolant:vO,CullFaceBack:f5,CullFaceFront:X9,CullFaceFrontBack:zq,CullFaceNone:q9,Curve:Xc,CurvePath:nO,CustomBlending:K9,CustomToneMapping:vD,CylinderGeometry:Ny,Cylindrical:GK,Data3DTexture:g4,DataArrayTexture:m4,DataTexture:Bu,DataTextureLoader:hK,DataUtils:JX,DecrementStencilOp:Kq,DecrementWrapStencilOp:Qq,DefaultLoadingManager:SO,DepthFormat:Rm,DepthStencilFormat:Dm,DepthTexture:h6,DetachedBindMode:SD,DirectionalLight:EO,DirectionalLightHelper:JK,DiscreteInterpolant:xO,DodecahedronGeometry:w4,DoubleSide:nc,DstAlphaFactor:rD,DstColorFactor:sD,DynamicCopyUsage:hX,DynamicDrawUsage:sX,DynamicReadUsage:cX,EdgesGeometry:QD,EllipseCurve:A4,EqualCompare:RD,EqualDepth:qx,EqualStencilFunc:tX,EquirectangularReflectionMapping:Wg,EquirectangularRefractionMapping:qg,Euler:Ol,EventDispatcher:Gu,ExtrudeGeometry:C4,FileLoader:ah,Float16BufferAttribute:aY,Float32BufferAttribute:rn,FloatType:Zo,Fog:x4,FogExp2:v4,FramebufferTexture:EY,FrontSide:nh,Frustum:Gm,FrustumArray:_4,GLBufferAttribute:HK,GLSL1:pX,GLSL3:y5,GreaterCompare:DD,GreaterDepth:Yx,GreaterEqualCompare:ND,GreaterEqualDepth:Xx,GreaterEqualStencilFunc:aX,GreaterStencilFunc:iX,GridHelper:ZK,Group:hm,HalfFloatType:Hm,HemisphereLight:_O,HemisphereLightHelper:KK,IcosahedronGeometry:R4,ImageBitmapLoader:xK,ImageLoader:ly,ImageUtils:BD,IncrementStencilOp:Yq,IncrementWrapStencilOp:Zq,InstancedBufferAttribute:z0,InstancedBufferGeometry:F4,InstancedInterleavedBuffer:Ab,InstancedMesh:qD,Int16BufferAttribute:iY,Int32BufferAttribute:rY,Int8BufferAttribute:eY,IntType:l4,InterleavedBuffer:b4,InterleavedBufferAttribute:wl,Interpolant:Py,InterpolateDiscrete:Kg,InterpolateLinear:_b,InterpolateSmooth:px,InterpolationSamplingMode:yX,InterpolationSamplingType:gX,InvertStencilOp:Jq,KeepStencilOp:d0,KeyframeTrack:fc,LOD:jD,LatheGeometry:D4,Layers:Nm,LessCompare:CD,LessDepth:Wx,LessEqualCompare:i6,LessEqualDepth:L0,LessEqualStencilFunc:nX,LessStencilFunc:eX,Light:dd,LightProbe:RO,Line:ld,Line3:PO,LineBasicMaterial:So,LineCurve:m6,LineCurve3:tO,LineDashedMaterial:mO,LineLoop:YD,LineSegments:ju,LinearFilter:Sa,LinearInterpolant:_6,LinearMipMapLinearFilter:kq,LinearMipMapNearestFilter:Iq,LinearMipmapLinearFilter:Ru,LinearMipmapNearestFilter:yg,LinearSRGBColorSpace:od,LinearToneMapping:mD,LinearTransfer:Qg,Loader:Jo,LoaderUtils:_5,LoadingManager:T6,LoopOnce:_D,LoopPingPong:TD,LoopRepeat:MD,MOUSE:f0,Material:js,MaterialLoader:k4,MathUtils:LD,Matrix2:O6,Matrix3:jn,Matrix4:Tn,MaxEquation:$9,Mesh:Vr,MeshBasicMaterial:sh,MeshDepthMaterial:B4,MeshDistanceMaterial:I4,MeshLambertMaterial:dO,MeshMatcapMaterial:pO,MeshNormalMaterial:hO,MeshPhongMaterial:uO,MeshPhysicalMaterial:cO,MeshStandardMaterial:b6,MeshToonMaterial:fO,MinEquation:J9,MirroredRepeatWrapping:Yg,MixOperation:dD,MultiplyBlending:p5,MultiplyOperation:Ry,NearestFilter:Ss,NearestMipMapLinearFilter:Bq,NearestMipMapNearestFilter:Pq,NearestMipmapLinearFilter:um,NearestMipmapNearestFilter:XM,NeutralToneMapping:bD,NeverCompare:AD,NeverDepth:Gx,NeverStencilFunc:$q,NoBlending:Yf,NoColorSpace:jf,NoToneMapping:Pu,NormalAnimationBlendMode:p4,NormalBlending:E0,NotEqualCompare:OD,NotEqualDepth:Kx,NotEqualStencilFunc:rX,NumberKeyframeTrack:ay,Object3D:Ci,ObjectLoader:yK,ObjectSpaceNormalMap:wD,OctahedronGeometry:Ly,OneFactor:tD,OneMinusConstantAlphaFactor:hD,OneMinusConstantColorFactor:uD,OneMinusDstAlphaFactor:aD,OneMinusDstColorFactor:oD,OneMinusSrcAlphaFactor:Hx,OneMinusSrcColorFactor:iD,OrthographicCamera:Iu,PCFShadowMap:s4,PCFSoftShadowMap:gg,PMREMGenerator:w5,Path:wb,PerspectiveCamera:Xr,Plane:Gf,PlaneGeometry:oh,PlaneHelper:nZ,PointLight:TO,PointLightHelper:XK,Points:KD,PointsMaterial:f6,PolarGridHelper:QK,PolyhedronGeometry:hd,PositionalAudio:EK,PropertyBinding:Ai,PropertyMixer:UO,QuadraticBezierCurve:g6,QuadraticBezierCurve3:y6,Quaternion:Hs,QuaternionKeyframeTrack:By,QuaternionLinearInterpolant:bO,RED_GREEN_RGTC2_Format:bb,RED_RGTC1_Format:e6,REVISION:Cy,RGBADepthPacking:n6,RGBAFormat:Vs,RGBAIntegerFormat:d4,RGBA_ASTC_10x10_Format:pb,RGBA_ASTC_10x5_Format:fb,RGBA_ASTC_10x6_Format:hb,RGBA_ASTC_10x8_Format:db,RGBA_ASTC_12x10_Format:mb,RGBA_ASTC_12x12_Format:gb,RGBA_ASTC_4x4_Format:ib,RGBA_ASTC_5x4_Format:rb,RGBA_ASTC_5x5_Format:ab,RGBA_ASTC_6x5_Format:sb,RGBA_ASTC_6x6_Format:ob,RGBA_ASTC_8x5_Format:lb,RGBA_ASTC_8x6_Format:cb,RGBA_ASTC_8x8_Format:ub,RGBA_BPTC_Format:_g,RGBA_ETC2_EAC_Format:nb,RGBA_PVRTC_2BPPV1_Format:$x,RGBA_PVRTC_4BPPV1_Format:Jx,RGBA_S3TC_DXT1_Format:xg,RGBA_S3TC_DXT3_Format:bg,RGBA_S3TC_DXT5_Format:Sg,RGBDepthPacking:jq,RGBFormat:JM,RGBIntegerFormat:Fq,RGB_BPTC_SIGNED_Format:yb,RGB_BPTC_UNSIGNED_Format:vb,RGB_ETC1_Format:eb,RGB_ETC2_Format:tb,RGB_PVRTC_2BPPV1_Format:Qx,RGB_PVRTC_4BPPV1_Format:Zx,RGB_S3TC_DXT1_Format:vg,RGDepthPacking:Wq,RGFormat:$M,RGIntegerFormat:h4,RawShaderMaterial:lO,Ray:F0,Raycaster:zO,RectAreaLight:AO,RedFormat:f4,RedIntegerFormat:Dy,ReinhardToneMapping:gD,RenderTarget:a6,RenderTarget3D:kK,RepeatWrapping:Xg,ReplaceStencilOp:Xq,ReverseSubtractEquation:Q9,RingGeometry:O4,SIGNED_RED_GREEN_RGTC2_Format:Sb,SIGNED_RED_RGTC1_Format:xb,SRGBColorSpace:ks,SRGBTransfer:Ki,Scene:l6,ShaderChunk:Qn,ShaderLib:Hc,ShaderMaterial:lc,ShadowMaterial:oO,Shape:A0,ShapeGeometry:N4,ShapePath:aZ,ShapeUtils:Wc,ShortType:KM,Skeleton:S4,SkeletonHelper:qK,SkinnedMesh:WD,Source:td,Sphere:Ua,SphereGeometry:zy,Spherical:T5,SphericalHarmonics3:CO,SplineCurve:v6,SpotLight:MO,SpotLightHelper:WK,Sprite:GD,SpriteMaterial:c6,SrcAlphaFactor:Vx,SrcAlphaSaturateFactor:lD,SrcColorFactor:nD,StaticCopyUsage:fX,StaticDrawUsage:Jg,StaticReadUsage:lX,StereoCamera:SK,StreamCopyUsage:dX,StreamDrawUsage:oX,StreamReadUsage:uX,StringKeyframeTrack:G0,SubtractEquation:Z9,SubtractiveBlending:d5,TOUCH:h0,TangentSpaceNormalMap:fd,TetrahedronGeometry:U4,Texture:Qr,TextureLoader:dK,TextureUtils:fZ,TimestampQuery:mX,TorusGeometry:L4,TorusKnotGeometry:z4,Triangle:Yo,TriangleFanDrawMode:Gq,TriangleStripDrawMode:Hq,TrianglesDrawMode:Vq,TubeGeometry:P4,UVMapping:o4,Uint16BufferAttribute:s6,Uint32BufferAttribute:o6,Uint8BufferAttribute:tY,Uint8ClampedBufferAttribute:nY,Uniform:D6,UniformsGroup:VK,UniformsLib:Yt,UniformsUtils:ty,UnsignedByteType:oc,UnsignedInt248Type:Cm,UnsignedInt5999Type:ZM,UnsignedIntType:rh,UnsignedShort4444Type:c4,UnsignedShort5551Type:u4,UnsignedShortType:Am,VSMShadowMap:Fc,Vector2:Ct,Vector3:_e,Vector4:ii,VectorKeyframeTrack:sy,VideoFrameTexture:TY,VideoTexture:ZD,WebGL3DRenderTarget:HX,WebGLArrayRenderTarget:VX,WebGLCoordinateSystem:ac,WebGLCubeRenderTarget:VD,WebGLRenderTarget:Fu,WebGLRenderer:jO,WebGLUtils:GO,WebGPUCoordinateSystem:$g,WebXRController:mx,WireframeGeometry:x6,WrapAroundEnding:Zg,ZeroCurvatureEnding:x0,ZeroFactor:eD,ZeroSlopeEnding:b0,ZeroStencilOp:qq,createCanvasElement:PD},Symbol.toStringTag,{value:"Module"}));var QS={exports:{}},Vf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z7;function Xee(){return Z7||(Z7=1,Vf.ConcurrentRoot=1,Vf.ContinuousEventPriority=8,Vf.DefaultEventPriority=32,Vf.DiscreteEventPriority=2,Vf.IdleEventPriority=268435456,Vf.LegacyRoot=0,Vf.NoEventPriority=0),Vf}var Q7;function Yee(){return Q7||(Q7=1,QS.exports=Xee()),QS.exports}var yx=Yee(),JS={exports:{}},$S={},e_={exports:{}},t_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J7;function Kee(){if(J7)return t_;J7=1;var n=cd();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function l(g,v){var S=v(),T=i({inst:{value:S,getSnapshot:v}}),A=T[0].inst,w=T[1];return a(function(){A.value=S,A.getSnapshot=v,u(A)&&w({inst:A})},[g,S,v]),r(function(){return u(A)&&w({inst:A}),g(function(){u(A)&&w({inst:A})})},[g]),o(S),S}function u(g){var v=g.getSnapshot;g=g.value;try{var S=v();return!t(g,S)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return t_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,t_}var $7;function Zee(){return $7||($7=1,e_.exports=Kee()),e_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e8;function Qee(){if(e8)return $S;e8=1;var n=cd(),e=Zee();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return $S.useSyncExternalStoreWithSelector=function(f,p,g,v,S){var T=a(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=l(function(){function E(I){if(!L){if(L=!0,O=I,I=v(I),S!==void 0&&A.hasValue){var H=A.value;if(S(H,I))return N=H}return N=I}if(H=N,i(O,I))return H;var W=v(I);return S!==void 0&&S(H,W)?(O=I,H):(O=I,N=W)}var L=!1,O,N,z=g===void 0?null:g;return[function(){return E(p())},z===null?void 0:function(){return E(z())}]},[p,g,v,S]);var w=r(f,T[0],T[1]);return o(function(){A.hasValue=!0,A.value=w},[w]),u(w),w},$S}var t8;function Jee(){return t8||(t8=1,JS.exports=Qee()),JS.exports}var $ee=Jee();const ete=uy($ee),n8=n=>{let e;const t=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(S=>S(e,v))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(i,r,l);return l},tte=n=>n?n8(n):n8,{useSyncExternalStoreWithSelector:nte}=ete,ite=n=>n;function rte(n,e=ite,t){const i=nte(n.subscribe,n.getState,n.getInitialState,e,t);return jc.useDebugValue(i),i}const i8=(n,e)=>{const t=tte(n),i=(r,a=e)=>rte(t,r,a);return Object.assign(i,t),i},ate=(n,e)=>n?i8(n,e):i8;var n_={exports:{}},i_={exports:{}},r_={exports:{}},a_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8;function ste(){return r8||(r8=1,function(n){function e(j,ae){var le=j.length;j.push(ae);e:for(;0<le;){var fe=le-1>>>1,J=j[fe];if(0<r(J,ae))j[fe]=ae,j[le]=J,le=fe;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var ae=j[0],le=j.pop();if(le!==ae){j[0]=le;e:for(var fe=0,J=j.length,K=J>>>1;fe<K;){var xe=2*(fe+1)-1,Me=j[xe],he=xe+1,Te=j[he];if(0>r(Me,le))he<J&&0>r(Te,Me)?(j[fe]=Te,j[he]=le,fe=he):(j[fe]=Me,j[xe]=le,fe=xe);else if(he<J&&0>r(Te,le))j[fe]=Te,j[he]=le,fe=he;else break e}}return ae}function r(j,ae){var le=j.sortIndex-ae.sortIndex;return le!==0?le:j.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,g=null,v=3,S=!1,T=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var ae=t(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=j)i(f),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(f)}}function N(j){if(A=!1,O(j),!T)if(t(u)!==null)T=!0,oe();else{var ae=t(f);ae!==null&&pe(N,ae.startTime-j)}}var z=!1,I=-1,H=5,W=-1;function V(){return!(n.unstable_now()-W<H)}function U(){if(z){var j=n.unstable_now();W=j;var ae=!0;try{e:{T=!1,A&&(A=!1,E(I),I=-1),S=!0;var le=v;try{t:{for(O(j),g=t(u);g!==null&&!(g.expirationTime>j&&V());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var J=fe(g.expirationTime<=j);if(j=n.unstable_now(),typeof J=="function"){g.callback=J,O(j),ae=!0;break t}g===t(u)&&i(u),O(j)}else i(u);g=t(u)}if(g!==null)ae=!0;else{var K=t(f);K!==null&&pe(N,K.startTime-j),ae=!1}}break e}finally{g=null,v=le,S=!1}ae=void 0}}finally{ae?Q():z=!1}}}var Q;if(typeof L=="function")Q=function(){L(U)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=U,Q=function(){te.postMessage(null)}}else Q=function(){w(U,0)};function oe(){z||(z=!0,Q())}function pe(j,ae){I=w(function(){j(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){T||S||(T=!0,oe())},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var le=v;v=ae;try{return j()}finally{v=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,ae){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=v;v=j;try{return ae()}finally{v=le}},n.unstable_scheduleCallback=function(j,ae,le){var fe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,j={id:p++,callback:ae,priorityLevel:j,startTime:le,expirationTime:J,sortIndex:-1},le>fe?(j.sortIndex=le,e(f,j),t(u)===null&&j===t(f)&&(A?(E(I),I=-1):A=!0,pe(N,le-fe))):(j.sortIndex=J,e(u,j),T||S||(T=!0,oe())),j},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(j){var ae=v;return function(){var le=v;v=ae;try{return j.apply(this,arguments)}finally{v=le}}}}(a_)),a_}var a8;function ote(){return a8||(a8=1,r_.exports=ste()),r_.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8;function lte(){return s8||(s8=1,function(n){n.exports=function(e){function t(h,d,_,R){return new wd(h,d,_,R)}function i(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=ie&&h[ie]||h["@@iterator"],typeof h=="function"?h:null)}function o(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===de?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case dl:return"Fragment";case Ds:return"Portal";case Cd:return"Profiler";case wc:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case $s:return(h.displayName||"Context")+".Provider";case $0:return(h._context.displayName||"Context")+".Consumer";case pf:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case M:return d=h.displayName||null,d!==null?d:o(h.type)||"Memo";case D:d=h._payload,h=h._init;try{return o(h(d))}catch{}}return null}function l(h){if(Oe===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);Oe=d&&d[1]||"",qe=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+h+qe}function u(h,d){if(!h||et)return"";et=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(d){var Zt=function(){throw Error()};if(Object.defineProperty(Zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Zt,[])}catch(Fn){var Jt=Fn}Reflect.construct(h,[],Zt)}else{try{Zt.call()}catch(Fn){Jt=Fn}h.call(Zt.prototype)}}else{try{throw Error()}catch(Fn){Jt=Fn}(Zt=h())&&typeof Zt.catch=="function"&&Zt.catch(function(){})}}catch(Fn){if(Fn&&Jt&&typeof Fn.stack=="string")return[Fn.stack,Jt.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=R.DetermineComponentFrameRoot(),Se=q[0],Pe=q[1];if(Se&&Pe){var it=Se.split(`
`),Dt=Pe.split(`
`);for(B=R=0;R<it.length&&!it[R].includes("DetermineComponentFrameRoot");)R++;for(;B<Dt.length&&!Dt[B].includes("DetermineComponentFrameRoot");)B++;if(R===it.length||B===Dt.length)for(R=it.length-1,B=Dt.length-1;1<=R&&0<=B&&it[R]!==Dt[B];)B--;for(;1<=R&&0<=B;R--,B--)if(it[R]!==Dt[B]){if(R!==1||B!==1)do if(R--,B--,0>B||it[R]!==Dt[B]){var Gt=`
`+it[R].replace(" at new "," at ");return h.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",h.displayName)),Gt}while(1<=R&&0<=B);break}}}finally{et=!1,Error.prepareStackTrace=_}return(_=h?h.displayName||h.name:"")?l(_):""}function f(h){switch(h.tag){case 26:case 27:case 5:return l(h.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return h=u(h.type,!1),h;case 11:return h=u(h.type.render,!1),h;case 1:return h=u(h.type,!0),h;default:return""}}function p(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function g(h){var d=h,_=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(_=d.return),h=d.return;while(h)}return d.tag===3?_:null}function v(h){if(g(h)!==h)throw Error(r(188))}function S(h){var d=h.alternate;if(!d){if(d=g(h),d===null)throw Error(r(188));return d!==h?null:h}for(var _=h,R=d;;){var B=_.return;if(B===null)break;var q=B.alternate;if(q===null){if(R=B.return,R!==null){_=R;continue}break}if(B.child===q.child){for(q=B.child;q;){if(q===_)return v(B),h;if(q===R)return v(B),d;q=q.sibling}throw Error(r(188))}if(_.return!==R.return)_=B,R=q;else{for(var Se=!1,Pe=B.child;Pe;){if(Pe===_){Se=!0,_=B,R=q;break}if(Pe===R){Se=!0,R=B,_=q;break}Pe=Pe.sibling}if(!Se){for(Pe=q.child;Pe;){if(Pe===_){Se=!0,_=q,R=B;break}if(Pe===R){Se=!0,R=q,_=B;break}Pe=Pe.sibling}if(!Se)throw Error(r(189))}}if(_.alternate!==R)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?h:d}function T(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=T(h),d!==null)return d;h=h.sibling}return null}function A(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=A(h),d!==null))return d;h=h.sibling}return null}function w(h){return{current:h}}function E(h){0>Cc||(h.current=Gr[Cc],Gr[Cc]=null,Cc--)}function L(h,d){Cc++,Gr[Cc]=h.current,h.current=d}function O(h){return h>>>=0,h===0?32:31-(vv(h)/xv|0)|0}function N(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function z(h,d){var _=h.pendingLanes;if(_===0)return 0;var R=0,B=h.suspendedLanes,q=h.pingedLanes,Se=h.warmLanes;h=h.finishedLanes!==0;var Pe=_&134217727;return Pe!==0?(_=Pe&~B,_!==0?R=N(_):(q&=Pe,q!==0?R=N(q):h||(Se=Pe&~Se,Se!==0&&(R=N(Se))))):(Pe=_&~B,Pe!==0?R=N(Pe):q!==0?R=N(q):h||(Se=_&~Se,Se!==0&&(R=N(Se)))),R===0?0:d!==0&&d!==R&&(d&B)===0&&(B=R&-R,Se=d&-d,B>=Se||B===32&&(Se&4194176)!==0)?d:R}function I(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function H(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var h=kl;return kl<<=1,(kl&4194176)===0&&(kl=128),h}function V(){var h=yf;return yf<<=1,(yf&62914560)===0&&(yf=4194304),h}function U(h){for(var d=[],_=0;31>_;_++)d.push(h);return d}function Q(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function ee(h,d,_,R,B,q){var Se=h.pendingLanes;h.pendingLanes=_,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=_,h.entangledLanes&=_,h.errorRecoveryDisabledLanes&=_,h.shellSuspendCounter=0;var Pe=h.entanglements,it=h.expirationTimes,Dt=h.hiddenUpdates;for(_=Se&~_;0<_;){var Gt=31-us(_),Zt=1<<Gt;Pe[Gt]=0,it[Gt]=-1;var Jt=Dt[Gt];if(Jt!==null)for(Dt[Gt]=null,Gt=0;Gt<Jt.length;Gt++){var Fn=Jt[Gt];Fn!==null&&(Fn.lane&=-536870913)}_&=~Zt}R!==0&&te(h,R,0),q!==0&&B===0&&h.tag!==0&&(h.suspendedLanes|=q&~(Se&~d))}function te(h,d,_){h.pendingLanes|=d,h.suspendedLanes&=~d;var R=31-us(d);h.entangledLanes|=d,h.entanglements[R]=h.entanglements[R]|1073741824|_&4194218}function oe(h,d){var _=h.entangledLanes|=d;for(h=h.entanglements;_;){var R=31-us(_),B=1<<R;B&d|h[R]&d&&(h[R]|=d),_&=~B}}function pe(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function j(h){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(jr,h,void 0,(h.current.flags&128)===128)}catch{}}function ae(h){if(typeof _v=="function"&&Aa(h),Ns&&typeof Ns.setStrictMode=="function")try{Ns.setStrictMode(jr,h)}catch{}}function le(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function fe(h,d){if(typeof h=="object"&&h!==null){var _=f1.get(h);return _!==void 0?_:(d={value:h,source:d,stack:p(d)},f1.set(h,d),d)}return{value:h,source:d,stack:p(d)}}function J(h,d){vf[xf++]=Ah,vf[xf++]=bf,bf=h,Ah=d}function K(h,d,_){to[no++]=gl,to[no++]=yl,to[no++]=ou,ou=h;var R=gl;h=yl;var B=32-us(R)-1;R&=~(1<<B),_+=1;var q=32-us(d)+B;if(30<q){var Se=B-B%5;q=(R&(1<<Se)-1).toString(32),R>>=Se,B-=Se,gl=1<<32-us(d)+B|_<<B|R,yl=q+h}else gl=1<<q|_<<B|R,yl=h}function xe(h){h.return!==null&&(J(h,1),K(h,1,0))}function Me(h){for(;h===bf;)bf=vf[--xf],vf[xf]=null,Ah=vf[--xf],vf[xf]=null;for(;h===ou;)ou=to[--no],to[no]=null,yl=to[--no],to[no]=null,gl=to[--no],to[no]=null}function he(h,d){L(Fl,d),L(Ch,h),L(ga,null),h=Xn(d),E(ga),L(ga,h)}function Te(){E(ga),E(Ch),E(Fl)}function ze(h){h.memoizedState!==null&&L(Sf,h);var d=ga.current,_=Yn(d,h.type);d!==_&&(L(Ch,h),L(ga,_))}function Be(h){Ch.current===h&&(E(ga),E(Ch)),Sf.current===h&&(E(Sf),ri?pl._currentValue=nu:pl._currentValue2=nu)}function ke(h){var d=Error(r(418,""));throw Mt(fe(d,h)),Pd}function yt(h,d){if(!ma)throw Error(r(175));lv(h.stateNode,h.type,h.memoizedProps,d,h)||ke(h)}function Qe(h){for(Ha=h.return;Ha;)switch(Ha.tag){case 3:case 27:Ca=!0;return;case 5:case 13:Ca=!1;return;default:Ha=Ha.return}}function Je(h){if(!ma||h!==Ha)return!1;if(!pi)return Qe(h),pi=!0,!1;var d=!1;if(Wi?h.tag!==3&&h.tag!==27&&(h.tag!==5||sp(h.type)&&!_n(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||sp(h.type)&&!_n(h.type,h.memoizedProps))&&(d=!0),d&&Ga&&ke(h),Qe(h),h.tag===13){if(!ma)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Ga=uv(h)}else Ga=Ha?o1(h.stateNode):null;return!0}function Xe(){ma&&(Ga=Ha=null,pi=!1)}function Mt(h){ko===null?ko=[h]:ko.push(h)}function ce(){for(var h=_f,d=vl=_f=0;d<h;){var _=Fo[d];Fo[d++]=null;var R=Fo[d];Fo[d++]=null;var B=Fo[d];Fo[d++]=null;var q=Fo[d];if(Fo[d++]=null,R!==null&&B!==null){var Se=R.pending;Se===null?B.next=B:(B.next=Se.next,Se.next=B),R.pending=B}q!==0&&Le(_,B,q)}}function rt(h,d,_,R){Fo[_f++]=h,Fo[_f++]=d,Fo[_f++]=_,Fo[_f++]=R,vl|=R,h.lanes|=R,h=h.alternate,h!==null&&(h.lanes|=R)}function tt(h,d,_,R){return rt(h,d,_,R),ct(h)}function Ze(h,d){return rt(h,null,null,d),ct(h)}function Le(h,d,_){h.lanes|=_;var R=h.alternate;R!==null&&(R.lanes|=_);for(var B=!1,q=h.return;q!==null;)q.childLanes|=_,R=q.alternate,R!==null&&(R.childLanes|=_),q.tag===22&&(h=q.stateNode,h===null||h._visibility&1||(B=!0)),h=q,q=q.return;B&&d!==null&&h.tag===3&&(q=h.stateNode,B=31-us(_),q=q.hiddenUpdates,h=q[B],h===null?q[B]=[d]:h.push(d),d.lane=_|536870912)}function ct(h){if(50<Bh)throw Bh=0,Sp=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function We(h){h!==Rc&&h.next===null&&(Rc===null?Bd=Rc=h:Rc=Rc.next=h),nr=!0,Mf||(Mf=!0,De(ut))}function Ie(h,d){if(!h1&&nr){h1=!0;do for(var _=!1,R=Bd;R!==null;){if(h!==0){var B=R.pendingLanes;if(B===0)var q=0;else{var Se=R.suspendedLanes,Pe=R.pingedLanes;q=(1<<31-us(42|h)+1)-1,q&=B&~(Se&~Pe),q=q&201326677?q&201326677|1:q?q|2:0}q!==0&&(_=!0,be(R,q))}else q=fi,q=z(R,R===Ni?q:0),(q&3)===0||I(R,q)||(_=!0,be(R,q));R=R.next}while(_);h1=!1}}function ut(){nr=Mf=!1;var h=0;Rh!==0&&(Vy()&&(h=Rh),Rh=0);for(var d=Io(),_=null,R=Bd;R!==null;){var B=R.next,q=ue(R,d);q===0?(R.next=null,_===null?Bd=B:_.next=B,B===null&&(Rc=_)):(_=R,(h!==0||(q&3)!==0)&&(nr=!0)),R=B}Ie(h)}function ue(h,d){for(var _=h.suspendedLanes,R=h.pingedLanes,B=h.expirationTimes,q=h.pendingLanes&-62914561;0<q;){var Se=31-us(q),Pe=1<<Se,it=B[Se];it===-1?((Pe&_)===0||(Pe&R)!==0)&&(B[Se]=H(Pe,d)):it<=d&&(h.expiredLanes|=Pe),q&=~Pe}if(d=Ni,_=fi,_=z(h,h===d?_:0),R=h.callbackNode,_===0||h===d&&Vi===2||h.cancelPendingCommit!==null)return R!==null&&R!==null&&up(R),h.callbackNode=null,h.callbackPriority=0;if((_&3)===0||I(h,_)){if(d=_&-_,d===h.callbackPriority)return d;switch(R!==null&&up(R),pe(_)){case 2:case 8:_=Sv;break;case 32:_=dp;break;case 268435456:_=Z4;break;default:_=dp}return R=$.bind(null,h),_=zd(_,R),h.callbackPriority=d,h.callbackNode=_,d}return R!==null&&R!==null&&up(R),h.callbackPriority=2,h.callbackNode=null,2}function $(h,d){var _=h.callbackNode;if(zo()&&h.callbackNode!==_)return null;var R=fi;return R=z(h,h===Ni?R:0),R===0?null:(xc(h,R,d),ue(h,Io()),h.callbackNode!=null&&h.callbackNode===_?$.bind(null,h):null)}function be(h,d){if(zo())return null;xc(h,d,!0)}function De(h){Qm?Ac(function(){(_i&6)!==0?zd(hp,h):h()}):zd(hp,h)}function Re(){return Rh===0&&(Rh=W()),Rh}function Ne(h,d){if(Dh===null){var _=Dh=[];Tf=0,io=Re(),Ef={status:"pending",value:void 0,then:function(R){_.push(R)}}}return Tf++,d.then(at,at),d}function at(){if(--Tf===0&&Dh!==null){Ef!==null&&(Ef.status="fulfilled");var h=Dh;Dh=null,io=0,Ef=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function nt(h,d){var _=[],R={status:"pending",value:null,reason:null,then:function(B){_.push(B)}};return h.then(function(){R.status="fulfilled",R.value=d;for(var B=0;B<_.length;B++)(0,_[B])(d)},function(B){for(R.status="rejected",R.reason=B,B=0;B<_.length;B++)(0,_[B])(void 0)}),R}function vt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rt(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ye(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function ot(h,d,_){var R=h.updateQueue;if(R===null)return null;if(R=R.shared,(_i&2)!==0){var B=R.pending;return B===null?d.next=d:(d.next=B.next,B.next=d),R.pending=d,d=ct(h),Le(h,null,_),d}return rt(h,R,d,_),ct(h)}function Ce(h,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194176)!==0)){var R=d.lanes;R&=h.pendingLanes,_|=R,d.lanes=_,oe(h,_)}}function Ee(h,d){var _=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,_===R)){var B=null,q=null;if(_=_.firstBaseUpdate,_!==null){do{var Se={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};q===null?B=q=Se:q=q.next=Se,_=_.next}while(_!==null);q===null?B=q=d:q=q.next=d}else B=q=d;_={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:q,shared:R.shared,callbacks:R.callbacks},h.updateQueue=_;return}h=_.lastBaseUpdate,h===null?_.firstBaseUpdate=d:h.next=d,_.lastBaseUpdate=d}function Fe(){if(wf){var h=Ef;if(h!==null)throw h}}function wt(h,d,_,R){wf=!1;var B=h.updateQueue;Dc=!1;var q=B.firstBaseUpdate,Se=B.lastBaseUpdate,Pe=B.shared.pending;if(Pe!==null){B.shared.pending=null;var it=Pe,Dt=it.next;it.next=null,Se===null?q=Dt:Se.next=Dt,Se=it;var Gt=h.alternate;Gt!==null&&(Gt=Gt.updateQueue,Pe=Gt.lastBaseUpdate,Pe!==Se&&(Pe===null?Gt.firstBaseUpdate=Dt:Pe.next=Dt,Gt.lastBaseUpdate=it))}if(q!==null){var Zt=B.baseState;Se=0,Gt=Dt=it=null,Pe=q;do{var Jt=Pe.lane&-536870913,Fn=Jt!==Pe.lane;if(Fn?(fi&Jt)===Jt:(R&Jt)===Jt){Jt!==0&&Jt===io&&(wf=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:Pe.tag,payload:Pe.payload,callback:null,next:null});e:{var fo=h,gu=Pe;Jt=d;var yu=_;switch(gu.tag){case 1:if(fo=gu.payload,typeof fo=="function"){Zt=fo.call(yu,Zt,Jt);break e}Zt=fo;break e;case 3:fo.flags=fo.flags&-65537|128;case 0:if(fo=gu.payload,Jt=typeof fo=="function"?fo.call(yu,Zt,Jt):fo,Jt==null)break e;Zt=tu({},Zt,Jt);break e;case 2:Dc=!0}}Jt=Pe.callback,Jt!==null&&(h.flags|=64,Fn&&(h.flags|=8192),Fn=B.callbacks,Fn===null?B.callbacks=[Jt]:Fn.push(Jt))}else Fn={lane:Jt,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},Gt===null?(Dt=Gt=Fn,it=Zt):Gt=Gt.next=Fn,Se|=Jt;if(Pe=Pe.next,Pe===null){if(Pe=B.shared.pending,Pe===null)break;Fn=Pe,Pe=Fn.next,Fn.next=null,B.lastBaseUpdate=Fn,B.shared.pending=null}}while(!0);Gt===null&&(it=Zt),B.baseState=it,B.firstBaseUpdate=Dt,B.lastBaseUpdate=Gt,q===null&&(B.shared.lanes=0),co|=Se,h.lanes=Se,h.memoizedState=Zt}}function Ae(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function xt(h,d){var _=h.callbacks;if(_!==null)for(h.callbacks=null,h=0;h<_.length;h++)Ae(_[h],d)}function mt(h,d){if(Us(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var _=Object.keys(h),R=Object.keys(d);if(_.length!==R.length)return!1;for(R=0;R<_.length;R++){var B=_[R];if(!Vl.call(d,B)||!Us(h[B],d[B]))return!1}return!0}function Lt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function bt(){}function ft(h,d,_){switch(_=h[_],_===void 0?h.push(d):_!==d&&(d.then(bt,bt),d=_),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Oh?Error(r(483)):h;default:if(typeof d.status=="string")d.then(bt,bt);else{if(h=Ni,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(R){if(d.status==="pending"){var B=d;B.status="fulfilled",B.value=R}},function(R){if(d.status==="pending"){var B=d;B.status="rejected",B.reason=R}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Oh?Error(r(483)):h}throw lu=d,Oh}}function Ut(){if(lu===null)throw Error(r(459));var h=lu;return lu=null,h}function It(h){var d=uu;return uu+=1,cu===null&&(cu=[]),ft(cu,h,d)}function Ht(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function $t(h,d){throw d.$$typeof===J0?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function ei(h){var d=h._init;return d(h._payload)}function Pn(h){function d(pt,Ge){if(h){var _t=pt.deletions;_t===null?(pt.deletions=[Ge],pt.flags|=16):_t.push(Ge)}}function _(pt,Ge){if(!h)return null;for(;Ge!==null;)d(pt,Ge),Ge=Ge.sibling;return null}function R(pt){for(var Ge=new Map;pt!==null;)pt.key!==null?Ge.set(pt.key,pt):Ge.set(pt.index,pt),pt=pt.sibling;return Ge}function B(pt,Ge){return pt=Cs(pt,Ge),pt.index=0,pt.sibling=null,pt}function q(pt,Ge,_t){return pt.index=_t,h?(_t=pt.alternate,_t!==null?(_t=_t.index,_t<Ge?(pt.flags|=33554434,Ge):_t):(pt.flags|=33554434,Ge)):(pt.flags|=1048576,Ge)}function Se(pt){return h&&pt.alternate===null&&(pt.flags|=33554434),pt}function Pe(pt,Ge,_t,Vt){return Ge===null||Ge.tag!==6?(Ge=ff(_t,pt.mode,Vt),Ge.return=pt,Ge):(Ge=B(Ge,_t),Ge.return=pt,Ge)}function it(pt,Ge,_t,Vt){var dn=_t.type;return dn===dl?Gt(pt,Ge,_t.props.children,Vt,_t.key):Ge!==null&&(Ge.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===D&&ei(dn)===Ge.type)?(Ge=B(Ge,_t.props),Ht(Ge,_t),Ge.return=pt,Ge):(Ge=Bo(_t.type,_t.key,_t.props,null,pt.mode,Vt),Ht(Ge,_t),Ge.return=pt,Ge)}function Dt(pt,Ge,_t,Vt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==_t.containerInfo||Ge.stateNode.implementation!==_t.implementation?(Ge=hf(_t,pt.mode,Vt),Ge.return=pt,Ge):(Ge=B(Ge,_t.children||[]),Ge.return=pt,Ge)}function Gt(pt,Ge,_t,Vt,dn){return Ge===null||Ge.tag!==7?(Ge=mr(_t,pt.mode,Vt,dn),Ge.return=pt,Ge):(Ge=B(Ge,_t),Ge.return=pt,Ge)}function Zt(pt,Ge,_t){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ge=ff(""+Ge,pt.mode,_t),Ge.return=pt,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case df:return _t=Bo(Ge.type,Ge.key,Ge.props,null,pt.mode,_t),Ht(_t,Ge),_t.return=pt,_t;case Ds:return Ge=hf(Ge,pt.mode,_t),Ge.return=pt,Ge;case D:var Vt=Ge._init;return Ge=Vt(Ge._payload),Zt(pt,Ge,_t)}if(dt(Ge)||a(Ge))return Ge=mr(Ge,pt.mode,_t,null),Ge.return=pt,Ge;if(typeof Ge.then=="function")return Zt(pt,It(Ge),_t);if(Ge.$$typeof===$s)return Zt(pt,Ju(pt,Ge),_t);$t(pt,Ge)}return null}function Jt(pt,Ge,_t,Vt){var dn=Ge!==null?Ge.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return dn!==null?null:Pe(pt,Ge,""+_t,Vt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case df:return _t.key===dn?it(pt,Ge,_t,Vt):null;case Ds:return _t.key===dn?Dt(pt,Ge,_t,Vt):null;case D:return dn=_t._init,_t=dn(_t._payload),Jt(pt,Ge,_t,Vt)}if(dt(_t)||a(_t))return dn!==null?null:Gt(pt,Ge,_t,Vt,null);if(typeof _t.then=="function")return Jt(pt,Ge,It(_t),Vt);if(_t.$$typeof===$s)return Jt(pt,Ge,Ju(pt,_t),Vt);$t(pt,_t)}return null}function Fn(pt,Ge,_t,Vt,dn){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return pt=pt.get(_t)||null,Pe(Ge,pt,""+Vt,dn);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case df:return pt=pt.get(Vt.key===null?_t:Vt.key)||null,it(Ge,pt,Vt,dn);case Ds:return pt=pt.get(Vt.key===null?_t:Vt.key)||null,Dt(Ge,pt,Vt,dn);case D:var xr=Vt._init;return Vt=xr(Vt._payload),Fn(pt,Ge,_t,Vt,dn)}if(dt(Vt)||a(Vt))return pt=pt.get(_t)||null,Gt(Ge,pt,Vt,dn,null);if(typeof Vt.then=="function")return Fn(pt,Ge,_t,It(Vt),dn);if(Vt.$$typeof===$s)return Fn(pt,Ge,_t,Ju(Ge,Vt),dn);$t(Ge,Vt)}return null}function fo(pt,Ge,_t,Vt){for(var dn=null,xr=null,Cn=Ge,Ei=Ge=0,Wr=null;Cn!==null&&Ei<_t.length;Ei++){Cn.index>Ei?(Wr=Cn,Cn=null):Wr=Cn.sibling;var oi=Jt(pt,Cn,_t[Ei],Vt);if(oi===null){Cn===null&&(Cn=Wr);break}h&&Cn&&oi.alternate===null&&d(pt,Cn),Ge=q(oi,Ge,Ei),xr===null?dn=oi:xr.sibling=oi,xr=oi,Cn=Wr}if(Ei===_t.length)return _(pt,Cn),pi&&J(pt,Ei),dn;if(Cn===null){for(;Ei<_t.length;Ei++)Cn=Zt(pt,_t[Ei],Vt),Cn!==null&&(Ge=q(Cn,Ge,Ei),xr===null?dn=Cn:xr.sibling=Cn,xr=Cn);return pi&&J(pt,Ei),dn}for(Cn=R(Cn);Ei<_t.length;Ei++)Wr=Fn(Cn,pt,Ei,_t[Ei],Vt),Wr!==null&&(h&&Wr.alternate!==null&&Cn.delete(Wr.key===null?Ei:Wr.key),Ge=q(Wr,Ge,Ei),xr===null?dn=Wr:xr.sibling=Wr,xr=Wr);return h&&Cn.forEach(function(Kl){return d(pt,Kl)}),pi&&J(pt,Ei),dn}function gu(pt,Ge,_t,Vt){if(_t==null)throw Error(r(151));for(var dn=null,xr=null,Cn=Ge,Ei=Ge=0,Wr=null,oi=_t.next();Cn!==null&&!oi.done;Ei++,oi=_t.next()){Cn.index>Ei?(Wr=Cn,Cn=null):Wr=Cn.sibling;var Kl=Jt(pt,Cn,oi.value,Vt);if(Kl===null){Cn===null&&(Cn=Wr);break}h&&Cn&&Kl.alternate===null&&d(pt,Cn),Ge=q(Kl,Ge,Ei),xr===null?dn=Kl:xr.sibling=Kl,xr=Kl,Cn=Wr}if(oi.done)return _(pt,Cn),pi&&J(pt,Ei),dn;if(Cn===null){for(;!oi.done;Ei++,oi=_t.next())oi=Zt(pt,oi.value,Vt),oi!==null&&(Ge=q(oi,Ge,Ei),xr===null?dn=oi:xr.sibling=oi,xr=oi);return pi&&J(pt,Ei),dn}for(Cn=R(Cn);!oi.done;Ei++,oi=_t.next())oi=Fn(Cn,pt,Ei,oi.value,Vt),oi!==null&&(h&&oi.alternate!==null&&Cn.delete(oi.key===null?Ei:oi.key),Ge=q(oi,Ge,Ei),xr===null?dn=oi:xr.sibling=oi,xr=oi);return h&&Cn.forEach(function(_p){return d(pt,_p)}),pi&&J(pt,Ei),dn}function yu(pt,Ge,_t,Vt){if(typeof _t=="object"&&_t!==null&&_t.type===dl&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case df:e:{for(var dn=_t.key;Ge!==null;){if(Ge.key===dn){if(dn=_t.type,dn===dl){if(Ge.tag===7){_(pt,Ge.sibling),Vt=B(Ge,_t.props.children),Vt.return=pt,pt=Vt;break e}}else if(Ge.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===D&&ei(dn)===Ge.type){_(pt,Ge.sibling),Vt=B(Ge,_t.props),Ht(Vt,_t),Vt.return=pt,pt=Vt;break e}_(pt,Ge);break}else d(pt,Ge);Ge=Ge.sibling}_t.type===dl?(Vt=mr(_t.props.children,pt.mode,Vt,_t.key),Vt.return=pt,pt=Vt):(Vt=Bo(_t.type,_t.key,_t.props,null,pt.mode,Vt),Ht(Vt,_t),Vt.return=pt,pt=Vt)}return Se(pt);case Ds:e:{for(dn=_t.key;Ge!==null;){if(Ge.key===dn)if(Ge.tag===4&&Ge.stateNode.containerInfo===_t.containerInfo&&Ge.stateNode.implementation===_t.implementation){_(pt,Ge.sibling),Vt=B(Ge,_t.children||[]),Vt.return=pt,pt=Vt;break e}else{_(pt,Ge);break}else d(pt,Ge);Ge=Ge.sibling}Vt=hf(_t,pt.mode,Vt),Vt.return=pt,pt=Vt}return Se(pt);case D:return dn=_t._init,_t=dn(_t._payload),yu(pt,Ge,_t,Vt)}if(dt(_t))return fo(pt,Ge,_t,Vt);if(a(_t)){if(dn=a(_t),typeof dn!="function")throw Error(r(150));return _t=dn.call(_t),gu(pt,Ge,_t,Vt)}if(typeof _t.then=="function")return yu(pt,Ge,It(_t),Vt);if(_t.$$typeof===$s)return yu(pt,Ge,Ju(pt,_t),Vt);$t(pt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint"?(_t=""+_t,Ge!==null&&Ge.tag===6?(_(pt,Ge.sibling),Vt=B(Ge,_t),Vt.return=pt,pt=Vt):(_(pt,Ge),Vt=ff(_t,pt.mode,Vt),Vt.return=pt,pt=Vt),Se(pt)):_(pt,Ge)}return function(pt,Ge,_t,Vt){try{uu=0;var dn=yu(pt,Ge,_t,Vt);return cu=null,dn}catch(Cn){if(Cn===Oh)throw Cn;var xr=t(29,Cn,null,pt.mode);return xr.lanes=Vt,xr.return=pt,xr}finally{}}}function Hn(h,d){h=es,L(Nh,h),L(ir,d),es=h|d.baseLanes}function mi(){L(Nh,es),L(ir,ir.current)}function Ri(){es=Nh.current,E(ir),E(Nh)}function En(h){var d=h.alternate;L(ya,ya.current&1),L(ro,h),qi===null&&(d===null||ir.current!==null||d.memoizedState!==null)&&(qi=h)}function F(h){if(h.tag===22){if(L(ya,ya.current),L(ro,h),qi===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&(qi=h)}}else X()}function X(){L(ya,ya.current),L(ro,ro.current)}function Tt(h){E(ro),qi===h&&(qi=null),E(ya)}function re(h){for(var d=h;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||ip(_)||rp(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function we(){throw Error(r(321))}function ti(h,d){if(d===null)return!1;for(var _=0;_<d.length&&_<h.length;_++)if(!Us(h[_],d[_]))return!1;return!0}function jt(h,d,_,R,B,q){return Oc=q,Zn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ve.H=h===null||h.memoizedState===null?du:fs,hu=!1,q=_(R,B),hu=!1,Af&&(q=la(d,_,R,B)),Qi(h),q}function Qi(h){ve.H=Br;var d=gn!==null&&gn.next!==null;if(Oc=0,Si=gn=Zn=null,Vo=!1,Cf=0,Ra=null,d)throw Error(r(300));h===null||Xi||(h=h.dependencies,h!==null&&Kc(h)&&(Xi=!0))}function la(h,d,_,R){Zn=h;var B=0;do{if(Af&&(Ra=null),Cf=0,Af=!1,25<=B)throw Error(r(301));if(B+=1,Si=gn=null,h.updateQueue!=null){var q=h.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}ve.H=ao,q=d(_,R)}while(Af);return q}function qt(){var h=ve.H,d=h.useState()[0];return d=typeof d.then=="function"?me(d):d,h=h.useState()[0],(gn!==null?gn.memoizedState:null)!==h&&(Zn.flags|=1024),d}function wi(){var h=pp!==0;return pp=0,h}function zr(h,d,_){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~_}function ca(h){if(Vo){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Vo=!1}Oc=0,Si=gn=Zn=null,Af=!1,Cf=pp=0,Ra=null}function G(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?Zn.memoizedState=Si=h:Si=Si.next=h,Si}function Ve(){if(gn===null){var h=Zn.alternate;h=h!==null?h.memoizedState:null}else h=gn.next;var d=Si===null?Zn.memoizedState:Si.next;if(d!==null)Si=d,gn=h;else{if(h===null)throw Zn.alternate===null?Error(r(467)):Error(r(310));gn=h,h={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Si===null?Zn.memoizedState=Si=h:Si=Si.next=h}return Si}function me(h){var d=Cf;return Cf+=1,Ra===null&&(Ra=[]),h=ft(Ra,h,d),d=Zn,(Si===null?d.memoizedState:Si.next)===null&&(d=d.alternate,ve.H=d===null||d.memoizedState===null?du:fs),h}function He(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return me(h);if(h.$$typeof===$s)return fa(h)}throw Error(r(438,String(h)))}function Ke(h){var d=null,_=Zn.updateQueue;if(_!==null&&(d=_.memoCache),d==null){var R=Zn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(d={data:R.data.map(function(B){return B.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),_===null&&(_=mp(),Zn.updateQueue=_),_.memoCache=d,_=d.data[d.index],_===void 0)for(_=d.data[d.index]=Array(h),R=0;R<h;R++)_[R]=Y;return d.index++,_}function Pt(h,d){return typeof d=="function"?d(h):d}function Ft(h){var d=Ve();return Et(d,gn,h)}function Et(h,d,_){var R=h.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=_;var B=h.baseQueue,q=R.pending;if(q!==null){if(B!==null){var Se=B.next;B.next=q.next,q.next=Se}d.baseQueue=B=q,R.pending=null}if(q=h.baseState,B===null)h.memoizedState=q;else{d=B.next;var Pe=Se=null,it=null,Dt=d,Gt=!1;do{var Zt=Dt.lane&-536870913;if(Zt!==Dt.lane?(fi&Zt)===Zt:(Oc&Zt)===Zt){var Jt=Dt.revertLane;if(Jt===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),Zt===io&&(Gt=!0);else if((Oc&Jt)===Jt){Dt=Dt.next,Jt===io&&(Gt=!0);continue}else Zt={lane:0,revertLane:Dt.revertLane,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},it===null?(Pe=it=Zt,Se=q):it=it.next=Zt,Zn.lanes|=Jt,co|=Jt;Zt=Dt.action,hu&&_(q,Zt),q=Dt.hasEagerState?Dt.eagerState:_(q,Zt)}else Jt={lane:Zt,revertLane:Dt.revertLane,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},it===null?(Pe=it=Jt,Se=q):it=it.next=Jt,Zn.lanes|=Zt,co|=Zt;Dt=Dt.next}while(Dt!==null&&Dt!==d);if(it===null?Se=q:it.next=Pe,!Us(q,h.memoizedState)&&(Xi=!0,Gt&&(_=Ef,_!==null)))throw _;h.memoizedState=q,h.baseState=Se,h.baseQueue=it,R.lastRenderedState=q}return B===null&&(R.lanes=0),[h.memoizedState,R.dispatch]}function Xt(h){var d=Ve(),_=d.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=h;var R=_.dispatch,B=_.pending,q=d.memoizedState;if(B!==null){_.pending=null;var Se=B=B.next;do q=h(q,Se.action),Se=Se.next;while(Se!==B);Us(q,d.memoizedState)||(Xi=!0),d.memoizedState=q,d.baseQueue===null&&(d.baseState=q),_.lastRenderedState=q}return[q,R]}function cn(h,d,_){var R=Zn,B=Ve(),q=pi;if(q){if(_===void 0)throw Error(r(407));_=_()}else _=d();var Se=!Us((gn||B).memoizedState,_);if(Se&&(B.memoizedState=_,Xi=!0),B=B.queue,vi(wn.bind(null,R,B,h),[h]),B.getSnapshot!==d||Se||Si!==null&&Si.memoizedState.tag&1){if(R.flags|=2048,dr(9,nn.bind(null,R,B,_,d),{destroy:void 0},null),Ni===null)throw Error(r(349));q||(Oc&60)!==0||sn(R,d,_)}return _}function sn(h,d,_){h.flags|=16384,h={getSnapshot:d,value:_},d=Zn.updateQueue,d===null?(d=mp(),Zn.updateQueue=d,d.stores=[h]):(_=d.stores,_===null?d.stores=[h]:_.push(h))}function nn(h,d,_,R){d.value=_,d.getSnapshot=R,bn(d)&&Ti(h)}function wn(h,d,_){return _(function(){bn(d)&&Ti(h)})}function bn(h){var d=h.getSnapshot;h=h.value;try{var _=d();return!Us(h,_)}catch{return!0}}function Ti(h){var d=Ze(h,2);d!==null&&Hr(d,h,2)}function Bn(h){var d=G();if(typeof h=="function"){var _=h;if(h=_(),hu){ae(!0);try{_()}finally{ae(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:h},d}function qn(h,d,_,R){return h.baseState=_,Et(h,gn,typeof R=="function"?R:Pt)}function ln(h,d,_,R,B){if(Mo(h))throw Error(r(485));if(h=d.action,h!==null){var q={payload:B,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Se){q.listeners.push(Se)}};ve.T!==null?_(!0):q.isTransition=!1,R(q),_=d.pending,_===null?(q.next=d.pending=q,Li(d,q)):(q.next=_.next,d.pending=_.next=q)}}function Li(h,d){var _=d.action,R=d.payload,B=h.state;if(d.isTransition){var q=ve.T,Se={};ve.T=Se;try{var Pe=_(B,R),it=ve.S;it!==null&&it(Se,Pe),On(h,d,Pe)}catch(Dt){La(h,d,Dt)}finally{ve.T=q}}else try{q=_(B,R),On(h,d,q)}catch(Dt){La(h,d,Dt)}}function On(h,d,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(R){li(h,d,R)},function(R){return La(h,d,R)}):li(h,d,_)}function li(h,d,_){d.status="fulfilled",d.value=_,gi(d),h.state=_,d=h.pending,d!==null&&(_=d.next,_===d?h.pending=null:(_=_.next,d.next=_,Li(h,_)))}function La(h,d,_){var R=h.pending;if(h.pending=null,R!==null){R=R.next;do d.status="rejected",d.reason=_,gi(d),d=d.next;while(d!==R)}h.action=null}function gi(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function wr(h,d){return d}function yi(h,d){if(pi){var _=Ni.formState;if(_!==null){e:{var R=Zn;if(pi){if(Ga){var B=s1(Ga,Ca);if(B){Ga=o1(B),R=rv(B);break e}}ke(R)}R=!1}R&&(d=_[0])}}_=G(),_.memoizedState=_.baseState=d,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:d},_.queue=R,_=Ji.bind(null,Zn,R),R.dispatch=_,R=Bn(!1);var q=_o.bind(null,Zn,!1,R.queue);return R=G(),B={state:d,dispatch:null,action:h,pending:null},R.queue=B,_=ln.bind(null,Zn,B,q,_),B.dispatch=_,R.memoizedState=h,[d,_,!1]}function Mr(h){var d=Ve();return Fi(d,gn,h)}function Fi(h,d,_){d=Et(h,d,wr)[0],h=Ft(Pt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?me(d):d;var R=Ve(),B=R.queue,q=B.dispatch;return _!==R.memoizedState&&(Zn.flags|=2048,dr(9,Ar.bind(null,B,_),{destroy:void 0},null)),[d,q,h]}function Ar(h,d){h.action=d}function hr(h){var d=Ve(),_=gn;if(_!==null)return Fi(d,_,h);Ve(),d=d.memoizedState,_=Ve();var R=_.queue.dispatch;return _.memoizedState=h,[d,R,!1]}function dr(h,d,_,R){return h={tag:h,create:d,inst:_,deps:R,next:null},d=Zn.updateQueue,d===null&&(d=mp(),Zn.updateQueue=d),_=d.lastEffect,_===null?d.lastEffect=h.next=h:(R=_.next,_.next=h,h.next=R,d.lastEffect=h),h}function za(){return Ve().memoizedState}function $o(h,d,_,R){var B=G();Zn.flags|=h,B.memoizedState=dr(1|d,_,{destroy:void 0},R===void 0?null:R)}function hc(h,d,_,R){var B=Ve();R=R===void 0?null:R;var q=B.memoizedState.inst;gn!==null&&R!==null&&ti(R,gn.memoizedState.deps)?B.memoizedState=dr(d,_,q,R):(Zn.flags|=h,B.memoizedState=dr(1|d,_,q,R))}function st(h,d){$o(8390656,8,h,d)}function vi(h,d){hc(2048,8,h,d)}function Ws(h,d){return hc(4,2,h,d)}function Jr(h,d){return hc(4,4,h,d)}function qs(h,d){if(typeof d=="function"){h=h();var _=d(h);return function(){typeof _=="function"?_():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function Xs(h,d,_){_=_!=null?_.concat([h]):null,hc(4,4,qs.bind(null,d,h),_)}function Pa(){}function rs(h,d){var _=Ve();d=d===void 0?null:d;var R=_.memoizedState;return d!==null&&ti(d,R[1])?R[0]:(_.memoizedState=[h,d],h)}function _s(h,d){var _=Ve();d=d===void 0?null:d;var R=_.memoizedState;if(d!==null&&ti(d,R[1]))return R[0];if(R=h(),hu){ae(!0);try{h()}finally{ae(!1)}}return _.memoizedState=[R,d],R}function Wt(h,d,_){return _===void 0||(Oc&1073741824)!==0?h.memoizedState=d:(h.memoizedState=_,h=yh(),Zn.lanes|=h,co|=h,_)}function as(h,d,_,R){return Us(_,d)?_:ir.current!==null?(h=Wt(h,_,R),Us(h,d)||(Xi=!0),h):(Oc&42)===0?(Xi=!0,h.memoizedState=_):(h=yh(),Zn.lanes|=h,co|=h,d)}function Ms(h,d,_,R,B){var q=Os();wa(q!==0&&8>q?q:8);var Se=ve.T,Pe={};ve.T=Pe,_o(h,!1,d,_);try{var it=B(),Dt=ve.S;if(Dt!==null&&Dt(Pe,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var Gt=nt(it,R);qa(h,d,Gt,Tr(h))}else qa(h,d,R,Tr(h))}catch(Zt){qa(h,d,{then:function(){},status:"rejected",reason:Zt},Tr())}finally{wa(q),ve.T=Se}}function si(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:nu,baseState:nu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:nu},next:null};var _={};return d.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:_},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function ua(){return fa(pl)}function el(){return Ve().memoizedState}function Cr(){return Ve().memoizedState}function dc(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var _=Tr();h=Ye(_);var R=ot(d,h,_);R!==null&&(Hr(R,d,_),Ce(R,d,_)),d={cache:nl()},h.payload=d;return}d=d.return}}function pc(h,d,_){var R=Tr();_={lane:R,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},Mo(h)?pr(d,_):(_=tt(h,d,_,R),_!==null&&(Hr(_,h,R),$r(_,d,R)))}function Ji(h,d,_){var R=Tr();qa(h,d,_,R)}function qa(h,d,_,R){var B={lane:R,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(Mo(h))pr(d,B);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=d.lastRenderedReducer,q!==null))try{var Se=d.lastRenderedState,Pe=q(Se,_);if(B.hasEagerState=!0,B.eagerState=Pe,Us(Pe,Se))return rt(h,d,B,0),Ni===null&&ce(),!1}catch{}finally{}if(_=tt(h,d,B,R),_!==null)return Hr(_,h,R),$r(_,d,R),!0}return!1}function _o(h,d,_,R){if(R={lane:2,revertLane:Re(),action:R,hasEagerState:!1,eagerState:null,next:null},Mo(h)){if(d)throw Error(r(479))}else d=tt(h,_,R,2),d!==null&&Hr(d,h,2)}function Mo(h){var d=h.alternate;return h===Zn||d!==null&&d===Zn}function pr(h,d){Af=Vo=!0;var _=h.pending;_===null?d.next=d:(d.next=_.next,_.next=d),h.pending=d}function $r(h,d,_){if((_&4194176)!==0){var R=d.lanes;R&=h.pendingLanes,_|=R,d.lanes=_,oe(h,_)}}function Sn(h,d,_,R){d=h.memoizedState,_=_(R,d),_=_==null?d:tu({},d,_),h.memoizedState=_,h.lanes===0&&(h.updateQueue.baseState=_)}function Ts(h,d,_,R,B,q,Se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,q,Se):d.prototype&&d.prototype.isPureReactComponent?!mt(_,R)||!mt(B,q):!0}function Nl(h,d,_,R){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,R),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,R),d.state!==h&&Gl.enqueueReplaceState(d,d.state,null)}function Xa(h,d){var _=d;if("ref"in d){_={};for(var R in d)R!=="ref"&&(_[R]=d[R])}if(h=h.defaultProps){_===d&&(_=tu({},_));for(var B in h)_[B]===void 0&&(_[B]=h[B])}return _}function $i(h,d){try{var _=h.onUncaughtError;_(d.value,{componentStack:d.stack})}catch(R){setTimeout(function(){throw R})}}function ea(h,d,_){try{var R=h.onCaughtError;R(_.value,{componentStack:_.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Es(h,d,_){return _=Ye(_),_.tag=3,_.payload={element:null},_.callback=function(){$i(h,d)},_}function kt(h){return h=Ye(h),h.tag=3,h}function zi(h,d,_,R){var B=_.type.getDerivedStateFromError;if(typeof B=="function"){var q=R.value;h.payload=function(){return B(q)},h.callback=function(){ea(d,_,R)}}var Se=_.stateNode;Se!==null&&typeof Se.componentDidCatch=="function"&&(h.callback=function(){ea(d,_,R),typeof B!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var Pe=R.stack;this.componentDidCatch(R.value,{componentStack:Pe!==null?Pe:""})})}function Wu(h,d,_,R,B){if(_.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(d=_.alternate,d!==null&&Qu(d,_,B,!0),_=ro.current,_!==null){switch(_.tag){case 13:return qi===null?Lo():_.alternate===null&&Yi===0&&(Yi=3),_.flags&=-257,_.flags|=65536,_.lanes=B,R===kd?_.flags|=16384:(d=_.updateQueue,d===null?_.updateQueue=new Set([R]):d.add(R),_c(h,R,B)),!1;case 22:return _.flags|=65536,R===kd?_.flags|=16384:(d=_.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([R])},_.updateQueue=d):(_=d.retryQueue,_===null?d.retryQueue=new Set([R]):_.add(R)),_c(h,R,B)),!1}throw Error(r(435,_.tag))}return _c(h,R,B),Lo(),!1}if(pi)return d=ro.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=B,R!==Pd&&(h=Error(r(422),{cause:R}),Mt(fe(h,_)))):(R!==Pd&&(d=Error(r(423),{cause:R}),Mt(fe(d,_))),h=h.current.alternate,h.flags|=65536,B&=-B,h.lanes|=B,R=fe(R,_),B=Es(h.stateNode,R,B),Ee(h,B),Yi!==4&&(Yi=2)),!1;var q=Error(r(520),{cause:R});if(q=fe(q,_),Df===null?Df=[q]:Df.push(q),Yi!==4&&(Yi=2),d===null)return!0;R=fe(R,_),_=d;do{switch(_.tag){case 3:return _.flags|=65536,h=B&-B,_.lanes|=h,h=Es(_.stateNode,R,h),Ee(_,h),!1;case 1:if(d=_.type,q=_.stateNode,(_.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(pu===null||!pu.has(q))))return _.flags|=65536,B&=-B,_.lanes|=B,B=kt(B),zi(B,h,_,R),Ee(_,B),!1}_=_.return}while(_!==null);return!1}function er(h,d,_,R){d.child=h===null?Hl(d,null,_,R):fu(d,h.child,_,R)}function Ys(h,d,_,R,B){_=_.render;var q=d.ref;if("ref"in R){var Se={};for(var Pe in R)Pe!=="ref"&&(Se[Pe]=R[Pe])}else Se=R;return tl(d),R=jt(h,d,_,Se,q,B),Pe=wi(),h!==null&&!Xi?(zr(h,d,B),Zs(h,d,B)):(pi&&Pe&&xe(d),d.flags|=1,er(h,d,R,B),d.child)}function ta(h,d,_,R,B){if(h===null){var q=_.type;return typeof q=="function"&&!eu(q)&&q.defaultProps===void 0&&_.compare===null?(d.tag=15,d.type=q,Ks(h,d,q,R,B)):(h=Bo(_.type,null,R,d,d.mode,B),h.ref=d.ref,h.return=d,d.child=h)}if(q=h.child,!lh(h,B)){var Se=q.memoizedProps;if(_=_.compare,_=_!==null?_:mt,_(Se,R)&&h.ref===d.ref)return Zs(h,d,B)}return d.flags|=1,h=Cs(q,R),h.ref=d.ref,h.return=d,d.child=h}function Ks(h,d,_,R,B){if(h!==null){var q=h.memoizedProps;if(mt(q,R)&&h.ref===d.ref)if(Xi=!1,d.pendingProps=R=q,lh(h,B))(h.flags&131072)!==0&&(Xi=!0);else return d.lanes=h.lanes,Zs(h,d,B)}return Ya(h,d,_,R,B)}function Nn(h,d,_){var R=d.pendingProps,B=R.children,q=(d.stateNode._pendingVisibility&2)!==0,Se=h!==null?h.memoizedState:null;if(Rr(h,d),R.mode==="hidden"||q){if((d.flags&128)!==0){if(R=Se!==null?Se.baseLanes|_:_,h!==null){for(B=d.child=h.child,q=0;B!==null;)q=q|B.lanes|B.childLanes,B=B.sibling;d.childLanes=q&~R}else d.childLanes=0,d.child=null;return Ba(h,d,R,_)}if((_&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&ef(d,Se!==null?Se.cachePool:null),Se!==null?Hn(d,Se):mi(),F(d);else return d.lanes=d.childLanes=536870912,Ba(h,d,Se!==null?Se.baseLanes|_:_,_)}else Se!==null?(ef(d,Se.cachePool),Hn(d,Se),X(),d.memoizedState=null):(h!==null&&ef(d,null),mi(),X());return er(h,d,B,_),d.child}function Ba(h,d,_,R){var B=$u();return B=B===null?null:{parent:ri?rr._currentValue:rr._currentValue2,pool:B},d.memoizedState={baseLanes:_,cachePool:B},h!==null&&ef(d,null),mi(),F(d),h!==null&&Qu(h,d,R,!0),null}function Rr(h,d){var _=d.ref;if(_===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(h===null||h.ref!==_)&&(d.flags|=2097664)}}function Ya(h,d,_,R,B){return tl(d),_=jt(h,d,_,R,void 0,B),R=wi(),h!==null&&!Xi?(zr(h,d,B),Zs(h,d,B)):(pi&&R&&xe(d),d.flags|=1,er(h,d,_,B),d.child)}function qu(h,d,_,R,B,q){return tl(d),d.updateQueue=null,_=la(d,R,_,B),Qi(h),R=wi(),h!==null&&!Xi?(zr(h,d,q),Zs(h,d,q)):(pi&&R&&xe(d),d.flags|=1,er(h,d,_,q),d.child)}function j0(h,d,_,R,B){if(tl(d),d.stateNode===null){var q=su,Se=_.contextType;typeof Se=="object"&&Se!==null&&(q=fa(Se)),q=new _(R,q),d.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=Gl,d.stateNode=q,q._reactInternals=d,q=d.stateNode,q.props=R,q.state=d.memoizedState,q.refs={},vt(d),Se=_.contextType,q.context=typeof Se=="object"&&Se!==null?fa(Se):su,q.state=d.memoizedState,Se=_.getDerivedStateFromProps,typeof Se=="function"&&(Sn(d,_,Se,R),q.state=d.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(Se=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),Se!==q.state&&Gl.enqueueReplaceState(q,q.state,null),wt(d,R,q,B),Fe(),q.state=d.memoizedState),typeof q.componentDidMount=="function"&&(d.flags|=4194308),R=!0}else if(h===null){q=d.stateNode;var Pe=d.memoizedProps,it=Xa(_,Pe);q.props=it;var Dt=q.context,Gt=_.contextType;Se=su,typeof Gt=="object"&&Gt!==null&&(Se=fa(Gt));var Zt=_.getDerivedStateFromProps;Gt=typeof Zt=="function"||typeof q.getSnapshotBeforeUpdate=="function",Pe=d.pendingProps!==Pe,Gt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Pe||Dt!==Se)&&Nl(d,q,R,Se),Dc=!1;var Jt=d.memoizedState;q.state=Jt,wt(d,R,q,B),Fe(),Dt=d.memoizedState,Pe||Jt!==Dt||Dc?(typeof Zt=="function"&&(Sn(d,_,Zt,R),Dt=d.memoizedState),(it=Dc||Ts(d,_,it,R,Jt,Dt,Se))?(Gt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(d.flags|=4194308)):(typeof q.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=R,d.memoizedState=Dt),q.props=R,q.state=Dt,q.context=Se,R=it):(typeof q.componentDidMount=="function"&&(d.flags|=4194308),R=!1)}else{q=d.stateNode,Rt(h,d),Se=d.memoizedProps,Gt=Xa(_,Se),q.props=Gt,Zt=d.pendingProps,Jt=q.context,Dt=_.contextType,it=su,typeof Dt=="object"&&Dt!==null&&(it=fa(Dt)),Pe=_.getDerivedStateFromProps,(Dt=typeof Pe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Se!==Zt||Jt!==it)&&Nl(d,q,R,it),Dc=!1,Jt=d.memoizedState,q.state=Jt,wt(d,R,q,B),Fe();var Fn=d.memoizedState;Se!==Zt||Jt!==Fn||Dc||h!==null&&h.dependencies!==null&&Kc(h.dependencies)?(typeof Pe=="function"&&(Sn(d,_,Pe,R),Fn=d.memoizedState),(Gt=Dc||Ts(d,_,Gt,R,Jt,Fn,it)||h!==null&&h.dependencies!==null&&Kc(h.dependencies))?(Dt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(R,Fn,it),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(R,Fn,it)),typeof q.componentDidUpdate=="function"&&(d.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof q.componentDidUpdate!="function"||Se===h.memoizedProps&&Jt===h.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&Jt===h.memoizedState||(d.flags|=1024),d.memoizedProps=R,d.memoizedState=Fn),q.props=R,q.state=Fn,q.context=it,R=Gt):(typeof q.componentDidUpdate!="function"||Se===h.memoizedProps&&Jt===h.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&Jt===h.memoizedState||(d.flags|=1024),R=!1)}return q=R,Rr(h,d),R=(d.flags&128)!==0,q||R?(q=d.stateNode,_=R&&typeof _.getDerivedStateFromError!="function"?null:q.render(),d.flags|=1,h!==null&&R?(d.child=fu(d,h.child,null,B),d.child=fu(d,null,_,B)):er(h,d,_,B),d.memoizedState=q.state,h=d.child):h=Zs(h,d,B),h}function W0(h,d,_,R){return Xe(),d.flags|=256,er(h,d,_,R),d.child}function pd(h){return{baseLanes:h,cachePool:gd()}}function Xu(h,d,_){return h=h!==null?h.childLanes&~_:0,d&&(h|=uo),h}function q0(h,d,_){var R=d.pendingProps,B=!1,q=(d.flags&128)!==0,Se;if((Se=q)||(Se=h!==null&&h.memoizedState===null?!1:(ya.current&2)!==0),Se&&(B=!0,d.flags&=-129),Se=(d.flags&32)!==0,d.flags&=-33,h===null){if(pi){if(B?En(d):X(),pi){var Pe=Ga,it;(it=Pe)&&(Pe=ov(Pe,Ca),Pe!==null?(d.memoizedState={dehydrated:Pe,treeContext:ou!==null?{id:gl,overflow:yl}:null,retryLane:536870912},it=t(18,null,null,0),it.stateNode=Pe,it.return=d,d.child=it,Ha=d,Ga=null,it=!0):it=!1),it||ke(d)}if(Pe=d.memoizedState,Pe!==null&&(Pe=Pe.dehydrated,Pe!==null))return rp(Pe)?d.lanes=16:d.lanes=536870912,null;Tt(d)}return Pe=R.children,R=R.fallback,B?(X(),B=d.mode,Pe=Y0({mode:"hidden",children:Pe},B),R=mr(R,B,_,null),Pe.return=d,R.return=d,Pe.sibling=R,d.child=Pe,B=d.child,B.memoizedState=pd(_),B.childLanes=Xu(h,Se,_),d.memoizedState=vp,R):(En(d),X0(d,Pe))}if(it=h.memoizedState,it!==null&&(Pe=it.dehydrated,Pe!==null)){if(q)d.flags&256?(En(d),d.flags&=-257,d=ws(h,d,_)):d.memoizedState!==null?(X(),d.child=h.child,d.flags|=128,d=null):(X(),B=R.fallback,Pe=d.mode,R=Y0({mode:"visible",children:R.children},Pe),B=mr(B,Pe,_,null),B.flags|=2,R.return=d,B.return=d,R.sibling=B,d.child=R,fu(d,h.child,null,_),R=d.child,R.memoizedState=pd(_),R.childLanes=Xu(h,Se,_),d.memoizedState=vp,d=B);else if(En(d),rp(Pe))Se=nv(Pe).digest,R=Error(r(419)),R.stack="",R.digest=Se,Mt({value:R,source:null,stack:null}),d=ws(h,d,_);else if(Xi||Qu(h,d,_,!1),Se=(_&h.childLanes)!==0,Xi||Se){if(Se=Ni,Se!==null){if(R=_&-_,(R&42)!==0)R=1;else switch(R){case 2:R=1;break;case 8:R=4;break;case 32:R=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:R=64;break;case 268435456:R=134217728;break;default:R=0}if(R=(R&(Se.suspendedLanes|_))!==0?0:R,R!==0&&R!==it.retryLane)throw it.retryLane=R,Ze(h,R),Hr(Se,h,R),yp}ip(Pe)||Lo(),d=ws(h,d,_)}else ip(Pe)?(d.flags|=128,d.child=h.child,d=cl.bind(null,h),iv(Pe,d),d=null):(h=it.treeContext,ma&&(Ga=sv(Pe),Ha=d,pi=!0,ko=null,Ca=!1,h!==null&&(to[no++]=gl,to[no++]=yl,to[no++]=ou,gl=h.id,yl=h.overflow,ou=d)),d=X0(d,R.children),d.flags|=4096);return d}return B?(X(),B=R.fallback,Pe=d.mode,it=h.child,q=it.sibling,R=Cs(it,{mode:"hidden",children:R.children}),R.subtreeFlags=it.subtreeFlags&31457280,q!==null?B=Cs(q,B):(B=mr(B,Pe,_,null),B.flags|=2),B.return=d,R.return=d,R.sibling=B,d.child=R,R=B,B=d.child,Pe=h.child.memoizedState,Pe===null?Pe=pd(_):(it=Pe.cachePool,it!==null?(q=ri?rr._currentValue:rr._currentValue2,it=it.parent!==q?{parent:q,pool:q}:it):it=gd(),Pe={baseLanes:Pe.baseLanes|_,cachePool:it}),B.memoizedState=Pe,B.childLanes=Xu(h,Se,_),d.memoizedState=vp,R):(En(d),_=h.child,h=_.sibling,_=Cs(_,{mode:"visible",children:R.children}),_.return=d,_.sibling=null,h!==null&&(Se=d.deletions,Se===null?(d.deletions=[h],d.flags|=16):Se.push(h)),d.child=_,d.memoizedState=null,_)}function X0(h,d){return d=Y0({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function Y0(h,d){return Mc(h,d,0,null)}function ws(h,d,_){return fu(d,h.child,null,_),h=X0(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function zn(h,d,_){h.lanes|=d;var R=h.alternate;R!==null&&(R.lanes|=d),Yc(h.return,d,_)}function Yu(h,d,_,R,B){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:R,tail:_,tailMode:B}:(q.isBackwards=d,q.rendering=null,q.renderingStartTime=0,q.last=R,q.tail=_,q.tailMode=B)}function Ku(h,d,_){var R=d.pendingProps,B=R.revealOrder,q=R.tail;if(er(h,d,R.children,_),R=ya.current,(R&2)!==0)R=R&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&zn(h,_,d);else if(h.tag===19)zn(h,_,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}switch(L(ya,R),B){case"forwards":for(_=d.child,B=null;_!==null;)h=_.alternate,h!==null&&re(h)===null&&(B=_),_=_.sibling;_=B,_===null?(B=d.child,d.child=null):(B=_.sibling,_.sibling=null),Yu(d,!1,B,_,q);break;case"backwards":for(_=null,B=d.child,d.child=null;B!==null;){if(h=B.alternate,h!==null&&re(h)===null){d.child=B;break}h=B.sibling,B.sibling=_,_=B,B=h}Yu(d,!0,_,null,q);break;case"together":Yu(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Zs(h,d,_){if(h!==null&&(d.dependencies=h.dependencies),co|=d.lanes,(_&d.childLanes)===0)if(h!==null){if(Qu(h,d,_,!1),(_&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,_=Cs(h,h.pendingProps),d.child=_,_.return=d;h.sibling!==null;)h=h.sibling,_=_.sibling=Cs(h,h.pendingProps),_.return=d;_.sibling=null}return d.child}function lh(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&Kc(h)))}function Xm(h,d,_){switch(d.tag){case 3:he(d,d.stateNode.containerInfo),Ul(d,rr,h.memoizedState.cache),Xe();break;case 27:case 5:ze(d);break;case 4:he(d,d.stateNode.containerInfo);break;case 10:Ul(d,d.type,d.memoizedProps.value);break;case 13:var R=d.memoizedState;if(R!==null)return R.dehydrated!==null?(En(d),d.flags|=128,null):(_&d.child.childLanes)!==0?q0(h,d,_):(En(d),h=Zs(h,d,_),h!==null?h.sibling:null);En(d);break;case 19:var B=(h.flags&128)!==0;if(R=(_&d.childLanes)!==0,R||(Qu(h,d,_,!1),R=(_&d.childLanes)!==0),B){if(R)return Ku(h,d,_);d.flags|=128}if(B=d.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),L(ya,ya.current),R)break;return null;case 22:case 23:return d.lanes=0,Nn(h,d,_);case 24:Ul(d,rr,h.memoizedState.cache)}return Zs(h,d,_)}function Zu(h,d,_){if(h!==null)if(h.memoizedProps!==d.pendingProps)Xi=!0;else{if(!lh(h,_)&&(d.flags&128)===0)return Xi=!1,Xm(h,d,_);Xi=(h.flags&131072)!==0}else Xi=!1,pi&&(d.flags&1048576)!==0&&K(d,Ah,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var R=d.elementType,B=R._init;if(R=B(R._payload),d.type=R,typeof R=="function")eu(R)?(h=Xa(R,h),d.tag=1,d=j0(null,d,R,h,_)):(d.tag=0,d=Ya(null,d,R,h,_));else{if(R!=null){if(B=R.$$typeof,B===pf){d.tag=11,d=Ys(null,d,R,h,_);break e}else if(B===M){d.tag=14,d=ta(null,d,R,h,_);break e}}throw d=o(R)||R,Error(r(306,d,""))}}return d;case 0:return Ya(h,d,d.type,d.pendingProps,_);case 1:return R=d.type,B=Xa(R,d.pendingProps),j0(h,d,R,B,_);case 3:e:{if(he(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var q=d.pendingProps;B=d.memoizedState,R=B.element,Rt(h,d),wt(d,q,null,_);var Se=d.memoizedState;if(q=Se.cache,Ul(d,rr,q),q!==B.cache&&Eo(d,[rr],_,!0),Fe(),q=Se.element,ma&&B.isDehydrated)if(B={element:q,isDehydrated:!1,cache:Se.cache},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){d=W0(h,d,q,_);break e}else if(q!==R){R=fe(Error(r(424)),d),Mt(R),d=W0(h,d,q,_);break e}else for(ma&&(Ga=av(d.stateNode.containerInfo),Ha=d,pi=!0,ko=null,Ca=!0),_=Hl(d,null,q,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Xe(),q===R){d=Zs(h,d,_);break e}er(h,d,q,_)}d=d.child}return d;case 26:if(eo)return Rr(h,d),h===null?(_=u1(d.type,null,d.pendingProps,null))?d.memoizedState=_:pi||(d.stateNode=cp(d.type,d.pendingProps,Fl.current,d)):d.memoizedState=u1(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(Wi)return ze(d),h===null&&Wi&&pi&&(R=d.stateNode=ml(d.type,d.pendingProps,Fl.current,ga.current,!1),Ha=d,Ca=!0,Ga=ap(R)),R=d.pendingProps.children,h!==null||pi?er(h,d,R,_):d.child=fu(d,null,R,_),Rr(h,d),d.child;case 5:return h===null&&pi&&(op(d.type,d.pendingProps,ga.current),(B=R=Ga)&&(R=X4(R,d.type,d.pendingProps,Ca),R!==null?(d.stateNode=R,Ha=d,Ga=ap(R),Ca=!1,B=!0):B=!1),B||ke(d)),ze(d),B=d.type,q=d.pendingProps,Se=h!==null?h.memoizedProps:null,R=q.children,_n(B,q)?R=null:Se!==null&&_n(B,Se)&&(d.flags|=32),d.memoizedState!==null&&(B=jt(h,d,qt,null,null,_),ri?pl._currentValue=B:pl._currentValue2=B),Rr(h,d),er(h,d,R,_),d.child;case 6:return h===null&&pi&&(hv(d.pendingProps,ga.current),(h=_=Ga)&&(_=l1(_,d.pendingProps,Ca),_!==null?(d.stateNode=_,Ha=d,Ga=null,h=!0):h=!1),h||ke(d)),null;case 13:return q0(h,d,_);case 4:return he(d,d.stateNode.containerInfo),R=d.pendingProps,h===null?d.child=fu(d,null,R,_):er(h,d,R,_),d.child;case 11:return Ys(h,d,d.type,d.pendingProps,_);case 7:return er(h,d,d.pendingProps,_),d.child;case 8:return er(h,d,d.pendingProps.children,_),d.child;case 12:return er(h,d,d.pendingProps.children,_),d.child;case 10:return R=d.pendingProps,Ul(d,d.type,R.value),er(h,d,R.children,_),d.child;case 9:return B=d.type._context,R=d.pendingProps.children,tl(d),B=fa(B),R=R(B),d.flags|=1,er(h,d,R,_),d.child;case 14:return ta(h,d,d.type,d.pendingProps,_);case 15:return Ks(h,d,d.type,d.pendingProps,_);case 19:return Ku(h,d,_);case 22:return Nn(h,d,_);case 24:return tl(d),R=fa(rr),h===null?(B=$u(),B===null&&(B=Ni,q=nl(),B.pooledCache=q,q.refCount++,q!==null&&(B.pooledCacheLanes|=_),B=q),d.memoizedState={parent:R,cache:B},vt(d),Ul(d,rr,B)):((h.lanes&_)!==0&&(Rt(h,d),wt(d,null,null,_),Fe()),B=h.memoizedState,q=d.memoizedState,B.parent!==R?(B={parent:R,cache:R},d.memoizedState=B,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=B),Ul(d,rr,R)):(R=q.cache,Ul(d,rr,R),R!==B.cache&&Eo(d,[rr],_,!0))),er(h,d,d.pendingProps.children,_),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ul(h,d,_){ri?(L(Nc,d._currentValue),d._currentValue=_):(L(Nc,d._currentValue2),d._currentValue2=_)}function To(h){var d=Nc.current;ri?h._currentValue=d:h._currentValue2=d,E(Nc)}function Yc(h,d,_){for(;h!==null;){var R=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,R!==null&&(R.childLanes|=d)):R!==null&&(R.childLanes&d)!==d&&(R.childLanes|=d),h===_)break;h=h.return}}function Eo(h,d,_,R){var B=h.child;for(B!==null&&(B.return=h);B!==null;){var q=B.dependencies;if(q!==null){var Se=B.child;q=q.firstContext;e:for(;q!==null;){var Pe=q;q=B;for(var it=0;it<d.length;it++)if(Pe.context===d[it]){q.lanes|=_,Pe=q.alternate,Pe!==null&&(Pe.lanes|=_),Yc(q.return,_,h),R||(Se=null);break e}q=Pe.next}}else if(B.tag===18){if(Se=B.return,Se===null)throw Error(r(341));Se.lanes|=_,q=Se.alternate,q!==null&&(q.lanes|=_),Yc(Se,_,h),Se=null}else Se=B.child;if(Se!==null)Se.return=B;else for(Se=B;Se!==null;){if(Se===h){Se=null;break}if(B=Se.sibling,B!==null){B.return=Se.return,Se=B;break}Se=Se.return}B=Se}}function Qu(h,d,_,R){h=null;for(var B=d,q=!1;B!==null;){if(!q){if((B.flags&524288)!==0)q=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var Se=B.alternate;if(Se===null)throw Error(r(387));if(Se=Se.memoizedProps,Se!==null){var Pe=B.type;Us(B.pendingProps.value,Se.value)||(h!==null?h.push(Pe):h=[Pe])}}else if(B===Sf.current){if(Se=B.alternate,Se===null)throw Error(r(387));Se.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(h!==null?h.push(pl):h=[pl])}B=B.return}h!==null&&Eo(d,h,_,R),d.flags|=262144}function Kc(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!Us(ri?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function tl(h){bl=h,so=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function fa(h){return md(bl,h)}function Ju(h,d){return bl===null&&tl(h),md(h,d)}function md(h,d){var _=ri?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:_,next:null},so===null){if(h===null)throw Error(r(308));so=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else so=so.next=d;return _}function nl(){return{controller:new Uh,data:new Map,refCount:0}}function Zc(h){h.refCount--,h.refCount===0&&Mv(Tv,function(){h.controller.abort()})}function $u(){var h=jl.current;return h!==null?h:Ni.pooledCache}function ef(h,d){d===null?L(jl,jl.current):L(jl,d.pool)}function gd(){var h=$u();return h===null?null:{parent:ri?rr._currentValue:rr._currentValue2,pool:h}}function Ia(h){h.flags|=4}function wo(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function il(h,d,_,R){if(In)for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)gr(h,_.stateNode);else if(!(_.tag===4||Wi&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(yr)for(var B=d.child;B!==null;){if(B.tag===5){var q=B.stateNode;_&&R&&(q=r1(q,B.type,B.memoizedProps)),gr(h,q)}else if(B.tag===6)q=B.stateNode,_&&R&&(q=a1(q,B.memoizedProps)),gr(h,q);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)q=B.child,q!==null&&(q.return=B),il(h,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===d)break;for(;B.sibling===null;){if(B.return===null||B.return===d)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function yd(h,d,_,R){if(yr)for(var B=d.child;B!==null;){if(B.tag===5){var q=B.stateNode;_&&R&&(q=r1(q,B.type,B.memoizedProps)),i1(h,q)}else if(B.tag===6)q=B.stateNode,_&&R&&(q=a1(q,B.memoizedProps)),i1(h,q);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)q=B.child,q!==null&&(q.return=B),yd(h,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===d)break;for(;B.sibling===null;){if(B.return===null||B.return===d)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function tf(h,d){if(yr&&wo(h,d)){h=d.stateNode;var _=h.containerInfo,R=Dd();yd(R,d,!1,!1),h.pendingChildren=R,Ia(d),np(_,R)}}function ch(h,d,_,R){if(In)h.memoizedProps!==R&&Ia(d);else if(yr){var B=h.stateNode,q=h.memoizedProps;if((h=wo(h,d))||q!==R){var Se=ga.current;q=Th(B,_,q,R,!h,null),q===B?d.stateNode=B:(Pr(q,_,R,Se)&&Ia(d),d.stateNode=q,h?il(q,d,!1,!1):Ia(d))}else d.stateNode=B}}function nf(h,d,_){if(Km(d,_)){if(h.flags|=16777216,!ep(d,_))if(ol())h.flags|=8192;else throw lu=kd,Id}else h.flags&=-16777217}function Qc(h,d){if(mv(d)){if(h.flags|=16777216,!gf(d))if(ol())h.flags|=8192;else throw lu=kd,Id}else h.flags&=-16777217}function Ll(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?V():536870912,h.lanes|=d,Xl|=d)}function zl(h,d){if(!pi)switch(h.tailMode){case"hidden":d=h.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?h.tail=null:_.sibling=null;break;case"collapsed":_=h.tail;for(var R=null;_!==null;)_.alternate!==null&&(R=_),_=_.sibling;R===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function Pi(h){var d=h.alternate!==null&&h.alternate.child===h.child,_=0,R=0;if(d)for(var B=h.child;B!==null;)_|=B.lanes|B.childLanes,R|=B.subtreeFlags&31457280,R|=B.flags&31457280,B.return=h,B=B.sibling;else for(B=h.child;B!==null;)_|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=h,B=B.sibling;return h.subtreeFlags|=R,h.childLanes=_,d}function K0(h,d,_){var R=d.pendingProps;switch(Me(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(d),null;case 1:return Pi(d),null;case 3:return _=d.stateNode,R=null,h!==null&&(R=h.memoizedState.cache),d.memoizedState.cache!==R&&(d.flags|=2048),To(rr),Te(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(h===null||h.child===null)&&(Je(d)?Ia(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ko!==null&&(bc(ko),ko=null))),tf(h,d),Pi(d),null;case 26:if(eo){_=d.type;var B=d.memoizedState;return h===null?(Ia(d),B!==null?(Pi(d),Qc(d,B)):(Pi(d),nf(d,_,R))):B?B!==h.memoizedState?(Ia(d),Pi(d),Qc(d,B)):(Pi(d),d.flags&=-16777217):(In?h.memoizedProps!==R&&Ia(d):ch(h,d,_,R),Pi(d),nf(d,_,R)),null}case 27:if(Wi){if(Be(d),_=Fl.current,B=d.type,h!==null&&d.stateNode!=null)In?h.memoizedProps!==R&&Ia(d):ch(h,d,B,R);else{if(!R){if(d.stateNode===null)throw Error(r(166));return Pi(d),null}h=ga.current,Je(d)?yt(d,h):(h=ml(B,R,_,h,!0),d.stateNode=h,Ia(d))}return Pi(d),null}case 5:if(Be(d),_=d.type,h!==null&&d.stateNode!=null)ch(h,d,_,R);else{if(!R){if(d.stateNode===null)throw Error(r(166));return Pi(d),null}h=ga.current,Je(d)?yt(d,h):(B=pa(_,R,Fl.current,h,d),il(B,d,!1,!1),d.stateNode=B,Pr(B,_,R,h)&&Ia(d))}return Pi(d),nf(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)_=h.memoizedProps,In?_!==R&&Ia(d):yr&&(_!==R?(d.stateNode=an(R,Fl.current,ga.current,d),Ia(d)):d.stateNode=h.stateNode);else{if(typeof R!="string"&&d.stateNode===null)throw Error(r(166));if(h=Fl.current,_=ga.current,Je(d)){if(!ma)throw Error(r(176));if(h=d.stateNode,_=d.memoizedProps,R=null,B=Ha,B!==null)switch(B.tag){case 27:case 5:R=B.memoizedProps}c1(h,_,d,R)||ke(d)}else d.stateNode=an(R,h,_,d)}return Pi(d),null;case 13:if(R=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(B=Je(d),R!==null&&R.dehydrated!==null){if(h===null){if(!B)throw Error(r(318));if(!ma)throw Error(r(344));if(B=d.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));cv(B,d)}else Xe(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pi(d),B=!1}else ko!==null&&(bc(ko),ko=null),B=!0;if(!B)return d.flags&256?(Tt(d),d):(Tt(d),null)}if(Tt(d),(d.flags&128)!==0)return d.lanes=_,d;if(_=R!==null,h=h!==null&&h.memoizedState!==null,_){R=d.child,B=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(B=R.alternate.memoizedState.cachePool.pool);var q=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(q=R.memoizedState.cachePool.pool),q!==B&&(R.flags|=2048)}return _!==h&&_&&(d.child.flags|=8192),Ll(d,d.updateQueue),Pi(d),null;case 4:return Te(),tf(h,d),h===null&&Er(d.stateNode.containerInfo),Pi(d),null;case 10:return To(d.type),Pi(d),null;case 19:if(E(ya),B=d.memoizedState,B===null)return Pi(d),null;if(R=(d.flags&128)!==0,q=B.rendering,q===null)if(R)zl(B,!1);else{if(Yi!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(q=re(h),q!==null){for(d.flags|=128,zl(B,!1),h=q.updateQueue,d.updateQueue=h,Ll(d,h),d.subtreeFlags=0,h=_,_=d.child;_!==null;)bh(_,h),_=_.sibling;return L(ya,ya.current&1|2),d.child}h=h.sibling}B.tail!==null&&Io()>Ph&&(d.flags|=128,R=!0,zl(B,!1),d.lanes=4194304)}else{if(!R)if(h=re(q),h!==null){if(d.flags|=128,R=!0,h=h.updateQueue,d.updateQueue=h,Ll(d,h),zl(B,!0),B.tail===null&&B.tailMode==="hidden"&&!q.alternate&&!pi)return Pi(d),null}else 2*Io()-B.renderingStartTime>Ph&&_!==536870912&&(d.flags|=128,R=!0,zl(B,!1),d.lanes=4194304);B.isBackwards?(q.sibling=d.child,d.child=q):(h=B.last,h!==null?h.sibling=q:d.child=q,B.last=q)}return B.tail!==null?(d=B.tail,B.rendering=d,B.tail=d.sibling,B.renderingStartTime=Io(),d.sibling=null,h=ya.current,L(ya,R?h&1|2:h&1),d):(Pi(d),null);case 22:case 23:return Tt(d),Ri(),R=d.memoizedState!==null,h!==null?h.memoizedState!==null!==R&&(d.flags|=8192):R&&(d.flags|=8192),R?(_&536870912)!==0&&(d.flags&128)===0&&(Pi(d),d.subtreeFlags&6&&(d.flags|=8192)):Pi(d),_=d.updateQueue,_!==null&&Ll(d,_.retryQueue),_=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),R=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(R=d.memoizedState.cachePool.pool),R!==_&&(d.flags|=2048),h!==null&&E(jl),null;case 24:return _=null,h!==null&&(_=h.memoizedState.cache),d.memoizedState.cache!==_&&(d.flags|=2048),To(rr),Pi(d),null;case 25:return null}throw Error(r(156,d.tag))}function Ym(h,d){switch(Me(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return To(rr),Te(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return Be(d),null;case 13:if(Tt(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Xe()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return E(ya),null;case 4:return Te(),null;case 10:return To(d.type),null;case 22:case 23:return Tt(d),Ri(),h!==null&&E(jl),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return To(rr),null;case 25:return null;default:return null}}function vd(h,d){switch(Me(d),d.tag){case 3:To(rr),Te();break;case 26:case 27:case 5:Be(d);break;case 4:Te();break;case 13:Tt(d);break;case 19:E(ya);break;case 10:To(d.type);break;case 22:case 23:Tt(d),Ri(),h!==null&&E(jl);break;case 24:To(rr)}}function mc(h,d){try{var _=d.updateQueue,R=_!==null?_.lastEffect:null;if(R!==null){var B=R.next;_=B;do{if((_.tag&h)===h){R=void 0;var q=_.create,Se=_.inst;R=q(),Se.destroy=R}_=_.next}while(_!==B)}}catch(Pe){xi(d,d.return,Pe)}}function Ao(h,d,_){try{var R=d.updateQueue,B=R!==null?R.lastEffect:null;if(B!==null){var q=B.next;R=q;do{if((R.tag&h)===h){var Se=R.inst,Pe=Se.destroy;if(Pe!==void 0){Se.destroy=void 0,B=d;var it=_;try{Pe()}catch(Dt){xi(B,it,Dt)}}}R=R.next}while(R!==q)}}catch(Dt){xi(d,d.return,Dt)}}function uh(h){var d=h.updateQueue;if(d!==null){var _=h.stateNode;try{xt(d,_)}catch(R){xi(h,h.return,R)}}}function Ka(h,d,_){_.props=Xa(h.type,h.memoizedProps),_.state=h.memoizedState;try{_.componentWillUnmount()}catch(R){xi(h,d,R)}}function As(h,d){try{var _=h.ref;if(_!==null){var R=h.stateNode;switch(h.tag){case 26:case 27:case 5:var B=Gn(R);break;default:B=R}typeof _=="function"?h.refCleanup=_(B):_.current=B}}catch(q){xi(h,d,q)}}function Za(h,d){var _=h.ref,R=h.refCleanup;if(_!==null)if(typeof R=="function")try{R()}catch(B){xi(h,d,B)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(B){xi(h,d,B)}else _.current=null}function fh(h){var d=h.type,_=h.memoizedProps,R=h.stateNode;try{W4(R,d,_,h)}catch(B){xi(h,h.return,B)}}function gc(h,d,_){try{Yy(h.stateNode,h.type,_,d,h)}catch(R){xi(h,h.return,R)}}function xd(h){return h.tag===5||h.tag===3||(eo?h.tag===26:!1)||(Wi?h.tag===27:!1)||h.tag===4}function rf(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||xd(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!Wi||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function bd(h,d,_){var R=h.tag;if(R===5||R===6)h=h.stateNode,d?Zy(_,h,d):e1(_,h);else if(!(R===4||Wi&&R===27)&&(h=h.child,h!==null))for(bd(h,d,_),h=h.sibling;h!==null;)bd(h,d,_),h=h.sibling}function Co(h,d,_){var R=h.tag;if(R===5||R===6)h=h.stateNode,d?Ky(_,h,d):qy(_,h);else if(!(R===4||Wi&&R===27)&&(h=h.child,h!==null))for(Co(h,d,_),h=h.sibling;h!==null;)Co(h,d,_),h=h.sibling}function hh(h,d,_){h=h.containerInfo;try{Eh(h,_)}catch(R){xi(d,d.return,R)}}function Jc(h,d){for(ui(h.containerInfo),kn=d;kn!==null;)if(h=kn,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,kn=d;else for(;kn!==null;){h=kn;var _=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&_!==null){d=void 0;var R=h,B=_.memoizedProps;_=_.memoizedState;var q=R.stateNode;try{var Se=Xa(R.type,B,R.elementType===R.type);d=q.getSnapshotBeforeUpdate(Se,_),q.__reactInternalSnapshotBeforeUpdate=d}catch(Pe){xi(R,R.return,Pe)}}break;case 3:(d&1024)!==0&&In&&tv(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,kn=d;break}kn=h.return}return Se=ai,ai=!1,Se}function af(h,d,_){var R=_.flags;switch(_.tag){case 0:case 11:case 15:Do(h,_),R&4&&mc(5,_);break;case 1:if(Do(h,_),R&4)if(h=_.stateNode,d===null)try{h.componentDidMount()}catch(Pe){xi(_,_.return,Pe)}else{var B=Xa(_.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(B,d,h.__reactInternalSnapshotBeforeUpdate)}catch(Pe){xi(_,_.return,Pe)}}R&64&&uh(_),R&512&&As(_,_.return);break;case 3:if(Do(h,_),R&64&&(R=_.updateQueue,R!==null)){if(h=null,_.child!==null)switch(_.child.tag){case 27:case 5:h=Gn(_.child.stateNode);break;case 1:h=_.child.stateNode}try{xt(R,h)}catch(Pe){xi(_,_.return,Pe)}}break;case 26:if(eo){Do(h,_),R&512&&As(_,_.return);break}case 27:case 5:Do(h,_),d===null&&R&4&&fh(_),R&512&&As(_,_.return);break;case 12:Do(h,_);break;case 13:Do(h,_),R&4&&dh(h,_);break;case 22:if(B=_.memoizedState!==null||Wl,!B){d=d!==null&&d.memoizedState!==null||Ir;var q=Wl,Se=Ir;Wl=B,(Ir=d)&&!Se?Dr(h,_,(_.subtreeFlags&8772)!==0):Do(h,_),Wl=q,Ir=Se}R&512&&(_.memoizedProps.mode==="manual"?As(_,_.return):Za(_,_.return));break;default:Do(h,_)}}function Z0(h){var d=h.alternate;d!==null&&(h.alternate=null,Z0(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&j4(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Gi(h,d,_){for(_=_.child;_!==null;)rl(h,d,_),_=_.sibling}function rl(h,d,_){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(jr,_)}catch{}switch(_.tag){case 26:if(eo){Ir||Za(_,d),Gi(h,d,_),_.memoizedState?mf(_.memoizedState):_.stateNode&&wh(_.stateNode);break}case 27:if(Wi){Ir||Za(_,d);var R=mn,B=Kn;mn=_.stateNode,Gi(h,d,_),au(_.stateNode),mn=R,Kn=B;break}case 5:Ir||Za(_,d);case 6:if(In){if(R=mn,B=Kn,mn=null,Gi(h,d,_),mn=R,Kn=B,mn!==null)if(Kn)try{Qy(mn,_.stateNode)}catch(q){xi(_,d,q)}else try{t1(mn,_.stateNode)}catch(q){xi(_,d,q)}}else Gi(h,d,_);break;case 18:In&&mn!==null&&(Kn?Od(mn,_.stateNode):fv(mn,_.stateNode));break;case 4:In?(R=mn,B=Kn,mn=_.stateNode.containerInfo,Kn=!0,Gi(h,d,_),mn=R,Kn=B):(yr&&hh(_.stateNode,_,Dd()),Gi(h,d,_));break;case 0:case 11:case 14:case 15:Ir||Ao(2,_,d),Ir||Ao(4,_,d),Gi(h,d,_);break;case 1:Ir||(Za(_,d),R=_.stateNode,typeof R.componentWillUnmount=="function"&&Ka(_,d,R)),Gi(h,d,_);break;case 21:Gi(h,d,_);break;case 22:Ir||Za(_,d),Ir=(R=Ir)||_.memoizedState!==null,Gi(h,d,_),Ir=R;break;default:Gi(h,d,_)}}function dh(h,d){if(ma&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{K4(h)}catch(_){xi(d,d.return,_)}}function sf(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new Oi),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new Oi),d;default:throw Error(r(435,h.tag))}}function Ro(h,d){var _=sf(h);d.forEach(function(R){var B=Po.bind(null,h,R);_.has(R)||(_.add(R),R.then(B,B))})}function ha(h,d){var _=d.deletions;if(_!==null)for(var R=0;R<_.length;R++){var B=_[R],q=h,Se=d;if(In){var Pe=Se;e:for(;Pe!==null;){switch(Pe.tag){case 27:case 5:mn=Pe.stateNode,Kn=!1;break e;case 3:mn=Pe.stateNode.containerInfo,Kn=!0;break e;case 4:mn=Pe.stateNode.containerInfo,Kn=!0;break e}Pe=Pe.return}if(mn===null)throw Error(r(160));rl(q,Se,B),mn=null,Kn=!1}else rl(q,Se,B);q=B.alternate,q!==null&&(q.return=null),B.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)of(d,h),d=d.sibling}function of(h,d){var _=h.alternate,R=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:ha(d,h),ka(h),R&4&&(Ao(3,h,h.return),mc(3,h),Ao(5,h,h.return));break;case 1:ha(d,h),ka(h),R&512&&(Ir||_===null||Za(_,_.return)),R&64&&Wl&&(h=h.updateQueue,h!==null&&(R=h.callbacks,R!==null&&(_=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=_===null?R:_.concat(R))));break;case 26:if(eo){var B=Lr;ha(d,h),ka(h),R&512&&(Ir||_===null||Za(_,_.return)),R&4&&(R=_!==null?_.memoizedState:null,d=h.memoizedState,_===null?d===null?h.stateNode===null?h.stateNode=Ud(B,h.type,h.memoizedProps,h):Ld(B,h.type,h.stateNode):h.stateNode=dv(B,d,h.memoizedProps):R!==d?(R===null?_.stateNode!==null&&wh(_.stateNode):mf(R),d===null?Ld(B,h.type,h.stateNode):dv(B,d,h.memoizedProps)):d===null&&h.stateNode!==null&&gc(h,h.memoizedProps,_.memoizedProps));break}case 27:if(Wi&&R&4&&h.alternate===null){B=h.stateNode;var q=h.memoizedProps;try{ru(B),yv(h.type,q,B,h)}catch(Gt){xi(h,h.return,Gt)}}case 5:if(ha(d,h),ka(h),R&512&&(Ir||_===null||Za(_,_.return)),In){if(h.flags&32){d=h.stateNode;try{n1(d)}catch(Gt){xi(h,h.return,Gt)}}R&4&&h.stateNode!=null&&(d=h.memoizedProps,gc(h,d,_!==null?_.memoizedProps:d)),R&1024&&(p1=!0)}break;case 6:if(ha(d,h),ka(h),R&4&&In){if(h.stateNode===null)throw Error(r(162));R=h.memoizedProps,_=_!==null?_.memoizedProps:R,d=h.stateNode;try{Xy(d,_,R)}catch(Gt){xi(h,h.return,Gt)}}break;case 3:if(eo?(pv(),B=Lr,Lr=lp(d.containerInfo),ha(d,h),Lr=B):ha(d,h),ka(h),R&4){if(In&&ma&&_!==null&&_.memoizedState.isDehydrated)try{Y4(d.containerInfo)}catch(Gt){xi(h,h.return,Gt)}if(yr){R=d.containerInfo,_=d.pendingChildren;try{Eh(R,_)}catch(Gt){xi(h,h.return,Gt)}}}p1&&(p1=!1,Qs(h));break;case 4:eo?(_=Lr,Lr=lp(h.stateNode.containerInfo),ha(d,h),ka(h),Lr=_):(ha(d,h),ka(h)),R&4&&yr&&hh(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:ha(d,h),ka(h);break;case 13:ha(d,h),ka(h),h.child.flags&8192&&h.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(hs=Io()),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Ro(h,R)));break;case 22:R&512&&(Ir||_===null||Za(_,_.return)),B=h.memoizedState!==null;var Se=_!==null&&_.memoizedState!==null,Pe=Wl,it=Ir;if(Wl=Pe||B,Ir=it||Se,ha(d,h),Ir=it,Wl=Pe,ka(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,R&8192&&(d._visibility=B?d._visibility&-2:d._visibility|1,B&&(d=Wl||Ir,_===null||Se||d||ge(h)),In&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(_=null,In)for(d=h;;){if(d.tag===5||eo&&d.tag===26||Wi&&d.tag===27){if(_===null){Se=_=d;try{q=Se.stateNode,B?Jy(q):ev(Se.stateNode,Se.memoizedProps)}catch(Gt){xi(Se,Se.return,Gt)}}}else if(d.tag===6){if(_===null){Se=d;try{var Dt=Se.stateNode;B?$y(Dt):q4(Dt,Se.memoizedProps)}catch(Gt){xi(Se,Se.return,Gt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;_===d&&(_=null),d=d.return}_===d&&(_=null),d.sibling.return=d.return,d=d.sibling}}R&4&&(R=h.updateQueue,R!==null&&(_=R.retryQueue,_!==null&&(R.retryQueue=null,Ro(h,_))));break;case 19:ha(d,h),ka(h),R&4&&(R=h.updateQueue,R!==null&&(h.updateQueue=null,Ro(h,R)));break;case 21:break;default:ha(d,h),ka(h)}}function ka(h){var d=h.flags;if(d&2){try{if(In&&(!Wi||h.tag!==27)){e:{for(var _=h.return;_!==null;){if(xd(_)){var R=_;break e}_=_.return}throw Error(r(160))}switch(R.tag){case 27:if(Wi){var B=R.stateNode,q=rf(h);Co(h,q,B);break}case 5:var Se=R.stateNode;R.flags&32&&(n1(Se),R.flags&=-33);var Pe=rf(h);Co(h,Pe,Se);break;case 3:case 4:var it=R.stateNode.containerInfo,Dt=rf(h);bd(h,Dt,it);break;default:throw Error(r(161))}}}catch(Gt){xi(h,h.return,Gt)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Qs(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Qs(d),d.tag===5&&d.flags&1024&&tp(d.stateNode),h=h.sibling}}function Do(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)af(h,d.alternate,d),d=d.sibling}function ge(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:Ao(4,d,d.return),ge(d);break;case 1:Za(d,d.return);var _=d.stateNode;typeof _.componentWillUnmount=="function"&&Ka(d,d.return,_),ge(d);break;case 26:case 27:case 5:Za(d,d.return),ge(d);break;case 22:Za(d,d.return),d.memoizedState===null&&ge(d);break;default:ge(d)}h=h.sibling}}function Dr(h,d,_){for(_=_&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var R=d.alternate,B=h,q=d,Se=q.flags;switch(q.tag){case 0:case 11:case 15:Dr(B,q,_),mc(4,q);break;case 1:if(Dr(B,q,_),R=q,B=R.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Dt){xi(R,R.return,Dt)}if(R=q,B=R.updateQueue,B!==null){var Pe=R.stateNode;try{var it=B.shared.hiddenCallbacks;if(it!==null)for(B.shared.hiddenCallbacks=null,B=0;B<it.length;B++)Ae(it[B],Pe)}catch(Dt){xi(R,R.return,Dt)}}_&&Se&64&&uh(q),As(q,q.return);break;case 26:case 27:case 5:Dr(B,q,_),_&&R===null&&Se&4&&fh(q),As(q,q.return);break;case 12:Dr(B,q,_);break;case 13:Dr(B,q,_),_&&Se&4&&dh(B,q);break;case 22:q.memoizedState===null&&Dr(B,q,_),As(q,q.return);break;default:Dr(B,q,_)}d=d.sibling}}function Fa(h,d){var _=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==_&&(h!=null&&h.refCount++,_!=null&&Zc(_))}function $c(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&Zc(h))}function Or(h,d,_,R){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)lf(h,d,_,R),d=d.sibling}function lf(h,d,_,R){var B=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,_,R),B&2048&&mc(9,d);break;case 3:Or(h,d,_,R),B&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&Zc(h)));break;case 12:if(B&2048){Or(h,d,_,R),h=d.stateNode;try{var q=d.memoizedProps,Se=q.id,Pe=q.onPostCommit;typeof Pe=="function"&&Pe(Se,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(it){xi(d,d.return,it)}}else Or(h,d,_,R);break;case 23:break;case 22:q=d.stateNode,d.memoizedState!==null?q._visibility&4?Or(h,d,_,R):na(h,d):q._visibility&4?Or(h,d,_,R):(q._visibility|=4,tr(h,d,_,R,(d.subtreeFlags&10256)!==0)),B&2048&&Fa(d.alternate,d);break;case 24:Or(h,d,_,R),B&2048&&$c(d.alternate,d);break;default:Or(h,d,_,R)}}function tr(h,d,_,R,B){for(B=B&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var q=h,Se=d,Pe=_,it=R,Dt=Se.flags;switch(Se.tag){case 0:case 11:case 15:tr(q,Se,Pe,it,B),mc(8,Se);break;case 23:break;case 22:var Gt=Se.stateNode;Se.memoizedState!==null?Gt._visibility&4?tr(q,Se,Pe,it,B):na(q,Se):(Gt._visibility|=4,tr(q,Se,Pe,it,B)),B&&Dt&2048&&Fa(Se.alternate,Se);break;case 24:tr(q,Se,Pe,it,B),B&&Dt&2048&&$c(Se.alternate,Se);break;default:tr(q,Se,Pe,it,B)}d=d.sibling}}function na(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var _=h,R=d,B=R.flags;switch(R.tag){case 22:na(_,R),B&2048&&Fa(R.alternate,R);break;case 24:na(_,R),B&2048&&$c(R.alternate,R);break;default:na(_,R)}d=d.sibling}}function Nr(h){if(h.subtreeFlags&oo)for(h=h.child;h!==null;)ph(h),h=h.sibling}function ph(h){switch(h.tag){case 26:Nr(h),h.flags&oo&&(h.memoizedState!==null?gv(Lr,h.memoizedState,h.memoizedProps):cs(h.type,h.memoizedProps));break;case 5:Nr(h),h.flags&oo&&cs(h.type,h.memoizedProps);break;case 3:case 4:if(eo){var d=Lr;Lr=lp(h.stateNode.containerInfo),Nr(h),Lr=d}else Nr(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=oo,oo=16777216,Nr(h),oo=d):Nr(h));break;default:Nr(h)}}function Qa(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function al(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var R=d[_];kn=R,mh(R,h)}Qa(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Sd(h),h=h.sibling}function Sd(h){switch(h.tag){case 0:case 11:case 15:al(h),h.flags&2048&&Ao(9,h,h.return);break;case 3:al(h);break;case 12:al(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,Oo(h)):al(h);break;default:al(h)}}function Oo(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var R=d[_];kn=R,mh(R,h)}Qa(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:Ao(8,d,d.return),Oo(d);break;case 22:_=d.stateNode,_._visibility&4&&(_._visibility&=-5,Oo(d));break;default:Oo(d)}h=h.sibling}}function mh(h,d){for(;kn!==null;){var _=kn;switch(_.tag){case 0:case 11:case 15:Ao(8,_,d);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var R=_.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Zc(_.memoizedState.cache)}if(R=_.child,R!==null)R.return=_,kn=R;else e:for(_=h;kn!==null;){R=kn;var B=R.sibling,q=R.return;if(Z0(R),R===_){kn=null;break e}if(B!==null){B.return=q,kn=B;break e}kn=q}}}function yc(h){var d=Rd(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=Jm(h),h===null)throw Error(r(362));return h.stateNode.current}function sl(h,d){var _=h.tag;switch(d.$$typeof){case zh:if(h.type===d.value)return!0;break;case Ho:e:{for(d=d.value,h=[h,0],_=0;_<h.length;){var R=h[_++],B=R.tag,q=h[_++],Se=d[q];if(B!==5&&B!==26&&B!==27||!Mh(R)){for(;Se!=null&&sl(R,Se);)q++,Se=d[q];if(q===d.length){d=!0;break e}else for(R=R.child;R!==null;)h.push(R,q),R=R.sibling}}d=!1}return d;case vr:if((_===5||_===26||_===27)&&Gy(h.stateNode,d.value))return!0;break;case ql:if((_===5||_===6||_===26||_===27)&&(h=Hy(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case Sl:if((_===5||_===26||_===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function gh(h){switch(h.$$typeof){case zh:return"<"+(o(h.value)||"Unknown")+">";case Ho:return":has("+(gh(h)||"")+")";case vr:return'[role="'+h.value+'"]';case ql:return'"'+h.value+'"';case Sl:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Ta(h,d){var _=[];h=[h,0];for(var R=0;R<h.length;){var B=h[R++],q=B.tag,Se=h[R++],Pe=d[Se];if(q!==5&&q!==26&&q!==27||!Mh(B)){for(;Pe!=null&&sl(B,Pe);)Se++,Pe=d[Se];if(Se===d.length)_.push(B);else for(B=B.child;B!==null;)h.push(B,Se),B=B.sibling}}return _}function vc(h,d){if(!iu)throw Error(r(363));h=yc(h),h=Ta(h,d),d=[],h=Array.from(h);for(var _=0;_<h.length;){var R=h[_++],B=R.tag;if(B===5||B===26||B===27)Mh(R)||d.push(R.stateNode);else for(R=R.child;R!==null;)h.push(R),R=R.sibling}return d}function Tr(){if((_i&2)!==0&&fi!==0)return fi&-fi;if(ve.T!==null){var h=io;return h!==0?h:Re()}return Fy()}function yh(){uo===0&&(uo=(fi&536870912)===0||pi?W():536870912);var h=ro.current;return h!==null&&(h.flags|=32),uo}function Hr(h,d,_){(h===Ni&&Vi===2||h.cancelPendingCommit!==null)&&(da(h,0),Va(h,fi,uo,!1)),Q(h,_),((_i&2)===0||h!==Ni)&&(h===Ni&&((_i&2)===0&&(Uc|=_),Yi===4&&Va(h,fi,uo,!1)),We(h))}function xc(h,d,_){if((_i&6)!==0)throw Error(r(327));var R=!_&&(d&60)===0&&(d&h.expiredLanes)===0||I(h,d),B=R?Md(h,d):_d(h,d,!0),q=R;do{if(B===0){lo&&!R&&Va(h,d,0,!1);break}else if(B===6)Va(h,d,0,!jo);else{if(_=h.current.alternate,q&&!Sc(_)){B=_d(h,d,!1),q=!1;continue}if(B===2){if(q=d,h.errorRecoveryDisabledLanes&q)var Se=0;else Se=h.pendingLanes&-536870913,Se=Se!==0?Se:Se&536870912?536870912:0;if(Se!==0){d=Se;e:{var Pe=h;B=Df;var it=ma&&Pe.current.memoizedState.isDehydrated;if(it&&(da(Pe,Se).flags|=256),Se=_d(Pe,Se,!1),Se!==2){if(va&&!it){Pe.errorRecoveryDisabledLanes|=q,Uc|=q,B=4;break e}q=kr,kr=B,q!==null&&bc(q)}B=Se}if(q=!1,B!==2)continue}}if(B===1){da(h,0),Va(h,d,0,!0);break}e:{switch(R=h,B){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Va(R,d,uo,!jo);break e}break;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(R.finishedWork=_,R.finishedLanes=d,(d&62914560)===d&&(q=hs+300-Io(),10<q)){if(Va(R,d,uo,!jo),z(R,0)!==0)break e;R.timeoutHandle=yn(cf.bind(null,R,_,kr,Vd,xp,d,uo,Uc,Xl,jo,2,-0,0),q);break e}cf(R,_,kr,Vd,xp,d,uo,Uc,Xl,jo,0,-0,0)}}break}while(!0);We(h)}function bc(h){kr===null?kr=h:kr.push.apply(kr,h)}function cf(h,d,_,R,B,q,Se,Pe,it,Dt,Gt,Zt,Jt){var Fn=d.subtreeFlags;if((Fn&8192||(Fn&16785408)===16785408)&&(Zm(),ph(d),d=ia(),d!==null)){h.cancelPendingCommit=d(Pl.bind(null,h,_,R,B,Se,Pe,it,1,Zt,Jt)),Va(h,q,Se,!Dt);return}Pl(h,_,R,B,Se,Pe,it,Gt,Zt,Jt)}function Sc(h){for(var d=h;;){var _=d.tag;if((_===0||_===11||_===15)&&d.flags&16384&&(_=d.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var R=0;R<_.length;R++){var B=_[R],q=B.getSnapshot;B=B.value;try{if(!Us(q(),B))return!1}catch{return!1}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Va(h,d,_,R){d&=~Fd,d&=~Uc,h.suspendedLanes|=d,h.pingedLanes&=~d,R&&(h.warmLanes|=d),R=h.expirationTimes;for(var B=d;0<B;){var q=31-us(B),Se=1<<q;R[q]=-1,B&=~Se}_!==0&&te(h,_,d)}function No(){return(_i&6)===0?(Ie(0),!1):!0}function Uo(){if(vn!==null){if(Vi===0)var h=vn.return;else h=vn,so=bl=null,ca(h),cu=null,uu=0,h=vn;for(;h!==null;)vd(h.alternate,h),h=h.return;vn=null}}function da(h,d){h.finishedWork=null,h.finishedLanes=0;var _=h.timeoutHandle;_!==bi&&(h.timeoutHandle=bi,Di(_)),_=h.cancelPendingCommit,_!==null&&(h.cancelPendingCommit=null,_()),Uo(),Ni=h,vn=_=Cs(h.current,null),fi=d,Vi=0,$a=null,jo=!1,lo=I(h,d),va=!1,Xl=uo=Fd=Uc=co=Yi=0,kr=Df=null,xp=!1,(d&8)!==0&&(d|=d&32);var R=h.entangledLanes;if(R!==0)for(h=h.entanglements,R&=d;0<R;){var B=31-us(R),q=1<<B;d|=h[B],R&=~q}return es=d,ce(),_}function ss(h,d){Zn=null,ve.H=Br,d===Oh?(d=Ut(),Vi=3):d===Id?(d=Ut(),Vi=4):Vi=d===yp?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,$a=d,vn===null&&(Yi=1,$i(h,fe(d,h.current)))}function ol(){var h=ro.current;return h===null?!0:(fi&4194176)===fi?qi===null:(fi&62914560)===fi||(fi&536870912)!==0?h===qi:!1}function ll(){var h=ve.H;return ve.H=Br,h===null?Br:h}function Js(){var h=ve.A;return ve.A=Lh,h}function Lo(){Yi=4,jo||(fi&4194176)!==fi&&ro.current!==null||(lo=!0),(co&134217727)===0&&(Uc&134217727)===0||Ni===null||Va(Ni,fi,uo,!1)}function _d(h,d,_){var R=_i;_i|=2;var B=ll(),q=Js();(Ni!==h||fi!==d)&&(Vd=null,da(h,d)),d=!1;var Se=Yi;e:do try{if(Vi!==0&&vn!==null){var Pe=vn,it=$a;switch(Vi){case 8:Uo(),Se=6;break e;case 3:case 2:case 6:ro.current===null&&(d=!0);var Dt=Vi;if(Vi=0,$a=null,os(h,Pe,it,Dt),_&&lo){Se=0;break e}break;default:Dt=Vi,Vi=0,$a=null,os(h,Pe,it,Dt)}}vh(),Se=Yi;break}catch(Gt){ss(h,Gt)}while(!0);return d&&h.shellSuspendCounter++,so=bl=null,_i=R,ve.H=B,ve.A=q,vn===null&&(Ni=null,fi=0,ce()),Se}function vh(){for(;vn!==null;)ji(vn)}function Md(h,d){var _=_i;_i|=2;var R=ll(),B=Js();Ni!==h||fi!==d?(Vd=null,Ph=Io()+500,da(h,d)):lo=I(h,d);e:do try{if(Vi!==0&&vn!==null){d=vn;var q=$a;t:switch(Vi){case 1:Vi=0,$a=null,os(h,d,q,1);break;case 2:if(Lt(q)){Vi=0,$a=null,ci(d);break}d=function(){Vi===2&&Ni===h&&(Vi=7),We(h)},q.then(d,d);break e;case 3:Vi=7;break e;case 4:Vi=5;break e;case 7:Lt(q)?(Vi=0,$a=null,ci(d)):(Vi=0,$a=null,os(h,d,q,7));break;case 5:var Se=null;switch(vn.tag){case 26:Se=vn.memoizedState;case 5:case 27:var Pe=vn,it=Pe.type,Dt=Pe.pendingProps;if(Se?gf(Se):ep(it,Dt)){Vi=0,$a=null;var Gt=Pe.sibling;if(Gt!==null)vn=Gt;else{var Zt=Pe.return;Zt!==null?(vn=Zt,Ja(Zt)):vn=null}break t}}Vi=0,$a=null,os(h,d,q,5);break;case 6:Vi=0,$a=null,os(h,d,q,6);break;case 8:Uo(),Yi=6;break e;default:throw Error(r(462))}}Ea();break}catch(Jt){ss(h,Jt)}while(!0);return so=bl=null,ve.H=R,ve.A=B,_i=_,vn!==null?0:(Ni=null,fi=0,ce(),Yi)}function Ea(){for(;vn!==null&&!bv();)ji(vn)}function ji(h){var d=Zu(h.alternate,h,es);h.memoizedProps=h.pendingProps,d===null?Ja(h):vn=d}function ci(h){var d=h,_=d.alternate;switch(d.tag){case 15:case 0:d=qu(_,d,d.pendingProps,d.type,void 0,fi);break;case 11:d=qu(_,d,d.pendingProps,d.type.render,d.ref,fi);break;case 5:ca(d);default:vd(_,d),d=vn=bh(d,es),d=Zu(_,d,es)}h.memoizedProps=h.pendingProps,d===null?Ja(h):vn=d}function os(h,d,_,R){so=bl=null,ca(d),cu=null,uu=0;var B=d.return;try{if(Wu(h,B,d,_,fi)){Yi=1,$i(h,fe(_,h.current)),vn=null;return}}catch(q){if(B!==null)throw vn=B,q;Yi=1,$i(h,fe(_,h.current)),vn=null;return}d.flags&32768?(pi||R===1?h=!0:lo||(fi&536870912)!==0?h=!1:(jo=h=!0,(R===2||R===3||R===6)&&(R=ro.current,R!==null&&R.tag===13&&(R.flags|=16384))),uf(d,h)):Ja(d)}function Ja(h){var d=h;do{if((d.flags&32768)!==0){uf(d,jo);return}h=d.return;var _=K0(d.alternate,d,es);if(_!==null){vn=_;return}if(d=d.sibling,d!==null){vn=d;return}vn=d=h}while(d!==null);Yi===0&&(Yi=5)}function uf(h,d){do{var _=Ym(h.alternate,h);if(_!==null){_.flags&=32767,vn=_;return}if(_=h.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!d&&(h=h.sibling,h!==null)){vn=h;return}vn=h=_}while(h!==null);Yi=6,vn=null}function Pl(h,d,_,R,B,q,Se,Pe,it,Dt){var Gt=ve.T,Zt=Os();try{wa(2),ve.T=null,Td(h,d,_,R,Zt,B,q,Se,Pe,it,Dt)}finally{ve.T=Gt,wa(Zt)}}function Td(h,d,_,R,B,q,Se,Pe){do zo();while(Yl!==null);if((_i&6)!==0)throw Error(r(327));var it=h.finishedWork;if(R=h.finishedLanes,it===null)return null;if(h.finishedWork=null,h.finishedLanes=0,it===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var Dt=it.lanes|it.childLanes;if(Dt|=vl,ee(h,R,Dt,q,Se,Pe),h===Ni&&(vn=Ni=null,fi=0),(it.subtreeFlags&10256)===0&&(it.flags&10256)===0||_l||(_l=!0,mu=Dt,bp=_,ul(dp,function(){return zo(),null})),_=(it.flags&15990)!==0,(it.subtreeFlags&15990)!==0||_?(_=ve.T,ve.T=null,q=Os(),wa(2),Se=_i,_i|=4,Jc(h,it),of(it,h),Bi(h.containerInfo),h.current=it,af(h,it.alternate,it),fp(),_i=Se,wa(q),ve.T=_):h.current=it,_l?(_l=!1,Yl=h,Of=R):xh(h,Dt),Dt=h.pendingLanes,Dt===0&&(pu=null),j(it.stateNode),We(h),d!==null)for(B=h.onRecoverableError,it=0;it<d.length;it++)Dt=d[it],B(Dt.value,{componentStack:Dt.stack});return(Of&3)!==0&&zo(),Dt=h.pendingLanes,(R&4194218)!==0&&(Dt&42)!==0?h===Sp?Bh++:(Bh=0,Sp=h):Bh=0,Ie(0),null}function xh(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,Zc(d)))}function zo(){if(Yl!==null){var h=Yl,d=mu;mu=0;var _=pe(Of),R=32>_?32:_;_=ve.T;var B=Os();try{if(wa(R),ve.T=null,Yl===null)var q=!1;else{R=bp,bp=null;var Se=Yl,Pe=Of;if(Yl=null,Of=0,(_i&6)!==0)throw Error(r(331));var it=_i;if(_i|=4,Sd(Se.current),lf(Se,Se.current,Pe,R),_i=it,Ie(0,!1),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(jr,Se)}catch{}q=!0}return q}finally{wa(B),ve.T=_,xh(h,d)}}return!1}function ls(h,d,_){d=fe(_,d),d=Es(h.stateNode,d,2),h=ot(h,d,2),h!==null&&(Q(h,2),We(h))}function xi(h,d,_){if(h.tag===3)ls(h,h,_);else for(;d!==null;){if(d.tag===3){ls(d,h,_);break}else if(d.tag===1){var R=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(pu===null||!pu.has(R))){h=fe(_,h),_=kt(2),R=ot(d,_,2),R!==null&&(zi(_,R,d,h),Q(R,2),We(R));break}}d=d.return}}function _c(h,d,_){var R=h.pingCache;if(R===null){R=h.pingCache=new Go;var B=new Set;R.set(d,B)}else B=R.get(d),B===void 0&&(B=new Set,R.set(d,B));B.has(_)||(va=!0,B.add(_),h=Ed.bind(null,h,d,_),d.then(h,h))}function Ed(h,d,_){var R=h.pingCache;R!==null&&R.delete(d),h.pingedLanes|=h.suspendedLanes&_,h.warmLanes&=~_,Ni===h&&(fi&_)===_&&(Yi===4||Yi===3&&(fi&62914560)===fi&&300>Io()-hs?(_i&2)===0&&da(h,0):Fd|=_,Xl===fi&&(Xl=0)),We(h)}function Bl(h,d){d===0&&(d=V()),h=Ze(h,d),h!==null&&(Q(h,d),We(h))}function cl(h){var d=h.memoizedState,_=0;d!==null&&(_=d.retryLane),Bl(h,_)}function Po(h,d){var _=0;switch(h.tag){case 13:var R=h.stateNode,B=h.memoizedState;B!==null&&(_=B.retryLane);break;case 19:R=h.stateNode;break;case 22:R=h.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(d),Bl(h,_)}function ul(h,d){return zd(h,d)}function wd(h,d,_,R){this.tag=h,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eu(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Cs(h,d){var _=h.alternate;return _===null?(_=t(h.tag,d,h.key,h.mode),_.elementType=h.elementType,_.type=h.type,_.stateNode=h.stateNode,_.alternate=h,h.alternate=_):(_.pendingProps=d,_.type=h.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=h.flags&31457280,_.childLanes=h.childLanes,_.lanes=h.lanes,_.child=h.child,_.memoizedProps=h.memoizedProps,_.memoizedState=h.memoizedState,_.updateQueue=h.updateQueue,d=h.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=h.sibling,_.index=h.index,_.ref=h.ref,_.refCleanup=h.refCleanup,_}function bh(h,d){h.flags&=31457282;var _=h.alternate;return _===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=_.childLanes,h.lanes=_.lanes,h.child=_.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=_.memoizedProps,h.memoizedState=_.memoizedState,h.updateQueue=_.updateQueue,h.type=_.type,d=_.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Bo(h,d,_,R,B,q){var Se=0;if(R=h,typeof h=="function")eu(h)&&(Se=1);else if(typeof h=="string")Se=eo&&Wi?Nd(h,_,ga.current)?26:Il(h)?27:5:eo?Nd(h,_,ga.current)?26:5:Wi&&Il(h)?27:5;else e:switch(h){case dl:return mr(_.children,B,q,d);case wc:Se=8,B|=24;break;case Cd:return h=t(12,_,d,B|2),h.elementType=Cd,h.lanes=q,h;case b:return h=t(13,_,d,B),h.elementType=b,h.lanes=q,h;case y:return h=t(19,_,d,B),h.elementType=y,h.lanes=q,h;case k:return Mc(_,B,q,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case _h:case $s:Se=10;break e;case $0:Se=9;break e;case pf:Se=11;break e;case M:Se=14;break e;case D:Se=16,R=null;break e}Se=29,_=Error(r(130,h===null?"null":typeof h,"")),R=null}return d=t(Se,_,d,B),d.elementType=h,d.type=R,d.lanes=q,d}function mr(h,d,_,R){return h=t(7,h,R,d),h.lanes=_,h}function Mc(h,d,_,R){h=t(22,h,R,d),h.elementType=k,h.lanes=_;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var q=B._current;if(q===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var Se=Ze(q,2);Se!==null&&(B._pendingVisibility|=2,Hr(Se,q,2))}},attach:function(){var q=B._current;if(q===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var Se=Ze(q,2);Se!==null&&(B._pendingVisibility&=-3,Hr(Se,q,2))}}};return h.stateNode=B,h}function ff(h,d,_){return h=t(6,h,null,d),h.lanes=_,h}function hf(h,d,_){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=_,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Q0(h,d,_,R,B,q,Se,Pe){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bi,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=R,this.onUncaughtError=B,this.onCaughtError=q,this.onRecoverableError=Se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Pe,this.incompleteTransitions=new Map}function Ad(h,d,_,R,B,q,Se,Pe,it,Dt,Gt,Zt){return h=new Q0(h,d,_,Se,Pe,it,Dt,Zt),d=1,q===!0&&(d|=24),q=t(3,null,null,d),h.current=q,q.stateNode=h,d=nl(),d.refCount++,h.pooledCache=d,d.refCount++,q.memoizedState={element:R,isDehydrated:_,cache:d},vt(q),h}function Ur(h){return h?(h=su,h):su}function Sh(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=S(d),h=h!==null?T(h):null,h===null?null:Gn(h.stateNode)}function Tc(h,d,_,R,B,q){B=Ur(B),R.context===null?R.context=B:R.pendingContext=B,R=Ye(d),R.payload={element:_},q=q===void 0?null:q,q!==null&&(R.callback=q),_=ot(h,R,d),_!==null&&(Hr(_,h,d),Ce(_,h,d))}function fl(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var _=h.retryLane;h.retryLane=_!==0&&_<d?_:d}}function Ec(h,d){fl(h,d),(h=h.alternate)&&fl(h,d)}var Un={},hl=cd(),Rs=ote(),tu=Object.assign,J0=Symbol.for("react.element"),df=Symbol.for("react.transitional.element"),Ds=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),Cd=Symbol.for("react.profiler"),_h=Symbol.for("react.provider"),$0=Symbol.for("react.consumer"),$s=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator,de=Symbol.for("react.client.reference"),ve=hl.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe,qe,et=!1,dt=Array.isArray,Bt=e.rendererVersion,Kt=e.rendererPackageName,tn=e.extraDevToolsConfig,Gn=e.getPublicInstance,Xn=e.getRootHostContext,Yn=e.getChildHostContext,ui=e.prepareForCommit,Bi=e.resetAfterCommit,pa=e.createInstance,gr=e.appendInitialChild,Pr=e.finalizeInitialChildren,_n=e.shouldSetTextContent,an=e.createTextInstance,yn=e.scheduleTimeout,Di=e.cancelTimeout,bi=e.noTimeout,ri=e.isPrimaryRenderer;e.warnsIfNotActing;var In=e.supportsMutation,yr=e.supportsPersistence,ma=e.supportsHydration,Rd=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Er=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var wa=e.setCurrentUpdatePriority,Os=e.getCurrentUpdatePriority,Fy=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Vy=e.shouldAttemptEagerTransition,j4=e.detachDeletedInstance;e.requestPostPaintCallback;var Km=e.maySuspendCommit,ep=e.preloadInstance,Zm=e.startSuspendingCommit,cs=e.suspendInstance,ia=e.waitForCommitToBeReady,nu=e.NotPendingTransition,pl=e.HostTransitionContext,tp=e.resetFormInstance;e.bindToConsole;var Qm=e.supportsMicrotasks,Ac=e.scheduleMicrotask,iu=e.supportsTestSelectors,Jm=e.findFiberRoot,$m=e.getBoundingRect,Hy=e.getTextContent,Mh=e.isHiddenSubtree,Gy=e.matchAccessibilityRole,jy=e.setFocusIfFocusable,Wy=e.setupIntersectionObserver,qy=e.appendChild,e1=e.appendChildToContainer,Xy=e.commitTextUpdate,W4=e.commitMount,Yy=e.commitUpdate,Ky=e.insertBefore,Zy=e.insertInContainerBefore,t1=e.removeChild,Qy=e.removeChildFromContainer,n1=e.resetTextContent,Jy=e.hideInstance,$y=e.hideTextInstance,ev=e.unhideInstance,q4=e.unhideTextInstance,tv=e.clearContainer,Th=e.cloneInstance,Dd=e.createContainerChildSet,i1=e.appendChildToContainerChildSet,np=e.finalizeContainerChildren,Eh=e.replaceContainerChildren,r1=e.cloneHiddenInstance,a1=e.cloneHiddenTextInstance,ip=e.isSuspenseInstancePending,rp=e.isSuspenseInstanceFallback,nv=e.getSuspenseInstanceFallbackErrorDetails,iv=e.registerSuspenseInstanceRetry,s1=e.canHydrateFormStateMarker,rv=e.isFormStateMarkerMatching,o1=e.getNextHydratableSibling,ap=e.getFirstHydratableChild,av=e.getFirstHydratableChildWithinContainer,sv=e.getFirstHydratableChildWithinSuspenseInstance,X4=e.canHydrateInstance,l1=e.canHydrateTextInstance,ov=e.canHydrateSuspenseInstance,lv=e.hydrateInstance,c1=e.hydrateTextInstance,cv=e.hydrateSuspenseInstance,uv=e.getNextHydratableInstanceAfterSuspenseInstance,Y4=e.commitHydratedContainer,K4=e.commitHydratedSuspenseInstance,fv=e.clearSuspenseBoundary,Od=e.clearSuspenseBoundaryFromContainer,sp=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var op=e.validateHydratableInstance,hv=e.validateHydratableTextInstance,eo=e.supportsResources,Nd=e.isHostHoistableType,lp=e.getHoistableRoot,u1=e.getResource,dv=e.acquireResource,mf=e.releaseResource,Ud=e.hydrateHoistable,Ld=e.mountHoistable,wh=e.unmountHoistable,cp=e.createHoistableInstance,pv=e.prepareToCommitHoistables,mv=e.mayResourceSuspendCommit,gf=e.preloadResource,gv=e.suspendResource,Wi=e.supportsSingletons,ml=e.resolveSingletonInstance,ru=e.clearSingleton,yv=e.acquireSingletonInstance,au=e.releaseSingletonInstance,Il=e.isHostSingletonType,Gr=[],Cc=-1,su={},us=Math.clz32?Math.clz32:O,vv=Math.log,xv=Math.LN2,kl=128,yf=4194304,zd=Rs.unstable_scheduleCallback,up=Rs.unstable_cancelCallback,bv=Rs.unstable_shouldYield,fp=Rs.unstable_requestPaint,Io=Rs.unstable_now,hp=Rs.unstable_ImmediatePriority,Sv=Rs.unstable_UserBlockingPriority,dp=Rs.unstable_NormalPriority,Z4=Rs.unstable_IdlePriority,_v=Rs.log,Aa=Rs.unstable_setDisableYieldValue,jr=null,Ns=null,Us=typeof Object.is=="function"?Object.is:le,f1=new WeakMap,vf=[],xf=0,bf=null,Ah=0,to=[],no=0,ou=null,gl=1,yl="",ga=w(null),Ch=w(null),Fl=w(null),Sf=w(null),Ha=null,Ga=null,pi=!1,ko=null,Ca=!1,Pd=Error(r(519)),Fo=[],_f=0,vl=0,Bd=null,Rc=null,Mf=!1,nr=!1,h1=!1,Rh=0,Dh=null,Tf=0,io=0,Ef=null,Dc=!1,wf=!1,Vl=Object.prototype.hasOwnProperty,Oh=Error(r(460)),Id=Error(r(474)),kd={then:function(){}},lu=null,cu=null,uu=0,fu=Pn(!0),Hl=Pn(!1),ir=w(null),Nh=w(0),ro=w(null),qi=null,ya=w(0),Oc=0,Zn=null,gn=null,Si=null,Vo=!1,Af=!1,hu=!1,pp=0,Cf=0,Ra=null,xl=0,mp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Br={readContext:fa,use:He,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we};Br.useCacheRefresh=we,Br.useMemoCache=we,Br.useHostTransitionStatus=we,Br.useFormState=we,Br.useActionState=we,Br.useOptimistic=we;var du={readContext:fa,use:He,useCallback:function(h,d){return G().memoizedState=[h,d===void 0?null:d],h},useContext:fa,useEffect:st,useImperativeHandle:function(h,d,_){_=_!=null?_.concat([h]):null,$o(4194308,4,qs.bind(null,d,h),_)},useLayoutEffect:function(h,d){return $o(4194308,4,h,d)},useInsertionEffect:function(h,d){$o(4,2,h,d)},useMemo:function(h,d){var _=G();d=d===void 0?null:d;var R=h();if(hu){ae(!0);try{h()}finally{ae(!1)}}return _.memoizedState=[R,d],R},useReducer:function(h,d,_){var R=G();if(_!==void 0){var B=_(d);if(hu){ae(!0);try{_(d)}finally{ae(!1)}}}else B=d;return R.memoizedState=R.baseState=B,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:B},R.queue=h,h=h.dispatch=pc.bind(null,Zn,h),[R.memoizedState,h]},useRef:function(h){var d=G();return h={current:h},d.memoizedState=h},useState:function(h){h=Bn(h);var d=h.queue,_=Ji.bind(null,Zn,d);return d.dispatch=_,[h.memoizedState,_]},useDebugValue:Pa,useDeferredValue:function(h,d){var _=G();return Wt(_,h,d)},useTransition:function(){var h=Bn(!1);return h=Ms.bind(null,Zn,h.queue,!0,!1),G().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,_){var R=Zn,B=G();if(pi){if(_===void 0)throw Error(r(407));_=_()}else{if(_=d(),Ni===null)throw Error(r(349));(fi&60)!==0||sn(R,d,_)}B.memoizedState=_;var q={value:_,getSnapshot:d};return B.queue=q,st(wn.bind(null,R,q,h),[h]),R.flags|=2048,dr(9,nn.bind(null,R,q,_,d),{destroy:void 0},null),_},useId:function(){var h=G(),d=Ni.identifierPrefix;if(pi){var _=yl,R=gl;_=(R&~(1<<32-us(R)-1)).toString(32)+_,d=":"+d+"R"+_,_=pp++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=xl++,d=":"+d+"r"+_.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return G().memoizedState=dc.bind(null,Zn)}};du.useMemoCache=Ke,du.useHostTransitionStatus=ua,du.useFormState=yi,du.useActionState=yi,du.useOptimistic=function(h){var d=G();d.memoizedState=d.baseState=h;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=_,d=_o.bind(null,Zn,!0,_),_.dispatch=d,[h,d]};var fs={readContext:fa,use:He,useCallback:rs,useContext:fa,useEffect:vi,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Jr,useMemo:_s,useReducer:Ft,useRef:za,useState:function(){return Ft(Pt)},useDebugValue:Pa,useDeferredValue:function(h,d){var _=Ve();return as(_,gn.memoizedState,h,d)},useTransition:function(){var h=Ft(Pt)[0],d=Ve().memoizedState;return[typeof h=="boolean"?h:me(h),d]},useSyncExternalStore:cn,useId:el};fs.useCacheRefresh=Cr,fs.useMemoCache=Ke,fs.useHostTransitionStatus=ua,fs.useFormState=Mr,fs.useActionState=Mr,fs.useOptimistic=function(h,d){var _=Ve();return qn(_,gn,h,d)};var ao={readContext:fa,use:He,useCallback:rs,useContext:fa,useEffect:vi,useImperativeHandle:Xs,useInsertionEffect:Ws,useLayoutEffect:Jr,useMemo:_s,useReducer:Xt,useRef:za,useState:function(){return Xt(Pt)},useDebugValue:Pa,useDeferredValue:function(h,d){var _=Ve();return gn===null?Wt(_,h,d):as(_,gn.memoizedState,h,d)},useTransition:function(){var h=Xt(Pt)[0],d=Ve().memoizedState;return[typeof h=="boolean"?h:me(h),d]},useSyncExternalStore:cn,useId:el};ao.useCacheRefresh=Cr,ao.useMemoCache=Ke,ao.useHostTransitionStatus=ua,ao.useFormState=hr,ao.useActionState=hr,ao.useOptimistic=function(h,d){var _=Ve();return gn!==null?qn(_,gn,h,d):(_.baseState=h,[h,_.queue.dispatch])};var Gl={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,d,_){h=h._reactInternals;var R=Tr(),B=Ye(R);B.payload=d,_!=null&&(B.callback=_),d=ot(h,B,R),d!==null&&(Hr(d,h,R),Ce(d,h,R))},enqueueReplaceState:function(h,d,_){h=h._reactInternals;var R=Tr(),B=Ye(R);B.tag=1,B.payload=d,_!=null&&(B.callback=_),d=ot(h,B,R),d!==null&&(Hr(d,h,R),Ce(d,h,R))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var _=Tr(),R=Ye(_);R.tag=2,d!=null&&(R.callback=d),d=ot(h,R,_),d!==null&&(Hr(d,h,_),Ce(d,h,_))}},gp=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},yp=Error(r(461)),Xi=!1,vp={dehydrated:null,treeContext:null,retryLane:0},Nc=w(null),bl=null,so=null,Uh=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(_,R){h.push(R)}};this.abort=function(){d.aborted=!0,h.forEach(function(_){return _()})}},Mv=Rs.unstable_scheduleCallback,Tv=Rs.unstable_NormalPriority,rr={$$typeof:$s,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},d1=ve.S;ve.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ne(h,d),d1!==null&&d1(h,d)};var jl=w(null),Wl=!1,Ir=!1,p1=!1,Oi=typeof WeakSet=="function"?WeakSet:Set,kn=null,ai=!1,mn=null,Kn=!1,Lr=null,oo=8192,Lh={getCacheForType:function(h){var d=fa(rr),_=d.data.get(h);return _===void 0&&(_=h(),d.data.set(h,_)),_}},zh=0,Ho=1,vr=2,Sl=3,ql=4;if(typeof Symbol=="function"&&Symbol.for){var Rf=Symbol.for;zh=Rf("selector.component"),Ho=Rf("selector.has_pseudo_class"),vr=Rf("selector.role"),Sl=Rf("selector.test_id"),ql=Rf("selector.text")}var Go=typeof WeakMap=="function"?WeakMap:Map,_i=0,Ni=null,vn=null,fi=0,Vi=0,$a=null,jo=!1,lo=!1,va=!1,es=0,Yi=0,co=0,Uc=0,Fd=0,uo=0,Xl=0,Df=null,kr=null,xp=!1,hs=0,Ph=1/0,Vd=null,pu=null,_l=!1,Yl=null,Of=0,mu=0,bp=null,Bh=0,Sp=null;return Un.attemptContinuousHydration=function(h){if(h.tag===13){var d=Ze(h,67108864);d!==null&&Hr(d,h,67108864),Ec(h,67108864)}},Un.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Tr(),_=Ze(h,d);_!==null&&Hr(_,h,d),Ec(h,d)}},Un.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=N(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var _=1<<31-us(d);h.entanglements[1]|=_,d&=~_}We(h),(_i&6)===0&&(Ph=Io()+500,Ie(0))}}break;case 13:d=Ze(h,2),d!==null&&Hr(d,h,2),No(),Ec(h,2)}},Un.batchedUpdates=function(h,d){return h(d)},Un.createComponentSelector=function(h){return{$$typeof:zh,value:h}},Un.createContainer=function(h,d,_,R,B,q,Se,Pe,it,Dt){return Ad(h,d,!1,null,_,R,q,Se,Pe,it,Dt,null)},Un.createHasPseudoClassSelector=function(h){return{$$typeof:Ho,value:h}},Un.createHydrationContainer=function(h,d,_,R,B,q,Se,Pe,it,Dt,Gt,Zt,Jt){return h=Ad(_,R,!0,h,B,q,Pe,it,Dt,Gt,Zt,Jt),h.context=Ur(null),_=h.current,R=Tr(),B=Ye(R),B.callback=d??null,ot(_,B,R),h.current.lanes=R,Q(h,R),We(h),h},Un.createPortal=function(h,d,_){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:R==null?null:""+R,children:h,containerInfo:d,implementation:_}},Un.createRoleSelector=function(h){return{$$typeof:vr,value:h}},Un.createTestNameSelector=function(h){return{$$typeof:Sl,value:h}},Un.createTextSelector=function(h){return{$$typeof:ql,value:h}},Un.defaultOnCaughtError=function(h){console.error(h)},Un.defaultOnRecoverableError=function(h){gp(h)},Un.defaultOnUncaughtError=function(h){gp(h)},Un.deferredUpdates=function(h){var d=ve.T,_=Os();try{return wa(32),ve.T=null,h()}finally{wa(_),ve.T=d}},Un.discreteUpdates=function(h,d,_,R,B){var q=ve.T,Se=Os();try{return wa(2),ve.T=null,h(d,_,R,B)}finally{wa(Se),ve.T=q,_i===0&&(Ph=Io()+500)}},Un.findAllNodes=vc,Un.findBoundingRects=function(h,d){if(!iu)throw Error(r(363));d=vc(h,d),h=[];for(var _=0;_<d.length;_++)h.push($m(d[_]));for(d=h.length-1;0<d;d--){_=h[d];for(var R=_.x,B=R+_.width,q=_.y,Se=q+_.height,Pe=d-1;0<=Pe;Pe--)if(d!==Pe){var it=h[Pe],Dt=it.x,Gt=Dt+it.width,Zt=it.y,Jt=Zt+it.height;if(R>=Dt&&q>=Zt&&B<=Gt&&Se<=Jt){h.splice(d,1);break}else if(R!==Dt||_.width!==it.width||Jt<q||Zt>Se){if(!(q!==Zt||_.height!==it.height||Gt<R||Dt>B)){Dt>R&&(it.width+=Dt-R,it.x=R),Gt<B&&(it.width=B-Dt),h.splice(d,1);break}}else{Zt>q&&(it.height+=Zt-q,it.y=q),Jt<Se&&(it.height=Se-Zt),h.splice(d,1);break}}}return h},Un.findHostInstance=Sh,Un.findHostInstanceWithNoPortals=function(h){return h=S(h),h=h!==null?A(h):null,h===null?null:Gn(h.stateNode)},Un.findHostInstanceWithWarning=function(h){return Sh(h)},Un.flushPassiveEffects=zo,Un.flushSyncFromReconciler=function(h){var d=_i;_i|=1;var _=ve.T,R=Os();try{if(wa(2),ve.T=null,h)return h()}finally{wa(R),ve.T=_,_i=d,(_i&6)===0&&Ie(0)}},Un.flushSyncWork=No,Un.focusWithin=function(h,d){if(!iu)throw Error(r(363));for(h=yc(h),d=Ta(h,d),d=Array.from(d),h=0;h<d.length;){var _=d[h++],R=_.tag;if(!Mh(_)){if((R===5||R===26||R===27)&&jy(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},Un.getFindAllNodesFailureDescription=function(h,d){if(!iu)throw Error(r(363));var _=0,R=[];h=[yc(h),0];for(var B=0;B<h.length;){var q=h[B++],Se=q.tag,Pe=h[B++],it=d[Pe];if((Se!==5&&Se!==26&&Se!==27||!Mh(q))&&(sl(q,it)&&(R.push(gh(it)),Pe++,Pe>_&&(_=Pe)),Pe<d.length))for(q=q.child;q!==null;)h.push(q,Pe),q=q.sibling}if(_<d.length){for(h=[];_<d.length;_++)h.push(gh(d[_]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},Un.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Gn(h.child.stateNode);default:return h.child.stateNode}},Un.injectIntoDevTools=function(){var h={bundleType:0,version:Bt,rendererPackageName:Kt,currentDispatcherRef:ve,findFiberByHostInstance:Rd,reconcilerVersion:"19.0.0"};if(tn!==null&&(h.rendererConfig=tn),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{jr=d.inject(h),Ns=d}catch{}h=!!d.checkDCE}}return h},Un.isAlreadyRendering=function(){return!1},Un.observeVisibleRects=function(h,d,_,R){if(!iu)throw Error(r(363));h=vc(h,d);var B=Wy(h,_,R).disconnect;return{disconnect:function(){B()}}},Un.shouldError=function(){return null},Un.shouldSuspend=function(){return!1},Un.startHostTransition=function(h,d,_,R){if(h.tag!==5)throw Error(r(476));var B=si(h).queue;Ms(h,B,d,nu,_===null?i:function(){var q=si(h).next.queue;return qa(h,q,{},Tr()),_(R)})},Un.updateContainer=function(h,d,_,R){var B=d.current,q=Tr();return Tc(B,q,h,d,_,R),q},Un.updateContainerSync=function(h,d,_,R){return d.tag===0&&zo(),Tc(d.current,2,h,d,_,R),2},Un},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(i_)),i_.exports}var o8;function cte(){return o8||(o8=1,n_.exports=lte()),n_.exports}var ute=cte();const fte=uy(ute);var s_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l8;function hte(){return l8||(l8=1,function(n){function e(j,ae){var le=j.length;j.push(ae);e:for(;0<le;){var fe=le-1>>>1,J=j[fe];if(0<r(J,ae))j[fe]=ae,j[le]=J,le=fe;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var ae=j[0],le=j.pop();if(le!==ae){j[0]=le;e:for(var fe=0,J=j.length,K=J>>>1;fe<K;){var xe=2*(fe+1)-1,Me=j[xe],he=xe+1,Te=j[he];if(0>r(Me,le))he<J&&0>r(Te,Me)?(j[fe]=Te,j[he]=le,fe=he):(j[fe]=Me,j[xe]=le,fe=xe);else if(he<J&&0>r(Te,le))j[fe]=Te,j[he]=le,fe=he;else break e}}return ae}function r(j,ae){var le=j.sortIndex-ae.sortIndex;return le!==0?le:j.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,g=null,v=3,S=!1,T=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var ae=t(f);ae!==null;){if(ae.callback===null)i(f);else if(ae.startTime<=j)i(f),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(f)}}function N(j){if(A=!1,O(j),!T)if(t(u)!==null)T=!0,oe();else{var ae=t(f);ae!==null&&pe(N,ae.startTime-j)}}var z=!1,I=-1,H=5,W=-1;function V(){return!(n.unstable_now()-W<H)}function U(){if(z){var j=n.unstable_now();W=j;var ae=!0;try{e:{T=!1,A&&(A=!1,E(I),I=-1),S=!0;var le=v;try{t:{for(O(j),g=t(u);g!==null&&!(g.expirationTime>j&&V());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var J=fe(g.expirationTime<=j);if(j=n.unstable_now(),typeof J=="function"){g.callback=J,O(j),ae=!0;break t}g===t(u)&&i(u),O(j)}else i(u);g=t(u)}if(g!==null)ae=!0;else{var K=t(f);K!==null&&pe(N,K.startTime-j),ae=!1}}break e}finally{g=null,v=le,S=!1}ae=void 0}}finally{ae?Q():z=!1}}}var Q;if(typeof L=="function")Q=function(){L(U)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=U,Q=function(){te.postMessage(null)}}else Q=function(){w(U,0)};function oe(){z||(z=!0,Q())}function pe(j,ae){I=w(function(){j(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){T||S||(T=!0,oe())},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var le=v;v=ae;try{return j()}finally{v=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,ae){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=v;v=j;try{return ae()}finally{v=le}},n.unstable_scheduleCallback=function(j,ae,le){var fe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,j={id:p++,callback:ae,priorityLevel:j,startTime:le,expirationTime:J,sortIndex:-1},le>fe?(j.sortIndex=le,e(f,j),t(u)===null&&j===t(f)&&(A?(E(I),I=-1):A=!0,pe(N,le-fe))):(j.sortIndex=J,e(u,j),T||S||(T=!0,oe())),j},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(j){var ae=v;return function(){var le=v;v=ae;try{return j.apply(this,arguments)}finally{v=le}}}}(o_)),o_}var c8;function dte(){return c8||(c8=1,s_.exports=hte()),s_.exports}var u8=dte();const pte=n=>typeof n=="object"&&typeof n.then=="function",K2=[];function mte(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function gte(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of K2)if(mte(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=K2.indexOf(r);a!==-1&&K2.splice(a,1)},promise:(pte(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(K2.push(r),!t)throw r.promise}const yte=(n,e,t)=>gte(n,e,!1,t);function U6(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=U6(i,e,t);if(r)return r;i=e?null:i.sibling}}function WO(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const L6=WO(se.createContext(null));class qO extends se.Component{render(){return se.createElement(L6.Provider,{value:this._reactInternals},this.props.children)}}function XO(){const n=se.useContext(L6);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=se.useId();return se.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=U6(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const vte=Symbol.for("react.context"),xte=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===vte;function bte(){const n=XO(),[e]=se.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;xte(i)&&i!==L6&&!e.has(i)&&e.set(i,se.use(WO(i))),t=t.return}return e}function Ste(){const n=bte();return se.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>se.createElement(e,null,se.createElement(t.Provider,{...i,value:n.get(t)})),e=>se.createElement(qO,{...e})),[n])}function YO(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const KO=n=>n&&n.isOrthographicCamera,_te=n=>n&&n.hasOwnProperty("current"),Mte=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Iy=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?se.useLayoutEffect:se.useEffect;function ZO(n){const e=se.useRef(n);return Iy(()=>void(e.current=n),[n]),e}function Tte(){const n=XO(),e=Ste();return se.useMemo(()=>({children:t})=>{const r=!!U6(n,!0,a=>a.type===se.StrictMode)?se.StrictMode:se.Fragment;return Z.jsx(r,{children:Z.jsx(e,{children:t})})},[n,e])}function Ete({set:n}){return Iy(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const wte=(n=>(n=class extends se.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function QO(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Jp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const qr={obj:n=>n===Object(n)&&!qr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(qr.str(n)||qr.num(n)||qr.boo(n))return n===e;const a=qr.obj(n);if(a&&i==="reference")return n===e;const o=qr.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(l in r?e:n)if(!qr.equ(n[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:n)if(n[l]!==e[l])return!1;if(qr.und(l)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Ate(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const JO=["children","key","ref"];function Cte(n){const e={};for(const t in n)JO.includes(t)||(e[t]=n[t]);return e}function Cb(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Cte(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function cy(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const f8=/-\d+$/;function Rb(n,e){if(qr.str(e.props.attach)){if(f8.test(e.props.attach)){const r=e.props.attach.replace(f8,""),{root:a,key:o}=cy(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=cy(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else qr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Db(n,e){if(qr.str(e.props.attach)){const{root:t,key:i}=cy(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const C5=[...JO,"args","dispose","attach","object","onUpdate","dispose"],h8=new Map;function Rte(n){let e=h8.get(n.constructor);try{e||(e=new n.constructor,h8.set(n.constructor,e))}catch{}return e}function Dte(n,e){const t={};for(const i in e)if(!C5.includes(i)&&!qr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(C5.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=cy(n.object,i);if(r.constructor&&r.constructor.length===0){const o=Rte(r);qr.und(o)||(t[a]=o[a])}else t[a]=0}return t}const Ote=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Nte=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ed(n,e){var t;const i=n.__r3f,r=i&&YO(i).getState(),a=i==null?void 0:i.eventCount;for(const l in e){let u=e[l];if(C5.includes(l))continue;if(i&&Nte.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:f,key:p,target:g}=cy(n,l);if(g instanceof Nm&&u instanceof Nm)g.mask=u.mask;else if(g instanceof Qt&&Mte(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var o;f[p]=u,r&&!r.linear&&Ote.includes(p)&&(o=f[p])!=null&&o.isTexture&&f[p].format===Vs&&f[p].type===oc&&(f[p].colorSpace=ks)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const l=i.object,u=r.internal.interaction.indexOf(l);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Wm(i),n}function Wm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Ute(n,e){n.manual||(KO(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Xo=n=>n==null?void 0:n.isObject3D;function Z2(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function $O(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Lte(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{$O(t.capturedMap,e,i,r)})}function zte(n){function e(u){const{internal:f}=n.getState(),p=u.offsetX-f.initialClick[0],g=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(u,f){const p=n.getState(),g=new Set,v=[],S=f?f(p.internal.interaction):p.internal.interaction;for(let E=0;E<S.length;E++){const L=Jp(S[E]);L&&(L.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(u,p);function T(E){const L=Jp(E);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var O;L.events.compute==null||L.events.compute(u,L,(O=L.previousRoot)==null?void 0:O.getState()),L.raycaster.camera===void 0&&(L.raycaster.camera=null)}return L.raycaster.camera?L.raycaster.intersectObject(E,!0):[]}let A=S.flatMap(T).sort((E,L)=>{const O=Jp(E.object),N=Jp(L.object);return!O||!N?E.distance-L.distance:N.events.priority-O.events.priority||E.distance-L.distance}).filter(E=>{const L=Z2(E);return g.has(L)?!1:(g.add(L),!0)});p.events.filter&&(A=p.events.filter(A,p));for(const E of A){let L=E.object;for(;L;){var w;(w=L.__r3f)!=null&&w.eventCount&&v.push({...E,eventObject:L}),L=L.parent}}if("pointerId"in u&&p.internal.capturedMap.has(u.pointerId))for(let E of p.internal.capturedMap.get(u.pointerId).values())g.has(Z2(E.intersection))||v.push(E.intersection);return v}function r(u,f,p,g){if(u.length){const v={stopped:!1};for(const S of u){let T=Jp(S.object);if(T||S.object.traverseAncestors(A=>{const w=Jp(A);if(w)return T=w,!1}),T){const{raycaster:A,pointer:w,camera:E,internal:L}=T,O=new _e(w.x,w.y,0).unproject(E),N=V=>{var U,Q;return(U=(Q=L.capturedMap.get(V))==null?void 0:Q.has(S.eventObject))!=null?U:!1},z=V=>{const U={intersection:S,target:f.target};L.capturedMap.has(V)?L.capturedMap.get(V).set(S.eventObject,U):L.capturedMap.set(V,new Map([[S.eventObject,U]])),f.target.setPointerCapture(V)},I=V=>{const U=L.capturedMap.get(V);U&&$O(L.capturedMap,S.eventObject,U,V)};let H={};for(let V in f){let U=f[V];typeof U!="function"&&(H[V]=U)}let W={...S,...H,pointer:w,intersections:u,stopped:v.stopped,delta:p,unprojectedPoint:O,ray:A.ray,camera:E,stopPropagation(){const V="pointerId"in f&&L.capturedMap.get(f.pointerId);if((!V||V.has(S.eventObject))&&(W.stopped=v.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(U=>U.eventObject===S.eventObject))){const U=u.slice(0,u.indexOf(S));a([...U,S])}},target:{hasPointerCapture:N,setPointerCapture:z,releasePointerCapture:I},currentTarget:{hasPointerCapture:N,setPointerCapture:z,releasePointerCapture:I},nativeEvent:f};if(g(W),v.stopped===!0)break}}}return u}function a(u){const{internal:f}=n.getState();for(const p of f.hovered.values())if(!u.length||!u.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(f.hovered.delete(Z2(p)),v!=null&&v.eventCount){const S=v.handlers,T={...p,intersections:u};S.onPointerOut==null||S.onPointerOut(T),S.onPointerLeave==null||S.onPointerLeave(T)}}}function o(u,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:p}=n.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=n.getState();v.lastEvent.current=p;const S=u==="onPointerMove",T=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",w=i(p,S?t:void 0),E=T?e(p):0;u==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=w.map(O=>O.eventObject)),T&&!w.length&&E<=2&&(o(p,v.interaction),g&&g(p)),S&&a(w);function L(O){const N=O.eventObject,z=N.__r3f;if(!(z!=null&&z.eventCount))return;const I=z.handlers;if(S){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const H=Z2(O),W=v.hovered.get(H);W?W.stopped&&O.stopPropagation():(v.hovered.set(H,O),I.onPointerOver==null||I.onPointerOver(O),I.onPointerEnter==null||I.onPointerEnter(O))}I.onPointerMove==null||I.onPointerMove(O)}else{const H=I[u];H?(!T||v.initialHits.includes(N))&&(o(p,v.interaction.filter(W=>!v.initialHits.includes(W))),H(O)):T&&v.initialHits.includes(N)&&o(p,v.interaction.filter(W=>!v.initialHits.includes(W)))}}r(w,p,E,L)}}return{handlePointer:l}}const d8=n=>!!(n!=null&&n.render),eN=se.createContext(null),Pte=(n,e)=>{const t=ate((l,u)=>{const f=new _e,p=new _e,g=new _e;function v(E=u().camera,L=p,O=u().size){const{width:N,height:z,top:I,left:H}=O,W=N/z;L.isVector3?g.copy(L):g.set(...L);const V=E.getWorldPosition(f).distanceTo(g);if(KO(E))return{width:N/E.zoom,height:z/E.zoom,top:I,left:H,factor:1,distance:V,aspect:W};{const U=E.fov*Math.PI/180,Q=2*Math.tan(U/2)*V,ee=Q*(N/z);return{width:ee,height:Q,top:I,left:H,factor:N/ee,distance:V,aspect:W}}}let S;const T=E=>l(L=>({performance:{...L.performance,current:E}})),A=new Ct;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>n(u(),E),advance:(E,L)=>e(E,L,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new A6,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=u();S&&clearTimeout(S),E.performance.current!==E.performance.min&&T(E.performance.min),S=setTimeout(()=>T(u().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:E=>l(L=>({...L,events:{...L.events,...E}})),setSize:(E,L,O=0,N=0)=>{const z=u().camera,I={width:E,height:L,top:O,left:N};l(H=>({size:I,viewport:{...H.viewport,...v(z,p,I)}}))},setDpr:E=>l(L=>{const O=QO(E);return{viewport:{...L.viewport,dpr:O,initialDpr:L.viewport.initialDpr||O}}}),setFrameloop:(E="always")=>{const L=u().clock;L.stop(),L.elapsedTime=0,E!=="never"&&(L.start(),L.elapsedTime=0),l(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:se.createRef(),active:!1,frames:0,priority:0,subscribe:(E,L,O)=>{const N=u().internal;return N.priority=N.priority+(L>0?1:0),N.subscribers.push({ref:E,priority:L,store:O}),N.subscribers=N.subscribers.sort((z,I)=>z.priority-I.priority),()=>{const z=u().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(L>0?1:0),z.subscribers=z.subscribers.filter(I=>I.ref!==E))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:l,size:u,viewport:f,gl:p,set:g}=t.getState();if(u.width!==r.width||u.height!==r.height||f.dpr!==a){r=u,a=f.dpr,Ute(l,u),f.dpr>0&&p.setPixelRatio(f.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(u.width,u.height,v)}l!==o&&(o=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>n(l)),t};function tN(){const n=se.useContext(eN);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Vc(n=t=>t,e){return tN()(n,e)}function nN(n,e=0){const t=tN(),i=t.getState().internal.subscribe,r=ZO(n);return Iy(()=>i(r,e,t),[e,i,t]),null}function Bte(n){const e=fte(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:se.version}),e}const iN=0,zm={},Ite=/^three(?=[A-Z])/,H4=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let kte=0;const Fte=n=>typeof n=="function";function Vte(n){if(Fte(n)){const e=`${kte++}`;return zm[e]=n,e}else Object.assign(zm,n)}function rN(n,e){const t=H4(n),i=zm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Hte(n,e,t){var i;return n=H4(n)in zm?n:n.replace(Ite,""),rN(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,Cb(e.object,t,n,e)}function Gte(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Db(n.parent,n):Xo(n.object)&&(n.object.visible=!1),n.isHidden=!0,Wm(n)}}function aN(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Rb(n.parent,n):Xo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Wm(n)}}function z6(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const o=zm[H4(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(ed(e.object,e.props),e.props.attach)Rb(n,e);else if(Xo(e.object)&&Xo(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const u=l<o?o-1:o;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)z6(e,o);Wm(e)}}function l_(n,e){e&&(e.parent=n,n.children.push(e),z6(n,e))}function p8(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),z6(n,e,t)}function sN(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():u8.unstable_scheduleCallback(u8.unstable_IdlePriority,e)}}function R5(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?Db(n,e):Xo(e.object)&&Xo(n.object)&&(n.object.remove(e.object),Lte(YO(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];R5(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&sN(e.object),t===void 0&&Wm(e)}function jte(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const vx=[];function Wte(){for(const[t]of vx){const i=t.parent;if(i){t.props.attach?Db(i,t):Xo(t.object)&&Xo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?Db(t,r):Xo(r.object)&&Xo(t.object)&&t.object.remove(r.object)}t.isHidden&&aN(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&sN(t.object)}for(const[t,i,r]of vx){t.props=i;const a=t.parent;if(a){var n,e;const o=zm[H4(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,jte(r,t.object),ed(t.object,t.props),t.props.attach?Rb(a,t):Xo(t.object)&&Xo(a.object)&&a.object.add(t.object);for(const l of t.children)l.props.attach?Rb(t,l):Xo(l.object)&&Xo(t.object)&&t.object.add(l.object);Wm(t)}}vx.length=0}const c_=()=>{},m8={};let Q2=iN;const qte=0,Xte=4,D5=Bte({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Hte,removeChild:R5,appendChild:l_,appendInitialChild:l_,insertBefore:p8,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||l_(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||R5(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||p8(i,e,t)},getRootHostContext:()=>m8,getChildHostContext:()=>m8,commitUpdate(n,e,t,i,r){var a,o,l;rN(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((p,g)=>{var v;return p!==((v=t.args)==null?void 0:v[g])}))&&(u=!0),u)vx.push([n,{...i},r]);else{const p=Dte(n,i);Object.keys(p).length&&(Object.assign(n.props,p),ed(n.object,p))}(r.sibling===null||(r.flags&Xte)===qte)&&Wte()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>Cb(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Gte,unhideInstance:aN,createTextInstance:c_,hideTextInstance:c_,unhideTextInstance:c_,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:se.createContext(null),setCurrentUpdatePriority(n){Q2=n},getCurrentUpdatePriority(){return Q2},resolveUpdatePriority(){var n;if(Q2!==iN)return Q2;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yx.ContinuousEventPriority;default:return yx.DefaultEventPriority}},resetFormInstance(){}}),B0=new Map,$p={objects:"shallow",strict:!1};function Yte(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Kte(n){const e=B0.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||Pte(U5,y8),o=t||D5.createContainer(a,yx.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||B0.set(n,{fiber:o,store:a});let l,u,f=!1,p=null;return{async configure(g={}){let v;p=new Promise(K=>v=K);let{gl:S,size:T,scene:A,events:w,onCreated:E,shadows:L=!1,linear:O=!1,flat:N=!1,legacy:z=!1,orthographic:I=!1,frameloop:H="always",dpr:W=[1,2],performance:V,raycaster:U,camera:Q,onPointerMissed:ee}=g,te=a.getState(),oe=te.gl;if(!te.gl){const K={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},xe=typeof S=="function"?await S(K):S;d8(xe)?oe=xe:oe=new jO({...K,...S}),te.set({gl:oe})}let pe=te.raycaster;pe||te.set({raycaster:pe=new zO});const{params:j,...ae}=U||{};if(qr.equ(ae,pe,$p)||ed(pe,{...ae}),qr.equ(j,pe.params,$p)||ed(pe,{params:{...pe.params,...j}}),!te.camera||te.camera===u&&!qr.equ(u,Q,$p)){u=Q;const K=Q==null?void 0:Q.isCamera,xe=K?Q:I?new Iu(0,0,0,0,.1,1e3):new Xr(75,0,.1,1e3);K||(xe.position.z=5,Q&&(ed(xe,Q),xe.manual||("aspect"in Q||"left"in Q||"right"in Q||"bottom"in Q||"top"in Q)&&(xe.manual=!0,xe.updateProjectionMatrix())),!te.camera&&!(Q!=null&&Q.rotation)&&xe.lookAt(0,0,0)),te.set({camera:xe}),pe.camera=xe}if(!te.scene){let K;A!=null&&A.isScene?(K=A,Cb(K,a,"",{})):(K=new l6,Cb(K,a,"",{}),A&&ed(K,A)),te.set({scene:K})}w&&!te.events.handlers&&te.set({events:w(a)});const le=Yte(n,T);if(qr.equ(le,te.size,$p)||te.setSize(le.width,le.height,le.top,le.left),W&&te.viewport.dpr!==QO(W)&&te.setDpr(W),te.frameloop!==H&&te.setFrameloop(H),te.onPointerMissed||te.set({onPointerMissed:ee}),V&&!qr.equ(V,te.performance,$p)&&te.set(K=>({performance:{...K.performance,...V}})),!te.xr){var fe;const K=(he,Te)=>{const ze=a.getState();ze.frameloop!=="never"&&y8(he,!0,ze,Te)},xe=()=>{const he=a.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?K:null),he.gl.xr.isPresenting||U5(he)},Me={connect(){const he=a.getState().gl;he.xr.addEventListener("sessionstart",xe),he.xr.addEventListener("sessionend",xe)},disconnect(){const he=a.getState().gl;he.xr.removeEventListener("sessionstart",xe),he.xr.removeEventListener("sessionend",xe)}};typeof((fe=oe.xr)==null?void 0:fe.addEventListener)=="function"&&Me.connect(),te.set({xr:Me})}if(oe.shadowMap){const K=oe.shadowMap.enabled,xe=oe.shadowMap.type;if(oe.shadowMap.enabled=!!L,qr.boo(L))oe.shadowMap.type=gg;else if(qr.str(L)){var J;const Me={basic:Y9,percentage:s4,soft:gg,variance:Fc};oe.shadowMap.type=(J=Me[L])!=null?J:gg}else qr.obj(L)&&Object.assign(oe.shadowMap,L);(K!==oe.shadowMap.enabled||xe!==oe.shadowMap.type)&&(oe.shadowMap.needsUpdate=!0)}return Mi.enabled=!z,f||(oe.outputColorSpace=O?od:ks,oe.toneMapping=N?Pu:qM),te.legacy!==z&&te.set(()=>({legacy:z})),te.linear!==O&&te.set(()=>({linear:O})),te.flat!==N&&te.set(()=>({flat:N})),S&&!qr.fun(S)&&!d8(S)&&!qr.equ(S,oe,$p)&&ed(oe,S),l=E,f=!0,v(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{D5.updateContainer(Z.jsx(Zte,{store:a,children:g,onCreated:l,rootElement:n}),o,null,()=>{})}),a},unmount(){oN(n)}}}function Zte({store:n,children:e,onCreated:t,rootElement:i}){return Iy(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.jsx(eN.Provider,{value:n,children:e})}function oN(n,e){const t=B0.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),D5.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,l,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),Ate(r.scene),B0.delete(n)}catch{}},500)})}}const Qte=new Set,Jte=new Set,$te=new Set;function u_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function wg(n,e){switch(n){case"before":return u_(Qte,e);case"after":return u_(Jte,e);case"tail":return u_($te,e)}}let f_,h_;function O5(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),f_=e.internal.subscribers;for(let r=0;r<f_.length;r++)h_=f_[r],h_.ref.current(h_.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Ob=!1,N5=!1,d_,g8,em;function lN(n){g8=requestAnimationFrame(lN),Ob=!0,d_=0,wg("before",n),N5=!0;for(const t of B0.values()){var e;em=t.store.getState(),em.internal.active&&(em.frameloop==="always"||em.internal.frames>0)&&!((e=em.gl.xr)!=null&&e.isPresenting)&&(d_+=O5(n,em))}if(N5=!1,wg("after",n),d_===0)return wg("tail",n),Ob=!1,cancelAnimationFrame(g8)}function U5(n,e=1){var t;if(!n)return B0.forEach(i=>U5(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):N5?n.internal.frames=2:n.internal.frames=1,Ob||(Ob=!0,requestAnimationFrame(lN)))}function y8(n,e=!0,t,i){if(e&&wg("before",n),t)O5(n,t,i);else for(const r of B0.values())O5(n,r.store.getState());e&&wg("after",n)}const p_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ene(n){const{handlePointer:e}=zte(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(p_).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l,u]=p_[a];t.addEventListener(l,o,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=p_[r];i.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function v8(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function tne({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=se.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=se.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,p=se.useRef(!1);se.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,S]=se.useMemo(()=>{const E=()=>{if(!l.current.element)return;const{left:L,top:O,width:N,height:z,bottom:I,right:H,x:W,y:V}=l.current.element.getBoundingClientRect(),U={left:L,top:O,width:N,height:z,bottom:I,right:H,x:W,y:V};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),p.current&&!ane(l.current.lastBounds,U)&&o(l.current.lastBounds=U)};return[E,f?v8(E,f):E,u?v8(E,u):E]},[o,i,u,f]);function T(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",S,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function A(){l.current.element&&(l.current.resizeObserver=new r(S),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(E=>E.addEventListener("scroll",S,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const w=E=>{!E||E===l.current.element||(T(),l.current.element=E,l.current.scrollContainers=cN(E),A())};return ine(S,!!e),nne(v),se.useEffect(()=>{T(),A()},[e,S,v]),se.useEffect(()=>T,[]),[w,a,g]}function nne(n){se.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ine(n,e){se.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function cN(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...cN(n.parentElement)]}const rne=["x","y","top","bottom","left","right","width","height"],ane=(n,e)=>rne.every(t=>n[t]===e[t]);function sne({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:o=ene,eventSource:l,eventPrefix:u,shadows:f,linear:p,flat:g,legacy:v,orthographic:S,frameloop:T,dpr:A,performance:w,raycaster:E,camera:L,scene:O,onPointerMissed:N,onCreated:z,...I}){se.useMemo(()=>Vte(qee),[]);const H=Tte(),[W,V]=tne({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=se.useRef(null),Q=se.useRef(null);se.useImperativeHandle(n,()=>U.current);const ee=ZO(N),[te,oe]=se.useState(!1),[pe,j]=se.useState(!1);if(te)throw te;if(pe)throw pe;const ae=se.useRef(null);Iy(()=>{const fe=U.current;if(V.width>0&&V.height>0&&fe){ae.current||(ae.current=Kte(fe));async function J(){await ae.current.configure({gl:a,scene:O,events:o,shadows:f,linear:p,flat:g,legacy:v,orthographic:S,frameloop:T,dpr:A,performance:w,raycaster:E,camera:L,size:V,onPointerMissed:(...K)=>ee.current==null?void 0:ee.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(l?_te(l)?l.current:l:Q.current),u&&K.setEvents({compute:(xe,Me)=>{const he=xe[u+"X"],Te=xe[u+"Y"];Me.pointer.set(he/Me.size.width*2-1,-(Te/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),z==null||z(K)}}),ae.current.render(Z.jsx(H,{children:Z.jsx(wte,{set:j,children:Z.jsx(se.Suspense,{fallback:Z.jsx(Ete,{set:oe}),children:e??null})})}))}J()}}),se.useEffect(()=>{const fe=U.current;if(fe)return()=>oN(fe)},[]);const le=l?"none":"auto";return Z.jsx("div",{ref:Q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:le,...r},...I,children:Z.jsx("div",{ref:W,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function one(n){return Z.jsx(qO,{children:Z.jsx(sne,{...n})})}const ky=new _e,P6=new _e,lne=new _e,x8=new Ct;function cne(n,e,t){const i=ky.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,a=t.height/2;return[i.x*r+r,-(i.y*a)+a]}function une(n,e){const t=ky.setFromMatrixPosition(n.matrixWorld),i=P6.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),a=e.getWorldDirection(lne);return r.angleTo(a)>Math.PI/2}function fne(n,e,t,i){const r=ky.setFromMatrixPosition(n.matrixWorld),a=r.clone();a.project(e),x8.set(a.x,a.y),t.setFromCamera(x8,e);const o=t.intersectObjects(i,!0);if(o.length){const l=o[0].distance;return r.distanceTo(t.ray.origin)<l}return!0}function hne(n,e){if(e instanceof Iu)return e.zoom;if(e instanceof Xr){const t=ky.setFromMatrixPosition(n.matrixWorld),i=P6.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=t.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function dne(n,e,t){if(e instanceof Xr||e instanceof Iu){const i=ky.setFromMatrixPosition(n.matrixWorld),r=P6.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),l=t[1]-o*e.far;return Math.round(o*a+l)}}const L5=n=>Math.abs(n)<1e-10?0:n;function uN(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=L5(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const pne=(n=>e=>uN(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),mne=(n=>(e,t)=>uN(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function gne(n){return n&&typeof n=="object"&&"current"in n}const yne=se.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:a,fullscreen:o,portal:l,distanceFactor:u,sprite:f=!1,transform:p=!1,occlude:g,onOcclude:v,castShadow:S,receiveShadow:T,material:A,geometry:w,zIndexRange:E=[16777271,0],calculatePosition:L=cne,as:O="div",wrapperClass:N,pointerEvents:z="auto",...I},H)=>{const{gl:W,camera:V,scene:U,size:Q,raycaster:ee,events:te,viewport:oe}=Vc(),[pe]=se.useState(()=>document.createElement(O)),j=se.useRef(null),ae=se.useRef(null),le=se.useRef(0),fe=se.useRef([0,0]),J=se.useRef(null),K=se.useRef(null),xe=(l==null?void 0:l.current)||te.connected||W.domElement.parentNode,Me=se.useRef(null),he=se.useRef(!1),Te=se.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&gne(g[0]),[g]);se.useLayoutEffect(()=>{const Qe=W.domElement;g&&g==="blending"?(Qe.style.zIndex=`${Math.floor(E[0]/2)}`,Qe.style.position="absolute",Qe.style.pointerEvents="none"):(Qe.style.zIndex=null,Qe.style.position=null,Qe.style.pointerEvents=null)},[g]),se.useLayoutEffect(()=>{if(ae.current){const Qe=j.current=H8.createRoot(pe);if(U.updateMatrixWorld(),p)pe.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Je=L(ae.current,V,Q);pe.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Je[0]}px,${Je[1]}px,0);transform-origin:0 0;`}return xe&&(r?xe.prepend(pe):xe.appendChild(pe)),()=>{xe&&xe.removeChild(pe),Qe.unmount()}}},[xe,p]),se.useLayoutEffect(()=>{N&&(pe.className=N)},[N]);const ze=se.useMemo(()=>p?{position:"absolute",top:0,left:0,width:Q.width,height:Q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-Q.height/2,left:-Q.width/2,width:Q.width,height:Q.height},...t},[t,a,o,Q,p]),Be=se.useMemo(()=>({position:"absolute",pointerEvents:z}),[z]);se.useLayoutEffect(()=>{if(he.current=!1,p){var Qe;(Qe=j.current)==null||Qe.render(se.createElement("div",{ref:J,style:ze},se.createElement("div",{ref:K,style:Be},se.createElement("div",{ref:H,className:i,style:t,children:n}))))}else{var Je;(Je=j.current)==null||Je.render(se.createElement("div",{ref:H,style:ze,className:i,children:n}))}});const ke=se.useRef(!0);nN(Qe=>{if(ae.current){V.updateMatrixWorld(),ae.current.updateWorldMatrix(!0,!1);const Je=p?fe.current:L(ae.current,V,Q);if(p||Math.abs(le.current-V.zoom)>e||Math.abs(fe.current[0]-Je[0])>e||Math.abs(fe.current[1]-Je[1])>e){const Xe=une(ae.current,V);let Mt=!1;Te&&(Array.isArray(g)?Mt=g.map(Ze=>Ze.current):g!=="blending"&&(Mt=[U]));const ce=ke.current;if(Mt){const Ze=fne(ae.current,V,ee,Mt);ke.current=Ze&&!Xe}else ke.current=!Xe;ce!==ke.current&&(v?v(!ke.current):pe.style.display=ke.current?"block":"none");const rt=Math.floor(E[0]/2),tt=g?Te?[E[0],rt]:[rt-1,0]:E;if(pe.style.zIndex=`${dne(ae.current,V,tt)}`,p){const[Ze,Le]=[Q.width/2,Q.height/2],ct=V.projectionMatrix.elements[5]*Le,{isOrthographicCamera:We,top:Ie,left:ut,bottom:ue,right:$}=V,be=pne(V.matrixWorldInverse),De=We?`scale(${ct})translate(${L5(-($+ut)/2)}px,${L5((Ie+ue)/2)}px)`:`translateZ(${ct}px)`;let Re=ae.current.matrixWorld;f&&(Re=V.matrixWorldInverse.clone().transpose().copyPosition(Re).scale(ae.current.scale),Re.elements[3]=Re.elements[7]=Re.elements[11]=0,Re.elements[15]=1),pe.style.width=Q.width+"px",pe.style.height=Q.height+"px",pe.style.perspective=We?"":`${ct}px`,J.current&&K.current&&(J.current.style.transform=`${De}${be}translate(${Ze}px,${Le}px)`,K.current.style.transform=mne(Re,1/((u||10)/400)))}else{const Ze=u===void 0?1:hne(ae.current,V)*u;pe.style.transform=`translate3d(${Je[0]}px,${Je[1]}px,0) scale(${Ze})`}fe.current=Je,le.current=V.zoom}}if(!Te&&Me.current&&!he.current)if(p){if(J.current){const Je=J.current.children[0];if(Je!=null&&Je.clientWidth&&Je!=null&&Je.clientHeight){const{isOrthographicCamera:Xe}=V;if(Xe||w)I.scale&&(Array.isArray(I.scale)?I.scale instanceof _e?Me.current.scale.copy(I.scale.clone().divideScalar(1)):Me.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):Me.current.scale.setScalar(1/I.scale));else{const Mt=(u||10)/400,ce=Je.clientWidth*Mt,rt=Je.clientHeight*Mt;Me.current.scale.set(ce,rt,1)}he.current=!0}}}else{const Je=pe.children[0];if(Je!=null&&Je.clientWidth&&Je!=null&&Je.clientHeight){const Xe=1/oe.factor,Mt=Je.clientWidth*Xe,ce=Je.clientHeight*Xe;Me.current.scale.set(Mt,ce,1),he.current=!0}Me.current.lookAt(Qe.camera.position)}});const yt=se.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return se.createElement("group",Qf({},I,{ref:ae}),g&&!Te&&se.createElement("mesh",{castShadow:S,receiveShadow:T,ref:Me},w||se.createElement("planeGeometry",null),A||se.createElement("shaderMaterial",{side:nc,vertexShader:yt.vertexShader,fragmentShader:yt.fragmentShader})))}),fN=parseInt(Cy.replace(/\D+/g,"")),hN=fN>=125?"uv1":"uv2";var vne=Object.defineProperty,xne=(n,e,t)=>e in n?vne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,bne=(n,e,t)=>(xne(n,e+"",t),t);class Sne{constructor(){bne(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var _ne=Object.defineProperty,Mne=(n,e,t)=>e in n?_ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xn=(n,e,t)=>(Mne(n,typeof e!="symbol"?e+"":e,t),t);const J2=new F0,b8=new Gf,Tne=Math.cos(70*(Math.PI/180)),S8=(n,e)=>(n%e+e)%e;let Ene=class extends Sne{constructor(e,t){super(),xn(this,"object"),xn(this,"domElement"),xn(this,"enabled",!0),xn(this,"target",new _e),xn(this,"minDistance",0),xn(this,"maxDistance",1/0),xn(this,"minZoom",0),xn(this,"maxZoom",1/0),xn(this,"minPolarAngle",0),xn(this,"maxPolarAngle",Math.PI),xn(this,"minAzimuthAngle",-1/0),xn(this,"maxAzimuthAngle",1/0),xn(this,"enableDamping",!1),xn(this,"dampingFactor",.05),xn(this,"enableZoom",!0),xn(this,"zoomSpeed",1),xn(this,"enableRotate",!0),xn(this,"rotateSpeed",1),xn(this,"enablePan",!0),xn(this,"panSpeed",1),xn(this,"screenSpacePanning",!0),xn(this,"keyPanSpeed",7),xn(this,"zoomToCursor",!1),xn(this,"autoRotate",!1),xn(this,"autoRotateSpeed",2),xn(this,"reverseOrbit",!1),xn(this,"reverseHorizontalOrbit",!1),xn(this,"reverseVerticalOrbit",!1),xn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xn(this,"mouseButtons",{LEFT:f0.ROTATE,MIDDLE:f0.DOLLY,RIGHT:f0.PAN}),xn(this,"touches",{ONE:h0.ROTATE,TWO:h0.DOLLY_PAN}),xn(this,"target0"),xn(this,"position0"),xn(this,"zoom0"),xn(this,"_domElementKeyEvents",null),xn(this,"getPolarAngle"),xn(this,"getAzimuthalAngle"),xn(this,"setPolarAngle"),xn(this,"setAzimuthalAngle"),xn(this,"getDistance"),xn(this,"getZoomScale"),xn(this,"listenToKeyEvents"),xn(this,"stopListenToKeyEvents"),xn(this,"saveState"),xn(this,"reset"),xn(this,"update"),xn(this,"connect"),xn(this,"dispose"),xn(this,"dollyIn"),xn(this,"dollyOut"),xn(this,"getScale"),xn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=Ee=>{let Fe=S8(Ee,2*Math.PI),wt=p.phi;wt<0&&(wt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let Ae=Math.abs(Fe-wt);2*Math.PI-Ae<Ae&&(Fe<wt?Fe+=2*Math.PI:wt+=2*Math.PI),g.phi=Fe-wt,i.update()},this.setAzimuthalAngle=Ee=>{let Fe=S8(Ee,2*Math.PI),wt=p.theta;wt<0&&(wt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let Ae=Math.abs(Fe-wt);2*Math.PI-Ae<Ae&&(Fe<wt?Fe+=2*Math.PI:wt+=2*Math.PI),g.theta=Fe-wt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Ee=>{Ee.addEventListener("keydown",Ne),this._domElementKeyEvents=Ee},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ne),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=l.NONE},this.update=(()=>{const Ee=new _e,Fe=new _e(0,1,0),wt=new Hs().setFromUnitVectors(e.up,Fe),Ae=wt.clone().invert(),xt=new _e,mt=new Hs,Lt=2*Math.PI;return function(){const ft=i.object.position;wt.setFromUnitVectors(e.up,Fe),Ae.copy(wt).invert(),Ee.copy(ft).sub(i.target),Ee.applyQuaternion(wt),p.setFromVector3(Ee),i.autoRotate&&u===l.NONE&&oe(ee()),i.enableDamping?(p.theta+=g.theta*i.dampingFactor,p.phi+=g.phi*i.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let Ut=i.minAzimuthAngle,It=i.maxAzimuthAngle;isFinite(Ut)&&isFinite(It)&&(Ut<-Math.PI?Ut+=Lt:Ut>Math.PI&&(Ut-=Lt),It<-Math.PI?It+=Lt:It>Math.PI&&(It-=Lt),Ut<=It?p.theta=Math.max(Ut,Math.min(It,p.theta)):p.theta=p.theta>(Ut+It)/2?Math.max(Ut,p.theta):Math.min(It,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(S,i.dampingFactor):i.target.add(S),i.zoomToCursor&&V||i.object.isOrthographicCamera?p.radius=Me(p.radius):p.radius=Me(p.radius*v),Ee.setFromSpherical(p),Ee.applyQuaternion(Ae),ft.copy(i.target).add(Ee),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,S.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),S.set(0,0,0));let Ht=!1;if(i.zoomToCursor&&V){let $t=null;if(i.object instanceof Xr&&i.object.isPerspectiveCamera){const ei=Ee.length();$t=Me(ei*v);const Pn=ei-$t;i.object.position.addScaledVector(H,Pn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const ei=new _e(W.x,W.y,0);ei.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),Ht=!0;const Pn=new _e(W.x,W.y,0);Pn.unproject(i.object),i.object.position.sub(Pn).add(ei),i.object.updateMatrixWorld(),$t=Ee.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;$t!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar($t).add(i.object.position):(J2.origin.copy(i.object.position),J2.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(J2.direction))<Tne?e.lookAt(i.target):(b8.setFromNormalAndCoplanarPoint(i.object.up,i.target),J2.intersectPlane(b8,i.target))))}else i.object instanceof Iu&&i.object.isOrthographicCamera&&(Ht=v!==1,Ht&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,V=!1,Ht||xt.distanceToSquared(i.object.position)>f||8*(1-mt.dot(i.object.quaternion))>f?(i.dispatchEvent(r),xt.copy(i.object.position),mt.copy(i.object.quaternion),Ht=!1,!0):!1}})(),this.connect=Ee=>{i.domElement=Ee,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",vt),i.domElement.addEventListener("pointerdown",ut),i.domElement.addEventListener("pointercancel",$),i.domElement.addEventListener("wheel",Re)},this.dispose=()=>{var Ee,Fe,wt,Ae,xt,mt;i.domElement&&(i.domElement.style.touchAction="auto"),(Ee=i.domElement)==null||Ee.removeEventListener("contextmenu",vt),(Fe=i.domElement)==null||Fe.removeEventListener("pointerdown",ut),(wt=i.domElement)==null||wt.removeEventListener("pointercancel",$),(Ae=i.domElement)==null||Ae.removeEventListener("wheel",Re),(xt=i.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",ue),(mt=i.domElement)==null||mt.ownerDocument.removeEventListener("pointerup",$),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ne)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const f=1e-6,p=new T5,g=new T5;let v=1;const S=new _e,T=new Ct,A=new Ct,w=new Ct,E=new Ct,L=new Ct,O=new Ct,N=new Ct,z=new Ct,I=new Ct,H=new _e,W=new Ct;let V=!1;const U=[],Q={};function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}function te(){return Math.pow(.95,i.zoomSpeed)}function oe(Ee){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=Ee:g.theta-=Ee}function pe(Ee){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=Ee:g.phi-=Ee}const j=(()=>{const Ee=new _e;return function(wt,Ae){Ee.setFromMatrixColumn(Ae,0),Ee.multiplyScalar(-wt),S.add(Ee)}})(),ae=(()=>{const Ee=new _e;return function(wt,Ae){i.screenSpacePanning===!0?Ee.setFromMatrixColumn(Ae,1):(Ee.setFromMatrixColumn(Ae,0),Ee.crossVectors(i.object.up,Ee)),Ee.multiplyScalar(wt),S.add(Ee)}})(),le=(()=>{const Ee=new _e;return function(wt,Ae){const xt=i.domElement;if(xt&&i.object instanceof Xr&&i.object.isPerspectiveCamera){const mt=i.object.position;Ee.copy(mt).sub(i.target);let Lt=Ee.length();Lt*=Math.tan(i.object.fov/2*Math.PI/180),j(2*wt*Lt/xt.clientHeight,i.object.matrix),ae(2*Ae*Lt/xt.clientHeight,i.object.matrix)}else xt&&i.object instanceof Iu&&i.object.isOrthographicCamera?(j(wt*(i.object.right-i.object.left)/i.object.zoom/xt.clientWidth,i.object.matrix),ae(Ae*(i.object.top-i.object.bottom)/i.object.zoom/xt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function fe(Ee){i.object instanceof Xr&&i.object.isPerspectiveCamera||i.object instanceof Iu&&i.object.isOrthographicCamera?v=Ee:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function J(Ee){fe(v/Ee)}function K(Ee){fe(v*Ee)}function xe(Ee){if(!i.zoomToCursor||!i.domElement)return;V=!0;const Fe=i.domElement.getBoundingClientRect(),wt=Ee.clientX-Fe.left,Ae=Ee.clientY-Fe.top,xt=Fe.width,mt=Fe.height;W.x=wt/xt*2-1,W.y=-(Ae/mt)*2+1,H.set(W.x,W.y,1).unproject(i.object).sub(i.object.position).normalize()}function Me(Ee){return Math.max(i.minDistance,Math.min(i.maxDistance,Ee))}function he(Ee){T.set(Ee.clientX,Ee.clientY)}function Te(Ee){xe(Ee),N.set(Ee.clientX,Ee.clientY)}function ze(Ee){E.set(Ee.clientX,Ee.clientY)}function Be(Ee){A.set(Ee.clientX,Ee.clientY),w.subVectors(A,T).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(oe(2*Math.PI*w.x/Fe.clientHeight),pe(2*Math.PI*w.y/Fe.clientHeight)),T.copy(A),i.update()}function ke(Ee){z.set(Ee.clientX,Ee.clientY),I.subVectors(z,N),I.y>0?J(te()):I.y<0&&K(te()),N.copy(z),i.update()}function yt(Ee){L.set(Ee.clientX,Ee.clientY),O.subVectors(L,E).multiplyScalar(i.panSpeed),le(O.x,O.y),E.copy(L),i.update()}function Qe(Ee){xe(Ee),Ee.deltaY<0?K(te()):Ee.deltaY>0&&J(te()),i.update()}function Je(Ee){let Fe=!1;switch(Ee.code){case i.keys.UP:le(0,i.keyPanSpeed),Fe=!0;break;case i.keys.BOTTOM:le(0,-i.keyPanSpeed),Fe=!0;break;case i.keys.LEFT:le(i.keyPanSpeed,0),Fe=!0;break;case i.keys.RIGHT:le(-i.keyPanSpeed,0),Fe=!0;break}Fe&&(Ee.preventDefault(),i.update())}function Xe(){if(U.length==1)T.set(U[0].pageX,U[0].pageY);else{const Ee=.5*(U[0].pageX+U[1].pageX),Fe=.5*(U[0].pageY+U[1].pageY);T.set(Ee,Fe)}}function Mt(){if(U.length==1)E.set(U[0].pageX,U[0].pageY);else{const Ee=.5*(U[0].pageX+U[1].pageX),Fe=.5*(U[0].pageY+U[1].pageY);E.set(Ee,Fe)}}function ce(){const Ee=U[0].pageX-U[1].pageX,Fe=U[0].pageY-U[1].pageY,wt=Math.sqrt(Ee*Ee+Fe*Fe);N.set(0,wt)}function rt(){i.enableZoom&&ce(),i.enablePan&&Mt()}function tt(){i.enableZoom&&ce(),i.enableRotate&&Xe()}function Ze(Ee){if(U.length==1)A.set(Ee.pageX,Ee.pageY);else{const wt=Ce(Ee),Ae=.5*(Ee.pageX+wt.x),xt=.5*(Ee.pageY+wt.y);A.set(Ae,xt)}w.subVectors(A,T).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(oe(2*Math.PI*w.x/Fe.clientHeight),pe(2*Math.PI*w.y/Fe.clientHeight)),T.copy(A)}function Le(Ee){if(U.length==1)L.set(Ee.pageX,Ee.pageY);else{const Fe=Ce(Ee),wt=.5*(Ee.pageX+Fe.x),Ae=.5*(Ee.pageY+Fe.y);L.set(wt,Ae)}O.subVectors(L,E).multiplyScalar(i.panSpeed),le(O.x,O.y),E.copy(L)}function ct(Ee){const Fe=Ce(Ee),wt=Ee.pageX-Fe.x,Ae=Ee.pageY-Fe.y,xt=Math.sqrt(wt*wt+Ae*Ae);z.set(0,xt),I.set(0,Math.pow(z.y/N.y,i.zoomSpeed)),J(I.y),N.copy(z)}function We(Ee){i.enableZoom&&ct(Ee),i.enablePan&&Le(Ee)}function Ie(Ee){i.enableZoom&&ct(Ee),i.enableRotate&&Ze(Ee)}function ut(Ee){var Fe,wt;i.enabled!==!1&&(U.length===0&&((Fe=i.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",ue),(wt=i.domElement)==null||wt.ownerDocument.addEventListener("pointerup",$)),Rt(Ee),Ee.pointerType==="touch"?at(Ee):be(Ee))}function ue(Ee){i.enabled!==!1&&(Ee.pointerType==="touch"?nt(Ee):De(Ee))}function $(Ee){var Fe,wt,Ae;Ye(Ee),U.length===0&&((Fe=i.domElement)==null||Fe.releasePointerCapture(Ee.pointerId),(wt=i.domElement)==null||wt.ownerDocument.removeEventListener("pointermove",ue),(Ae=i.domElement)==null||Ae.ownerDocument.removeEventListener("pointerup",$)),i.dispatchEvent(o),u=l.NONE}function be(Ee){let Fe;switch(Ee.button){case 0:Fe=i.mouseButtons.LEFT;break;case 1:Fe=i.mouseButtons.MIDDLE;break;case 2:Fe=i.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case f0.DOLLY:if(i.enableZoom===!1)return;Te(Ee),u=l.DOLLY;break;case f0.ROTATE:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(i.enablePan===!1)return;ze(Ee),u=l.PAN}else{if(i.enableRotate===!1)return;he(Ee),u=l.ROTATE}break;case f0.PAN:if(Ee.ctrlKey||Ee.metaKey||Ee.shiftKey){if(i.enableRotate===!1)return;he(Ee),u=l.ROTATE}else{if(i.enablePan===!1)return;ze(Ee),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function De(Ee){if(i.enabled!==!1)switch(u){case l.ROTATE:if(i.enableRotate===!1)return;Be(Ee);break;case l.DOLLY:if(i.enableZoom===!1)return;ke(Ee);break;case l.PAN:if(i.enablePan===!1)return;yt(Ee);break}}function Re(Ee){i.enabled===!1||i.enableZoom===!1||u!==l.NONE&&u!==l.ROTATE||(Ee.preventDefault(),i.dispatchEvent(a),Qe(Ee),i.dispatchEvent(o))}function Ne(Ee){i.enabled===!1||i.enablePan===!1||Je(Ee)}function at(Ee){switch(ot(Ee),U.length){case 1:switch(i.touches.ONE){case h0.ROTATE:if(i.enableRotate===!1)return;Xe(),u=l.TOUCH_ROTATE;break;case h0.PAN:if(i.enablePan===!1)return;Mt(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(i.touches.TWO){case h0.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;rt(),u=l.TOUCH_DOLLY_PAN;break;case h0.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;tt(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&i.dispatchEvent(a)}function nt(Ee){switch(ot(Ee),u){case l.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ze(Ee),i.update();break;case l.TOUCH_PAN:if(i.enablePan===!1)return;Le(Ee),i.update();break;case l.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;We(Ee),i.update();break;case l.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(Ee),i.update();break;default:u=l.NONE}}function vt(Ee){i.enabled!==!1&&Ee.preventDefault()}function Rt(Ee){U.push(Ee)}function Ye(Ee){delete Q[Ee.pointerId];for(let Fe=0;Fe<U.length;Fe++)if(U[Fe].pointerId==Ee.pointerId){U.splice(Fe,1);return}}function ot(Ee){let Fe=Q[Ee.pointerId];Fe===void 0&&(Fe=new Ct,Q[Ee.pointerId]=Fe),Fe.set(Ee.pageX,Ee.pageY)}function Ce(Ee){const Fe=Ee.pointerId===U[0].pointerId?U[1]:U[0];return Q[Fe.pointerId]}this.dollyIn=(Ee=te())=>{K(Ee),i.update()},this.dollyOut=(Ee=te())=>{J(Ee),i.update()},this.getScale=()=>v,this.setScale=Ee=>{fe(Ee),i.update()},this.getZoomScale=()=>te(),t!==void 0&&this.connect(t),this.update()}};const _8=new _a,$2=new _e;class B6 extends F4{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new rn(e,3)),this.setAttribute("uv",new rn(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Ab(t,6,1);return this.setAttribute("instanceStart",new wl(i,3,0)),this.setAttribute("instanceEnd",new wl(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new Ab(i,t*2,1);return this.setAttribute("instanceColorStart",new wl(r,t,0)),this.setAttribute("instanceColorEnd",new wl(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new x6(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _a);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),_8.setFromBufferAttribute(t),this.boundingBox.union(_8))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)$2.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared($2)),$2.fromBufferAttribute(t,a),r=Math.max(r,i.distanceToSquared($2));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class dN extends B6{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,t=3){const i=e.length-t,r=new Float32Array(2*i);if(t===3)for(let a=0;a<i;a+=t)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];else for(let a=0;a<i;a+=t)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5],r[2*a+6]=e[a+6],r[2*a+7]=e[a+7];return super.setColors(r,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class I6 extends lc{constructor(e){super({type:"LineMaterial",uniforms:ty.clone(ty.merge([Yt.common,Yt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ct(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${fN>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const m_=new ii,M8=new _e,T8=new _e,ps=new ii,ms=new ii,Mu=new ii,g_=new _e,y_=new Tn,vs=new PO,E8=new _e,ex=new _a,tx=new Ua,Tu=new ii;let Cu,C0;function w8(n,e,t){return Tu.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Tu.multiplyScalar(1/Tu.w),Tu.x=C0/t.width,Tu.y=C0/t.height,Tu.applyMatrix4(n.projectionMatrixInverse),Tu.multiplyScalar(1/Tu.w),Math.abs(Math.max(Tu.x,Tu.y))}function wne(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,a=i.attributes.instanceEnd,o=Math.min(i.instanceCount,r.count);for(let l=0,u=o;l<u;l++){vs.start.fromBufferAttribute(r,l),vs.end.fromBufferAttribute(a,l),vs.applyMatrix4(t);const f=new _e,p=new _e;Cu.distanceSqToSegment(vs.start,vs.end,p,f),p.distanceTo(f)<C0*.5&&e.push({point:p,pointOnLine:f,distance:Cu.origin.distanceTo(p),object:n,face:null,faceIndex:l,uv:null,[hN]:null})}}function Ane(n,e,t){const i=e.projectionMatrix,a=n.material.resolution,o=n.matrixWorld,l=n.geometry,u=l.attributes.instanceStart,f=l.attributes.instanceEnd,p=Math.min(l.instanceCount,u.count),g=-e.near;Cu.at(1,Mu),Mu.w=1,Mu.applyMatrix4(e.matrixWorldInverse),Mu.applyMatrix4(i),Mu.multiplyScalar(1/Mu.w),Mu.x*=a.x/2,Mu.y*=a.y/2,Mu.z=0,g_.copy(Mu),y_.multiplyMatrices(e.matrixWorldInverse,o);for(let v=0,S=p;v<S;v++){if(ps.fromBufferAttribute(u,v),ms.fromBufferAttribute(f,v),ps.w=1,ms.w=1,ps.applyMatrix4(y_),ms.applyMatrix4(y_),ps.z>g&&ms.z>g)continue;if(ps.z>g){const O=ps.z-ms.z,N=(ps.z-g)/O;ps.lerp(ms,N)}else if(ms.z>g){const O=ms.z-ps.z,N=(ms.z-g)/O;ms.lerp(ps,N)}ps.applyMatrix4(i),ms.applyMatrix4(i),ps.multiplyScalar(1/ps.w),ms.multiplyScalar(1/ms.w),ps.x*=a.x/2,ps.y*=a.y/2,ms.x*=a.x/2,ms.y*=a.y/2,vs.start.copy(ps),vs.start.z=0,vs.end.copy(ms),vs.end.z=0;const A=vs.closestPointToPointParameter(g_,!0);vs.at(A,E8);const w=LD.lerp(ps.z,ms.z,A),E=w>=-1&&w<=1,L=g_.distanceTo(E8)<C0*.5;if(E&&L){vs.start.fromBufferAttribute(u,v),vs.end.fromBufferAttribute(f,v),vs.start.applyMatrix4(o),vs.end.applyMatrix4(o);const O=new _e,N=new _e;Cu.distanceSqToSegment(vs.start,vs.end,N,O),t.push({point:N,pointOnLine:O,distance:Cu.origin.distanceTo(N),object:n,face:null,faceIndex:v,uv:null,[hN]:null})}}}class pN extends Vr{constructor(e=new B6,t=new I6({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let o=0,l=0,u=t.count;o<u;o++,l+=2)M8.fromBufferAttribute(t,o),T8.fromBufferAttribute(i,o),r[l]=l===0?0:r[l-1],r[l+1]=r[l]+M8.distanceTo(T8);const a=new Ab(r,2,1);return e.setAttribute("instanceDistanceStart",new wl(a,1,0)),e.setAttribute("instanceDistanceEnd",new wl(a,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Cu=e.ray;const o=this.matrixWorld,l=this.geometry,u=this.material;C0=u.linewidth+a,l.boundingSphere===null&&l.computeBoundingSphere(),tx.copy(l.boundingSphere).applyMatrix4(o);let f;if(i)f=C0*.5;else{const g=Math.max(r.near,tx.distanceToPoint(Cu.origin));f=w8(r,g,u.resolution)}if(tx.radius+=f,Cu.intersectsSphere(tx)===!1)return;l.boundingBox===null&&l.computeBoundingBox(),ex.copy(l.boundingBox).applyMatrix4(o);let p;if(i)p=C0*.5;else{const g=Math.max(r.near,ex.distanceToPoint(Cu.origin));p=w8(r,g,u.resolution)}ex.expandByScalar(p),Cu.intersectsBox(ex)!==!1&&(i?wne(this,t):Ane(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(m_),this.material.uniforms.resolution.value.set(m_.z,m_.w))}}class Cne extends pN{constructor(e=new dN,t=new I6({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const po=se.forwardRef(function({points:e,color:t=16777215,vertexColors:i,linewidth:r,lineWidth:a,segments:o,dashed:l,...u},f){var p,g;const v=Vc(E=>E.size),S=se.useMemo(()=>o?new pN:new Cne,[o]),[T]=se.useState(()=>new I6),A=(i==null||(p=i[0])==null?void 0:p.length)===4?4:3,w=se.useMemo(()=>{const E=o?new B6:new dN,L=e.map(O=>{const N=Array.isArray(O);return O instanceof _e||O instanceof ii?[O.x,O.y,O.z]:O instanceof Ct?[O.x,O.y,0]:N&&O.length===3?[O[0],O[1],O[2]]:N&&O.length===2?[O[0],O[1],0]:O});if(E.setPositions(L.flat()),i){t=16777215;const O=i.map(N=>N instanceof Qt?N.toArray():N);E.setColors(O.flat(),A)}return E},[e,o,i,A]);return se.useLayoutEffect(()=>{S.computeLineDistances()},[e,S]),se.useLayoutEffect(()=>{l?T.defines.USE_DASH="":delete T.defines.USE_DASH,T.needsUpdate=!0},[l,T]),se.useEffect(()=>()=>{w.dispose(),T.dispose()},[w]),se.createElement("primitive",Qf({object:S,ref:f},u),se.createElement("primitive",{object:w,attach:"geometry"}),se.createElement("primitive",Qf({object:T,attach:"material",color:t,vertexColors:!!i,resolution:[v.width,v.height],linewidth:(g=r??a)!==null&&g!==void 0?g:1,dashed:l,transparent:A===4},u)))});function Rne(){var n=Object.create(null);function e(r,a){var o=r.id,l=r.name,u=r.dependencies;u===void 0&&(u=[]);var f=r.init;f===void 0&&(f=function(){});var p=r.getTransferables;if(p===void 0&&(p=null),!n[o])try{u=u.map(function(v){return v&&v.isWorkerModule&&(e(v,function(S){if(S instanceof Error)throw S}),v=n[v.id].value),v}),f=i("<"+l+">.init",f),p&&(p=i("<"+l+">.getTransferables",p));var g=null;typeof f=="function"?g=f.apply(void 0,u):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:g,getTransferables:p},a(g)}catch(v){v&&v.noLog||console.error(v),a(v)}}function t(r,a){var o,l=r.id,u=r.args;(!n[l]||typeof n[l].value!="function")&&a(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var f=(o=n[l]).value.apply(o,u);f&&typeof f.then=="function"?f.then(p,function(g){return a(g instanceof Error?g:new Error(""+g))}):p(f)}catch(g){a(g)}function p(g){try{var v=n[l].getTransferables&&n[l].getTransferables(g);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),a(g,v)}catch(S){console.error(S),a(S)}}}function i(r,a){var o=void 0;self.troikaDefine=function(u){return o=u};var l=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(u){console.error(u)}return URL.revokeObjectURL(l),delete self.troikaDefine,o}self.addEventListener("message",function(r){var a=r.data,o=a.messageId,l=a.action,u=a.data;try{l==="registerModule"&&e(u,function(f){f instanceof Error?postMessage({messageId:o,success:!1,error:f.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof f=="function"}})}),l==="callModule"&&t(u,function(f,p){f instanceof Error?postMessage({messageId:o,success:!1,error:f.message}):postMessage({messageId:o,success:!0,result:f},p||void 0)})}catch(f){postMessage({messageId:o,success:!1,error:f.stack})}})}function Dne(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var r=Promise.all(t).then(function(a){return i.apply(null,a)});return e._getInitResult=function(){return r},r},e}var mN=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return mN=function(){return n},n},One=0,Nne=0,v_=!1,Ag=Object.create(null),Cg=Object.create(null),z5=Object.create(null);function qm(n){if((!n||typeof n.init!="function")&&!v_)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId,a=Dne(n);r==null&&(r="#default");var o="workerModule"+ ++One,l=n.name||o,u=null;e=e&&e.map(function(p){return typeof p=="function"&&!p.workerModuleData&&(v_=!0,p=qm({workerId:r,name:"<"+l+"> function dependency: "+p.name,init:`function(){return (
`+xx(p)+`
)}`}),v_=!1),p&&p.workerModuleData&&(p=p.workerModuleData),p});function f(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];if(!mN())return a.apply(void 0,p);if(!u){u=A8(r,"registerModule",f.workerModuleData);var v=function(){u=null,Cg[r].delete(v)};(Cg[r]||(Cg[r]=new Set)).add(v)}return u.then(function(S){var T=S.isCallable;if(T)return A8(r,"callModule",{id:o,args:p});throw new Error("Worker module function was called but `init` did not return a callable function")})}return f.workerModuleData={isWorkerModule:!0,id:o,name:l,dependencies:e,init:xx(t),getTransferables:i&&xx(i)},f.onMainThread=a,f}function Une(n){Cg[n]&&Cg[n].forEach(function(e){e()}),Ag[n]&&(Ag[n].terminate(),delete Ag[n])}function xx(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Lne(n){var e=Ag[n];if(!e){var t=xx(Rne);e=Ag[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,a=r.messageId,o=z5[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete z5[a],o(r)}}return e}function A8(n,e,t){return new Promise(function(i,r){var a=++Nne;z5[a]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},Lne(n).postMessage({messageId:a,action:e,data:t})})}function gN(){var n=function(e){function t(fe,J,K,xe,Me,he,Te,ze){var Be=1-Te;ze.x=Be*Be*fe+2*Be*Te*K+Te*Te*Me,ze.y=Be*Be*J+2*Be*Te*xe+Te*Te*he}function i(fe,J,K,xe,Me,he,Te,ze,Be,ke){var yt=1-Be;ke.x=yt*yt*yt*fe+3*yt*yt*Be*K+3*yt*Be*Be*Me+Be*Be*Be*Te,ke.y=yt*yt*yt*J+3*yt*yt*Be*xe+3*yt*Be*Be*he+Be*Be*Be*ze}function r(fe,J){for(var K=/([MLQCZ])([^MLQCZ]*)/g,xe,Me,he,Te,ze;xe=K.exec(fe);){var Be=xe[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ke){return parseFloat(ke)});switch(xe[1]){case"M":Te=Me=Be[0],ze=he=Be[1];break;case"L":(Be[0]!==Te||Be[1]!==ze)&&J("L",Te,ze,Te=Be[0],ze=Be[1]);break;case"Q":{J("Q",Te,ze,Te=Be[2],ze=Be[3],Be[0],Be[1]);break}case"C":{J("C",Te,ze,Te=Be[4],ze=Be[5],Be[0],Be[1],Be[2],Be[3]);break}case"Z":(Te!==Me||ze!==he)&&J("L",Te,ze,Me,he);break}}}function a(fe,J,K){K===void 0&&(K=16);var xe={x:0,y:0};r(fe,function(Me,he,Te,ze,Be,ke,yt,Qe,Je){switch(Me){case"L":J(he,Te,ze,Be);break;case"Q":{for(var Xe=he,Mt=Te,ce=1;ce<K;ce++)t(he,Te,ke,yt,ze,Be,ce/(K-1),xe),J(Xe,Mt,xe.x,xe.y),Xe=xe.x,Mt=xe.y;break}case"C":{for(var rt=he,tt=Te,Ze=1;Ze<K;Ze++)i(he,Te,ke,yt,Qe,Je,ze,Be,Ze/(K-1),xe),J(rt,tt,xe.x,xe.y),rt=xe.x,tt=xe.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,f={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function p(fe,J){var K=fe.getContext?fe.getContext("webgl",f):fe,xe=u.get(K);if(!xe){let rt=function(Ie){var ut=he[Ie];if(!ut&&(ut=he[Ie]=K.getExtension(Ie),!ut))throw new Error(Ie+" not supported");return ut},tt=function(Ie,ut){var ue=K.createShader(ut);return K.shaderSource(ue,Ie),K.compileShader(ue),ue},Ze=function(Ie,ut,ue,$){if(!Te[Ie]){var be={},De={},Re=K.createProgram();K.attachShader(Re,tt(ut,K.VERTEX_SHADER)),K.attachShader(Re,tt(ue,K.FRAGMENT_SHADER)),K.linkProgram(Re),Te[Ie]={program:Re,transaction:function(at){K.useProgram(Re),at({setUniform:function(vt,Rt){for(var Ye=[],ot=arguments.length-2;ot-- >0;)Ye[ot]=arguments[ot+2];var Ce=De[Rt]||(De[Rt]=K.getUniformLocation(Re,Rt));K["uniform"+vt].apply(K,[Ce].concat(Ye))},setAttribute:function(vt,Rt,Ye,ot,Ce){var Ee=be[vt];Ee||(Ee=be[vt]={buf:K.createBuffer(),loc:K.getAttribLocation(Re,vt),data:null}),K.bindBuffer(K.ARRAY_BUFFER,Ee.buf),K.vertexAttribPointer(Ee.loc,Rt,K.FLOAT,!1,0,0),K.enableVertexAttribArray(Ee.loc),Me?K.vertexAttribDivisor(Ee.loc,ot):rt("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ee.loc,ot),Ce!==Ee.data&&(K.bufferData(K.ARRAY_BUFFER,Ce,Ye),Ee.data=Ce)}})}}}Te[Ie].transaction($)},Le=function(Ie,ut){Be++;try{K.activeTexture(K.TEXTURE0+Be);var ue=ze[Ie];ue||(ue=ze[Ie]=K.createTexture(),K.bindTexture(K.TEXTURE_2D,ue),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,K.NEAREST),K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,K.NEAREST)),K.bindTexture(K.TEXTURE_2D,ue),ut(ue,Be)}finally{Be--}},ct=function(Ie,ut,ue){var $=K.createFramebuffer();ke.push($),K.bindFramebuffer(K.FRAMEBUFFER,$),K.activeTexture(K.TEXTURE0+ut),K.bindTexture(K.TEXTURE_2D,Ie),K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Ie,0);try{ue($)}finally{K.deleteFramebuffer($),K.bindFramebuffer(K.FRAMEBUFFER,ke[--ke.length-1]||null)}},We=function(){he={},Te={},ze={},Be=-1,ke.length=0};var yt=rt,Qe=tt,Je=Ze,Xe=Le,Mt=ct,ce=We,Me=typeof WebGL2RenderingContext<"u"&&K instanceof WebGL2RenderingContext,he={},Te={},ze={},Be=-1,ke=[];K.canvas.addEventListener("webglcontextlost",function(Ie){We(),Ie.preventDefault()},!1),u.set(K,xe={gl:K,isWebGL2:Me,getExtension:rt,withProgram:Ze,withTexture:Le,withTextureFramebuffer:ct,handleContextLoss:We})}J(xe)}function g(fe,J,K,xe,Me,he,Te,ze){Te===void 0&&(Te=15),ze===void 0&&(ze=null),p(fe,function(Be){var ke=Be.gl,yt=Be.withProgram,Qe=Be.withTexture;Qe("copy",function(Je,Xe){ke.texImage2D(ke.TEXTURE_2D,0,ke.RGBA,Me,he,0,ke.RGBA,ke.UNSIGNED_BYTE,J),yt("copy",o,l,function(Mt){var ce=Mt.setUniform,rt=Mt.setAttribute;rt("aUV",2,ke.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ce("1i","image",Xe),ke.bindFramebuffer(ke.FRAMEBUFFER,ze||null),ke.disable(ke.BLEND),ke.colorMask(Te&8,Te&4,Te&2,Te&1),ke.viewport(K,xe,Me,he),ke.scissor(K,xe,Me,he),ke.drawArrays(ke.TRIANGLES,0,3)})})})}function v(fe,J,K){var xe=fe.width,Me=fe.height;p(fe,function(he){var Te=he.gl,ze=new Uint8Array(xe*Me*4);Te.readPixels(0,0,xe,Me,Te.RGBA,Te.UNSIGNED_BYTE,ze),fe.width=J,fe.height=K,g(Te,ze,0,0,xe,Me)})}var S=Object.freeze({__proto__:null,withWebGLContext:p,renderImageData:g,resizeWebGLCanvasWithoutClearing:v});function T(fe,J,K,xe,Me,he){he===void 0&&(he=1);var Te=new Uint8Array(fe*J),ze=xe[2]-xe[0],Be=xe[3]-xe[1],ke=[];a(K,function(rt,tt,Ze,Le){ke.push({x1:rt,y1:tt,x2:Ze,y2:Le,minX:Math.min(rt,Ze),minY:Math.min(tt,Le),maxX:Math.max(rt,Ze),maxY:Math.max(tt,Le)})}),ke.sort(function(rt,tt){return rt.maxX-tt.maxX});for(var yt=0;yt<fe;yt++)for(var Qe=0;Qe<J;Qe++){var Je=Mt(xe[0]+ze*(yt+.5)/fe,xe[1]+Be*(Qe+.5)/J),Xe=Math.pow(1-Math.abs(Je)/Me,he)/2;Je<0&&(Xe=1-Xe),Xe=Math.max(0,Math.min(255,Math.round(Xe*255))),Te[Qe*fe+yt]=Xe}return Te;function Mt(rt,tt){for(var Ze=1/0,Le=1/0,ct=ke.length;ct--;){var We=ke[ct];if(We.maxX+Le<=rt)break;if(rt+Le>We.minX&&tt-Le<We.maxY&&tt+Le>We.minY){var Ie=E(rt,tt,We.x1,We.y1,We.x2,We.y2);Ie<Ze&&(Ze=Ie,Le=Math.sqrt(Ze))}}return ce(rt,tt)&&(Le=-Le),Le}function ce(rt,tt){for(var Ze=0,Le=ke.length;Le--;){var ct=ke[Le];if(ct.maxX<=rt)break;var We=ct.y1>tt!=ct.y2>tt&&rt<(ct.x2-ct.x1)*(tt-ct.y1)/(ct.y2-ct.y1)+ct.x1;We&&(Ze+=ct.y1<ct.y2?1:-1)}return Ze!==0}}function A(fe,J,K,xe,Me,he,Te,ze,Be,ke){he===void 0&&(he=1),ze===void 0&&(ze=0),Be===void 0&&(Be=0),ke===void 0&&(ke=0),w(fe,J,K,xe,Me,he,Te,null,ze,Be,ke)}function w(fe,J,K,xe,Me,he,Te,ze,Be,ke,yt){he===void 0&&(he=1),Be===void 0&&(Be=0),ke===void 0&&(ke=0),yt===void 0&&(yt=0);for(var Qe=T(fe,J,K,xe,Me,he),Je=new Uint8Array(Qe.length*4),Xe=0;Xe<Qe.length;Xe++)Je[Xe*4+yt]=Qe[Xe];g(Te,Je,Be,ke,fe,J,1<<3-yt,ze)}function E(fe,J,K,xe,Me,he){var Te=Me-K,ze=he-xe,Be=Te*Te+ze*ze,ke=Be?Math.max(0,Math.min(1,((fe-K)*Te+(J-xe)*ze)/Be)):0,yt=fe-(K+ke*Te),Qe=J-(xe+ke*ze);return yt*yt+Qe*Qe}var L=Object.freeze({__proto__:null,generate:T,generateIntoCanvas:A,generateIntoFramebuffer:w}),O="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",N="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",z="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",I=new Float32Array([0,0,2,0,0,2]),H=null,W=!1,V={},U=new WeakMap;function Q(fe){if(!W&&!pe(fe))throw new Error("WebGL generation not supported")}function ee(fe,J,K,xe,Me,he,Te){if(he===void 0&&(he=1),Te===void 0&&(Te=null),!Te&&(Te=H,!Te)){var ze=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ze)throw new Error("OffscreenCanvas or DOM canvas not supported");Te=H=ze.getContext("webgl",{depth:!1})}Q(Te);var Be=new Uint8Array(fe*J*4);p(Te,function(Je){var Xe=Je.gl,Mt=Je.withTexture,ce=Je.withTextureFramebuffer;Mt("readable",function(rt,tt){Xe.texImage2D(Xe.TEXTURE_2D,0,Xe.RGBA,fe,J,0,Xe.RGBA,Xe.UNSIGNED_BYTE,null),ce(rt,tt,function(Ze){oe(fe,J,K,xe,Me,he,Xe,Ze,0,0,0),Xe.readPixels(0,0,fe,J,Xe.RGBA,Xe.UNSIGNED_BYTE,Be)})})});for(var ke=new Uint8Array(fe*J),yt=0,Qe=0;yt<Be.length;yt+=4)ke[Qe++]=Be[yt];return ke}function te(fe,J,K,xe,Me,he,Te,ze,Be,ke){he===void 0&&(he=1),ze===void 0&&(ze=0),Be===void 0&&(Be=0),ke===void 0&&(ke=0),oe(fe,J,K,xe,Me,he,Te,null,ze,Be,ke)}function oe(fe,J,K,xe,Me,he,Te,ze,Be,ke,yt){he===void 0&&(he=1),Be===void 0&&(Be=0),ke===void 0&&(ke=0),yt===void 0&&(yt=0),Q(Te);var Qe=[];a(K,function(Je,Xe,Mt,ce){Qe.push(Je,Xe,Mt,ce)}),Qe=new Float32Array(Qe),p(Te,function(Je){var Xe=Je.gl,Mt=Je.isWebGL2,ce=Je.getExtension,rt=Je.withProgram,tt=Je.withTexture,Ze=Je.withTextureFramebuffer,Le=Je.handleContextLoss;if(tt("rawDistances",function(ct,We){(fe!==ct._lastWidth||J!==ct._lastHeight)&&Xe.texImage2D(Xe.TEXTURE_2D,0,Xe.RGBA,ct._lastWidth=fe,ct._lastHeight=J,0,Xe.RGBA,Xe.UNSIGNED_BYTE,null),rt("main",O,N,function(Ie){var ut=Ie.setAttribute,ue=Ie.setUniform,$=!Mt&&ce("ANGLE_instanced_arrays"),be=!Mt&&ce("EXT_blend_minmax");ut("aUV",2,Xe.STATIC_DRAW,0,I),ut("aLineSegment",4,Xe.DYNAMIC_DRAW,1,Qe),ue.apply(void 0,["4f","uGlyphBounds"].concat(xe)),ue("1f","uMaxDistance",Me),ue("1f","uExponent",he),Ze(ct,We,function(De){Xe.enable(Xe.BLEND),Xe.colorMask(!0,!0,!0,!0),Xe.viewport(0,0,fe,J),Xe.scissor(0,0,fe,J),Xe.blendFunc(Xe.ONE,Xe.ONE),Xe.blendEquationSeparate(Xe.FUNC_ADD,Mt?Xe.MAX:be.MAX_EXT),Xe.clear(Xe.COLOR_BUFFER_BIT),Mt?Xe.drawArraysInstanced(Xe.TRIANGLES,0,3,Qe.length/4):$.drawArraysInstancedANGLE(Xe.TRIANGLES,0,3,Qe.length/4)})}),rt("post",o,z,function(Ie){Ie.setAttribute("aUV",2,Xe.STATIC_DRAW,0,I),Ie.setUniform("1i","tex",We),Xe.bindFramebuffer(Xe.FRAMEBUFFER,ze),Xe.disable(Xe.BLEND),Xe.colorMask(yt===0,yt===1,yt===2,yt===3),Xe.viewport(Be,ke,fe,J),Xe.scissor(Be,ke,fe,J),Xe.drawArrays(Xe.TRIANGLES,0,3)})}),Xe.isContextLost())throw Le(),new Error("webgl context lost")})}function pe(fe){var J=!fe||fe===H?V:fe.canvas||fe,K=U.get(J);if(K===void 0){W=!0;var xe=null;try{var Me=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],he=ee(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,fe);K=he&&Me.length===he.length&&he.every(function(Te,ze){return Te===Me[ze]}),K||(xe="bad trial run results",console.info(Me,he))}catch(Te){K=!1,xe=Te.message}xe&&console.warn("WebGL SDF generation not supported:",xe),W=!1,U.set(J,K)}return K}var j=Object.freeze({__proto__:null,generate:ee,generateIntoCanvas:te,generateIntoFramebuffer:oe,isSupported:pe});function ae(fe,J,K,xe,Me,he){Me===void 0&&(Me=Math.max(xe[2]-xe[0],xe[3]-xe[1])/2),he===void 0&&(he=1);try{return ee.apply(j,arguments)}catch(Te){return console.info("WebGL SDF generation failed, falling back to JS",Te),T.apply(L,arguments)}}function le(fe,J,K,xe,Me,he,Te,ze,Be,ke){Me===void 0&&(Me=Math.max(xe[2]-xe[0],xe[3]-xe[1])/2),he===void 0&&(he=1),ze===void 0&&(ze=0),Be===void 0&&(Be=0),ke===void 0&&(ke=0);try{return te.apply(j,arguments)}catch(yt){return console.info("WebGL SDF generation failed, falling back to JS",yt),A.apply(L,arguments)}}return e.forEachPathCommand=r,e.generate=ae,e.generateIntoCanvas=le,e.javascript=L,e.pathToLineSegments=a,e.webgl=j,e.webglUtils=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function zne(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(Le,ct){i[Le]=1<<ct+1,r[i[Le]]=Le}),Object.freeze(i);var a=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,l=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,u=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,f=i.S|i.WS|i.B|a|i.PDI|u,p=null;function g(){if(!p){p=new Map;var Le=function(We){if(t.hasOwnProperty(We)){var Ie=0;t[We].split(",").forEach(function(ut){var ue=ut.split("+"),$=ue[0],be=ue[1];$=parseInt($,36),be=be?parseInt(be,36):0,p.set(Ie+=$,i[We]);for(var De=0;De<be;De++)p.set(++Ie,i[We])})}};for(var ct in t)Le(ct)}}function v(Le){return g(),p.get(Le.codePointAt(0))||i.L}function S(Le){return r[v(Le)]}var T={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function A(Le,ct){var We=36,Ie=0,ut=new Map,ue=ct&&new Map,$;return Le.split(",").forEach(function be(De){if(De.indexOf("+")!==-1)for(var Re=+De;Re--;)be($);else{$=De;var Ne=De.split(">"),at=Ne[0],nt=Ne[1];at=String.fromCodePoint(Ie+=parseInt(at,We)),nt=String.fromCodePoint(Ie+=parseInt(nt,We)),ut.set(at,nt),ct&&ue.set(nt,at)}}),{map:ut,reverseMap:ue}}var w,E,L;function O(){if(!w){var Le=A(T.pairs,!0),ct=Le.map,We=Le.reverseMap;w=ct,E=We,L=A(T.canonical,!1).map}}function N(Le){return O(),w.get(Le)||null}function z(Le){return O(),E.get(Le)||null}function I(Le){return O(),L.get(Le)||null}var H=i.L,W=i.R,V=i.EN,U=i.ES,Q=i.ET,ee=i.AN,te=i.CS,oe=i.B,pe=i.S,j=i.ON,ae=i.BN,le=i.NSM,fe=i.AL,J=i.LRO,K=i.RLO,xe=i.LRE,Me=i.RLE,he=i.PDF,Te=i.LRI,ze=i.RLI,Be=i.FSI,ke=i.PDI;function yt(Le,ct){for(var We=125,Ie=new Uint32Array(Le.length),ut=0;ut<Le.length;ut++)Ie[ut]=v(Le[ut]);var ue=new Map;function $(Nn,Ba){var Rr=Ie[Nn];Ie[Nn]=Ba,ue.set(Rr,ue.get(Rr)-1),Rr&l&&ue.set(l,ue.get(l)-1),ue.set(Ba,(ue.get(Ba)||0)+1),Ba&l&&ue.set(l,(ue.get(l)||0)+1)}for(var be=new Uint8Array(Le.length),De=new Map,Re=[],Ne=null,at=0;at<Le.length;at++)Ne||Re.push(Ne={start:at,end:Le.length-1,level:ct==="rtl"?1:ct==="ltr"?0:ta(at,!1)}),Ie[at]&oe&&(Ne.end=at,Ne=null);for(var nt=Me|xe|K|J|a|ke|he|oe,vt=function(Nn){return Nn+(Nn&1?1:2)},Rt=function(Nn){return Nn+(Nn&1?2:1)},Ye=0;Ye<Re.length;Ye++){Ne=Re[Ye];var ot=[{_level:Ne.level,_override:0,_isolate:0}],Ce=void 0,Ee=0,Fe=0,wt=0;ue.clear();for(var Ae=Ne.start;Ae<=Ne.end;Ae++){var xt=Ie[Ae];if(Ce=ot[ot.length-1],ue.set(xt,(ue.get(xt)||0)+1),xt&l&&ue.set(l,(ue.get(l)||0)+1),xt&nt)if(xt&(Me|xe)){be[Ae]=Ce._level;var mt=(xt===Me?Rt:vt)(Ce._level);mt<=We&&!Ee&&!Fe?ot.push({_level:mt,_override:0,_isolate:0}):Ee||Fe++}else if(xt&(K|J)){be[Ae]=Ce._level;var Lt=(xt===K?Rt:vt)(Ce._level);Lt<=We&&!Ee&&!Fe?ot.push({_level:Lt,_override:xt&K?W:H,_isolate:0}):Ee||Fe++}else if(xt&a){xt&Be&&(xt=ta(Ae+1,!0)===1?ze:Te),be[Ae]=Ce._level,Ce._override&&$(Ae,Ce._override);var bt=(xt===ze?Rt:vt)(Ce._level);bt<=We&&Ee===0&&Fe===0?(wt++,ot.push({_level:bt,_override:0,_isolate:1,_isolInitIndex:Ae})):Ee++}else if(xt&ke){if(Ee>0)Ee--;else if(wt>0){for(Fe=0;!ot[ot.length-1]._isolate;)ot.pop();var ft=ot[ot.length-1]._isolInitIndex;ft!=null&&(De.set(ft,Ae),De.set(Ae,ft)),ot.pop(),wt--}Ce=ot[ot.length-1],be[Ae]=Ce._level,Ce._override&&$(Ae,Ce._override)}else xt&he?(Ee===0&&(Fe>0?Fe--:!Ce._isolate&&ot.length>1&&(ot.pop(),Ce=ot[ot.length-1])),be[Ae]=Ce._level):xt&oe&&(be[Ae]=Ne.level);else be[Ae]=Ce._level,Ce._override&&xt!==ae&&$(Ae,Ce._override)}for(var Ut=[],It=null,Ht=Ne.start;Ht<=Ne.end;Ht++){var $t=Ie[Ht];if(!($t&u)){var ei=be[Ht],Pn=$t&a,Hn=$t===ke;It&&ei===It._level?(It._end=Ht,It._endsWithIsolInit=Pn):Ut.push(It={_start:Ht,_end:Ht,_level:ei,_startsWithPDI:Hn,_endsWithIsolInit:Pn})}}for(var mi=[],Ri=0;Ri<Ut.length;Ri++){var En=Ut[Ri];if(!En._startsWithPDI||En._startsWithPDI&&!De.has(En._start)){for(var F=[It=En],X=void 0;It&&It._endsWithIsolInit&&(X=De.get(It._end))!=null;)for(var Tt=Ri+1;Tt<Ut.length;Tt++)if(Ut[Tt]._start===X){F.push(It=Ut[Tt]);break}for(var re=[],we=0;we<F.length;we++)for(var ti=F[we],jt=ti._start;jt<=ti._end;jt++)re.push(jt);for(var Qi=be[re[0]],la=Ne.level,qt=re[0]-1;qt>=0;qt--)if(!(Ie[qt]&u)){la=be[qt];break}var wi=re[re.length-1],zr=be[wi],ca=Ne.level;if(!(Ie[wi]&a)){for(var G=wi+1;G<=Ne.end;G++)if(!(Ie[G]&u)){ca=be[G];break}}mi.push({_seqIndices:re,_sosType:Math.max(la,Qi)%2?W:H,_eosType:Math.max(ca,zr)%2?W:H})}}for(var Ve=0;Ve<mi.length;Ve++){var me=mi[Ve],He=me._seqIndices,Ke=me._sosType,Pt=me._eosType,Ft=be[He[0]]&1?W:H;if(ue.get(le))for(var Et=0;Et<He.length;Et++){var Xt=He[Et];if(Ie[Xt]&le){for(var cn=Ke,sn=Et-1;sn>=0;sn--)if(!(Ie[He[sn]]&u)){cn=Ie[He[sn]];break}$(Xt,cn&(a|ke)?j:cn)}}if(ue.get(V))for(var nn=0;nn<He.length;nn++){var wn=He[nn];if(Ie[wn]&V)for(var bn=nn-1;bn>=-1;bn--){var Ti=bn===-1?Ke:Ie[He[bn]];if(Ti&o){Ti===fe&&$(wn,ee);break}}}if(ue.get(fe))for(var Bn=0;Bn<He.length;Bn++){var qn=He[Bn];Ie[qn]&fe&&$(qn,W)}if(ue.get(U)||ue.get(te))for(var ln=1;ln<He.length-1;ln++){var Li=He[ln];if(Ie[Li]&(U|te)){for(var On=0,li=0,La=ln-1;La>=0&&(On=Ie[He[La]],!!(On&u));La--);for(var gi=ln+1;gi<He.length&&(li=Ie[He[gi]],!!(li&u));gi++);On===li&&(Ie[Li]===U?On===V:On&(V|ee))&&$(Li,On)}}if(ue.get(V))for(var wr=0;wr<He.length;wr++){var yi=He[wr];if(Ie[yi]&V){for(var Mr=wr-1;Mr>=0&&Ie[He[Mr]]&(Q|u);Mr--)$(He[Mr],V);for(wr++;wr<He.length&&Ie[He[wr]]&(Q|u|V);wr++)Ie[He[wr]]!==V&&$(He[wr],V)}}if(ue.get(Q)||ue.get(U)||ue.get(te))for(var Fi=0;Fi<He.length;Fi++){var Ar=He[Fi];if(Ie[Ar]&(Q|U|te)){$(Ar,j);for(var hr=Fi-1;hr>=0&&Ie[He[hr]]&u;hr--)$(He[hr],j);for(var dr=Fi+1;dr<He.length&&Ie[He[dr]]&u;dr++)$(He[dr],j)}}if(ue.get(V))for(var za=0,$o=Ke;za<He.length;za++){var hc=He[za],st=Ie[hc];st&V?$o===H&&$(hc,H):st&o&&($o=st)}if(ue.get(l)){var vi=W|V|ee,Ws=vi|H,Jr=[];{for(var qs=[],Xs=0;Xs<He.length;Xs++)if(Ie[He[Xs]]&l){var Pa=Le[He[Xs]],rs=void 0;if(N(Pa)!==null)if(qs.length<63)qs.push({char:Pa,seqIndex:Xs});else break;else if((rs=z(Pa))!==null)for(var _s=qs.length-1;_s>=0;_s--){var Wt=qs[_s].char;if(Wt===rs||Wt===z(I(Pa))||N(I(Wt))===Pa){Jr.push([qs[_s].seqIndex,Xs]),qs.length=_s;break}}}Jr.sort(function(Nn,Ba){return Nn[0]-Ba[0]})}for(var as=0;as<Jr.length;as++){for(var Ms=Jr[as],si=Ms[0],ua=Ms[1],el=!1,Cr=0,dc=si+1;dc<ua;dc++){var pc=He[dc];if(Ie[pc]&Ws){el=!0;var Ji=Ie[pc]&vi?W:H;if(Ji===Ft){Cr=Ji;break}}}if(el&&!Cr){Cr=Ke;for(var qa=si-1;qa>=0;qa--){var _o=He[qa];if(Ie[_o]&Ws){var Mo=Ie[_o]&vi?W:H;Mo!==Ft?Cr=Mo:Cr=Ft;break}}}if(Cr){if(Ie[He[si]]=Ie[He[ua]]=Cr,Cr!==Ft){for(var pr=si+1;pr<He.length;pr++)if(!(Ie[He[pr]]&u)){v(Le[He[pr]])&le&&(Ie[He[pr]]=Cr);break}}if(Cr!==Ft){for(var $r=ua+1;$r<He.length;$r++)if(!(Ie[He[$r]]&u)){v(Le[He[$r]])&le&&(Ie[He[$r]]=Cr);break}}}}for(var Sn=0;Sn<He.length;Sn++)if(Ie[He[Sn]]&l){for(var Ts=Sn,Nl=Sn,Xa=Ke,$i=Sn-1;$i>=0;$i--)if(Ie[He[$i]]&u)Ts=$i;else{Xa=Ie[He[$i]]&vi?W:H;break}for(var ea=Pt,Es=Sn+1;Es<He.length;Es++)if(Ie[He[Es]]&(l|u))Nl=Es;else{ea=Ie[He[Es]]&vi?W:H;break}for(var kt=Ts;kt<=Nl;kt++)Ie[He[kt]]=Xa===ea?Xa:Ft;Sn=Nl}}}for(var zi=Ne.start;zi<=Ne.end;zi++){var Wu=be[zi],er=Ie[zi];if(Wu&1?er&(H|V|ee)&&be[zi]++:er&W?be[zi]++:er&(ee|V)&&(be[zi]+=2),er&u&&(be[zi]=zi===0?Ne.level:be[zi-1]),zi===Ne.end||v(Le[zi])&(pe|oe))for(var Ys=zi;Ys>=0&&v(Le[Ys])&f;Ys--)be[Ys]=Ne.level}}return{levels:be,paragraphs:Re};function ta(Nn,Ba){for(var Rr=Nn;Rr<Le.length;Rr++){var Ya=Ie[Rr];if(Ya&(W|fe))return 1;if(Ya&(oe|H)||Ba&&Ya===ke)return 0;if(Ya&a){var qu=Ks(Rr);Rr=qu===-1?Le.length:qu}}return 0}function Ks(Nn){for(var Ba=1,Rr=Nn+1;Rr<Le.length;Rr++){var Ya=Ie[Rr];if(Ya&oe)break;if(Ya&ke){if(--Ba===0)return Rr}else Ya&a&&Ba++}return-1}}var Qe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Je;function Xe(){if(!Je){var Le=A(Qe,!0),ct=Le.map,We=Le.reverseMap;We.forEach(function(Ie,ut){ct.set(ut,Ie)}),Je=ct}}function Mt(Le){return Xe(),Je.get(Le)||null}function ce(Le,ct,We,Ie){var ut=Le.length;We=Math.max(0,We==null?0:+We),Ie=Math.min(ut-1,Ie==null?ut-1:+Ie);for(var ue=new Map,$=We;$<=Ie;$++)if(ct[$]&1){var be=Mt(Le[$]);be!==null&&ue.set($,be)}return ue}function rt(Le,ct,We,Ie){var ut=Le.length;We=Math.max(0,We==null?0:+We),Ie=Math.min(ut-1,Ie==null?ut-1:+Ie);var ue=[];return ct.paragraphs.forEach(function($){var be=Math.max(We,$.start),De=Math.min(Ie,$.end);if(be<De){for(var Re=ct.levels.slice(be,De+1),Ne=De;Ne>=be&&v(Le[Ne])&f;Ne--)Re[Ne]=$.level;for(var at=$.level,nt=1/0,vt=0;vt<Re.length;vt++){var Rt=Re[vt];Rt>at&&(at=Rt),Rt<nt&&(nt=Rt|1)}for(var Ye=at;Ye>=nt;Ye--)for(var ot=0;ot<Re.length;ot++)if(Re[ot]>=Ye){for(var Ce=ot;ot+1<Re.length&&Re[ot+1]>=Ye;)ot++;ot>Ce&&ue.push([Ce+be,ot+be])}}}),ue}function tt(Le,ct,We,Ie){var ut=Ze(Le,ct,We,Ie),ue=[].concat(Le);return ut.forEach(function($,be){ue[be]=(ct.levels[$]&1?Mt(Le[$]):null)||Le[$]}),ue.join("")}function Ze(Le,ct,We,Ie){for(var ut=rt(Le,ct,We,Ie),ue=[],$=0;$<Le.length;$++)ue[$]=$;return ut.forEach(function(be){for(var De=be[0],Re=be[1],Ne=ue.slice(De,Re+1),at=Ne.length;at--;)ue[Re-at]=Ne[at]}),ue}return e.closingToOpeningBracket=z,e.getBidiCharType=v,e.getBidiCharTypeName=S,e.getCanonicalBracket=I,e.getEmbeddingLevels=yt,e.getMirroredCharacter=Mt,e.getMirroredCharactersMap=ce,e.getReorderSegments=rt,e.getReorderedIndices=Ze,e.getReorderedString=tt,e.openingToClosingBracket=N,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const yN=/\bvoid\s+main\s*\(\s*\)\s*{/g;function P5(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let a=Qn[r];return a?P5(a):i}return n.replace(e,t)}const gs=[];for(let n=0;n<256;n++)gs[n]=(n<16?"0":"")+n.toString(16);function Pne(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gs[n&255]+gs[n>>8&255]+gs[n>>16&255]+gs[n>>24&255]+"-"+gs[e&255]+gs[e>>8&255]+"-"+gs[e>>16&15|64]+gs[e>>24&255]+"-"+gs[t&63|128]+gs[t>>8&255]+"-"+gs[t>>16&255]+gs[t>>24&255]+gs[i&255]+gs[i>>8&255]+gs[i>>16&255]+gs[i>>24&255]).toUpperCase()}const s0=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Bne=Date.now(),C8=new WeakMap,R8=new Map;let Ine=1e10;function B5(n,e){const t=Hne(e);let i=C8.get(n);if(i||C8.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,a=function(f,p){n.onBeforeCompile.call(this,f,p);const g=this.customProgramCacheKey()+"|"+f.vertexShader+"|"+f.fragmentShader;let v=R8[g];if(!v){const S=kne(this,f,e,t);v=R8[g]=S}f.vertexShader=v.vertexShader,f.fragmentShader=v.fragmentShader,s0(f.uniforms,this.uniforms),e.timeUniform&&(f.uniforms[e.timeUniform]={get value(){return Date.now()-Bne}}),this[r]&&this[r](f)},o=function(){return l(e.chained?n:n.clone())},l=function(f){const p=Object.create(f,u);return Object.defineProperty(p,"baseMaterial",{value:n}),Object.defineProperty(p,"id",{value:Ine++}),p.uuid=Pne(),p.uniforms=s0({},f.uniforms,e.uniforms),p.defines=s0({},f.defines,e.defines),p.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",p.extensions=s0({},f.extensions,e.extensions),p._listeners=void 0,p},u={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:f=>{n.type=f}},isDerivedFrom:{writable:!0,configurable:!0,value:function(f){const p=this.baseMaterial;return f===p||p.isDerivedMaterial&&p.isDerivedFrom(f)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return a},set(f){this[r]=f}},copy:{writable:!0,configurable:!0,value:function(f){return n.copy.call(this,f),!n.isShaderMaterial&&!n.isDerivedMaterial&&(s0(this.extensions,f.extensions),s0(this.defines,f.defines),s0(this.uniforms,ty.clone(f.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const f=new n.constructor;return l(f).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let f=this._depthMaterial;return f||(f=this._depthMaterial=B5(n.isDerivedMaterial?n.getDepthMaterial():new B4({depthPacking:n6}),e),f.defines.IS_DEPTH_MATERIAL="",f.uniforms=this.uniforms),f}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let f=this._distanceMaterial;return f||(f=this._distanceMaterial=B5(n.isDerivedMaterial?n.getDistanceMaterial():new I4,e),f.defines.IS_DISTANCE_MATERIAL="",f.uniforms=this.uniforms),f}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:f,_distanceMaterial:p}=this;f&&f.dispose(),p&&p.dispose(),n.dispose.call(this)}}};return i[t]=o,new o}function kne(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:l,vertexTransform:u,fragmentDefs:f,fragmentMainIntro:p,fragmentMainOutro:g,fragmentColorTransform:v,customRewriter:S,timeUniform:T}=i;if(a=a||"",o=o||"",l=l||"",f=f||"",p=p||"",g=g||"",(u||S)&&(e=P5(e)),(v||S)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=P5(t)),S){let A=S({vertexShader:e,fragmentShader:t});e=A.vertexShader,t=A.fragmentShader}if(v){let A=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,w=>(A.push(w),"")),g=`${v}
${A.join(`
`)}
${g}`}if(T){const A=`
uniform float ${T};
`;a=A+a,f=A+f}return u&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,a=`${a}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(A,w,E,L)=>/\battribute\s+vec[23]\s+$/.test(L.substr(0,E))?w:`troika_${w}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=D8(e,r,a,o,l),t=D8(t,r,f,p,g),{vertexShader:e,fragmentShader:t}}function D8(n,e,t,i,r){return(i||r||t)&&(n=n.replace(yN,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function Fne(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Vne=0;const O8=new Map;function Hne(n){const e=JSON.stringify(n,Fne);let t=O8.get(e);return t==null&&O8.set(e,t=++Vne),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Gne(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var a=e._bin,o=new Uint8Array(r);if(a.readASCII(o,0,4)=="ttcf"){var l=4;a.readUshort(o,l),l+=2,a.readUshort(o,l),l+=2;var u=a.readUint(o,l);l+=4;for(var f=[],p=0;p<u;p++){var g=a.readUint(o,l);l+=4,f.push(e._readFont(o,g))}return f}return[e._readFont(o,0)]},_readFont:function(r,a){var o=e._bin,l=a;o.readFixed(r,a),a+=4;var u=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2;for(var f=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],p={_data:r,_offset:l},g={},v=0;v<u;v++){var S=o.readASCII(r,a,4);a+=4,o.readUint(r,a),a+=4;var T=o.readUint(r,a);a+=4;var A=o.readUint(r,a);a+=4,g[S]={offset:T,length:A}}for(v=0;v<f.length;v++){var w=f[v];g[w]&&(p[w.trim()]=e[w.trim()].parse(r,g[w].offset,g[w].length,p))}return p},_tabOffset:function(r,a,o){for(var l=e._bin,u=l.readUshort(r,o+4),f=o+12,p=0;p<u;p++){var g=l.readASCII(r,f,4);f+=4,l.readUint(r,f),f+=4;var v=l.readUint(r,f);if(f+=4,l.readUint(r,f),f+=4,g==a)return v}return 0}};e._bin={readFixed:function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<8|r[a+3])/65540},readF2dot14:function(r,a){return e._bin.readShort(r,a)/16384},readInt:function(r,a){return e._bin._view(r).getInt32(a)},readInt8:function(r,a){return e._bin._view(r).getInt8(a)},readShort:function(r,a){return e._bin._view(r).getInt16(a)},readUshort:function(r,a){return e._bin._view(r).getUint16(a)},readUshorts:function(r,a,o){for(var l=[],u=0;u<o;u++)l.push(e._bin.readUshort(r,a+2*u));return l},readUint:function(r,a){return e._bin._view(r).getUint32(a)},readUint64:function(r,a){return 4294967296*e._bin.readUint(r,a)+e._bin.readUint(r,a+4)},readASCII:function(r,a,o){for(var l="",u=0;u<o;u++)l+=String.fromCharCode(r[a+u]);return l},readUnicode:function(r,a,o){for(var l="",u=0;u<o;u++){var f=r[a++]<<8|r[a++];l+=String.fromCharCode(f)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,a,o){var l=e._bin._tdec;return l&&a==0&&o==r.length?l.decode(r):e._bin.readASCII(r,a,o)},readBytes:function(r,a,o){for(var l=[],u=0;u<o;u++)l.push(r[a+u]);return l},readASCIIArray:function(r,a,o){for(var l=[],u=0;u<o;u++)l.push(String.fromCharCode(r[a+u]));return l},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,a,o,l,u){var f=e._bin,p={},g=a;f.readFixed(r,a),a+=4;var v=f.readUshort(r,a);a+=2;var S=f.readUshort(r,a);a+=2;var T=f.readUshort(r,a);return a+=2,p.scriptList=e._lctf.readScriptList(r,g+v),p.featureList=e._lctf.readFeatureList(r,g+S),p.lookupList=e._lctf.readLookupList(r,g+T,u),p},e._lctf.readLookupList=function(r,a,o){var l=e._bin,u=a,f=[],p=l.readUshort(r,a);a+=2;for(var g=0;g<p;g++){var v=l.readUshort(r,a);a+=2;var S=e._lctf.readLookupTable(r,u+v,o);f.push(S)}return f},e._lctf.readLookupTable=function(r,a,o){var l=e._bin,u=a,f={tabs:[]};f.ltype=l.readUshort(r,a),a+=2,f.flag=l.readUshort(r,a),a+=2;var p=l.readUshort(r,a);a+=2;for(var g=f.ltype,v=0;v<p;v++){var S=l.readUshort(r,a);a+=2;var T=o(r,g,u+S,f);f.tabs.push(T)}return f},e._lctf.numOfOnes=function(r){for(var a=0,o=0;o<32;o++)(r>>>o&1)!=0&&a++;return a},e._lctf.readClassDef=function(r,a){var o=e._bin,l=[],u=o.readUshort(r,a);if(a+=2,u==1){var f=o.readUshort(r,a);a+=2;var p=o.readUshort(r,a);a+=2;for(var g=0;g<p;g++)l.push(f+g),l.push(f+g),l.push(o.readUshort(r,a)),a+=2}if(u==2){var v=o.readUshort(r,a);for(a+=2,g=0;g<v;g++)l.push(o.readUshort(r,a)),a+=2,l.push(o.readUshort(r,a)),a+=2,l.push(o.readUshort(r,a)),a+=2}return l},e._lctf.getInterval=function(r,a){for(var o=0;o<r.length;o+=3){var l=r[o],u=r[o+1];if(r[o+2],l<=a&&a<=u)return o}return-1},e._lctf.readCoverage=function(r,a){var o=e._bin,l={};l.fmt=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);return a+=2,l.fmt==1&&(l.tab=o.readUshorts(r,a,u)),l.fmt==2&&(l.tab=o.readUshorts(r,a,3*u)),l},e._lctf.coverageIndex=function(r,a){var o=r.tab;if(r.fmt==1)return o.indexOf(a);if(r.fmt==2){var l=e._lctf.getInterval(o,a);if(l!=-1)return o[l+2]+(a-o[l])}return-1},e._lctf.readFeatureList=function(r,a){var o=e._bin,l=a,u=[],f=o.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=o.readASCII(r,a,4);a+=4;var v=o.readUshort(r,a);a+=2;var S=e._lctf.readFeatureTable(r,l+v);S.tag=g.trim(),u.push(S)}return u},e._lctf.readFeatureTable=function(r,a){var o=e._bin,l=a,u={},f=o.readUshort(r,a);a+=2,f>0&&(u.featureParams=l+f);var p=o.readUshort(r,a);a+=2,u.tab=[];for(var g=0;g<p;g++)u.tab.push(o.readUshort(r,a+2*g));return u},e._lctf.readScriptList=function(r,a){var o=e._bin,l=a,u={},f=o.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=o.readASCII(r,a,4);a+=4;var v=o.readUshort(r,a);a+=2,u[g.trim()]=e._lctf.readScriptTable(r,l+v)}return u},e._lctf.readScriptTable=function(r,a){var o=e._bin,l=a,u={},f=o.readUshort(r,a);a+=2,f>0&&(u.default=e._lctf.readLangSysTable(r,l+f));var p=o.readUshort(r,a);a+=2;for(var g=0;g<p;g++){var v=o.readASCII(r,a,4);a+=4;var S=o.readUshort(r,a);a+=2,u[v.trim()]=e._lctf.readLangSysTable(r,l+S)}return u},e._lctf.readLangSysTable=function(r,a){var o=e._bin,l={};o.readUshort(r,a),a+=2,l.reqFeature=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);return a+=2,l.features=o.readUshorts(r,a,u),l},e.CFF={},e.CFF.parse=function(r,a,o){var l=e._bin;(r=new Uint8Array(r.buffer,a,o))[a=0],r[++a],r[++a],r[++a],a++;var u=[];a=e.CFF.readIndex(r,a,u);for(var f=[],p=0;p<u.length-1;p++)f.push(l.readASCII(r,a+u[p],u[p+1]-u[p]));a+=u[u.length-1];var g=[];a=e.CFF.readIndex(r,a,g);var v=[];for(p=0;p<g.length-1;p++)v.push(e.CFF.readDict(r,a+g[p],a+g[p+1]));a+=g[g.length-1];var S=v[0],T=[];a=e.CFF.readIndex(r,a,T);var A=[];for(p=0;p<T.length-1;p++)A.push(l.readASCII(r,a+T[p],T[p+1]-T[p]));if(a+=T[T.length-1],e.CFF.readSubrs(r,a,S),S.CharStrings){a=S.CharStrings,T=[],a=e.CFF.readIndex(r,a,T);var w=[];for(p=0;p<T.length-1;p++)w.push(l.readBytes(r,a+T[p],T[p+1]-T[p]));S.CharStrings=w}if(S.ROS){a=S.FDArray;var E=[];for(a=e.CFF.readIndex(r,a,E),S.FDArray=[],p=0;p<E.length-1;p++){var L=e.CFF.readDict(r,a+E[p],a+E[p+1]);e.CFF._readFDict(r,L,A),S.FDArray.push(L)}a+=E[E.length-1],a=S.FDSelect,S.FDSelect=[];var O=r[a];if(a++,O!=3)throw O;var N=l.readUshort(r,a);for(a+=2,p=0;p<N+1;p++)S.FDSelect.push(l.readUshort(r,a),r[a+2]),a+=3}return S.Encoding&&(S.Encoding=e.CFF.readEncoding(r,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=e.CFF.readCharset(r,S.charset,S.CharStrings.length)),e.CFF._readFDict(r,S,A),S},e.CFF._readFDict=function(r,a,o){var l;for(var u in a.Private&&(l=a.Private[1],a.Private=e.CFF.readDict(r,l,l+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(r,l+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(a[u]=o[a[u]-426+35])},e.CFF.readSubrs=function(r,a,o){var l=e._bin,u=[];a=e.CFF.readIndex(r,a,u);var f,p=u.length;f=p<1240?107:p<33900?1131:32768,o.Bias=f,o.Subrs=[];for(var g=0;g<u.length-1;g++)o.Subrs.push(l.readBytes(r,a+u[g],u[g+1]-u[g]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,a){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(r,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[a])},e.CFF.readEncoding=function(r,a,o){e._bin;var l=[".notdef"],u=r[a];if(a++,u!=0)throw"error: unknown encoding format: "+u;var f=r[a];a++;for(var p=0;p<f;p++)l.push(r[a+p]);return l},e.CFF.readCharset=function(r,a,o){var l=e._bin,u=[".notdef"],f=r[a];if(a++,f==0)for(var p=0;p<o;p++){var g=l.readUshort(r,a);a+=2,u.push(g)}else{if(f!=1&&f!=2)throw"error: format: "+f;for(;u.length<o;){g=l.readUshort(r,a),a+=2;var v=0;for(f==1?(v=r[a],a++):(v=l.readUshort(r,a),a+=2),p=0;p<=v;p++)u.push(g),g++}}return u},e.CFF.readIndex=function(r,a,o){var l=e._bin,u=l.readUshort(r,a)+1,f=r[a+=2];if(a++,f==1)for(var p=0;p<u;p++)o.push(r[a+p]);else if(f==2)for(p=0;p<u;p++)o.push(l.readUshort(r,a+2*p));else if(f==3)for(p=0;p<u;p++)o.push(16777215&l.readUint(r,a+3*p-1));else if(u!=1)throw"unsupported offset size: "+f+", count: "+u;return(a+=u*f)-1},e.CFF.getCharString=function(r,a,o){var l=e._bin,u=r[a],f=r[a+1];r[a+2],r[a+3],r[a+4];var p=1,g=null,v=null;u<=20&&(g=u,p=1),u==12&&(g=100*u+f,p=2),21<=u&&u<=27&&(g=u,p=1),u==28&&(v=l.readShort(r,a+1),p=3),29<=u&&u<=31&&(g=u,p=1),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,p=2),u==255&&(v=l.readInt(r,a+1)/65535,p=5),o.val=v??"o"+g,o.size=p},e.CFF.readCharString=function(r,a,o){for(var l=a+o,u=e._bin,f=[];a<l;){var p=r[a],g=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,S=null,T=null;p<=20&&(S=p,v=1),p==12&&(S=100*p+g,v=2),p!=19&&p!=20||(S=p,v=2),21<=p&&p<=27&&(S=p,v=1),p==28&&(T=u.readShort(r,a+1),v=3),29<=p&&p<=31&&(S=p,v=1),32<=p&&p<=246&&(T=p-139,v=1),247<=p&&p<=250&&(T=256*(p-247)+g+108,v=2),251<=p&&p<=254&&(T=256*-(p-251)-g-108,v=2),p==255&&(T=u.readInt(r,a+1)/65535,v=5),f.push(T??"o"+S),a+=v}return f},e.CFF.readDict=function(r,a,o){for(var l=e._bin,u={},f=[];a<o;){var p=r[a],g=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,S=null,T=null;if(p==28&&(T=l.readShort(r,a+1),v=3),p==29&&(T=l.readInt(r,a+1),v=5),32<=p&&p<=246&&(T=p-139,v=1),247<=p&&p<=250&&(T=256*(p-247)+g+108,v=2),251<=p&&p<=254&&(T=256*-(p-251)-g-108,v=2),p==255)throw T=l.readInt(r,a+1)/65535,v=5,"unknown number";if(p==30){var A=[];for(v=1;;){var w=r[a+v];v++;var E=w>>4,L=15&w;if(E!=15&&A.push(E),L!=15&&A.push(L),L==15)break}for(var O="",N=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],z=0;z<A.length;z++)O+=N[A[z]];T=parseFloat(O)}p<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][p],v=1,p==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][g],v=2)),S!=null?(u[S]=f.length==1?f[0]:f,f=[]):f.push(T),a+=v}return u},e.cmap={},e.cmap.parse=function(r,a,o){r=new Uint8Array(r.buffer,a,o),a=0;var l=e._bin,u={};l.readUshort(r,a),a+=2;var f=l.readUshort(r,a);a+=2;var p=[];u.tables=[];for(var g=0;g<f;g++){var v=l.readUshort(r,a);a+=2;var S=l.readUshort(r,a);a+=2;var T=l.readUint(r,a);a+=4;var A="p"+v+"e"+S,w=p.indexOf(T);if(w==-1){var E;w=u.tables.length,p.push(T);var L=l.readUshort(r,T);L==0?E=e.cmap.parse0(r,T):L==4?E=e.cmap.parse4(r,T):L==6?E=e.cmap.parse6(r,T):L==12?E=e.cmap.parse12(r,T):console.debug("unknown format: "+L,v,S,T),u.tables.push(E)}if(u[A]!=null)throw"multiple tables for one platform+encoding";u[A]=w}return u},e.cmap.parse0=function(r,a){var o=e._bin,l={};l.format=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2,l.map=[];for(var f=0;f<u-6;f++)l.map.push(r[a+f]);return l},e.cmap.parse4=function(r,a){var o=e._bin,l=a,u={};u.format=o.readUshort(r,a),a+=2;var f=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2;var p=o.readUshort(r,a);a+=2;var g=p/2;u.searchRange=o.readUshort(r,a),a+=2,u.entrySelector=o.readUshort(r,a),a+=2,u.rangeShift=o.readUshort(r,a),a+=2,u.endCount=o.readUshorts(r,a,g),a+=2*g,a+=2,u.startCount=o.readUshorts(r,a,g),a+=2*g,u.idDelta=[];for(var v=0;v<g;v++)u.idDelta.push(o.readShort(r,a)),a+=2;for(u.idRangeOffset=o.readUshorts(r,a,g),a+=2*g,u.glyphIdArray=[];a<l+f;)u.glyphIdArray.push(o.readUshort(r,a)),a+=2;return u},e.cmap.parse6=function(r,a){var o=e._bin,l={};l.format=o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,l.firstCode=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2,l.glyphIdArray=[];for(var f=0;f<u;f++)l.glyphIdArray.push(o.readUshort(r,a)),a+=2;return l},e.cmap.parse12=function(r,a){var o=e._bin,l={};l.format=o.readUshort(r,a),a+=2,a+=2,o.readUint(r,a),a+=4,o.readUint(r,a),a+=4;var u=o.readUint(r,a);a+=4,l.groups=[];for(var f=0;f<u;f++){var p=a+12*f,g=o.readUint(r,p+0),v=o.readUint(r,p+4),S=o.readUint(r,p+8);l.groups.push([g,v,S])}return l},e.glyf={},e.glyf.parse=function(r,a,o,l){for(var u=[],f=0;f<l.maxp.numGlyphs;f++)u.push(null);return u},e.glyf._parseGlyf=function(r,a){var o=e._bin,l=r._data,u=e._tabOffset(l,"glyf",r._offset)+r.loca[a];if(r.loca[a]==r.loca[a+1])return null;var f={};if(f.noc=o.readShort(l,u),u+=2,f.xMin=o.readShort(l,u),u+=2,f.yMin=o.readShort(l,u),u+=2,f.xMax=o.readShort(l,u),u+=2,f.yMax=o.readShort(l,u),u+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var p=0;p<f.noc;p++)f.endPts.push(o.readUshort(l,u)),u+=2;var g=o.readUshort(l,u);if(u+=2,l.length-u<g)return null;f.instructions=o.readBytes(l,u,g),u+=g;var v=f.endPts[f.noc-1]+1;for(f.flags=[],p=0;p<v;p++){var S=l[u];if(u++,f.flags.push(S),(8&S)!=0){var T=l[u];u++;for(var A=0;A<T;A++)f.flags.push(S),p++}}for(f.xs=[],p=0;p<v;p++){var w=(2&f.flags[p])!=0,E=(16&f.flags[p])!=0;w?(f.xs.push(E?l[u]:-l[u]),u++):E?f.xs.push(0):(f.xs.push(o.readShort(l,u)),u+=2)}for(f.ys=[],p=0;p<v;p++)w=(4&f.flags[p])!=0,E=(32&f.flags[p])!=0,w?(f.ys.push(E?l[u]:-l[u]),u++):E?f.ys.push(0):(f.ys.push(o.readShort(l,u)),u+=2);var L=0,O=0;for(p=0;p<v;p++)L+=f.xs[p],O+=f.ys[p],f.xs[p]=L,f.ys[p]=O}else{var N;f.parts=[];do{N=o.readUshort(l,u),u+=2;var z={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(z),z.glyphIndex=o.readUshort(l,u),u+=2,1&N){var I=o.readShort(l,u);u+=2;var H=o.readShort(l,u);u+=2}else I=o.readInt8(l,u),u++,H=o.readInt8(l,u),u++;2&N?(z.m.tx=I,z.m.ty=H):(z.p1=I,z.p2=H),8&N?(z.m.a=z.m.d=o.readF2dot14(l,u),u+=2):64&N?(z.m.a=o.readF2dot14(l,u),u+=2,z.m.d=o.readF2dot14(l,u),u+=2):128&N&&(z.m.a=o.readF2dot14(l,u),u+=2,z.m.b=o.readF2dot14(l,u),u+=2,z.m.c=o.readF2dot14(l,u),u+=2,z.m.d=o.readF2dot14(l,u),u+=2)}while(32&N);if(256&N){var W=o.readUshort(l,u);for(u+=2,f.instr=[],p=0;p<W;p++)f.instr.push(l[u]),u++}}return f},e.GDEF={},e.GDEF.parse=function(r,a,o,l){var u=a;a+=4;var f=e._bin.readUshort(r,a);return{glyphClassDef:f===0?null:e._lctf.readClassDef(r,u+f)}},e.GPOS={},e.GPOS.parse=function(r,a,o,l){return e._lctf.parse(r,a,o,l,e.GPOS.subt)},e.GPOS.subt=function(r,a,o,l){var u=e._bin,f=o,p={};if(p.fmt=u.readUshort(r,o),o+=2,a==1||a==2||a==3||a==7||a==8&&p.fmt<=2){var g=u.readUshort(r,o);o+=2,p.coverage=e._lctf.readCoverage(r,g+f)}if(a==1&&p.fmt==1){var v=u.readUshort(r,o);o+=2,v!=0&&(p.pos=e.GPOS.readValueRecord(r,o,v))}else if(a==2&&p.fmt>=1&&p.fmt<=2){v=u.readUshort(r,o),o+=2;var S=u.readUshort(r,o);o+=2;var T=e._lctf.numOfOnes(v),A=e._lctf.numOfOnes(S);if(p.fmt==1){p.pairsets=[];var w=u.readUshort(r,o);o+=2;for(var E=0;E<w;E++){var L=f+u.readUshort(r,o);o+=2;var O=u.readUshort(r,L);L+=2;for(var N=[],z=0;z<O;z++){var I=u.readUshort(r,L);L+=2,v!=0&&(ee=e.GPOS.readValueRecord(r,L,v),L+=2*T),S!=0&&(te=e.GPOS.readValueRecord(r,L,S),L+=2*A),N.push({gid2:I,val1:ee,val2:te})}p.pairsets.push(N)}}if(p.fmt==2){var H=u.readUshort(r,o);o+=2;var W=u.readUshort(r,o);o+=2;var V=u.readUshort(r,o);o+=2;var U=u.readUshort(r,o);for(o+=2,p.classDef1=e._lctf.readClassDef(r,f+H),p.classDef2=e._lctf.readClassDef(r,f+W),p.matrix=[],E=0;E<V;E++){var Q=[];for(z=0;z<U;z++){var ee=null,te=null;v!=0&&(ee=e.GPOS.readValueRecord(r,o,v),o+=2*T),S!=0&&(te=e.GPOS.readValueRecord(r,o,S),o+=2*A),Q.push({val1:ee,val2:te})}p.matrix.push(Q)}}}else if(a==4&&p.fmt==1)p.markCoverage=e._lctf.readCoverage(r,u.readUshort(r,o)+f),p.baseCoverage=e._lctf.readCoverage(r,u.readUshort(r,o+2)+f),p.markClassCount=u.readUshort(r,o+4),p.markArray=e.GPOS.readMarkArray(r,u.readUshort(r,o+6)+f),p.baseArray=e.GPOS.readBaseArray(r,u.readUshort(r,o+8)+f,p.markClassCount);else if(a==6&&p.fmt==1)p.mark1Coverage=e._lctf.readCoverage(r,u.readUshort(r,o)+f),p.mark2Coverage=e._lctf.readCoverage(r,u.readUshort(r,o+2)+f),p.markClassCount=u.readUshort(r,o+4),p.mark1Array=e.GPOS.readMarkArray(r,u.readUshort(r,o+6)+f),p.mark2Array=e.GPOS.readBaseArray(r,u.readUshort(r,o+8)+f,p.markClassCount);else{if(a==9&&p.fmt==1){var oe=u.readUshort(r,o);o+=2;var pe=u.readUint(r,o);if(o+=4,l.ltype==9)l.ltype=oe;else if(l.ltype!=oe)throw"invalid extension substitution";return e.GPOS.subt(r,l.ltype,f+pe)}console.debug("unsupported GPOS table LookupType",a,"format",p.fmt)}return p},e.GPOS.readValueRecord=function(r,a,o){var l=e._bin,u=[];return u.push(1&o?l.readShort(r,a):0),a+=1&o?2:0,u.push(2&o?l.readShort(r,a):0),a+=2&o?2:0,u.push(4&o?l.readShort(r,a):0),a+=4&o?2:0,u.push(8&o?l.readShort(r,a):0),a+=8&o?2:0,u},e.GPOS.readBaseArray=function(r,a,o){var l=e._bin,u=[],f=a,p=l.readUshort(r,a);a+=2;for(var g=0;g<p;g++){for(var v=[],S=0;S<o;S++)v.push(e.GPOS.readAnchorRecord(r,f+l.readUshort(r,a))),a+=2;u.push(v)}return u},e.GPOS.readMarkArray=function(r,a){var o=e._bin,l=[],u=a,f=o.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=e.GPOS.readAnchorRecord(r,o.readUshort(r,a+2)+u);g.markClass=o.readUshort(r,a),l.push(g),a+=4}return l},e.GPOS.readAnchorRecord=function(r,a){var o=e._bin,l={};return l.fmt=o.readUshort(r,a),l.x=o.readShort(r,a+2),l.y=o.readShort(r,a+4),l},e.GSUB={},e.GSUB.parse=function(r,a,o,l){return e._lctf.parse(r,a,o,l,e.GSUB.subt)},e.GSUB.subt=function(r,a,o,l){var u=e._bin,f=o,p={};if(p.fmt=u.readUshort(r,o),o+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&p.fmt<=2||a==6&&p.fmt<=2){var g=u.readUshort(r,o);o+=2,p.coverage=e._lctf.readCoverage(r,f+g)}if(a==1&&p.fmt>=1&&p.fmt<=2){if(p.fmt==1)p.delta=u.readShort(r,o),o+=2;else if(p.fmt==2){var v=u.readUshort(r,o);o+=2,p.newg=u.readUshorts(r,o,v),o+=2*p.newg.length}}else if(a==2&&p.fmt==1){v=u.readUshort(r,o),o+=2,p.seqs=[];for(var S=0;S<v;S++){var T=u.readUshort(r,o)+f;o+=2;var A=u.readUshort(r,T);p.seqs.push(u.readUshorts(r,T+2,A))}}else if(a==4)for(p.vals=[],v=u.readUshort(r,o),o+=2,S=0;S<v;S++){var w=u.readUshort(r,o);o+=2,p.vals.push(e.GSUB.readLigatureSet(r,f+w))}else if(a==5&&p.fmt==2){if(p.fmt==2){var E=u.readUshort(r,o);o+=2,p.cDef=e._lctf.readClassDef(r,f+E),p.scset=[];var L=u.readUshort(r,o);for(o+=2,S=0;S<L;S++){var O=u.readUshort(r,o);o+=2,p.scset.push(O==0?null:e.GSUB.readSubClassSet(r,f+O))}}}else if(a==6&&p.fmt==3){if(p.fmt==3){for(S=0;S<3;S++){v=u.readUshort(r,o),o+=2;for(var N=[],z=0;z<v;z++)N.push(e._lctf.readCoverage(r,f+u.readUshort(r,o+2*z)));o+=2*v,S==0&&(p.backCvg=N),S==1&&(p.inptCvg=N),S==2&&(p.ahedCvg=N)}v=u.readUshort(r,o),o+=2,p.lookupRec=e.GSUB.readSubstLookupRecords(r,o,v)}}else{if(a==7&&p.fmt==1){var I=u.readUshort(r,o);o+=2;var H=u.readUint(r,o);if(o+=4,l.ltype==9)l.ltype=I;else if(l.ltype!=I)throw"invalid extension substitution";return e.GSUB.subt(r,l.ltype,f+H)}console.debug("unsupported GSUB table LookupType",a,"format",p.fmt)}return p},e.GSUB.readSubClassSet=function(r,a){var o=e._bin.readUshort,l=a,u=[],f=o(r,a);a+=2;for(var p=0;p<f;p++){var g=o(r,a);a+=2,u.push(e.GSUB.readSubClassRule(r,l+g))}return u},e.GSUB.readSubClassRule=function(r,a){var o=e._bin.readUshort,l={},u=o(r,a),f=o(r,a+=2);a+=2,l.input=[];for(var p=0;p<u-1;p++)l.input.push(o(r,a)),a+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(r,a,f),l},e.GSUB.readSubstLookupRecords=function(r,a,o){for(var l=e._bin.readUshort,u=[],f=0;f<o;f++)u.push(l(r,a),l(r,a+2)),a+=4;return u},e.GSUB.readChainSubClassSet=function(r,a){var o=e._bin,l=a,u=[],f=o.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=o.readUshort(r,a);a+=2,u.push(e.GSUB.readChainSubClassRule(r,l+g))}return u},e.GSUB.readChainSubClassRule=function(r,a){for(var o=e._bin,l={},u=["backtrack","input","lookahead"],f=0;f<u.length;f++){var p=o.readUshort(r,a);a+=2,f==1&&p--,l[u[f]]=o.readUshorts(r,a,p),a+=2*l[u[f]].length}return p=o.readUshort(r,a),a+=2,l.subst=o.readUshorts(r,a,2*p),a+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(r,a){var o=e._bin,l=a,u=[],f=o.readUshort(r,a);a+=2;for(var p=0;p<f;p++){var g=o.readUshort(r,a);a+=2,u.push(e.GSUB.readLigature(r,l+g))}return u},e.GSUB.readLigature=function(r,a){var o=e._bin,l={chain:[]};l.nglyph=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2;for(var f=0;f<u-1;f++)l.chain.push(o.readUshort(r,a)),a+=2;return l},e.head={},e.head.parse=function(r,a,o){var l=e._bin,u={};return l.readFixed(r,a),a+=4,u.fontRevision=l.readFixed(r,a),a+=4,l.readUint(r,a),a+=4,l.readUint(r,a),a+=4,u.flags=l.readUshort(r,a),a+=2,u.unitsPerEm=l.readUshort(r,a),a+=2,u.created=l.readUint64(r,a),a+=8,u.modified=l.readUint64(r,a),a+=8,u.xMin=l.readShort(r,a),a+=2,u.yMin=l.readShort(r,a),a+=2,u.xMax=l.readShort(r,a),a+=2,u.yMax=l.readShort(r,a),a+=2,u.macStyle=l.readUshort(r,a),a+=2,u.lowestRecPPEM=l.readUshort(r,a),a+=2,u.fontDirectionHint=l.readShort(r,a),a+=2,u.indexToLocFormat=l.readShort(r,a),a+=2,u.glyphDataFormat=l.readShort(r,a),a+=2,u},e.hhea={},e.hhea.parse=function(r,a,o){var l=e._bin,u={};return l.readFixed(r,a),a+=4,u.ascender=l.readShort(r,a),a+=2,u.descender=l.readShort(r,a),a+=2,u.lineGap=l.readShort(r,a),a+=2,u.advanceWidthMax=l.readUshort(r,a),a+=2,u.minLeftSideBearing=l.readShort(r,a),a+=2,u.minRightSideBearing=l.readShort(r,a),a+=2,u.xMaxExtent=l.readShort(r,a),a+=2,u.caretSlopeRise=l.readShort(r,a),a+=2,u.caretSlopeRun=l.readShort(r,a),a+=2,u.caretOffset=l.readShort(r,a),a+=2,a+=8,u.metricDataFormat=l.readShort(r,a),a+=2,u.numberOfHMetrics=l.readUshort(r,a),a+=2,u},e.hmtx={},e.hmtx.parse=function(r,a,o,l){for(var u=e._bin,f={aWidth:[],lsBearing:[]},p=0,g=0,v=0;v<l.maxp.numGlyphs;v++)v<l.hhea.numberOfHMetrics&&(p=u.readUshort(r,a),a+=2,g=u.readShort(r,a),a+=2),f.aWidth.push(p),f.lsBearing.push(g);return f},e.kern={},e.kern.parse=function(r,a,o,l){var u=e._bin,f=u.readUshort(r,a);if(a+=2,f==1)return e.kern.parseV1(r,a-2,o,l);var p=u.readUshort(r,a);a+=2;for(var g={glyph1:[],rval:[]},v=0;v<p;v++){a+=2,o=u.readUshort(r,a),a+=2;var S=u.readUshort(r,a);a+=2;var T=S>>>8;if((T&=15)!=0)throw"unknown kern table format: "+T;a=e.kern.readFormat0(r,a,g)}return g},e.kern.parseV1=function(r,a,o,l){var u=e._bin;u.readFixed(r,a),a+=4;var f=u.readUint(r,a);a+=4;for(var p={glyph1:[],rval:[]},g=0;g<f;g++){u.readUint(r,a),a+=4;var v=u.readUshort(r,a);a+=2,u.readUshort(r,a),a+=2;var S=v>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;a=e.kern.readFormat0(r,a,p)}return p},e.kern.readFormat0=function(r,a,o){var l=e._bin,u=-1,f=l.readUshort(r,a);a+=2,l.readUshort(r,a),a+=2,l.readUshort(r,a),a+=2,l.readUshort(r,a),a+=2;for(var p=0;p<f;p++){var g=l.readUshort(r,a);a+=2;var v=l.readUshort(r,a);a+=2;var S=l.readShort(r,a);a+=2,g!=u&&(o.glyph1.push(g),o.rval.push({glyph2:[],vals:[]}));var T=o.rval[o.rval.length-1];T.glyph2.push(v),T.vals.push(S),u=g}return a},e.loca={},e.loca.parse=function(r,a,o,l){var u=e._bin,f=[],p=l.head.indexToLocFormat,g=l.maxp.numGlyphs+1;if(p==0)for(var v=0;v<g;v++)f.push(u.readUshort(r,a+(v<<1))<<1);if(p==1)for(v=0;v<g;v++)f.push(u.readUint(r,a+(v<<2)));return f},e.maxp={},e.maxp.parse=function(r,a,o){var l=e._bin,u={},f=l.readUint(r,a);return a+=4,u.numGlyphs=l.readUshort(r,a),a+=2,f==65536&&(u.maxPoints=l.readUshort(r,a),a+=2,u.maxContours=l.readUshort(r,a),a+=2,u.maxCompositePoints=l.readUshort(r,a),a+=2,u.maxCompositeContours=l.readUshort(r,a),a+=2,u.maxZones=l.readUshort(r,a),a+=2,u.maxTwilightPoints=l.readUshort(r,a),a+=2,u.maxStorage=l.readUshort(r,a),a+=2,u.maxFunctionDefs=l.readUshort(r,a),a+=2,u.maxInstructionDefs=l.readUshort(r,a),a+=2,u.maxStackElements=l.readUshort(r,a),a+=2,u.maxSizeOfInstructions=l.readUshort(r,a),a+=2,u.maxComponentElements=l.readUshort(r,a),a+=2,u.maxComponentDepth=l.readUshort(r,a),a+=2),u},e.name={},e.name.parse=function(r,a,o){var l=e._bin,u={};l.readUshort(r,a),a+=2;var f=l.readUshort(r,a);a+=2,l.readUshort(r,a);for(var p,g=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=a+=2,S=0;S<f;S++){var T=l.readUshort(r,a);a+=2;var A=l.readUshort(r,a);a+=2;var w=l.readUshort(r,a);a+=2;var E=l.readUshort(r,a);a+=2;var L=l.readUshort(r,a);a+=2;var O=l.readUshort(r,a);a+=2;var N,z=g[E],I=v+12*f+O;if(T==0)N=l.readUnicode(r,I,L/2);else if(T==3&&A==0)N=l.readUnicode(r,I,L/2);else if(A==0)N=l.readASCII(r,I,L);else if(A==1)N=l.readUnicode(r,I,L/2);else if(A==3)N=l.readUnicode(r,I,L/2);else{if(T!=1)throw"unknown encoding "+A+", platformID: "+T;N=l.readASCII(r,I,L),console.debug("reading unknown MAC encoding "+A+" as ASCII")}var H="p"+T+","+w.toString(16);u[H]==null&&(u[H]={}),u[H][z!==void 0?z:E]=N,u[H]._lang=w}for(var W in u)if(u[W].postScriptName!=null&&u[W]._lang==1033)return u[W];for(var W in u)if(u[W].postScriptName!=null&&u[W]._lang==0)return u[W];for(var W in u)if(u[W].postScriptName!=null&&u[W]._lang==3084)return u[W];for(var W in u)if(u[W].postScriptName!=null)return u[W];for(var W in u){p=W;break}return console.debug("returning name table with languageID "+u[p]._lang),u[p]},e["OS/2"]={},e["OS/2"].parse=function(r,a,o){var l=e._bin.readUshort(r,a);a+=2;var u={};if(l==0)e["OS/2"].version0(r,a,u);else if(l==1)e["OS/2"].version1(r,a,u);else if(l==2||l==3||l==4)e["OS/2"].version2(r,a,u);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(r,a,u)}return u},e["OS/2"].version0=function(r,a,o){var l=e._bin;return o.xAvgCharWidth=l.readShort(r,a),a+=2,o.usWeightClass=l.readUshort(r,a),a+=2,o.usWidthClass=l.readUshort(r,a),a+=2,o.fsType=l.readUshort(r,a),a+=2,o.ySubscriptXSize=l.readShort(r,a),a+=2,o.ySubscriptYSize=l.readShort(r,a),a+=2,o.ySubscriptXOffset=l.readShort(r,a),a+=2,o.ySubscriptYOffset=l.readShort(r,a),a+=2,o.ySuperscriptXSize=l.readShort(r,a),a+=2,o.ySuperscriptYSize=l.readShort(r,a),a+=2,o.ySuperscriptXOffset=l.readShort(r,a),a+=2,o.ySuperscriptYOffset=l.readShort(r,a),a+=2,o.yStrikeoutSize=l.readShort(r,a),a+=2,o.yStrikeoutPosition=l.readShort(r,a),a+=2,o.sFamilyClass=l.readShort(r,a),a+=2,o.panose=l.readBytes(r,a,10),a+=10,o.ulUnicodeRange1=l.readUint(r,a),a+=4,o.ulUnicodeRange2=l.readUint(r,a),a+=4,o.ulUnicodeRange3=l.readUint(r,a),a+=4,o.ulUnicodeRange4=l.readUint(r,a),a+=4,o.achVendID=[l.readInt8(r,a),l.readInt8(r,a+1),l.readInt8(r,a+2),l.readInt8(r,a+3)],a+=4,o.fsSelection=l.readUshort(r,a),a+=2,o.usFirstCharIndex=l.readUshort(r,a),a+=2,o.usLastCharIndex=l.readUshort(r,a),a+=2,o.sTypoAscender=l.readShort(r,a),a+=2,o.sTypoDescender=l.readShort(r,a),a+=2,o.sTypoLineGap=l.readShort(r,a),a+=2,o.usWinAscent=l.readUshort(r,a),a+=2,o.usWinDescent=l.readUshort(r,a),a+=2},e["OS/2"].version1=function(r,a,o){var l=e._bin;return a=e["OS/2"].version0(r,a,o),o.ulCodePageRange1=l.readUint(r,a),a+=4,o.ulCodePageRange2=l.readUint(r,a),a+=4},e["OS/2"].version2=function(r,a,o){var l=e._bin;return a=e["OS/2"].version1(r,a,o),o.sxHeight=l.readShort(r,a),a+=2,o.sCapHeight=l.readShort(r,a),a+=2,o.usDefault=l.readUshort(r,a),a+=2,o.usBreak=l.readUshort(r,a),a+=2,o.usMaxContext=l.readUshort(r,a),a+=2},e["OS/2"].version5=function(r,a,o){var l=e._bin;return a=e["OS/2"].version2(r,a,o),o.usLowerOpticalPointSize=l.readUshort(r,a),a+=2,o.usUpperOpticalPointSize=l.readUshort(r,a),a+=2},e.post={},e.post.parse=function(r,a,o){var l=e._bin,u={};return u.version=l.readFixed(r,a),a+=4,u.italicAngle=l.readFixed(r,a),a+=4,u.underlinePosition=l.readShort(r,a),a+=2,u.underlineThickness=l.readShort(r,a),a+=2,u},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,a){var o=r.cmap,l=-1;if(o.p0e4!=null?l=o.p0e4:o.p3e1!=null?l=o.p3e1:o.p1e0!=null?l=o.p1e0:o.p0e3!=null&&(l=o.p0e3),l==-1)throw"no familiar platform and encoding!";var u=o.tables[l];if(u.format==0)return a>=u.map.length?0:u.map[a];if(u.format==4){for(var f=-1,p=0;p<u.endCount.length;p++)if(a<=u.endCount[p]){f=p;break}return f==-1||u.startCount[f]>a?0:65535&(u.idRangeOffset[f]!=0?u.glyphIdArray[a-u.startCount[f]+(u.idRangeOffset[f]>>1)-(u.idRangeOffset.length-f)]:a+u.idDelta[f])}if(u.format==12){if(a>u.groups[u.groups.length-1][1])return 0;for(p=0;p<u.groups.length;p++){var g=u.groups[p];if(g[0]<=a&&a<=g[1])return g[2]+(a-g[0])}return 0}throw"unknown cmap table format "+u.format},e.U.glyphToPath=function(r,a){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[a]){var l=r.SVG.entries[a];return l==null?o:(typeof l=="string"&&(l=e.SVG.toPath(l),r.SVG.entries[a]=l),l)}if(r.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},f=r.CFF,p=r.CFF.Private;if(f.ROS){for(var g=0;f.FDSelect[g+2]<=a;)g+=2;p=f.FDArray[f.FDSelect[g+1]].Private}e.U._drawCFF(r.CFF.CharStrings[a],u,f,p,o)}else r.glyf&&e.U._drawGlyf(a,r,o);return o},e.U._drawGlyf=function(r,a,o){var l=a.glyf[r];l==null&&(l=a.glyf[r]=e.glyf._parseGlyf(a,r)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,o):e.U._compoGlyph(l,a,o))},e.U._simpleGlyph=function(r,a){for(var o=0;o<r.noc;o++){for(var l=o==0?0:r.endPts[o-1]+1,u=r.endPts[o],f=l;f<=u;f++){var p=f==l?u:f-1,g=f==u?l:f+1,v=1&r.flags[f],S=1&r.flags[p],T=1&r.flags[g],A=r.xs[f],w=r.ys[f];if(f==l)if(v){if(!S){e.U.P.moveTo(a,A,w);continue}e.U.P.moveTo(a,r.xs[p],r.ys[p])}else S?e.U.P.moveTo(a,r.xs[p],r.ys[p]):e.U.P.moveTo(a,(r.xs[p]+A)/2,(r.ys[p]+w)/2);v?S&&e.U.P.lineTo(a,A,w):T?e.U.P.qcurveTo(a,A,w,r.xs[g],r.ys[g]):e.U.P.qcurveTo(a,A,w,(A+r.xs[g])/2,(w+r.ys[g])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(r,a,o){for(var l=0;l<r.parts.length;l++){var u={cmds:[],crds:[]},f=r.parts[l];e.U._drawGlyf(f.glyphIndex,a,u);for(var p=f.m,g=0;g<u.crds.length;g+=2){var v=u.crds[g],S=u.crds[g+1];o.crds.push(v*p.a+S*p.b+p.tx),o.crds.push(v*p.c+S*p.d+p.ty)}for(g=0;g<u.cmds.length;g++)o.cmds.push(u.cmds[g])}},e.U._getGlyphClass=function(r,a){var o=e._lctf.getInterval(a,r);return o==-1?0:a[o+2]},e.U._applySubs=function(r,a,o,l){for(var u=r.length-a-1,f=0;f<o.tabs.length;f++)if(o.tabs[f]!=null){var p,g=o.tabs[f];if(!g.coverage||(p=e._lctf.coverageIndex(g.coverage,r[a]))!=-1){if(o.ltype==1)r[a],g.fmt==1?r[a]=r[a]+g.delta:r[a]=g.newg[p];else if(o.ltype==4)for(var v=g.vals[p],S=0;S<v.length;S++){var T=v[S],A=T.chain.length;if(!(A>u)){for(var w=!0,E=0,L=0;L<A;L++){for(;r[a+E+(1+L)]==-1;)E++;T.chain[L]!=r[a+E+(1+L)]&&(w=!1)}if(w){for(r[a]=T.nglyph,L=0;L<A+E;L++)r[a+L+1]=-1;break}}}else if(o.ltype==5&&g.fmt==2)for(var O=e._lctf.getInterval(g.cDef,r[a]),N=g.cDef[O+2],z=g.scset[N],I=0;I<z.length;I++){var H=z[I],W=H.input;if(!(W.length>u)){for(w=!0,L=0;L<W.length;L++){var V=e._lctf.getInterval(g.cDef,r[a+1+L]);if(O==-1&&g.cDef[V+2]!=W[L]){w=!1;break}}if(w){var U=H.substLookupRecords;for(S=0;S<U.length;S+=2)U[S],U[S+1]}}}else if(o.ltype==6&&g.fmt==3){if(!e.U._glsCovered(r,g.backCvg,a-g.backCvg.length)||!e.U._glsCovered(r,g.inptCvg,a)||!e.U._glsCovered(r,g.ahedCvg,a+g.inptCvg.length))continue;var Q=g.lookupRec;for(I=0;I<Q.length;I+=2){O=Q[I];var ee=l[Q[I+1]];e.U._applySubs(r,a+O,ee,l)}}}}},e.U._glsCovered=function(r,a,o){for(var l=0;l<a.length;l++)if(e._lctf.coverageIndex(a[l],r[o+l])==-1)return!1;return!0},e.U.glyphsToPath=function(r,a,o){for(var l={cmds:[],crds:[]},u=0,f=0;f<a.length;f++){var p=a[f];if(p!=-1){for(var g=f<a.length-1&&a[f+1]!=-1?a[f+1]:0,v=e.U.glyphToPath(r,p),S=0;S<v.crds.length;S+=2)l.crds.push(v.crds[S]+u),l.crds.push(v.crds[S+1]);for(o&&l.cmds.push(o),S=0;S<v.cmds.length;S++)l.cmds.push(v.cmds[S]);o&&l.cmds.push("X"),u+=r.hmtx.aWidth[p],f<a.length-1&&(u+=e.U.getPairAdjustment(r,p,g))}}return l},e.U.P={},e.U.P.moveTo=function(r,a,o){r.cmds.push("M"),r.crds.push(a,o)},e.U.P.lineTo=function(r,a,o){r.cmds.push("L"),r.crds.push(a,o)},e.U.P.curveTo=function(r,a,o,l,u,f,p){r.cmds.push("C"),r.crds.push(a,o,l,u,f,p)},e.U.P.qcurveTo=function(r,a,o,l,u){r.cmds.push("Q"),r.crds.push(a,o,l,u)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,a,o,l,u){for(var f=a.stack,p=a.nStems,g=a.haveWidth,v=a.width,S=a.open,T=0,A=a.x,w=a.y,E=0,L=0,O=0,N=0,z=0,I=0,H=0,W=0,V=0,U=0,Q={val:0,size:0};T<r.length;){e.CFF.getCharString(r,T,Q);var ee=Q.val;if(T+=Q.size,ee=="o1"||ee=="o18")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0;else if(ee=="o3"||ee=="o23")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0;else if(ee=="o4")f.length>1&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),S&&e.U.P.closePath(u),w+=f.pop(),e.U.P.moveTo(u,A,w),S=!0;else if(ee=="o5")for(;f.length>0;)A+=f.shift(),w+=f.shift(),e.U.P.lineTo(u,A,w);else if(ee=="o6"||ee=="o7")for(var te=f.length,oe=ee=="o6",pe=0;pe<te;pe++){var j=f.shift();oe?A+=j:w+=j,oe=!oe,e.U.P.lineTo(u,A,w)}else if(ee=="o8"||ee=="o24"){te=f.length;for(var ae=0;ae+6<=te;)E=A+f.shift(),L=w+f.shift(),O=E+f.shift(),N=L+f.shift(),A=O+f.shift(),w=N+f.shift(),e.U.P.curveTo(u,E,L,O,N,A,w),ae+=6;ee=="o24"&&(A+=f.shift(),w+=f.shift(),e.U.P.lineTo(u,A,w))}else{if(ee=="o11")break;if(ee=="o1234"||ee=="o1235"||ee=="o1236"||ee=="o1237")ee=="o1234"&&(L=w,O=(E=A+f.shift())+f.shift(),U=N=L+f.shift(),I=N,W=w,A=(H=(z=(V=O+f.shift())+f.shift())+f.shift())+f.shift(),e.U.P.curveTo(u,E,L,O,N,V,U),e.U.P.curveTo(u,z,I,H,W,A,w)),ee=="o1235"&&(E=A+f.shift(),L=w+f.shift(),O=E+f.shift(),N=L+f.shift(),V=O+f.shift(),U=N+f.shift(),z=V+f.shift(),I=U+f.shift(),H=z+f.shift(),W=I+f.shift(),A=H+f.shift(),w=W+f.shift(),f.shift(),e.U.P.curveTo(u,E,L,O,N,V,U),e.U.P.curveTo(u,z,I,H,W,A,w)),ee=="o1236"&&(E=A+f.shift(),L=w+f.shift(),O=E+f.shift(),U=N=L+f.shift(),I=N,H=(z=(V=O+f.shift())+f.shift())+f.shift(),W=I+f.shift(),A=H+f.shift(),e.U.P.curveTo(u,E,L,O,N,V,U),e.U.P.curveTo(u,z,I,H,W,A,w)),ee=="o1237"&&(E=A+f.shift(),L=w+f.shift(),O=E+f.shift(),N=L+f.shift(),V=O+f.shift(),U=N+f.shift(),z=V+f.shift(),I=U+f.shift(),H=z+f.shift(),W=I+f.shift(),Math.abs(H-A)>Math.abs(W-w)?A=H+f.shift():w=W+f.shift(),e.U.P.curveTo(u,E,L,O,N,V,U),e.U.P.curveTo(u,z,I,H,W,A,w));else if(ee=="o14"){if(f.length>0&&!g&&(v=f.shift()+o.nominalWidthX,g=!0),f.length==4){var le=f.shift(),fe=f.shift(),J=f.shift(),K=f.shift(),xe=e.CFF.glyphBySE(o,J),Me=e.CFF.glyphBySE(o,K);e.U._drawCFF(o.CharStrings[xe],a,o,l,u),a.x=le,a.y=fe,e.U._drawCFF(o.CharStrings[Me],a,o,l,u)}S&&(e.U.P.closePath(u),S=!1)}else if(ee=="o19"||ee=="o20")f.length%2!=0&&!g&&(v=f.shift()+l.nominalWidthX),p+=f.length>>1,f.length=0,g=!0,T+=p+7>>3;else if(ee=="o21")f.length>2&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),w+=f.pop(),A+=f.pop(),S&&e.U.P.closePath(u),e.U.P.moveTo(u,A,w),S=!0;else if(ee=="o22")f.length>1&&!g&&(v=f.shift()+l.nominalWidthX,g=!0),A+=f.pop(),S&&e.U.P.closePath(u),e.U.P.moveTo(u,A,w),S=!0;else if(ee=="o25"){for(;f.length>6;)A+=f.shift(),w+=f.shift(),e.U.P.lineTo(u,A,w);E=A+f.shift(),L=w+f.shift(),O=E+f.shift(),N=L+f.shift(),A=O+f.shift(),w=N+f.shift(),e.U.P.curveTo(u,E,L,O,N,A,w)}else if(ee=="o26")for(f.length%2&&(A+=f.shift());f.length>0;)E=A,L=w+f.shift(),A=O=E+f.shift(),w=(N=L+f.shift())+f.shift(),e.U.P.curveTo(u,E,L,O,N,A,w);else if(ee=="o27")for(f.length%2&&(w+=f.shift());f.length>0;)L=w,O=(E=A+f.shift())+f.shift(),N=L+f.shift(),A=O+f.shift(),w=N,e.U.P.curveTo(u,E,L,O,N,A,w);else if(ee=="o10"||ee=="o29"){var he=ee=="o10"?l:o;if(f.length==0)console.debug("error: empty stack");else{var Te=f.pop(),ze=he.Subrs[Te+he.Bias];a.x=A,a.y=w,a.nStems=p,a.haveWidth=g,a.width=v,a.open=S,e.U._drawCFF(ze,a,o,l,u),A=a.x,w=a.y,p=a.nStems,g=a.haveWidth,v=a.width,S=a.open}}else if(ee=="o30"||ee=="o31"){var Be=f.length,ke=(ae=0,ee=="o31");for(ae+=Be-(te=-3&Be);ae<te;)ke?(L=w,O=(E=A+f.shift())+f.shift(),w=(N=L+f.shift())+f.shift(),te-ae==5?(A=O+f.shift(),ae++):A=O,ke=!1):(E=A,L=w+f.shift(),O=E+f.shift(),N=L+f.shift(),A=O+f.shift(),te-ae==5?(w=N+f.shift(),ae++):w=N,ke=!0),e.U.P.curveTo(u,E,L,O,N,A,w),ae+=4}else{if((ee+"").charAt(0)=="o")throw console.debug("Unknown operation: "+ee,r),ee;f.push(ee)}}}a.x=A,a.y=w,a.nStems=p,a.haveWidth=g,a.width=v,a.open=S};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function jne(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(ee,te){for(var oe=new t(31),pe=0;pe<31;++pe)oe[pe]=te+=1<<ee[pe-1];var j=new i(oe[30]);for(pe=1;pe<30;++pe)for(var ae=oe[pe];ae<oe[pe+1];++ae)j[ae]=ae-oe[pe]<<5|pe;return[oe,j]},u=l(r,2),f=u[0],p=u[1];f[28]=258,p[258]=28;for(var g=l(a,0)[0],v=new t(32768),S=0;S<32768;++S){var T=(43690&S)>>>1|(21845&S)<<1;T=(61680&(T=(52428&T)>>>2|(13107&T)<<2))>>>4|(3855&T)<<4,v[S]=((65280&T)>>>8|(255&T)<<8)>>>1}var A=function(ee,te,oe){for(var pe=ee.length,j=0,ae=new t(te);j<pe;++j)++ae[ee[j]-1];var le,fe=new t(te);for(j=0;j<te;++j)fe[j]=fe[j-1]+ae[j-1]<<1;{le=new t(1<<te);var J=15-te;for(j=0;j<pe;++j)if(ee[j])for(var K=j<<4|ee[j],xe=te-ee[j],Me=fe[ee[j]-1]++<<xe,he=Me|(1<<xe)-1;Me<=he;++Me)le[v[Me]>>>J]=K}return le},w=new e(288);for(S=0;S<144;++S)w[S]=8;for(S=144;S<256;++S)w[S]=9;for(S=256;S<280;++S)w[S]=7;for(S=280;S<288;++S)w[S]=8;var E=new e(32);for(S=0;S<32;++S)E[S]=5;var L=A(w,9),O=A(E,5),N=function(ee){for(var te=ee[0],oe=1;oe<ee.length;++oe)ee[oe]>te&&(te=ee[oe]);return te},z=function(ee,te,oe){var pe=te/8|0;return(ee[pe]|ee[pe+1]<<8)>>(7&te)&oe},I=function(ee,te){var oe=te/8|0;return(ee[oe]|ee[oe+1]<<8|ee[oe+2]<<16)>>(7&te)},H=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],W=function(ee,te,oe){var pe=new Error(te||H[ee]);if(pe.code=ee,Error.captureStackTrace&&Error.captureStackTrace(pe,W),!oe)throw pe;return pe},V=function(ee,te,oe){var pe=ee.length;if(!pe||oe&&!oe.l&&pe<5)return te||new e(0);var j=!te||oe,ae=!oe||oe.i;oe||(oe={}),te||(te=new e(3*pe));var le,fe=function(Ce){var Ee=te.length;if(Ce>Ee){var Fe=new e(Math.max(2*Ee,Ce));Fe.set(te),te=Fe}},J=oe.f||0,K=oe.p||0,xe=oe.b||0,Me=oe.l,he=oe.d,Te=oe.m,ze=oe.n,Be=8*pe;do{if(!Me){oe.f=J=z(ee,K,1);var ke=z(ee,K+1,3);if(K+=3,!ke){var yt=ee[(We=((le=K)/8|0)+(7&le&&1)+4)-4]|ee[We-3]<<8,Qe=We+yt;if(Qe>pe){ae&&W(0);break}j&&fe(xe+yt),te.set(ee.subarray(We,Qe),xe),oe.b=xe+=yt,oe.p=K=8*Qe;continue}if(ke==1)Me=L,he=O,Te=9,ze=5;else if(ke==2){var Je=z(ee,K,31)+257,Xe=z(ee,K+10,15)+4,Mt=Je+z(ee,K+5,31)+1;K+=14;for(var ce=new e(Mt),rt=new e(19),tt=0;tt<Xe;++tt)rt[o[tt]]=z(ee,K+3*tt,7);K+=3*Xe;var Ze=N(rt),Le=(1<<Ze)-1,ct=A(rt,Ze);for(tt=0;tt<Mt;){var We,Ie=ct[z(ee,K,Le)];if(K+=15&Ie,(We=Ie>>>4)<16)ce[tt++]=We;else{var ut=0,ue=0;for(We==16?(ue=3+z(ee,K,3),K+=2,ut=ce[tt-1]):We==17?(ue=3+z(ee,K,7),K+=3):We==18&&(ue=11+z(ee,K,127),K+=7);ue--;)ce[tt++]=ut}}var $=ce.subarray(0,Je),be=ce.subarray(Je);Te=N($),ze=N(be),Me=A($,Te),he=A(be,ze)}else W(1);if(K>Be){ae&&W(0);break}}j&&fe(xe+131072);for(var De=(1<<Te)-1,Re=(1<<ze)-1,Ne=K;;Ne=K){var at=(ut=Me[I(ee,K)&De])>>>4;if((K+=15&ut)>Be){ae&&W(0);break}if(ut||W(2),at<256)te[xe++]=at;else{if(at==256){Ne=K,Me=null;break}var nt=at-254;if(at>264){var vt=r[tt=at-257];nt=z(ee,K,(1<<vt)-1)+f[tt],K+=vt}var Rt=he[I(ee,K)&Re],Ye=Rt>>>4;if(Rt||W(3),K+=15&Rt,be=g[Ye],Ye>3&&(vt=a[Ye],be+=I(ee,K)&(1<<vt)-1,K+=vt),K>Be){ae&&W(0);break}j&&fe(xe+131072);for(var ot=xe+nt;xe<ot;xe+=4)te[xe]=te[xe-be],te[xe+1]=te[xe+1-be],te[xe+2]=te[xe+2-be],te[xe+3]=te[xe+3-be];xe=ot}}oe.l=Me,oe.p=Ne,oe.b=xe,Me&&(J=1,oe.m=Te,oe.d=he,oe.n=ze)}while(!J);return xe==te.length?te:function(Ce,Ee,Fe){(Fe==null||Fe>Ce.length)&&(Fe=Ce.length);var wt=new(Ce instanceof t?t:Ce instanceof i?i:e)(Fe-Ee);return wt.set(Ce.subarray(Ee,Fe)),wt}(te,0,xe)},U=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(U,{stream:!0})}catch{}return n.convert_streams=function(ee){var te=new DataView(ee),oe=0;function pe(){var Je=te.getUint16(oe);return oe+=2,Je}function j(){var Je=te.getUint32(oe);return oe+=4,Je}function ae(Je){yt.setUint16(Qe,Je),Qe+=2}function le(Je){yt.setUint32(Qe,Je),Qe+=4}for(var fe={signature:j(),flavor:j(),length:j(),numTables:pe(),reserved:pe(),totalSfntSize:j(),majorVersion:pe(),minorVersion:pe(),metaOffset:j(),metaLength:j(),metaOrigLength:j(),privOffset:j(),privLength:j()},J=0;Math.pow(2,J)<=fe.numTables;)J++;J--;for(var K=16*Math.pow(2,J),xe=16*fe.numTables-K,Me=12,he=[],Te=0;Te<fe.numTables;Te++)he.push({tag:j(),offset:j(),compLength:j(),origLength:j(),origChecksum:j()}),Me+=16;var ze,Be=new Uint8Array(12+16*he.length+he.reduce(function(Je,Xe){return Je+Xe.origLength+4},0)),ke=Be.buffer,yt=new DataView(ke),Qe=0;return le(fe.flavor),ae(fe.numTables),ae(K),ae(J),ae(xe),he.forEach(function(Je){le(Je.tag),le(Je.origChecksum),le(Me),le(Je.origLength),Je.outOffset=Me,(Me+=Je.origLength)%4!=0&&(Me+=4-Me%4)}),he.forEach(function(Je){var Xe,Mt=ee.slice(Je.offset,Je.offset+Je.compLength);if(Je.compLength!=Je.origLength){var ce=new Uint8Array(Je.origLength);Xe=new Uint8Array(Mt,2),V(Xe,ce)}else ce=new Uint8Array(Mt);Be.set(ce,Je.outOffset);var rt=0;(Me=Je.outOffset+Je.origLength)%4!=0&&(rt=4-Me%4),Be.set(new Uint8Array(rt).buffer,Je.outOffset+Je.origLength),ze=Me+rt}),ke.slice(0,ze)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function Wne(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,a=2,o=4,l=8,u=16,f=32;let p;function g(H){if(!p){const W={R:a,L:r,D:o,C:u,U:f,T:l};p=new Map;for(let V in i){let U=0;i[V].split(",").forEach(Q=>{let[ee,te]=Q.split("+");ee=parseInt(ee,36),te=te?parseInt(te,36):0,p.set(U+=ee,W[V]);for(let oe=te;oe--;)p.set(++U,W[V])})}}return p.get(H)||f}const v=1,S=2,T=3,A=4,w=[null,"isol","init","fina","medi"];function E(H){const W=new Uint8Array(H.length);let V=f,U=v,Q=-1;for(let ee=0;ee<H.length;ee++){const te=H.codePointAt(ee);let oe=g(te)|0,pe=v;oe&l||(V&(r|o|u)?oe&(a|o|u)?(pe=T,(U===v||U===T)&&W[Q]++):oe&(r|f)&&(U===S||U===A)&&W[Q]--:V&(a|f)&&(U===S||U===A)&&W[Q]--,U=W[ee]=pe,V=oe,Q=ee,te>65535&&ee++)}return W}function L(H,W){const V=[];for(let Q=0;Q<W.length;Q++){const ee=W.codePointAt(Q);ee>65535&&Q++,V.push(n.U.codeToGlyph(H,ee))}const U=H.GSUB;if(U){const{lookupList:Q,featureList:ee}=U;let te;const oe=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,pe=[];ee.forEach(j=>{if(oe.test(j.tag))for(let ae=0;ae<j.tab.length;ae++){if(pe[j.tab[ae]])continue;pe[j.tab[ae]]=!0;const le=Q[j.tab[ae]],fe=/^(isol|init|fina|medi)$/.test(j.tag);fe&&!te&&(te=E(W));for(let J=0;J<V.length;J++)(!te||!fe||w[te[J]]===j.tag)&&n.U._applySubs(V,J,le,Q)}})}return V}function O(H,W){const V=new Int16Array(W.length*3);let U=0;for(;U<W.length;U++){const oe=W[U];if(oe===-1)continue;V[U*3+2]=H.hmtx.aWidth[oe];const pe=H.GPOS;if(pe){const j=pe.lookupList;for(let ae=0;ae<j.length;ae++){const le=j[ae];for(let fe=0;fe<le.tabs.length;fe++){const J=le.tabs[fe];if(le.ltype===1){if(n._lctf.coverageIndex(J.coverage,oe)!==-1&&J.pos){te(J.pos,U);break}}else if(le.ltype===2){let K=null,xe=Q();if(xe!==-1){const Me=n._lctf.coverageIndex(J.coverage,W[xe]);if(Me!==-1){if(J.fmt===1){const he=J.pairsets[Me];for(let Te=0;Te<he.length;Te++)he[Te].gid2===oe&&(K=he[Te])}else if(J.fmt===2){const he=n.U._getGlyphClass(W[xe],J.classDef1),Te=n.U._getGlyphClass(oe,J.classDef2);K=J.matrix[he][Te]}if(K){K.val1&&te(K.val1,xe),K.val2&&te(K.val2,U);break}}}}else if(le.ltype===4){const K=n._lctf.coverageIndex(J.markCoverage,oe);if(K!==-1){const xe=Q(ee),Me=xe===-1?-1:n._lctf.coverageIndex(J.baseCoverage,W[xe]);if(Me!==-1){const he=J.markArray[K],Te=J.baseArray[Me][he.markClass];V[U*3]=Te.x-he.x+V[xe*3]-V[xe*3+2],V[U*3+1]=Te.y-he.y+V[xe*3+1];break}}}else if(le.ltype===6){const K=n._lctf.coverageIndex(J.mark1Coverage,oe);if(K!==-1){const xe=Q();if(xe!==-1){const Me=W[xe];if(N(H,Me)===3){const he=n._lctf.coverageIndex(J.mark2Coverage,Me);if(he!==-1){const Te=J.mark1Array[K],ze=J.mark2Array[he][Te.markClass];V[U*3]=ze.x-Te.x+V[xe*3]-V[xe*3+2],V[U*3+1]=ze.y-Te.y+V[xe*3+1];break}}}}}}}}else if(H.kern&&!H.cff){const j=Q();if(j!==-1){const ae=H.kern.glyph1.indexOf(W[j]);if(ae!==-1){const le=H.kern.rval[ae].glyph2.indexOf(oe);le!==-1&&(V[j*3+2]+=H.kern.rval[ae].vals[le])}}}}return V;function Q(oe){for(let pe=U-1;pe>=0;pe--)if(W[pe]!==-1&&(!oe||oe(W[pe])))return pe;return-1}function ee(oe){return N(H,oe)===1}function te(oe,pe){for(let j=0;j<3;j++)V[pe*3+j]+=oe[j]||0}}function N(H,W){const V=H.GDEF&&H.GDEF.glyphClassDef;return V?n.U._getGlyphClass(W,V):0}function z(...H){for(let W=0;W<H.length;W++)if(typeof H[W]=="number")return H[W]}function I(H){const W=Object.create(null),V=H["OS/2"],U=H.hhea,Q=H.head.unitsPerEm,ee=z(V&&V.sTypoAscender,U&&U.ascender,Q),te={unitsPerEm:Q,ascender:ee,descender:z(V&&V.sTypoDescender,U&&U.descender,0),capHeight:z(V&&V.sCapHeight,ee),xHeight:z(V&&V.sxHeight,ee),lineGap:z(V&&V.sTypoLineGap,U&&U.lineGap),supportsCodePoint(oe){return n.U.codeToGlyph(H,oe)>0},forEachGlyph(oe,pe,j,ae){let le=0;const fe=1/te.unitsPerEm*pe,J=L(H,oe);let K=0;const xe=O(H,J);return J.forEach((Me,he)=>{if(Me!==-1){let Te=W[Me];if(!Te){const{cmds:ze,crds:Be}=n.U.glyphToPath(H,Me);let ke="",yt=0;for(let ce=0,rt=ze.length;ce<rt;ce++){const tt=t[ze[ce]];ke+=ze[ce];for(let Ze=1;Ze<=tt;Ze++)ke+=(Ze>1?",":"")+Be[yt++]}let Qe,Je,Xe,Mt;if(Be.length){Qe=Je=1/0,Xe=Mt=-1/0;for(let ce=0,rt=Be.length;ce<rt;ce+=2){let tt=Be[ce],Ze=Be[ce+1];tt<Qe&&(Qe=tt),Ze<Je&&(Je=Ze),tt>Xe&&(Xe=tt),Ze>Mt&&(Mt=Ze)}}else Qe=Xe=Je=Mt=0;Te=W[Me]={index:Me,advanceWidth:H.hmtx.aWidth[Me],xMin:Qe,yMin:Je,xMax:Xe,yMax:Mt,path:ke}}ae.call(null,Te,le+xe[he*3]*fe,xe[he*3+1]*fe,K),le+=xe[he*3+2]*fe,j&&(le+=j*pe)}K+=oe.codePointAt(K)>65535?2:1}),le}};return te}return function(W){const V=new Uint8Array(W,0,4),U=n._bin.readASCII(V,0,4);if(U==="wOFF")W=e(W);else if(U==="wOF2")throw new Error("woff2 fonts not supported");return I(n.parse(W)[0])}}const qne=qm({name:"Typr Font Parser",dependencies:[Gne,jne,Wne],init(n,e,t){const i=n(),r=e();return t(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Xne(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(O){var N=O>>5;this.buckets.set(N,(this.buckets.get(N)||0)|1<<(31&O))},e.prototype.has=function(O){var N=this.buckets.get(O>>5);return N!==void 0&&(N&1<<(31&O))!=0},e.prototype.serialize=function(){var O=[];return this.buckets.forEach(function(N,z){O.push((+z).toString(36)+":"+N.toString(36))}),O.join(",")},e.prototype.deserialize=function(O){var N=this;this.buckets.clear(),O.split(",").forEach(function(z){var I=z.split(":");N.buckets.set(parseInt(I[0],36),parseInt(I[1],36))})};var t=Math.pow(2,8),i=t-1,r=~i;function a(O){var N=function(I){return I&r}(O).toString(16),z=function(I){return(I&r)+t-1}(O).toString(16);return"codepoint-index/plane"+(O>>16)+"/"+N+"-"+z+".json"}function o(O,N){var z=O&i,I=N.codePointAt(z/6|0);return((I=(I||48)-48)&1<<z%6)!=0}function l(O,N){var z;(z=O,z.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(I){return I.split("-").map(function(H){return parseInt(H.trim(),16)})})).forEach(function(I){var H=I[0],W=I[1];W===void 0&&(W=H),N(H,W)})}function u(O,N){l(O,function(z,I){for(var H=z;H<=I;H++)N(H)})}var f={},p={},g=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(O){var N=g.get(O);return N||(N=new e,u(O.ranges,function(z){return N.add(z)}),g.set(O,N)),N}var T,A=new Map;function w(O,N,z){return O[N]?N:O[z]?z:function(I){for(var H in I)return H}(O)}function E(O,N){var z=N;if(!O.includes(z)){z=1/0;for(var I=0;I<O.length;I++)Math.abs(O[I]-N)<Math.abs(z-N)&&(z=O[I])}return z}function L(O){return T||(T=new Set,u("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(N){T.add(N)})),T.has(O)}return n.CodePointSet=e,n.clearCache=function(){f={},p={}},n.getFontsForString=function(O,N){N===void 0&&(N={});var z,I=N.lang;I===void 0&&(I=new RegExp("\\p{Script=Hangul}","u").test(z=O)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(z)?"ja":"en");var H=N.category;H===void 0&&(H="sans-serif");var W=N.style;W===void 0&&(W="normal");var V=N.weight;V===void 0&&(V=400);var U=(N.dataUrl||v).replace(/\/$/g,""),Q=new Map,ee=new Uint8Array(O.length),te={},oe={},pe=new Array(O.length),j=new Map,ae=!1;function le(K){var xe=A.get(K);return xe||(xe=fetch(U+"/"+K).then(function(Me){if(!Me.ok)throw new Error(Me.statusText);return Me.json().then(function(he){if(!Array.isArray(he)||he[0]!==1)throw new Error("Incorrect schema version; need 1, got "+he[0]);return he[1]})}).catch(function(Me){if(U!==v)return ae||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+U+'", trying default CDN. '+Me.message),ae=!0),U=v,A.delete(K),le(K);throw Me}),A.set(K,xe)),xe}for(var fe=function(K){var xe=O.codePointAt(K),Me=a(xe);pe[K]=Me,f[Me]||j.has(Me)||j.set(Me,le(Me).then(function(he){f[Me]=he})),xe>65535&&(K++,J=K)},J=0;J<O.length;J++)fe(J);return Promise.all(j.values()).then(function(){j.clear();for(var K=function(Me){var he=O.codePointAt(Me),Te=null,ze=f[pe[Me]],Be=void 0;for(var ke in ze){var yt=oe[ke];if(yt===void 0&&(yt=oe[ke]=new RegExp(ke).test(I||"en")),yt){for(var Qe in Be=ke,ze[ke])if(o(he,ze[ke][Qe])){Te=Qe;break}break}}if(!Te){e:for(var Je in ze)if(Je!==Be){for(var Xe in ze[Je])if(o(he,ze[Je][Xe])){Te=Xe;break e}}}Te||(console.debug("No font coverage for U+"+he.toString(16)),Te="latin"),pe[Me]=Te,p[Te]||j.has(Te)||j.set(Te,le("font-meta/"+Te+".json").then(function(Mt){p[Te]=Mt})),he>65535&&(Me++,xe=Me)},xe=0;xe<O.length;xe++)K(xe);return Promise.all(j.values())}).then(function(){for(var K,xe=null,Me=0;Me<O.length;Me++){var he=O.codePointAt(Me);if(xe&&(L(he)||S(xe).has(he)))ee[Me]=ee[Me-1];else{xe=p[pe[Me]];var Te=te[xe.id];if(!Te){var ze=xe.typeforms,Be=w(ze,H,"sans-serif"),ke=w(ze[Be],W,"normal"),yt=E((K=ze[Be])===null||K===void 0?void 0:K[ke],V);Te=te[xe.id]=U+"/font-files/"+xe.id+"/"+Be+"."+ke+"."+yt+".woff"}var Qe=Q.get(Te);Qe==null&&(Qe=Q.size,Q.set(Te,Qe)),ee[Me]=Qe}he>65535&&(Me++,ee[Me]=ee[Me-1])}return{fontUrls:Array.from(Q.keys()),chars:ee}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function Yne(n,e){const t=Object.create(null),i=Object.create(null);function r(o,l){const u=f=>{console.error(`Failure loading font ${o}`,f)};try{const f=new XMLHttpRequest;f.open("get",o,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status>=400)u(new Error(f.statusText));else if(f.status>0)try{const p=n(f.response);p.src=o,l(p)}catch(p){u(p)}},f.onerror=u,f.send()}catch(f){u(f)}}function a(o,l){let u=t[o];u?l(u):i[o]?i[o].push(l):(i[o]=[l],r(o,f=>{f.src=o,t[o]=f,i[o].forEach(p=>p(f)),delete i[o]}))}return function(o,l,{lang:u,fonts:f=[],style:p="normal",weight:g="normal",unicodeFontsURL:v}={}){const S=new Uint8Array(o.length),T=[];o.length||L();const A=new Map,w=[];if(p!=="italic"&&(p="normal"),typeof g!="number"&&(g=g==="bold"?700:400),f&&!Array.isArray(f)&&(f=[f]),f=f.slice().filter(N=>!N.lang||N.lang.test(u)).reverse(),f.length){let H=0;(function W(V=0){for(let U=V,Q=o.length;U<Q;U++){const ee=o.codePointAt(U);if(H===1&&T[S[U-1]].supportsCodePoint(ee)||U>0&&/\s/.test(o[U]))S[U]=S[U-1],H===2&&(w[w.length-1][1]=U);else for(let te=S[U],oe=f.length;te<=oe;te++)if(te===oe){const pe=H===2?w[w.length-1]:w[w.length]=[U,U];pe[1]=U,H=2}else{S[U]=te;const{src:pe,unicodeRange:j}=f[te];if(!j||O(ee,j)){const ae=t[pe];if(!ae){a(pe,()=>{W(U)});return}if(ae.supportsCodePoint(ee)){let le=A.get(ae);typeof le!="number"&&(le=T.length,T.push(ae),A.set(ae,le)),S[U]=le,H=1;break}}}ee>65535&&U+1<Q&&(S[U+1]=S[U],U++,H===2&&(w[w.length-1][1]=U))}E()})()}else w.push([0,o.length-1]),E();function E(){if(w.length){const N=w.map(z=>o.substring(z[0],z[1]+1)).join(`
`);e.getFontsForString(N,{lang:u||void 0,style:p,weight:g,dataUrl:v}).then(({fontUrls:z,chars:I})=>{const H=T.length;let W=0;w.forEach(U=>{for(let Q=0,ee=U[1]-U[0];Q<=ee;Q++)S[U[0]+Q]=I[W++]+H;W++});let V=0;z.forEach((U,Q)=>{a(U,ee=>{T[Q+H]=ee,++V===z.length&&L()})})})}else L()}function L(){l({chars:S,fonts:T})}function O(N,z){for(let I=0;I<z.length;I++){const[H,W=H]=z[I];if(H<=N&&N<=W)return!0}return!1}}}const Kne=qm({name:"FontResolver",dependencies:[Yne,qne,Xne],init(n,e,t){return n(e,t())}});function Zne(n,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",a=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:T,lang:A,fonts:w,style:E,weight:L,preResolvedFonts:O,unicodeFontsURL:N},z){const I=({chars:H,fonts:W})=>{let V,U;const Q=[];for(let ee=0;ee<H.length;ee++)H[ee]!==U?(U=H[ee],Q.push(V={start:ee,end:ee,fontObj:W[H[ee]]})):V.end=ee;z(Q)};O?I(O):n(T,I,{lang:A,fonts:w,style:E,weight:L,unicodeFontsURL:N})}function l({text:T="",font:A,lang:w,sdfGlyphSize:E=64,fontSize:L=400,fontWeight:O=1,fontStyle:N="normal",letterSpacing:z=0,lineHeight:I="normal",maxWidth:H=1/0,direction:W,textAlign:V="left",textIndent:U=0,whiteSpace:Q="normal",overflowWrap:ee="normal",anchorX:te=0,anchorY:oe=0,metricsOnly:pe=!1,unicodeFontsURL:j,preResolvedFonts:ae=null,includeCaretPositions:le=!1,chunkedBoundsSize:fe=8192,colorRanges:J=null},K){const xe=g(),Me={fontLoad:0,typesetting:0};T.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),T=T.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),L=+L,z=+z,H=+H,I=I||"normal",U=+U,o({text:T,lang:w,style:N,weight:O,fonts:typeof A=="string"?[{src:A}]:A,unicodeFontsURL:j,preResolvedFonts:ae},he=>{Me.fontLoad=g()-xe;const Te=isFinite(H);let ze=null,Be=null,ke=null,yt=null,Qe=null,Je=null,Xe=null,Mt=null,ce=0,rt=0,tt=Q!=="nowrap";const Ze=new Map,Le=g();let ct=U,We=0,Ie=new v;const ut=[Ie];he.forEach(Re=>{const{fontObj:Ne}=Re,{ascender:at,descender:nt,unitsPerEm:vt,lineGap:Rt,capHeight:Ye,xHeight:ot}=Ne;let Ce=Ze.get(Ne);if(!Ce){const xt=L/vt,mt=I==="normal"?(at-nt+Rt)*xt:I*L,Lt=(mt-(at-nt)*xt)/2,bt=Math.min(mt,(at-nt)*xt),ft=(at+nt)/2*xt+bt/2;Ce={index:Ze.size,src:Ne.src,fontObj:Ne,fontSizeMult:xt,unitsPerEm:vt,ascender:at*xt,descender:nt*xt,capHeight:Ye*xt,xHeight:ot*xt,lineHeight:mt,baseline:-Lt-at*xt,caretTop:ft,caretBottom:ft-bt},Ze.set(Ne,Ce)}const{fontSizeMult:Ee}=Ce,Fe=T.slice(Re.start,Re.end+1);let wt,Ae;Ne.forEachGlyph(Fe,L,z,(xt,mt,Lt,bt)=>{mt+=We,bt+=Re.start,wt=mt,Ae=xt;const ft=T.charAt(bt),Ut=xt.advanceWidth*Ee,It=Ie.count;let Ht;if("isEmpty"in xt||(xt.isWhitespace=!!ft&&new RegExp(r).test(ft),xt.canBreakAfter=!!ft&&a.test(ft),xt.isEmpty=xt.xMin===xt.xMax||xt.yMin===xt.yMax||i.test(ft)),!xt.isWhitespace&&!xt.isEmpty&&rt++,tt&&Te&&!xt.isWhitespace&&mt+Ut+ct>H&&It){if(Ie.glyphAt(It-1).glyphObj.canBreakAfter)Ht=new v,ct=-mt;else for(let ei=It;ei--;)if(ei===0&&ee==="break-word"){Ht=new v,ct=-mt;break}else if(Ie.glyphAt(ei).glyphObj.canBreakAfter){Ht=Ie.splitAt(ei+1);const Pn=Ht.glyphAt(0).x;ct-=Pn;for(let Hn=Ht.count;Hn--;)Ht.glyphAt(Hn).x-=Pn;break}Ht&&(Ie.isSoftWrapped=!0,Ie=Ht,ut.push(Ie),ce=H)}let $t=Ie.glyphAt(Ie.count);$t.glyphObj=xt,$t.x=mt+ct,$t.y=Lt,$t.width=Ut,$t.charIndex=bt,$t.fontData=Ce,ft===`
`&&(Ie=new v,ut.push(Ie),ct=-(mt+Ut+z*L)+U)}),We=wt+Ae.advanceWidth*Ee+z*L});let ue=0;ut.forEach(Re=>{let Ne=!0;for(let at=Re.count;at--;){const nt=Re.glyphAt(at);Ne&&!nt.glyphObj.isWhitespace&&(Re.width=nt.x+nt.width,Re.width>ce&&(ce=Re.width),Ne=!1);let{lineHeight:vt,capHeight:Rt,xHeight:Ye,baseline:ot}=nt.fontData;vt>Re.lineHeight&&(Re.lineHeight=vt);const Ce=ot-Re.baseline;Ce<0&&(Re.baseline+=Ce,Re.cap+=Ce,Re.ex+=Ce),Re.cap=Math.max(Re.cap,Re.baseline+Rt),Re.ex=Math.max(Re.ex,Re.baseline+Ye)}Re.baseline-=ue,Re.cap-=ue,Re.ex-=ue,ue+=Re.lineHeight});let $=0,be=0;if(te&&(typeof te=="number"?$=-te:typeof te=="string"&&($=-ce*(te==="left"?0:te==="center"?.5:te==="right"?1:f(te)))),oe&&(typeof oe=="number"?be=-oe:typeof oe=="string"&&(be=oe==="top"?0:oe==="top-baseline"?-ut[0].baseline:oe==="top-cap"?-ut[0].cap:oe==="top-ex"?-ut[0].ex:oe==="middle"?ue/2:oe==="bottom"?ue:oe==="bottom-baseline"?-ut[ut.length-1].baseline:f(oe)*ue)),!pe){const Re=e.getEmbeddingLevels(T,W);ze=new Uint16Array(rt),Be=new Uint8Array(rt),ke=new Float32Array(rt*2),yt={},Xe=[1/0,1/0,-1/0,-1/0],Mt=[],le&&(Je=new Float32Array(T.length*4)),J&&(Qe=new Uint8Array(rt*3));let Ne=0,at=-1,nt=-1,vt,Rt;if(ut.forEach((Ye,ot)=>{let{count:Ce,width:Ee}=Ye;if(Ce>0){let Fe=0;for(let bt=Ce;bt--&&Ye.glyphAt(bt).glyphObj.isWhitespace;)Fe++;let wt=0,Ae=0;if(V==="center")wt=(ce-Ee)/2;else if(V==="right")wt=ce-Ee;else if(V==="justify"&&Ye.isSoftWrapped){let bt=0;for(let ft=Ce-Fe;ft--;)Ye.glyphAt(ft).glyphObj.isWhitespace&&bt++;Ae=(ce-Ee)/bt}if(Ae||wt){let bt=0;for(let ft=0;ft<Ce;ft++){let Ut=Ye.glyphAt(ft);const It=Ut.glyphObj;Ut.x+=wt+bt,Ae!==0&&It.isWhitespace&&ft<Ce-Fe&&(bt+=Ae,Ut.width+=Ae)}}const xt=e.getReorderSegments(T,Re,Ye.glyphAt(0).charIndex,Ye.glyphAt(Ye.count-1).charIndex);for(let bt=0;bt<xt.length;bt++){const[ft,Ut]=xt[bt];let It=1/0,Ht=-1/0;for(let $t=0;$t<Ce;$t++)if(Ye.glyphAt($t).charIndex>=ft){let ei=$t,Pn=$t;for(;Pn<Ce;Pn++){let Hn=Ye.glyphAt(Pn);if(Hn.charIndex>Ut)break;Pn<Ce-Fe&&(It=Math.min(It,Hn.x),Ht=Math.max(Ht,Hn.x+Hn.width))}for(let Hn=ei;Hn<Pn;Hn++){const mi=Ye.glyphAt(Hn);mi.x=Ht-(mi.x+mi.width-It)}break}}let mt;const Lt=bt=>mt=bt;for(let bt=0;bt<Ce;bt++){const ft=Ye.glyphAt(bt);mt=ft.glyphObj;const Ut=mt.index,It=Re.levels[ft.charIndex]&1;if(It){const Ht=e.getMirroredCharacter(T[ft.charIndex]);Ht&&ft.fontData.fontObj.forEachGlyph(Ht,0,0,Lt)}if(le){const{charIndex:Ht,fontData:$t}=ft,ei=ft.x+$,Pn=ft.x+ft.width+$;Je[Ht*4]=It?Pn:ei,Je[Ht*4+1]=It?ei:Pn,Je[Ht*4+2]=Ye.baseline+$t.caretBottom+be,Je[Ht*4+3]=Ye.baseline+$t.caretTop+be;const Hn=Ht-at;Hn>1&&p(Je,at,Hn),at=Ht}if(J){const{charIndex:Ht}=ft;for(;Ht>nt;)nt++,J.hasOwnProperty(nt)&&(Rt=J[nt])}if(!mt.isWhitespace&&!mt.isEmpty){const Ht=Ne++,{fontSizeMult:$t,src:ei,index:Pn}=ft.fontData,Hn=yt[ei]||(yt[ei]={});Hn[Ut]||(Hn[Ut]={path:mt.path,pathBounds:[mt.xMin,mt.yMin,mt.xMax,mt.yMax]});const mi=ft.x+$,Ri=ft.y+Ye.baseline+be;ke[Ht*2]=mi,ke[Ht*2+1]=Ri;const En=mi+mt.xMin*$t,F=Ri+mt.yMin*$t,X=mi+mt.xMax*$t,Tt=Ri+mt.yMax*$t;En<Xe[0]&&(Xe[0]=En),F<Xe[1]&&(Xe[1]=F),X>Xe[2]&&(Xe[2]=X),Tt>Xe[3]&&(Xe[3]=Tt),Ht%fe===0&&(vt={start:Ht,end:Ht,rect:[1/0,1/0,-1/0,-1/0]},Mt.push(vt)),vt.end++;const re=vt.rect;if(En<re[0]&&(re[0]=En),F<re[1]&&(re[1]=F),X>re[2]&&(re[2]=X),Tt>re[3]&&(re[3]=Tt),ze[Ht]=Ut,Be[Ht]=Pn,J){const we=Ht*3;Qe[we]=Rt>>16&255,Qe[we+1]=Rt>>8&255,Qe[we+2]=Rt&255}}}}}),Je){const Ye=T.length-at;Ye>1&&p(Je,at,Ye)}}const De=[];Ze.forEach(({index:Re,src:Ne,unitsPerEm:at,ascender:nt,descender:vt,lineHeight:Rt,capHeight:Ye,xHeight:ot})=>{De[Re]={src:Ne,unitsPerEm:at,ascender:nt,descender:vt,lineHeight:Rt,capHeight:Ye,xHeight:ot}}),Me.typesetting=g()-Le,K({glyphIds:ze,glyphFontIndices:Be,glyphPositions:ke,glyphData:yt,fontData:De,caretPositions:Je,glyphColors:Qe,chunkedBounds:Mt,fontSize:L,topBaseline:be+ut[0].baseline,blockBounds:[$,be-ue,$+ce,be],visibleBounds:Xe,timings:Me})})}function u(T,A){l({...T,metricsOnly:!0},w=>{const[E,L,O,N]=w.blockBounds;A({width:O-E,height:N-L})})}function f(T){let A=T.match(/^([\d.]+)%$/),w=A?parseFloat(A[1]):NaN;return isNaN(w)?0:w/100}function p(T,A,w){const E=T[A*4],L=T[A*4+1],O=T[A*4+2],N=T[A*4+3],z=(L-E)/w;for(let I=0;I<w;I++){const H=(A+I)*4;T[H]=E+z*I,T[H+1]=E+z*(I+1),T[H+2]=O,T[H+3]=N}}function g(){return(self.performance||Date).now()}function v(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(T){let A=v.flyweight;return A.data=this.data,A.index=T,A},splitAt(T){let A=new v;return A.data=this.data.splice(T*S.length),A}},v.flyweight=S.reduce((T,A,w,E)=>(Object.defineProperty(T,A,{get(){return this.data[this.index*S.length+w]},set(L){this.data[this.index*S.length+w]=L}}),T),{data:null,index:0}),{typeset:l,measure:u}}const R0=()=>(self.performance||Date).now(),G4=gN();let N8;function Qne(n,e,t,i,r,a,o,l,u,f,p=!0){return p?$ne(n,e,t,i,r,a,o,l,u,f).then(null,g=>(N8||(console.warn("WebGL SDF generation failed, falling back to JS",g),N8=!0),L8(n,e,t,i,r,a,o,l,u,f))):L8(n,e,t,i,r,a,o,l,u,f)}const bx=[],Jne=5;let I5=0;function vN(){const n=R0();for(;bx.length&&R0()-n<Jne;)bx.shift()();I5=bx.length?setTimeout(vN,0):0}const $ne=(...n)=>new Promise((e,t)=>{bx.push(()=>{const i=R0();try{G4.webgl.generateIntoCanvas(...n),e({timing:R0()-i})}catch(r){t(r)}}),I5||(I5=setTimeout(vN,0))}),eie=4,tie=2e3,U8={};let nie=0;function L8(n,e,t,i,r,a,o,l,u,f){const p="TroikaTextSDFGenerator_JS_"+nie++%eie;let g=U8[p];return g||(g=U8[p]={workerModule:qm({name:p,workerId:p,dependencies:[gN,R0],init(v,S){const T=v().javascript.generate;return function(...A){const w=S();return{textureData:T(...A),timing:S()-w}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),g.requests++,clearTimeout(g.idleTimer),g.workerModule(n,e,t,i,r,a).then(({textureData:v,timing:S})=>{const T=R0(),A=new Uint8Array(v.length*4);for(let w=0;w<v.length;w++)A[w*4+f]=v[w];return G4.webglUtils.renderImageData(o,A,l,u,n,e,1<<3-f),S+=R0()-T,--g.requests===0&&(g.idleTimer=setTimeout(()=>{Une(p)},tie)),{timing:S}})}function iie(n){n._warm||(G4.webgl.isSupported(n),n._warm=!0)}const rie=G4.webglUtils.resizeWebGLCanvasWithoutClearing,ag={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},aie=new Qt;function tm(){return(self.performance||Date).now()}const z8=Object.create(null);function xN(n,e){n=lie({},n);const t=tm(),i=[];if(n.font&&i.push({label:"user",src:cie(n.font)}),n.font=i,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||ag.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||ag.unicodeFontsURL,n.colorRanges!=null){let v={};for(let S in n.colorRanges)if(n.colorRanges.hasOwnProperty(S)){let T=n.colorRanges[S];typeof T!="number"&&(T=aie.set(T).getHex()),v[S]=T}n.colorRanges=v}Object.freeze(n);const{textureWidth:r,sdfExponent:a}=ag,{sdfGlyphSize:o}=n,l=r/o*4;let u=z8[o];if(!u){const v=document.createElement("canvas");v.width=r,v.height=o*256/l,u=z8[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:v,sdfTexture:new Qr(v,void 0,void 0,void 0,Sa,Sa),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,sie(u)}const{sdfTexture:f,sdfCanvas:p}=u;_N(n).then(v=>{const{glyphIds:S,glyphFontIndices:T,fontData:A,glyphPositions:w,fontSize:E,timings:L}=v,O=[],N=new Float32Array(S.length*4);let z=0,I=0;const H=tm(),W=A.map(te=>{let oe=u.glyphsByFont.get(te.src);return oe||u.glyphsByFont.set(te.src,oe=new Map),oe});S.forEach((te,oe)=>{const pe=T[oe],{src:j,unitsPerEm:ae}=A[pe];let le=W[pe].get(te);if(!le){const{path:Me,pathBounds:he}=v.glyphData[j][te],Te=Math.max(he[2]-he[0],he[3]-he[1])/o*(ag.sdfMargin*o+.5),ze=u.glyphCount++,Be=[he[0]-Te,he[1]-Te,he[2]+Te,he[3]+Te];W[pe].set(te,le={path:Me,atlasIndex:ze,sdfViewBox:Be}),O.push(le)}const{sdfViewBox:fe}=le,J=w[I++],K=w[I++],xe=E/ae;N[z++]=J+fe[0]*xe,N[z++]=K+fe[1]*xe,N[z++]=J+fe[2]*xe,N[z++]=K+fe[3]*xe,S[oe]=le.atlasIndex}),L.quads=(L.quads||0)+(tm()-H);const V=tm();L.sdf={};const U=p.height,Q=Math.ceil(u.glyphCount/l),ee=Math.pow(2,Math.ceil(Math.log2(Q*o)));ee>U&&(console.info(`Increasing SDF texture size ${U}->${ee}`),rie(p,r,ee),f.dispose()),Promise.all(O.map(te=>bN(te,u,n.gpuAccelerateSDF).then(({timing:oe})=>{L.sdf[te.atlasIndex]=oe}))).then(()=>{O.length&&!u.contextLost&&(SN(u),f.needsUpdate=!0),L.sdfTotal=tm()-V,L.total=tm()-t,e(Object.freeze({parameters:n,sdfTexture:f,sdfGlyphSize:o,sdfExponent:a,glyphBounds:N,glyphAtlasIndices:S,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{u.contextLost||iie(p)})}function bN({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:u}=ag,f=Math.max(t[2]-t[0],t[3]-t[1]),p=Math.floor(e/4),g=p%(l/i)*i,v=Math.floor(p/(l/i))*i,S=e%4;return Qne(i,i,n,t,f,u,r,g,v,S,o)}function sie(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(a=>{i.push(bN(a,n,!0))})}),Promise.all(i).then(()=>{SN(n),n.sdfTexture.needsUpdate=!0})})}function oie({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;xN({font:n,sdfGlyphSize:t,text:r},i)}function lie(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let nx;function cie(n){return nx||(nx=typeof document>"u"?{}:document.createElement("a")),nx.href=n,nx.href}function SN(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,a=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),t.image={width:i,height:r,data:o},t.flipY=!1,t.isDataTexture=!0),a.readPixels(0,0,i,r,a.RGBA,a.UNSIGNED_BYTE,o)}}const uie=qm({name:"Typesetter",dependencies:[Zne,Kne,zne],init(n,e,t){return n(e,t())}}),_N=qm({name:"Typesetter",dependencies:[uie],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});_N.onMainThread;const P8={};function fie(n){let e=P8[n];return e||(e=P8[n]=new oh(1,1,n,n).translate(.5,.5,0)),e}const hie="aTroikaGlyphBounds",B8="aTroikaGlyphIndex",die="aTroikaGlyphColor";class pie extends F4{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ua,this.boundingBox=new _a}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=fie(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,a){this.updateAttributeData(hie,e,4),this.updateAttributeData(B8,t,1),this.updateAttributeData(die,a,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:a,min:o,max:l,sin:u,cos:f}=Math,p=r/2,g=r*2,v=Math.abs(t),S=e[0]/v,T=e[2]/v,A=a((S+p)/g)!==a((T+p)/g)?-v:o(u(S)*v,u(T)*v),w=a((S-p)/g)!==a((T-p)/g)?v:l(u(S)*v,u(T)*v),E=a((S+r)/g)!==a((T+r)/g)?v*2:l(v-f(S)*v,v-f(T)*v);i.min.set(A,e[1],t<0?-E:0),i.max.set(w,e[3],t<0?0:E)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(B8).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let a=i[r].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,i){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new z0(t,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const mie=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,gie=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,yie=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,vie=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function xie(n){const e=B5(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Ct},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ii(0,0,0,0)},uTroikaClipRect:{value:new ii(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Ct},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Qt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new jn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:mie,vertexTransform:gie,fragmentDefs:yie,fragmentColorTransform:vie,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(yN,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const k6=new sh({color:16777215,side:nc,transparent:!0}),I8=8421504,k8=new Tn,ix=new _e,x_=new _e,K1=[],bie=new _e,b_="+x+y";function F8(n){return Array.isArray(n)?n[0]:n}let MN=()=>{const n=new Vr(new oh(1,1),k6);return MN=()=>n,n},TN=()=>{const n=new Vr(new oh(1,1,32,1),k6);return TN=()=>n,n};const Sie={type:"syncstart"},_ie={type:"synccomplete"},EN=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Mie=EN.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let wN=class extends Vr{constructor(){const e=new pie;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=I8,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=b_,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Sie),xN({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(_ie),e&&e()})))}onBeforeRender(e,t,i,r,a,o){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return xie(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=k6.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return F8(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return F8(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:l,blockBounds:u}=r;i.uTroikaSDFTexture.value=l,i.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(u),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let f=0,p=0,g=0,v,S,T,A=0,w=0;if(t){let{outlineWidth:L,outlineOffsetX:O,outlineOffsetY:N,outlineBlur:z,outlineOpacity:I}=this;f=this._parsePercent(L)||0,p=Math.max(0,this._parsePercent(z)||0),v=I,A=this._parsePercent(O)||0,w=this._parsePercent(N)||0}else g=Math.max(0,this._parsePercent(this.strokeWidth)||0),g&&(T=this.strokeColor,i.uTroikaStrokeColor.value.set(T??I8),S=this.strokeOpacity,S==null&&(S=1)),v=this.fillOpacity;i.uTroikaEdgeOffset.value=f,i.uTroikaPositionOffset.value.set(A,w),i.uTroikaBlurRadius.value=p,i.uTroikaStrokeWidth.value=g,i.uTroikaStrokeOpacity.value=S,i.uTroikaFillOpacity.value=v??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let E=this.clipRect;if(E&&Array.isArray(E)&&E.length===4)i.uTroikaClipRect.value.fromArray(E);else{const L=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(u[0]-L,u[1]-L,u[2]+L,u[3]+L)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=t?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new Qt;(a!==l._input||typeof a=="object")&&l.set(l._input=a)}let o=this.orientation||b_;if(o!==e._orientation){let l=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let u=o!==b_&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,f,p,g,v]=u;ix.set(0,0,0)[p]=f==="-"?1:-1,x_.set(0,0,0)[v]=g==="-"?-1:1,k8.lookAt(bie,ix.cross(x_),x_),l.setFromMatrix4(k8)}else l.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Ct){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new Ct){return ix.copy(e),this.localPositionToTextCoords(this.worldToLocal(ix),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const a=i.blockBounds,o=r?TN():MN(),l=o.geometry,{position:u,uv:f}=l.attributes;for(let p=0;p<f.count;p++){let g=a[0]+f.getX(p)*(a[2]-a[0]);const v=a[1]+f.getY(p)*(a[3]-a[1]);let S=0;r&&(S=r-Math.cos(g/r)*r,g=Math.sin(g/r)*r),u.setXYZ(p,g,v,S)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,K1.length=0,o.raycast(e,K1);for(let p=0;p<K1.length;p++)K1[p].object=this,t.push(K1[p])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Mie.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};EN.forEach(n=>{const e="_private_"+n;Object.defineProperty(wN.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new _a;new Qt;const Ic=se.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:a,characters:o,onSync:l,...u},f)=>{const p=Vc(({invalidate:T})=>T),[g]=se.useState(()=>new wN),[v,S]=se.useMemo(()=>{const T=[];let A="";return se.Children.forEach(a,w=>{typeof w=="string"||typeof w=="number"?A+=w:T.push(w)}),[T,A]},[a]);return yte(()=>new Promise(T=>oie({font:i,characters:o},T)),["troika-text",i,o]),se.useLayoutEffect(()=>void g.sync(()=>{p(),l&&l(g)})),se.useEffect(()=>()=>g.dispose(),[g]),se.createElement("primitive",Qf({object:g,ref:f,font:i,text:S,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},u),v)}),Tie=se.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:l,onEnd:u,...f},p)=>{const g=Vc(I=>I.invalidate),v=Vc(I=>I.camera),S=Vc(I=>I.gl),T=Vc(I=>I.events),A=Vc(I=>I.setEvents),w=Vc(I=>I.set),E=Vc(I=>I.get),L=Vc(I=>I.performance),O=e||v,N=i||T.connected||S.domElement,z=se.useMemo(()=>new Ene(O),[O]);return nN(()=>{z.enabled&&z.update()},-1),se.useEffect(()=>(a&&z.connect(a===!0?N:a),z.connect(N),()=>void z.dispose()),[a,N,t,z,g]),se.useEffect(()=>{const I=V=>{g(),t&&L.regress(),o&&o(V)},H=V=>{l&&l(V)},W=V=>{u&&u(V)};return z.addEventListener("change",I),z.addEventListener("start",H),z.addEventListener("end",W),()=>{z.removeEventListener("start",H),z.removeEventListener("end",W),z.removeEventListener("change",I)}},[o,l,u,z,g,A]),se.useEffect(()=>{if(n){const I=E().controls;return w({controls:z}),()=>w({controls:I})}},[n,z]),se.createElement("primitive",Qf({ref:p,object:z,enableDamping:r},f))}),Eie=I0(Z.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),wie=I0(Z.jsx("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"})),S_=(n,e="xy",t=64)=>{const i=[];for(let r=0;r<=t;r++){const a=r/t*2*Math.PI,o=n*Math.cos(a),l=n*Math.sin(a);e==="xy"?i.push(new _e(o,l,0)):e==="yz"?i.push(new _e(0,o,l)):e==="xz"&&i.push(new _e(o,0,l))}return i},Aie=({x:n,y:e,z:t,theta:i,phi:r})=>{const a=k0(A=>A.quantum.observable),[o,l]=se.useState(!1),u=(i??0)*Math.PI/180,f=(r??0)*Math.PI/180,p=[];for(let A=0;A<=u;A+=.05)p.push(new _e(1.25*Math.sin(A)*Math.cos(f),1.25*Math.sin(A)*Math.sin(f),1.25*Math.cos(A)));const g=[];for(let A=0;A<=f;A+=.05)g.push(new _e(1.25*Math.sin(u)*Math.cos(A),1.25*Math.sin(u)*Math.sin(A),0));const v=u<.087?[0,0,1]:u>3.054?[0,0,-1]:[1*Math.sin(u/2)*Math.cos(f),1*Math.sin(u/2)*Math.sin(f),1*Math.cos(u/2)+(Math.cos(u/2)>=0?.2:-.2)],S=[1.125*Math.sin(u)*Math.cos(f/2),1.125*Math.sin(u)*Math.sin(f/2),.2],T={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeInOut"}}};return Z.jsxs(un,{sx:{position:"relative",cursor:"grab"},children:[Z.jsxs(fn,{variant:"body2",sx:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#ECEFF1",color:"#212121",px:1.5,py:.5,borderRadius:2,boxShadow:"0 2px 6px rgba(0,0,0,0.2)",fontSize:{xs:"0.9rem",sm:"1rem"},display:"flex",alignItems:"center",gap:.5,zIndex:10},children:[Z.jsx(wie,{sx:{fontSize:{xs:"1rem",sm:"1.2rem"}}}),"Drag to rotate and zoom"]}),Z.jsxs(one,{camera:{position:[0,0,6.25],fov:60},style:{height:"min(80vh, 700px)",width:"100%",position:"relative"},gl:{antialias:!0,alpha:!0},onCreated:({gl:A})=>{A.setClearColor(0,0)},children:[Z.jsx("ambientLight",{intensity:.6}),Z.jsx("directionalLight",{position:[6.25,6.25,6.25],intensity:1.2,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),Z.jsx("pointLight",{position:[-6.25,-6.25,-6.25],intensity:.4}),Z.jsx(Tie,{enableDamping:!0,dampingFactor:.05,enableZoom:!0}),Z.jsxs(yne,{fullscreen:!0,children:[Z.jsxs("div",{style:{position:"absolute",top:"15px",right:"clamp(40px, 8vw, 50px)",fontSize:"14px",fontFamily:"monospace",background:"#ECEFF1",color:"#212121",padding:"10px 14px",borderRadius:"8px",boxShadow:"0 3px 8px rgba(0,0,0,0.2)",maxWidth:"200px",boxSizing:"border-box",zIndex:20},children:[Z.jsx("style",{children:`
        @media (max-width: 400px) {
          div[style*="right: clamp(40px, 8vw, 50px)"] {
            font-size: 12px;
            padding: 8px 10px;
            max-width: 160px;
          }
        }
      `}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:"#FFCA28",borderRadius:3}}),Z.jsx("span",{children:"Bloch Vector"})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:"#7E57C2",borderRadius:3}}),Z.jsx("span",{children:"θ (Theta)"})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:"#26C6DA",borderRadius:3}}),Z.jsx("span",{children:"ϕ (Phi)"})]}),a&&Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:a==="X"?"#F44336":a==="Y"?"#43A047":"#29B6F6",borderRadius:3}}),Z.jsxs("span",{children:["Pauli-",a," (",a," Axis)"]})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:a==="X"?"#C62828":a==="Y"?"#388E3C":"#0277BD",borderRadius:3}}),Z.jsxs("span",{children:["⟨σ",a,"⟩"]})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[Z.jsx("div",{style:{width:14,height:14,backgroundColor:"#E0E7ED",borderRadius:3}}),Z.jsx("span",{children:"Expectation Projection"})]})]})]}),Z.jsxs(My,{variant:"contained",onClick:()=>l(A=>!A),sx:{position:"absolute",top:"15px",left:"15px",bgcolor:"#1976D2",color:"#FFFFFF",borderRadius:2,px:2,py:.5,textTransform:"none",fontWeight:"medium","&:hover":{bgcolor:"#D81B60",transform:"scale(1.05)",transition:"all 0.2s ease"},zIndex:20},children:[Z.jsx(Eie,{sx:{mr:.5,fontSize:20}}),o?"Hide Info":"Show Info"]}),o&&Z.jsxs(mg.div,{variants:T,initial:"hidden",animate:"visible",exit:"hidden",style:{position:"absolute",top:"70px",left:"clamp(20px, 5vw, 30px)",background:"#ECEFF1",color:"#212121",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 3px 8px rgba(0,0,0,0.2)",maxWidth:"min(280px, 80vw)",maxHeight:"60vh",overflowY:"auto",zIndex:15},children:[Z.jsx("style",{children:`
            @media (max-width: 600px) {
              div[style*="left: clamp(20px, 5vw, 30px)"] {
                max-width: 90vw;
                max-height: 50vh;
                padding: 10px 12px;
                font-size: 0.85rem;
              }
            }
          `}),Z.jsx(fn,{variant:"h6",fontWeight:"bold",color:"#1976D2",mb:1,children:"Qubit Information"}),Z.jsxs(Mm,{spacing:1,children:[Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem",fontWeight:"bold"},children:"What is a Bloch Sphere?"}),Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"A Bloch Sphere is a 3D tool to visualize a qubit's state. It maps quantum states to points on a unit sphere using angles θ and ϕ."})]}),Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem",fontWeight:"bold"},children:"Why is it Needed?"}),Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"It helps understand qubit superpositions, design quantum operations, and analyze measurement outcomes like Pauli operator expectations."})]}),Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"State:"}),Z.jsx(en.BlockMath,{math:`
              \\begin{aligned}
              |\\psi\\rangle =\\ & \\cos\\left(\\frac{\\theta}{2}\\right)|0\\rangle \\\\\\
              & +\\ e^{i\\phi}\\sin\\left(\\frac{\\theta}{2}\\right)|1\\rangle
              \\end{aligned}
            `})]}),Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"Parameters:"}),Z.jsxs(fn,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem"},children:[Z.jsx(en.InlineMath,{math:"θ"})," = ",i,"°",Z.jsx("br",{}),Z.jsx(en.InlineMath,{math:"ϕ"})," = ",r,"°"]})]}),Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"Bloch Vector:"}),Z.jsxs(fn,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem"},children:["x = ",Z.jsx(en.InlineMath,{math:"sin θ cos ϕ"})," = ",n,Z.jsx("br",{}),"y = ",Z.jsx(en.InlineMath,{math:"sin θ sin ϕ"})," = ",e,Z.jsx("br",{}),"z = ",Z.jsx(en.InlineMath,{math:"cos θ"})," = ",t]})]}),a&&Z.jsxs(un,{children:[Z.jsx(fn,{variant:"body2",sx:{fontSize:"0.9rem"},children:"Expectation Value:"}),Z.jsxs(fn,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem"},children:[Z.jsx(en.InlineMath,{math:`\\langle \\sigma_${a.toLowerCase()} \\rangle`})," = ",a==="X"?n:a==="Y"?e:t]})]})]})]})]}),Z.jsxs("group",{rotation:[-Math.PI/2,0,0],children:[Z.jsxs("mesh",{receiveShadow:!0,children:[Z.jsx("sphereGeometry",{args:[2.5,32,32]}),Z.jsx("meshStandardMaterial",{color:"white",wireframe:!0,transparent:!0,opacity:.2,roughness:.4,metalness:.2})]}),Z.jsxs("lineSegments",{children:[Z.jsx("bufferGeometry",{children:Z.jsx("bufferAttribute",{attach:"attributes-position",count:6,array:new Float32Array([-2.5,0,0,2.5,0,0,0,-2.5,0,0,2.5,0,0,0,-2.5,0,0,2.5]),itemSize:3})}),Z.jsx("lineBasicMaterial",{color:"#607D8B",linewidth:a?2:4})]}),a==="X"&&Z.jsx(po,{points:[new _e(-2.5,0,0),new _e(2.5,0,0)],color:"#F44336",lineWidth:5}),a==="Y"&&Z.jsx(po,{points:[new _e(0,-2.5,0),new _e(0,2.5,0)],color:"#43A047",lineWidth:5}),a==="Z"&&Z.jsx(po,{points:[new _e(0,0,-2.5),new _e(0,0,2.5)],color:"#29B6F6",lineWidth:5}),Z.jsx(po,{points:S_(2.5,"xy"),color:"#607D8B",lineWidth:2.5}),Z.jsx(po,{points:S_(2.5,"yz"),color:"#607D8B",lineWidth:2.5}),Z.jsx(po,{points:S_(2.5,"xz"),color:"#607D8B",lineWidth:2.5}),Z.jsxs("group",{children:[Z.jsx(po,{points:[new _e(0,0,0),new _e(1.25*n,1.25*e,1.25*t)],color:"#FFCA28",lineWidth:4}),Z.jsxs("mesh",{position:[1.25*n,1.25*e,1.25*t],castShadow:!0,children:[Z.jsx("sphereGeometry",{args:[.06,16,16]}),Z.jsx("meshStandardMaterial",{color:"#FFCA28",emissive:"#FFCA28",emissiveIntensity:.3,roughness:.4,metalness:.6})]})]}),a==="X"&&Z.jsxs(Z.Fragment,{children:[Z.jsx(po,{points:[new _e(0,0,0),new _e(1.25*n,0,0)],color:"#C62828",lineWidth:8}),Z.jsx(po,{points:[new _e(1.25*n,1.25*e,1.25*t),new _e(1.25*n,0,0)],color:"#607D8B",dashed:!0,dashSize:.125,gapSize:.0625,lineWidth:2.5}),Z.jsxs(Ic,{position:[1.25*n,0,.125],rotation:[Math.PI/2,0,0],fontSize:.18,color:"#607D8B",outlineColor:"#212121",outlineWidth:.005,children:["⟨σx⟩ = ",n.toFixed(3)]})]}),a==="Y"&&Z.jsxs(Z.Fragment,{children:[Z.jsx(po,{points:[new _e(0,0,0),new _e(0,1.25*e,0)],color:"#388E3C",lineWidth:8}),Z.jsx(po,{points:[new _e(1.25*n,1.25*e,1.25*t),new _e(0,1.25*e,0)],color:"#607D8B",dashed:!0,dashSize:.125,gapSize:.0625,lineWidth:2.5}),Z.jsxs(Ic,{position:[0,1.25*e,.125],rotation:[Math.PI/2,0,0],fontSize:.18,color:"#607D8B",outlineColor:"#212121",outlineWidth:.005,children:["⟨σy⟩ = ",e.toFixed(3)]})]}),a==="Z"&&Z.jsxs(Z.Fragment,{children:[Z.jsx(po,{points:[new _e(0,0,0),new _e(0,0,1.25*t)],color:"#0277BD",lineWidth:8}),Z.jsx(po,{points:[new _e(1.25*n,1.25*e,1.25*t),new _e(0,0,1.25*t)],color:"#607D8B",dashed:!0,dashSize:.125,gapSize:.0625,lineWidth:2.5}),Z.jsxs(Ic,{position:[0,0,1.25*t+(t>=0?.125:-.125)],rotation:[Math.PI/2,0,0],fontSize:.18,color:"#607D8B",outlineColor:"#212121",outlineWidth:.005,children:["⟨σz⟩ = ",t.toFixed(3)]})]}),Z.jsx(po,{points:p,color:"#7E57C2",dashed:!0,dashSize:.125,gapSize:.0625,lineWidth:2.5}),Z.jsxs(Ic,{position:v,rotation:[Math.PI/2,0,0],fontSize:.18,color:"#7E57C2",outlineColor:"#212121",outlineWidth:.005,children:["θ = ",i,"°"]}),Z.jsx(po,{points:g,color:"#26C6DA",dashed:!0,dashSize:.125,gapSize:.0625,lineWidth:2.5}),Z.jsxs(Ic,{position:S,rotation:[Math.PI/2,0,0],fontSize:.18,color:"#26C6DA",outlineColor:"#212121",outlineWidth:.005,children:["ϕ = ",r,"°"]}),Z.jsx(Ic,{position:[2.75,0,0],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#F44336",outlineColor:"#212121",outlineWidth:.005,children:"+X"}),Z.jsx(Ic,{position:[-2.75,0,0],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#F44336",outlineColor:"#212121",outlineWidth:.005,children:"-X"}),Z.jsx(Ic,{position:[0,2.75,0],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#43A047",outlineColor:"#212121",outlineWidth:.005,children:"+Y"}),Z.jsx(Ic,{position:[0,-2.75,0],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#43A047",outlineColor:"#212121",outlineWidth:.005,children:"-Y"}),Z.jsx(Ic,{position:[0,0,2.75],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#29B6F6",outlineColor:"#212121",outlineWidth:.005,children:"|0⟩ (Z+)"}),Z.jsx(Ic,{position:[0,0,-2.75],rotation:[Math.PI/2,0,0],fontSize:.2,color:"#29B6F6",outlineColor:"#212121",outlineWidth:.005,children:"|1⟩ (Z−)"})]})]})]})},Cie=()=>{const{theta:n=0,phi:e=0,observable:t}=k0(u=>u.quantum),i=n*Math.PI/180,r=e*Math.PI/180,a=+(Math.sin(i)*Math.cos(r)).toFixed(3),o=+(Math.sin(i)*Math.sin(r)).toFixed(3),l=+Math.cos(i).toFixed(3);return Z.jsx(un,{sx:{maxWidth:"100%",p:{xs:1,sm:2}},children:Z.jsx(Aie,{x:a,y:o,z:l,theta:n,phi:e})})},Rie=()=>{const{theta:n,phi:e,observable:t,expectationValue:i}=k0(r=>r.quantum);return Z.jsx(un,{children:n!==null&&e!==null?Z.jsx(Cie,{theta:n,phi:e,observable:t,expectationValue:i}):Z.jsx(fn,{sx:{color:"#ECEFF1"},textAlign:"center"})})},Die=()=>{const n=xy(),e=zF(n.breakpoints.down("md"));return Z.jsxs(un,{sx:{display:"flex",flexDirection:e?"column":"row",height:"100vh",width:"100vw",overflow:"hidden"},children:[Z.jsx(un,{sx:{flex:e?"1":"0 0 25%",borderRight:e?"none":"1px solid #B0BEC5",borderBottom:e?"1px solid #B0BEC5":"none",backgroundColor:"#E8ECEF",padding:2,overflowY:"auto"},children:Z.jsx(GV,{})}),Z.jsx(un,{sx:{flex:e?"1":"0 0 45%",backgroundColor:"#ECEFF1",paddingTop:2,overflowY:"auto"},children:Z.jsx(Rie,{})}),Z.jsx(un,{sx:{flex:e?"1":"0 0 35%",borderRight:e?"none":"1px solid #B0BEC5",borderBottom:e?"1px solid #B0BEC5":"none",backgroundColor:"#F7F9FB",paddingTop:2,overflowY:"auto"},children:Z.jsx(Lq,{})})]})},Oie=EV({reducer:{quantum:kV}}),Nie=MU.createRoot(document.getElementById("root"));Nie.render(Z.jsx(ZF,{store:Oie,children:Z.jsx(Die,{})}));
